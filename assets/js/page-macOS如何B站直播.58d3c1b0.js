(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{966:function(_,v,t){"use strict";t.r(v);var a=t(1),r=Object(a.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("p",[_._v("之前由于给 B 站交了身份证，因此就想稍微利用一下，直播写一下代码；")]),_._v(" "),t("p",[_._v("不过 macOS 没有 B 站的一键开播客户端，这里来介绍一下我的折腾成果。")]),_._v(" "),t("h2",{attrs:{id:"_1-前期准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-前期准备"}},[_._v("#")]),_._v(" 1. 前期准备")]),_._v(" "),t("ol",[t("li",[_._v("实名认证（手持身份证）的 B 站账户")]),_._v(" "),t("li",[_._v("OBS（录屏）")]),_._v(" "),t("li",[_._v("Soundflower（录制桌面声音）")]),_._v(" "),t("li",[_._v("弹幕库（弹幕管理）")])]),_._v(" "),t("h2",{attrs:{id:"_2-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装"}},[_._v("#")]),_._v(" 2. 安装")]),_._v(" "),t("p",[_._v("OBS 和 Soundflower 都可以使用 "),t("code",[_._v("brew")]),_._v(" 安装")]),_._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[_._v("brew cask "),t("span",{pre:!0,attrs:{class:"token function"}},[_._v("install")]),_._v(" obs\nbrew cask "),t("span",{pre:!0,attrs:{class:"token function"}},[_._v("install")]),_._v(" soundflower\n")])]),_._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[_._v("1")]),t("br"),t("span",{staticClass:"line-number"},[_._v("2")]),t("br")])]),t("p",[_._v("弹幕库在其"),t("a",{attrs:{href:"http://bilibili.danmaku.live",target:"_blank",rel:"noopener noreferrer"}},[_._v("官网"),t("OutboundLink")],1),_._v("安装")]),_._v(" "),t("h2",{attrs:{id:"_3-配置来源捕获"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置来源捕获"}},[_._v("#")]),_._v(" 3. 配置来源捕获")]),_._v(" "),t("p",[_._v("现在 OBS 安装之后已经有一个配置向导了，跟着配置向导走就可以配置完成。")]),_._v(" "),t("p",[_._v("随后在来源中建立一个捕获，如图所示：")]),_._v(" "),t("p",[t("img",{attrs:{src:"/images/建立捕获.png",alt:"建立捕获"}})]),_._v(" "),t("p",[_._v("这里建立的是显示捕获，也就是将一个显示屏的图像全部捕获")]),_._v(" "),t("p",[_._v("在上方的区域会显示当前捕获的内容。")]),_._v(" "),t("p",[_._v("除了显示捕获之外，还可以创建窗口捕获，同时上方区域可以调整各个来源图像的大小，可以捕获多个来源并将它们统一显示到上方区域。")]),_._v(" "),t("p",[_._v("上方的显示区域就是你最终直播出去的图像了。")]),_._v(" "),t("h2",{attrs:{id:"_4-捕捉桌面音频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-捕捉桌面音频"}},[_._v("#")]),_._v(" 4. 捕捉桌面音频")]),_._v(" "),t("p",[_._v("通常来说，我们直播的同时也希望让观众能听到我们电脑里面播放的音乐，有时候还需要设置自动点歌功能；")]),_._v(" "),t("p",[_._v("但是，OBS 在 macOS 下不能捕捉桌面音频，需要一些其他的软件进行这个工作。")]),_._v(" "),t("p",[_._v("macOS 下的桌面音频捕捉工具有很多，但是大部分不是收费的就是配置比较复杂，经过一番对比之后，决定使用 "),t("a",{attrs:{href:"https://github.com/mattingalls/Soundflower",target:"_blank",rel:"noopener noreferrer"}},[_._v("Soundflower"),t("OutboundLink")],1),_._v(" 进行音频捕捉。")]),_._v(" "),t("p",[_._v("安装它之后，会多出两个声音输出设备，如图所示：")]),_._v(" "),t("p",[t("img",{attrs:{src:"/images/soundflower-音频输出设备.png",alt:"Soundflower 音频输出设备"}})]),_._v(" "),t("p",[_._v("同时，OBS 中的音频配置选项中的桌面音频也终于可以配置了。")]),_._v(" "),t("p",[_._v("将 mac 的声音输出设备如上图选择，然后在 OBS 的桌面音频中选择相同的输出，即可将桌面音频进行推流。")]),_._v(" "),t("p",[_._v("到这里，我们会发现 mac 很意料之中的没有了声音，听众能听到声音，但是我们听不到也不行啊；")]),_._v(" "),t("p",[_._v("不过，好在 OBS 的音频具有一个 "),t("strong",[_._v("监听并输出")]),_._v(" 的选项，在音频的高级属性中可以设置；")]),_._v(" "),t("p",[_._v("我们将监听设备设置为能让我们听到声音的输出，如内置的音频输出或者喇叭，然后将对应的音频轨道设置为监听并输出；")]),_._v(" "),t("p",[_._v("这样，我们和观众就都能听到声音了。")]),_._v(" "),t("h2",{attrs:{id:"_5-开始推流"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-开始推流"}},[_._v("#")]),_._v(" 5. 开始推流")]),_._v(" "),t("p",[_._v("在音频和视频准备完毕，本地测试没有问题之后，我们就可以开始直播了。")]),_._v(" "),t("p",[_._v("首先，打开弹幕库的快速开播，点击开始直播获得 RTMP 地址和密码；")]),_._v(" "),t("p",[_._v("然后在 OBS 的推流选项中选择『自定义推流』，并填入获取到的 RTMP 地址和密码；")]),_._v(" "),t("p",[_._v("最后，在 OBS 主界面的右下角点击『开始推流』，你的直播就开始了！")]),_._v(" "),t("h2",{attrs:{id:"_6-题外话"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-题外话"}},[_._v("#")]),_._v(" 6. 题外话")]),_._v(" "),t("p",[_._v("为了给我们的直播间能有点流量，我们最好给直播间设置一个封面。")]),_._v(" "),t("p",[_._v("不过封面这个东西和 B 站的政策有关，这里来介绍一下目前 (2019.10.01) 的 B 站的封面政策。")]),_._v(" "),t("p",[_._v("B 站的封面分为正方形和长方形两种，其中：")]),_._v(" "),t("ol",[t("li",[_._v("正方形为『颜值封面』，也就是这个封面必须是『"),t("strong",[_._v("真人的脸")]),_._v("』，注意不要把不是真人脸的图传到这里面去")]),_._v(" "),t("li",[_._v("长方形为普通封面，也就是可以上传普通的图片，但是也不是什么图都行，例如大面积留白，全部都是字的封面就不行")])]),_._v(" "),t("p",[_._v("B 站封面是审核制的，通不通过实际上也有一定的运气成分。")]),_._v(" "),t("p",[_._v("最后祝大家直播愉快(?)")])])}),[],!1,null,null,null);v.default=r.exports}}]);