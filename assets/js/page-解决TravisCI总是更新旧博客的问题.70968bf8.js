(window.webpackJsonp=window.webpackJsonp||[]).push([[216],{959:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("本文着重介绍一下如何解决 Travis CI 在进行自动集成的时候，总是会更新旧博客的问题。")]),t._v(" "),a("p",[t._v("之前有想过要把这篇文章合并到上一篇里面，不过这个问题比较隐蔽，而且较难解决，最后还是新开一篇文章来详细讲一下该怎么做，防止以后有人再被这个问题困扰。")]),t._v(" "),a("h2",{attrs:{id:"_1-初级症状-master-的-commit-只有两个"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-初级症状-master-的-commit-只有两个"}},[t._v("#")]),t._v(" 1. 初级症状——master 的 commit 只有两个")]),t._v(" "),a("p",[t._v("在经过上一篇文章的折腾之后，Travis CI 总算是能够正常执行脚本并提交到 GitHub 上进行；")]),t._v(" "),a("p",[t._v("不过，如果你查看 master 的 commit 情况就会发现，你原本满满当当的页面构建历史突然就只有两个了。")]),t._v(" "),a("p",[t._v("博客最重要的就是积累，现在一个构建你的博客就变成新博客了，简直不能忍。")]),t._v(" "),a("p",[t._v("这个问题的原因在于你的博客目录下没有之前 deploy 会生成的 "),a("code",[t._v(".deploy_git")]),t._v(" 这个目录；")]),t._v(" "),a("p",[t._v("这个目录实际上也就是你的 master 分支，在没有这个目录的情况下，"),a("code",[t._v("hexo-deploy-git")]),t._v(" 插件会自动生成 "),a("code",[t._v(".deploy_git")]),t._v("，并将 "),a("code",[t._v("public")]),t._v(" 复制到这个目录下；")]),t._v(" "),a("p",[t._v("然后插件会进行 "),a("strong",[t._v("force push")]),t._v("！这就是你的 commit 历史会丢失的原因！")]),t._v(" "),a("p",[t._v("解决方法也很简单，首先你需要在本地进行一次 deploy，来恢复你的 commit 历史")]),t._v(" "),a("p",[t._v("然后，只需要在每次构建的时候都 "),a("code",[t._v("clone")]),t._v(" 一下这个目录，这样你的历史就不会丢失了。")]),t._v(" "),a("p",[t._v("往 "),a("code",[t._v(".travis.yml")]),t._v(" 加入如下脚本即可：")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("before_install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git clone "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("branch=master "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("your_blog_repo_git_url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" .deploy_git\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"_2-高级症状-旧博客总是被更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-高级症状-旧博客总是被更新"}},[t._v("#")]),t._v(" 2. 高级症状——旧博客总是被更新")]),t._v(" "),a("p",[t._v("这个症状是本文的重点，也是本文最终要解决的问题。")]),t._v(" "),a("p",[t._v("症状的具体表现在于，博客的更新时间总是最新的；")]),t._v(" "),a("p",[a("strong",[t._v("就连你没有更新过的旧博客也一样！")])]),t._v(" "),a("p",[t._v("如图所示，图片中的更新时间全部都一样，按常理来说这是不可能的。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ws2.sinaimg.cn/large/006tNc79ly1fnedchdb50j30jn0dg0ta.jpg",alt:""}})]),t._v(" "),a("p",[t._v("这到底是什么原因呢？")]),t._v(" "),a("h3",{attrs:{id:"_2-1-症状原因"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-症状原因"}},[t._v("#")]),t._v(" 2.1 症状原因")]),t._v(" "),a("p",[t._v("经过一番查询之后，我查到了"),a("a",{attrs:{href:"https://blog.jamespan.me/2016/04/24/restore-files-modification-time-in-git",target:"_blank",rel:"noopener noreferrer"}},[t._v("这篇博文"),a("OutboundLink")],1),t._v("；")]),t._v(" "),a("p",[t._v("里面提到，Hexo 并不识别文章的更新时间，而是将这个更新时间交给了系统进行；")]),t._v(" "),a("p",[t._v("实际上 Hexo 的文章更改时间就是 markdown 文件的 "),a("strong",[t._v("最后修改时间")]),t._v("；")]),t._v(" "),a("p",[t._v("到这里，原因已经很明显了：")]),t._v(" "),a("p",[t._v("由于 Travis CI 在构建的时候，总是 "),a("strong",[t._v("重新 clone repo")]),t._v("，这就造成了 "),a("strong",[t._v("所有文件的最后修改时间都是最新的 clone 时间")]),t._v("；")]),t._v(" "),a("p",[t._v("实际上，这并不是 Travis CI 的问题，而是 git 的问题，git 由于分布式的原因，并不会保留文件的最后修改时间；")]),t._v(" "),a("p",[t._v("不过，作为一个博客系统来说，我们可以采用 git 的最后 commit 时间来替代，这样子就能恢复文件的修改时间了。")]),t._v(" "),a("h3",{attrs:{id:"_2-2-解决办法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-解决办法"}},[t._v("#")]),t._v(" 2.2 解决办法")]),t._v(" "),a("p",[t._v("解决方案清楚之后我就开始寻找相关的实现，不过网上现有的一步到位修改文件 last modified time 的实现都不能解决 non-ASCII 的问题；")]),t._v(" "),a("blockquote",[a("p",[t._v("所谓 non-ASCII 的问题就是当你的文件名含有中文或者其他的字符的时候，脚本就会炸掉，执行不下去。")])]),t._v(" "),a("p",[t._v("最后面还是毛主席说得好，自己动手丰衣足食，在参照了"),a("a",{attrs:{href:"https://serverfault.com/a/774574",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个 StackOverflow 的答案"),a("OutboundLink")],1),t._v("之后，我编写了下面的脚本，终于解决了 non-ASCII 文件名的问题：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- coding: utf-8 -*-")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" subprocess\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" shlex\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("raise")]),t._v(" ImportError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%s should not be used as a module."')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" __name__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 'git ls-files -z | xargs -0 -n1 -I{} -- git log -1 --format=\"%ct {}\" {} | sort'")]),t._v("\ngit_ls_cmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git ls-files -z'")]),t._v("\nxargs_cmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xargs -0 -n1 -I{} -- git log -1 --format=\"%ct {}\" {}'")]),t._v("\nsort_cmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sort'")]),t._v("\n\nwork_dir "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getcwd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ngit_ls_result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Popen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shlex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("git_ls_cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stdout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PIPE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nxargs_result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Popen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shlex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xargs_cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stdin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("git_ls_result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stdout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PIPE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresult "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("check_output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sort'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stdin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xargs_result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntimestamp_file_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("tuple")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("it"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" it "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("decode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" file_path "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" timestamp_file_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("utime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("work_dir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" file_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br")])]),a("p",[t._v("你也可以在"),a("a",{attrs:{href:"https://gist.github.com/wafer-li/a7a62a4423cf39c43dc56d628ff4c365",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个 gist"),a("OutboundLink")],1),t._v("里面获取其代码；")]),t._v(" "),a("p",[t._v("在你把 repo 克隆下来，进行了 "),a("code",[t._v("user.name")]),t._v(" 和 "),a("code",[t._v("user.email")]),t._v(" 的配置之后，用 "),a("code",[t._v("python3")]),t._v(" 执行一下这个脚本，就能恢复文件的最后修改时间。")]),t._v(" "),a("p",[t._v("相关的 "),a("code",[t._v(".travis.yml")]),t._v(" 配置：")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("before_install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Git Config")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('global user.name "your_user_name"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('global user.email "your_email"\n'),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Restore last modified time")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" chmod +x git_reset_mtime.py\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" python3 ./git_reset_mtime.py\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("blockquote",[a("p",[t._v("特别注意！"),a("strong",[t._v("必须使用 "),a("code",[t._v("python3")]),t._v(" 执行")]),t._v("，本脚本目前最低支持到 python 3.4")])]),t._v(" "),a("blockquote",[a("p",[t._v("之所以是 3.4 是因为 Travis CI 的 python3 的最新版本就只到 3.4；\n不能采用 3.5 之后才能使用的 "),a("code",[t._v("subprocess.run()")])])]),t._v(" "),a("h3",{attrs:{id:"_2-3-clone-depth-导致的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-clone-depth-导致的问题"}},[t._v("#")]),t._v(" 2.3 Clone Depth 导致的问题")]),t._v(" "),a("p",[t._v("在经过上面的一番折腾之后，你会发现一个奇怪的现象：在本地测试脚本完全成功，但是把脚本放到 Travis CI 去运行却不行， "),a("strong",[t._v("最多只能恢复几天前的修改时间")]),t._v("。")]),t._v(" "),a("p",[t._v("在查看了一下 Travis CI 的 log 之后，我发现：")]),t._v(" "),a("p",[t._v("Travis CI 默认会采用 "),a("code",[t._v("--depth=50")]),t._v(" 这个参数，也就是说，它之后克隆 "),a("strong",[t._v("前 50 个 commit")]),t._v("；")]),t._v(" "),a("p",[t._v("而我们的脚本需要"),a("strong",[t._v("完整的 git 历史记录")]),t._v("才能正确的恢复文件的修改时间；")]),t._v(" "),a("p",[t._v("所以，我们还需要取消 Travis CI 的默认 "),a("code",[t._v("depth")]),t._v(" 参数，让它克隆我们完整的 git 仓库:")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("git")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"_3-最终的-travis-ci-脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-最终的-travis-ci-脚本"}},[t._v("#")]),t._v(" 3. 最终的 Travis CI 脚本")]),t._v(" "),a("p",[t._v("这里给出我最终测试成功的 Travis CI 脚本给大家参考：")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" trusty\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sudo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" required\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addons")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ssh_known_hosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" github.com\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git.coding.net\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("packages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" nasm\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ATOM_WRITER_PATCH_URL=https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//raw.githubusercontent.com/wafer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("li/hexo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("atom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("writer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("meta/9f8ab23d42a60a9fa7ef8eed161f216a7716d14d/lib/generator.js\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ATOM_WRITER_DIR=node_modules/hexo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("atom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("writer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("meta/\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" TZ=Asia/Tokyo\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("only")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" source\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("git")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("submodules")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("directories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" node_modules\n\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("before_install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Git Config")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" sed "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("i 's/git@github.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\\/\\/github.com\\//' .gitmodules\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('global user.name "wafer'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('li"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('global user.email "omyshokami@gmail.com"\n\n    '),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Restore last modified time")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git ls-files -z | while read -d \'\' path; do touch -d \\"$(git log -1 --format=\\"@%ct\\" \\"$path\\")\\" \\"$path\\"; done"')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Submodules")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git submodule update "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("recursive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("remote "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("init\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Deploy history")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git clone "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("branch=master "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("single"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("branch https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//github.com/wafer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("li/wafer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("li.github.io.git .deploy_git\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SSH Setup")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" openssl aes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("cbc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("K $encrypted_XXXXXXXXX_key "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("iv $encrypted_XXXXXXXXX_iv "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("in blog_deploy_key.enc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("out blog_deploy_key "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("d\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' eval "$(ssh'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("agent "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('s)"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" chmod 600 ./blog_deploy_key\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ssh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("add ./blog_deploy_key\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("before_script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Patch atom writer generator")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" curl $ATOM_WRITER_PATCH_URL "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ATOM_WRITER_DIR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/lib/generator.js\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Theme Dependencies")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd themes/next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("reloaded\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# canvas-nest")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git clone https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//github.com/theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("next/theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nest source/lib/canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nest\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fancybox3")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git clone https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//github.com/theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("next/theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("fancybox3 source/lib/fancybox\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# reading_progress")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git clone https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//github.com/theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("next/theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("reading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("progress source/lib/reading_progress\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd ../..\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" hexo clean\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" hexo g "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("config source/_data/next.yml\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br")])]),a("h2",{attrs:{id:"_4-参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-参考资料"}},[t._v("#")]),t._v(" 4. 参考资料")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.jamespan.me/2016/04/24/restore-files-modification-time-in-git",target:"_blank",rel:"noopener noreferrer"}},[t._v("从 Git 提交历史中「恢复」文件修改时间"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://serverfault.com/a/774574",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to retrieve the last modification date of all files in a git repository"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/MestreLion/git-tools/blob/master/git-restore-mtime",target:"_blank",rel:"noopener noreferrer"}},[t._v("git-tools/git-restore-mtime at master · MestreLion/git-tools"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);