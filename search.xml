<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[AndroidX æµ‹è¯•å‘ç‚¹è¯¦è§£ï¼ˆäºŒï¼‰â€”â€” VectorDrawable å’Œ tint é—®é¢˜è§£æž]]></title>
    <url>%2F%2FAndroid%2Fandroid-%E6%B5%8B%E8%AF%95%E5%9D%91%E7%82%B9%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94-vectordrawable-%E5%92%8C-tint-%E9%97%AE%E9%A2%98%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[ä¸Šç¯‡æ–‡ç« æˆ‘ä»¬è¯´åˆ°å¦‚æžœä½ çš„ VectorDrawable å¦‚æžœé‡‡ç”¨ä¸€ä¸ªå¸¦ &lt;selector&gt; çš„é¢œè‰²è¿›è¡Œç€è‰²ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨æµ‹è¯•ä»£ç ä¸­å¯¹ Drawable è¿›è¡Œé‡æ–°ç€è‰²ï¼Œè€Œä¸æ˜¯ç›´æŽ¥æ¯”è¾ƒã€‚æœ¬ç¯‡æ–‡ç« å°±æ¥ç€é‡è¯´è¯´å…¶ä¸­çš„åŽŸç†ã€‚ 1. æµ‹è¯• Drawable çš„ä¸»è¦æµç¨‹é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ•´ä¸ªæµ‹è¯•ç¨‹åºç»åŽ†çš„æµç¨‹ï¼Œè‡ªé¡¶å‘ä¸‹æ‰èƒ½æ›´å¥½çš„æŠŠæ¡æ˜¯ä»€ä¹ˆåœ°æ–¹ä»€ä¹ˆé˜¶æ®µå‡ºçŽ°äº†é—®é¢˜ã€‚è¿è¡Œ Drawable çš„æµ‹è¯•çš„è¿‡ç¨‹å¤§ä½“å¦‚ä¸‹ï¼šImageView å°† Drawable åœ¨ç•Œé¢ä¸­å±•ç¤ºTestRunner ä»Ž Context ä¸­èŽ·å–æœŸæœ›å€¼å°†ä¸¤è€…è¿›è¡Œæ¯”è¾ƒæŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±åˆ†æ­¥æ¥çœ‹å…·ä½“æµç¨‹ï¼Œæœ€åŽæ¥å®šä½åˆ°åº•æ˜¯ä»€ä¹ˆåœ°æ–¹å‡ºçŽ°äº†é—®é¢˜ã€‚ 2. ImageView å±•ç¤º Drawable çš„æµç¨‹åœ¨æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨ imageView.setImageResource() çš„æ–¹æ³•æ¥å±•ç¤º Drawableï¼Œç”±äºŽä»£ç æ¯”è¾ƒé•¿ï¼Œå°±ä¸è´´å‡ºå…¨éƒ¨ä»£ç äº†ï¼Œä»…ä»…å¯¹æµç¨‹å’ŒæŸäº›å…³é”®è¯­å¥å’Œè¡Œè¿›è¡Œä»‹ç»ã€‚é¦–å…ˆï¼ŒImageView ä¼šå°†åŽŸå…ˆçš„ Drawable ç½®ä¸ºç©ºï¼Œç„¶åŽåœ¨ resolveUri() æ–¹æ³•ä¸­ï¼Œä¼šå¯¹æˆ‘ä»¬ä¼ å…¥çš„èµ„æº ID è¿›è¡Œè§£æžï¼Œç„¶åŽé€šè¿‡ Context èŽ·å–è¿™ä¸ª Drawableï¼š12345Drawable d = null;if (mResource != 0) &#123; try &#123; d = mContext.getDrawable(mResource); ...èŽ·å–åˆ° Drawable ä¹‹åŽï¼ŒImageView å°±ä¼šè°ƒç”¨ updateDrawable() æ›´æ–°è‡ªèº«çš„ Drawableï¼š123456789101112131415161718192021222324private void updateDrawable(Drawable d) &#123; if (d != mRecycleableBitmapDrawable &amp;&amp; mRecycleableBitmapDrawable != null) &#123; mRecycleableBitmapDrawable.setBitmap(null); &#125; boolean sameDrawable = false; if (mDrawable != null) &#123; sameDrawable = mDrawable == d; mDrawable.setCallback(null); unscheduleDrawable(mDrawable); if (!sCompatDrawableVisibilityDispatch &amp;&amp; !sameDrawable &amp;&amp; isAttachedToWindow()) &#123; mDrawable.setVisible(false, false); &#125; &#125; mDrawable = d; if (d != null) &#123; d.setCallback(this); d.setLayoutDirection(getLayoutDirection()); if (d.isStateful()) &#123; d.setState(getDrawableState()); &#125; ...å…¶ä¸­ï¼Œæ¯”è¾ƒé‡è¦çš„æ˜¯ d.setState()ï¼Œæ­£æ˜¯å®ƒæ ¹æ®å½“å‰ ImageView æ‰€å¤„çš„çŠ¶æ€ï¼ˆStateï¼‰æ¥å¯¹å…¶ Drawable è¿›è¡Œç€è‰²çš„ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œå®žé™…ä¸Š ImageView åœ¨å±•ç¤º Drawable çš„æ—¶å€™ï¼Œå®žé™…ä¸Šå¤§ä½“ä¸Šåˆ†æˆäº†ä¸¤ä¸ªæ­¥éª¤ï¼šé€šè¿‡ Context èŽ·å– Drawable å®žä¾‹æ ¹æ® ImageView æ‰€å¤„çŠ¶æ€å’Œç›¸åº”å±žæ€§å¯¹èŽ·å–å¾—åˆ°çš„ Drawable åšå‡ºç›¸åº”æ”¹å˜å±•ç¤ºæ‰€ä»¥é—®é¢˜æ˜¯ä¸æ˜¯å‡ºçŽ°åœ¨ Context èŽ·å– Drawable çš„æ—¶å€™å‘¢ï¼Ÿæˆ‘ä»¬æ¥ç»§ç»­çœ‹çœ‹ Context èŽ·å– Drawable çš„è¿‡ç¨‹ã€‚ 3. Context èŽ·å– Drawable çš„è¿‡ç¨‹æ‰€æœ‰çš„æµ‹è¯•ï¼Œå®žé™…ä¸Šéƒ½æ˜¯æ‹¿æœŸæœ›å€¼å’Œå®žé™…ç»“æžœè¿›è¡Œæ¯”è¾ƒï¼Œè€Œå¯¹äºŽ Drawable æ¥è¯´ï¼ŒæœŸæœ›å€¼å®žé™…ä¸Šå°±æ˜¯æˆ‘ä»¬æœ¬åœ°å­˜å‚¨çš„ Drawableï¼Œè€ŒèŽ·å–è¿™ä¸ªæœŸæœ›å€¼å®žé™…ä¸Šè¿˜æ˜¯é€šè¿‡ Context æ¥èŽ·å–å¾—åˆ°çš„ã€‚è¦æƒ³æ·±å…¥äº†è§£è¿™ä¸ªé—®é¢˜çš„æˆå› ï¼Œæˆ‘ä»¬å°±è¦é¦–å…ˆçœ‹çœ‹ Context èŽ·å– Drawable çš„è¿‡ç¨‹ã€‚é¦–å…ˆï¼ŒContext è°ƒç”¨ getDrawable() æœ€ç»ˆä¼šè°ƒç”¨åˆ° ResourceImpl çš„ loadDrawable() æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•çš„æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼šæŸ¥æ‰¾ Drawable ç¼“å­˜è‹¥ç¼“å­˜å‘½ä¸­ï¼Œåˆ™ç›´æŽ¥è¿”å›žç¼“å­˜å€¼è‹¥æœªå‘½ä¸­ï¼Œåˆ™åˆ›å»º Drawableä½¿ç”¨ä¼ å…¥çš„ theme å¯¹æ–°åˆ›å»ºçš„ Drawable è¿›è¡Œç›¸å…³è°ƒæ•´ï¼ˆå¦‚ç€è‰²ç­‰ï¼‰å°† Drawable å†™å…¥ç¼“å­˜è¿”å›žè¿™ä¸ªæµç¨‹æœ¬èº«æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯åœ¨ç»è¿‡ applyTheme() æ–¹æ³•ä¹‹åŽï¼Œæˆ‘ä»¬å‘çŽ°æ­¤æ—¶çš„ Drawable å‡ºçŽ°äº†å˜åŒ–ï¼šåœ¨ applyTheme() ä¹‹å‰ï¼ŒDrawable çš„ mTintFilter å’Œ mVectorState ä¸­çš„ mTint éƒ½æ˜¯ç©ºçš„ï¼šè€Œåœ¨ç»è¿‡ applyTheme() ä¹‹åŽï¼ŒDrawable çš„ mTintFilter å’Œ mVectorState ä¸­çš„ mTint éƒ½è¢«èµ‹ä¸Šäº†å€¼ï¼šå…¶ä¸­æ›´é‡è¦çš„ä¸€ç‚¹å°±æ˜¯è¿™ä¸ª mColor å€¼å’Œæˆ‘ä»¬åŽé¢ä»Ž ImageView çš„ Drawable ä¸­å¾—åˆ°çš„ mColor å¹¶ä¸ä¸€æ ·ï¼šè¿›ä¸€æ­¥çš„åˆ†æžå¯ä»¥çœ‹åˆ°ï¼Œåœ¨ mVectorState ä¸­çš„ mTint å®žé™…ä¸Šä¿ç•™äº†ä¸¤ä¸ª mColor å€¼ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ Context èŽ·å–çš„ Drawable çš„ mColorï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯åœ¨ ImageView ä¸­èŽ·å–åˆ°çš„ mColorã€‚æ‰€ä»¥è¯´ï¼Œæžæœ‰å¯èƒ½æ˜¯åœ¨ applyTheme() æ–¹æ³•ä¸­å‡ºçŽ°äº†ä»€ä¹ˆé—®é¢˜ï¼Œå¯¼è‡´å…¶èµ‹äºˆ Drawable ä¸€ä¸ªé”™è¯¯çš„ mTint ä»Žè€Œå¯¼è‡´ BUG çš„å‡ºçŽ°ã€‚ 4. æ·±å…¥ applyTheme æ–¹æ³•åœ¨ä¸Šé¢çš„åˆ†æžä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ applyTheme() æ–¹æ³•ä¸­ï¼Œç³»ç»Ÿä¼šèµ‹äºˆ Drawable ä¸€ä¸ªç€è‰²ï¼Œä½†æ˜¯è¿™ä¸ªç€è‰²æ˜¯æœ‰é—®é¢˜çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦æ‰¾åˆ°å“ªæ¡ä»£ç ä¼šå¯¼è‡´ç€è‰²å˜åŒ–å³å¯ã€‚ç»è¿‡ä¸æ–­çš„æ­¥è¿›ï¼Œæˆ‘ç»ˆäºŽæ‰¾åˆ°äº†å¯¹ç€è‰²è¿›è¡Œæ›´æ”¹çš„æ–¹æ³•â€”â€”updateLocalState() æ–¹æ³•ï¼š123456789private void updateLocalState(Resources res) &#123; final int density = Drawable.resolveDensity(res, mVectorState.mDensity); if (mTargetDensity != density) &#123; mTargetDensity = density; mDpiScaledDirty = true; &#125; mTintFilter = updateTintFilter(mTintFilter, mVectorState.mTint, mVectorState.mTintMode);&#125;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ–¹æ³•æœ€åŽä¼šè°ƒç”¨ updateTintFilter() ä½¿ç”¨ mVectorState ä¸­çš„ç€è‰²å€¼å¯¹ Drawable è¿›è¡Œç€è‰²ï¼Œè€Œè¿™ä¸ªç€è‰²å€¼æ­£æ˜¯æˆ‘ä»¬åœ¨ä¸Šé¢çœ‹åˆ°çš„é‚£ä¸ªå…·æœ‰ä¸¤ä¸ª Int çš„æ•°ç»„ï¼ŒåŒ…å«äº†ä¸¤ç§ä¸åŒçš„é¢œè‰²ã€‚æ·±å…¥è¿›åŽ»ï¼Œæˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼š123456789101112131415@Nullable PorterDuffColorFilter updateTintFilter(@Nullable PorterDuffColorFilter tintFilter, @Nullable ColorStateList tint, @Nullable PorterDuff.Mode tintMode) &#123; if (tint == null || tintMode == null) &#123; return null; &#125; final int color = tint.getColorForState(getState(), Color.TRANSPARENT); if (tintFilter == null) &#123; return new PorterDuffColorFilter(color, tintMode); &#125; tintFilter.setColor(color); tintFilter.setMode(tintMode); return tintFilter;&#125;å®žé™…ä¸Šï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯é€šè¿‡ Drawable çš„ State åœ¨ mVectorState.mTint ä¸­èŽ·å–å¯¹åº”çš„é¢œè‰²ï¼Œç„¶åŽå¯¹ mTintFilter è¿›è¡Œèµ‹å€¼çš„ã€‚åˆ°è¿™é‡Œï¼Œå…³é”®ç‚¹å°±æ¥äº†ï¼Œç”±äºŽæˆ‘ä»¬æ˜¯ç¬¬ä¸€æ¬¡é€šè¿‡ Context èŽ·å– Drawableï¼Œæ­¤æ—¶ï¼ŒDrawable è¿˜ä¸å…·å¤‡çŠ¶æ€ï¼Œé‚£ä¹ˆ getState() çš„ç»“æžœå®žé™…ä¸Šæ˜¯ä¸€ä¸ª ç©ºæ•°ç»„ï¼æˆ‘ä»¬ç´§æŽ¥ç€çœ‹ getColorForState() æ–¹æ³•ï¼š12345678910public int getColorForState(@Nullable int[] stateSet, int defaultColor) &#123; final int setLength = mStateSpecs.length; for (int i = 0; i &lt; setLength; i++) &#123; final int[] stateSpec = mStateSpecs[i]; if (StateSet.stateSetMatches(stateSpec, stateSet)) &#123; return mColors[i]; &#125; &#125; return defaultColor;&#125;ç»è¿‡è°ƒè¯•ç»“æžœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šè¿™é‡Œé¢çš„ mColor æ­£æ˜¯ mVectorState.mTint çš„ä¸¤ä¸ªå€¼ï¼Œå¹¶ä¸”ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯ Context Drawable çš„ mTint å€¼ã€‚é‚£ä¹ˆä¹Ÿå°±è¯´æ˜Žï¼šstateSetMatches() æ–¹æ³•ç¬¬ä¸€æ¬¡å°±é€šè¿‡äº†ã€‚æ‰€ä»¥ï¼Œé—®é¢˜åº”è¯¥å°±æ˜¯å‡ºåœ¨ stateSetMatches() æ–¹æ³•ä¸­ã€‚ 5. stateSetMatches æ–¹æ³•æµç¨‹è¿™é‡Œå…ˆä¸Šä¸€ä¸ªè°ƒè¯•ç»“æžœï¼šä»Žè°ƒè¯•ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒstateSpec æœ‰ä¸€ä¸ªè´Ÿæ•°å€¼ï¼Œè€Œ stateSet æ˜¯ç©ºçš„ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªæ–¹æ³•çš„éƒ¨åˆ†æºç ï¼š1234567891011121314151617181920212223242526272829303132public static boolean stateSetMatches(int[] stateSpec, int[] stateSet) &#123; if (stateSet == null) &#123; return (stateSpec == null || isWildCard(stateSpec)); &#125; int stateSpecSize = stateSpec.length; int stateSetSize = stateSet.length; for (int i = 0; i &lt; stateSpecSize; i++) &#123; int stateSpecState = stateSpec[i]; if (stateSpecState == 0) &#123; // We've reached the end of the cases to match against. return true; &#125; final boolean mustMatch; if (stateSpecState &gt; 0) &#123; mustMatch = true; &#125; else &#123; // We use negative values to indicate must-NOT-match states. mustMatch = false; stateSpecState = -stateSpecState; &#125; boolean found = false; for (int j = 0; j &lt; stateSetSize; j++) &#123; ... &#125; if (mustMatch &amp;&amp; !found) &#123; // We've reached the end of states to match and we didn't // find a must-match state. return false; &#125; &#125; return true; &#125;ä»Žä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå®žé™…ä¸Šè¿™ä¸ªå‡½æ•°å°±æ˜¯å¯¹æ¯”çŠ¶æ€æ˜¯å¦ç›¸ç­‰ï¼Œç”±äºŽæˆ‘ä»¬çš„ stateSet æ˜¯ç©ºæ•°ç»„ï¼Œæ‰€ä»¥å°±éšåŽ»äº†å…¶ç›¸å…³çš„ for å¾ªçŽ¯éƒ¨åˆ†ï¼Œå› ä¸ºè¿™ä¸ªå¾ªçŽ¯å®žé™…ä¸Šæ˜¯ä¼šè¢«è·³è¿‡çš„ã€‚ä»Žå¤–éƒ¨çš„ for å¾ªçŽ¯ä¸­æ¥çœ‹ï¼Œæˆ‘ä»¬å‘çŽ°ç”±äºŽ stateSpecState æ˜¯ä¸€ä¸ªè´Ÿæ•°ï¼Œæ‰€ä»¥ mustMatch ä¸º falseï¼Œè€Œç”±äºŽæˆ‘ä»¬åˆæ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„ç¬¦åˆè§„èŒƒçš„çŠ¶æ€ï¼Œå› æ­¤ found ä¹Ÿæ˜¯ falseã€‚æ­¤æ—¶ï¼Œå¤–å±‚çš„ç¬¬ä¸€æ¬¡ä¹Ÿæ˜¯å”¯ä¸€ä¸€æ¬¡çš„ for å¾ªçŽ¯å°±ç»“æŸäº†ï¼Œé‚£ä¹ˆå¾ªçŽ¯è·³å‡ºï¼Œæœ€åŽè¿”å›ž trueï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ Drawable æ²¡æœ‰çŠ¶æ€æ—¶ï¼Œç³»ç»Ÿä¼šé»˜è®¤å…¶ ç¬¦åˆä»»ä½•çŠ¶æ€ï¼äºŽæ˜¯ï¼ŒmColors çš„ç¬¬ä¸€ä¸ªé¢œè‰²å€¼ä¼šè¢«è¿”å›žï¼Œä½†å®žé™…ä¸Šå®ƒå¹¶ä¸æ˜¯ ColorStateList çš„é»˜è®¤å€¼ï¼šè€Œç”±äºŽ ImageView ä¼šåœ¨æ‹¿åˆ° Drawable ä¹‹åŽé€šè¿‡å…¶çŠ¶æ€æ¥æ›´æ–°ç€è‰²ï¼Œå› æ­¤å°±ä¼šå¯¼è‡´ç€è‰²çš„ä¸ç›¸åŒã€‚ 6. æ¡ˆä»¶é‡çŽ°åˆ°è¿™é‡Œï¼Œé—®é¢˜çš„æˆå› å°±å·²ç»æ°´è½çŸ³å‡ºäº†ï¼Œä¾¦æŽ¢æŽ¨ç†å®ŒæˆåŽéƒ½ä¼šè¿›è¡Œä¸€ä¸‹æ¡ˆä»¶é‡æ¼”ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œä¹Ÿé‡æ–°å›žé¡¾ä¸€ä¸‹æ•´ä¸ªæµç¨‹å’Œé—®é¢˜çš„åŽŸå› ï¼šImageView å±•ç¤º Drawable è°ƒç”¨äº† ContextContext ç¬¬ä¸€æ¬¡åˆ›å»º Drawable å¹¶ä¸å¸¦æœ‰çŠ¶æ€ç©ºçŠ¶æ€å¯¼è‡´ç³»ç»Ÿç€è‰²åˆ¤æ–­é”™è¯¯Context éšå³å°†é”™è¯¯çš„ç€è‰² Drawable è¿›è¡Œç¼“å­˜ImageView èŽ·å–åˆ° Drawable ä¹‹åŽæ ¹æ®å…¶çŠ¶æ€ç»™äºˆäº†æ­£ç¡®çš„ç€è‰²æµ‹è¯•ç¨‹åºå†æ¬¡é€šè¿‡ Context èŽ·å– Drawable ç”±äºŽç¼“å­˜å‘½ä¸­ï¼Œè¿”å›žäº†é”™è¯¯ç€è‰²çš„ Drawableç”±äºŽæµ‹è¯•ç¨‹åºèŽ·å–çš„æœŸæœ›å€¼å’Œ ImageView çš„çœŸå®žå€¼ä¸ç›¸åŒï¼Œå› æ­¤æµ‹è¯•æŠ¥é”™ä¸é€šè¿‡å…¶ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œé—®é¢˜çš„å…³é”®åœ¨äºŽç³»ç»Ÿåœ¨ Drawable åˆæ¬¡åˆ›å»ºå®Œæˆæ—¶é”™è¯¯åˆ¤æ–­äº†å…¶ç€è‰²é¢œè‰²ï¼Œä»Žè€Œè¿”å›žé¢œè‰²åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå€¼è€Œå¿½ç•¥å…¶çœŸæ­£çš„é»˜è®¤å€¼ã€‚ç”±äºŽæˆ‘ä»¬å†æ¬¡é€šè¿‡ Context å– Drawable ä¼šå› ä¸ºç¼“å­˜è€Œæ‹¿åˆ°é”™è¯¯ç€è‰²çš„ Drawableï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹æ‹¿åˆ°çš„ Drawable æ ¹æ®è¿è¡ŒçŽ¯å¢ƒè¿›è¡Œé‡æ–°ç€è‰²ã€‚ä½†æ˜¯å¦‚æžœä½ çš„ &lt;selector&gt; çš„ç¬¬ä¸€ä¸ª &lt;item&gt; å°±æ˜¯é»˜è®¤çš„è¯ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œä¸éœ€è¦é‡æ–°ç€è‰²äº†ã€‚ 7. é™„ï¼šé»˜è®¤çš„ colorControlNormal å€¼åœ¨è°ƒè¯•ä¹‹ä½™æˆ‘è¿˜ç¿»äº†ä¸€ä¸‹é»˜è®¤çš„ colorControlNormal å€¼ï¼Œç»“æžœæ˜¯æ ¹æ®ä½ è®¾å®šçš„æ ¹ä¸»é¢˜çš„ä¸åŒï¼Œå¯èƒ½ä¼šæœ‰ä¸‹é¢çš„ä¸¤ä¸ªå€¼ï¼š?android:attr/textColorPrimary?android:attr/textColorSecondaryä½†æ— ä¸€ä¾‹å¤–å®ƒä»¬éƒ½æ˜¯ &lt;selector&gt;ï¼Œè€Œä¸”æœ‰çŠ¶æ€çš„é¢œè‰²å€¼å¤„åœ¨ç¬¬ä¸€ä¸ªã€‚12345678&lt;!-- textColorPrimary --&gt;&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:state_enabled="false" android:alpha="?attr/disabledAlpha" android:color="?attr/colorForeground"/&gt; &lt;item android:alpha="?attr/primaryContentAlpha" android:color="?attr/colorForeground"/&gt;&lt;/selector&gt;12345678&lt;!-- textColorSecondary --&gt;&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:state_enabled="false" android:alpha="?attr/disabledAlpha" android:color="?attr/colorForeground"/&gt; &lt;item android:alpha="?attr/secondaryContentAlpha" android:color="?attr/colorForeground"/&gt;&lt;/selector&gt;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Instrument Test</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidX æµ‹è¯•å‘ç‚¹è¯¦è§£ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F%2FAndroid%2Fandroid-%E6%B5%8B%E8%AF%95%E5%9D%91%E7%82%B9%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨è¿ç§»åˆ° AndroidX ä¹‹åŽä¸€ç›´æŠ˜è…¾ TDD çš„äº‹æƒ…ï¼Œä¹Ÿé‡åˆ°äº†å¤§çš„å°çš„ä¸å°‘å‘ç‚¹ï¼›é‰´äºŽ AndroidX åœ¨æµ‹è¯•æ–¹é¢è¿˜æ²¡æœ‰å¤ªå¤šçš„æ–‡æ¡£ï¼Œå°±å†™ä¸€ç¯‡åšæ–‡æ¥æ€»ç»“ä¸€ä¸‹æŠ˜è…¾çš„ç»éªŒï¼Œä¹Ÿç»™åŽæ¥äººåšä¸€äº›å‚è€ƒã€‚ 1. å›½äº§ ROM çš„å‘ActivityScenario å’Œ ActivityScenarioRule æ˜¯æ–°æŽ¨å‡ºçš„æ“ä½œ Activity ç”Ÿå‘½å‘¨æœŸçš„ç±»ã€‚å½“æž„å»º ActivityScenario æ—¶ï¼Œå®ƒä¾¿ä¼šè‡ªåŠ¨å¯åŠ¨ä½ æŒ‡å®šçš„ Activity å¹¶è®©å®ƒå¤„äºŽ RESUMED çŠ¶æ€ã€‚ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š12345678910111213@RunWith(AndroidJunit4::class)class MainActivityTest &#123; @get:Rule val mainActivityScenarioRule = ActivityScenarioRule&lt;MainActivity&gt;(MainActivity::class.java) @Test fun onCreate_saveInstanceNull() &#123; mainActivityScenarioRule.scenario .onActivity &#123; activity -&gt; // åœ¨è¿™é‡ŒèŽ·å– Activity å®žä¾‹ &#125; &#125;&#125;ä½†æ˜¯ï¼Œå½“æˆ‘åœ¨æ‰‹æœºä¸Šè·‘è¿™ä¸ªæµ‹è¯•çš„æ—¶å€™ï¼Œå´é‡åˆ°äº†ä¸‹é¢çš„é—®é¢˜ï¼š12java.lang.AssertionError: Activity never becomes requested state "[RESUMED]"(last lifecycle transition = "PRE_ON_CREATE")ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘è¿™ä¸ª Activity å®žé™…ä¸Šå¹¶æ²¡æœ‰çœŸæ­£çš„ onCreate è€Œæ˜¯ä¸€ç›´å¤„äºŽè¢«åˆ›å»ºä¹‹å‰çš„çŠ¶æ€ï¼ŒéšåŽå› ä¸ºè¶…æ—¶å¯¼è‡´äº†æŠ¥é”™é€€å‡ºã€‚å…·ä½“çš„è¶…æ—¶æ—¶é—´æ˜¯ 45 ç§’ä½†æ˜¯åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿å¯¼è‡´æˆ‘çš„ Activity å¯åŠ¨ä¸äº†å´æ²¡æœ‰ä»€ä¹ˆå¤´ç»ªï¼Œç›´åˆ°æˆ‘ç”¨æ¨¡æ‹Ÿå™¨è¿è¡Œæµ‹è¯•ä»£ç çš„æ—¶å€™ï¼Œæˆ‘å‘çŽ°ï¼š å±…ç„¶æµ‹è¯•é€šè¿‡äº†ï¼åŽŸæ¥ï¼ŒAndroid çš„ä»ªå™¨æµ‹è¯•(Instrumented Test)éƒ½ä¼šæž„å»ºä¸€ä¸ªç‹¬ç«‹çš„ test.apk å¹¶è‡ªåŠ¨å®‰è£…å’Œè¿è¡Œã€‚è€Œå›½äº§çš„æ‰‹æœºç³»ç»Ÿå¯¹äºŽåº”ç”¨è‡ªå¯åŠ¨çš„ç®¡ç†éžå¸¸æ¿€è¿›ï¼ˆä¾‹å¦‚åŽä¸ºï¼‰ï¼Œè€Œæˆ‘ä¹Ÿæ²¡æœ‰å¯¹ test.apk è®¾ç½®ç™½åå•ï¼ŒäºŽæ˜¯ç³»ç»Ÿå°±ä¸€ç›´ç¦æ­¢ tesk.apk çš„å¯åŠ¨ï¼Œå¯¼è‡´æµ‹è¯•å¤±è´¥ã€‚åœ¨åŽä¸ºçš„æ‰‹æœºåº”ç”¨ç®¡å®¶ä¸­ä¸º test.apk è®¾ç½®ç™½åå•ï¼Œæµ‹è¯•å°±å¯ä»¥é€šè¿‡äº†ã€‚ 2. Fragment Testing çš„å‘ 2.1 ç¼–è¯‘ä¾èµ–çš„å‘å’Œ ActivityScenario ä¸€æ ·ï¼ŒGoogle ä¹Ÿæä¾›äº†ä¸€ä¸ª FragmentScenario æ–¹ä¾¿åœ¨æµ‹è¯•ä¸­èŽ·å– Fragment å®žä¾‹å’Œå¯¹ Fragment è¿›è¡Œæ“ä½œã€‚ä½†æ˜¯éœ€è¦å¼•å…¥ fragment-testing åº“ï¼ŒæŒ‰ç…§ Google çš„æ–‡æ¡£æ˜¯ä¸‹é¢çš„è¿™æ¡è¯­å¥:1debugImplementation 'androidx.fragment:fragment-testing:1.1.0-alpha07'è¿™é‡Œå°±æ˜¯å®ƒçš„ç¬¬ä¸€ä¸ªå‘ï¼Œå¦‚æžœä½ åªå¼•å…¥ä¸Šé¢çš„è¿™æ¡è¯­å¥ï¼Œå®žé™…ä¸Šæ ¹æœ¬ä¸å¯èƒ½æˆåŠŸ Buildã€‚ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç‚¹åŽŸå› ï¼šfragment-testing éœ€è¦ä¾èµ– androidx.test.coreï¼Œè€Œ debugImplementation å¹¶æ²¡æœ‰å¼•å…¥ androidx.text.coreæˆ‘ä»¬éœ€è¦åœ¨ Instrumented Test ä¸­ä½¿ç”¨ fragment-testingï¼Œè€Œä¸Šé¢å¹¶æ²¡æœ‰åœ¨ androidTestImplementation å¼•å…¥äºŽæ˜¯ä¹Žï¼Œæ­£ç¡®çš„å¼•å…¥æ–¹å¼æ˜¯ï¼š1234debugImplementation(Libs.androidx_test_core)debugImplementation(Libs.fragment_testing)androidTestImplementation(Libs.androidx_test_core)androidTestImplementation(Libs.fragment_testing)é‚£ä¹ˆèƒ½ä¸èƒ½æŠŠ debugImplementation æ¢æˆæ™®é€šçš„ implementation å‘¢ï¼Ÿå¾ˆå¯æƒœï¼Œè¿™æ˜¯ä¸è¡Œçš„ï¼Œä¸è¿‡è‡³äºŽä¸ºä»€ä¹ˆä¸è¡Œï¼Œæˆ‘ç›®å‰å¹¶æ²¡æœ‰å¯¹æ­¤è¿›è¡Œæ·±å…¥ç ”ç©¶ã€‚ 2.2 ä¸»é¢˜çš„å‘å¯¼å…¥å’Œä¾èµ–çš„å‘è§£å†³ä¹‹åŽå°±åˆ°äº†å¦‚ä½•ä½¿ç”¨çš„çŽ¯èŠ‚äº†ã€‚å…·ä½“çš„ç”¨æ³•ä¸ºï¼š123456@Testfun testFragment() &#123; launchFragmentScenario&lt;LoginFragment&gt;() &#123; fragment -&gt; // ä½¿ç”¨ fragment &#125;&#125;ä½†æ˜¯ï¼Œè¿™ä¹ˆä½¿ç”¨ä¹Ÿæ˜¯ä¸è¡Œçš„ã€‚å¦‚æžœä½ ä½¿ç”¨äº† Material çš„ç»„ä»¶ï¼Œä¾‹å¦‚ TextInputLayoutï¼Œé‚£ä¹ˆå®ƒä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š123Caused by: android.view.InflateException: Binary XML file line#9: Error inflating class**com.google.android.material.textfield.TextInputLayout**åœ¨æŸ¥é˜…ç›¸å…³èµ„æ–™ä¹‹åŽï¼Œå‘çŽ°äº†ä¸€ä¸ªç›¸å…³çš„ Issueå…¶ä¸­ Google çš„äººæŒ‡å‡ºï¼šYou need to tell FragmentScenario what theme you want if you want something other than the default Theme.WithActionBar, thatâ€™s correct.ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœä½ ä½¿ç”¨äº† Material ç›¸å…³çš„ä¸»é¢˜ï¼Œæ¯”å¦‚è¯´å¸¸è§çš„ Theme.Appcompat ç­‰ï¼Œé‚£ä¹ˆå°±éœ€è¦å‘ FragmentScenario æ˜Žç¡®æŒ‡å‡ºä½ ä½¿ç”¨çš„ä¸»é¢˜æ ·å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„ä»£ç éœ€è¦å†™æˆï¼š1234567fun testFragment() &#123; launchFragmentScenario&lt;LoginFragment&gt;( themeResId = R.style.Your_App_Theme ) &#123; fragment -&gt; // ä½¿ç”¨ fragment &#125;&#125;ç¨‹åºæ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ 3. onFragment/onActivity å’Œ check çš„å‘ActivityScenario å’Œ FragmentScenario éƒ½æä¾›äº†ä¸€ä¸ªç›¸åº”çš„é«˜é˜¶å‡½æ•° onActivity() å’Œ onFragment()ï¼Œå¯ä»¥åœ¨å…¶ä¸­èŽ·å–åˆ°å¯¹åº”çš„ Activity å’Œ Fragment çš„å®žä¾‹ï¼Œå¹¶ç”¨å®ƒåšç›¸åº”çš„æ“ä½œã€‚å®žé™…ä¸Š onFragment() å†…éƒ¨ä¹Ÿæ˜¯è°ƒç”¨äº† onActivity()ä½†æ˜¯ï¼éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ª on æ–¹æ³•éƒ½æ˜¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹çš„ï¼Œè€Œ Espresso çš„ check() å‡½æ•°æ˜¯ä¸€ä¸ªè€—æ—¶æ“ä½œï¼Œå¦‚æžœä½ åœ¨ onFragment() ä¸­è°ƒç”¨ check()ï¼Œé‚£ä¹ˆå°±ä¼š é˜»å¡ž UI çº¿ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦å°† onView() ç›¸å…³çš„å†…å®¹æ”¾åˆ° onFragment/onActivity çš„å¤–é¢ï¼š123456789launchFragmentInContainer&lt;LoginFragment&gt;( themeResId = R.style.Theme_Shrine).onFragment &#123; tintColorRes = typedValue.resourceId&#125;onView(withContentDescription(R.string.shr_logo_content_description)) .check(matches(withDrawable(R.drawable.shr_logo, tintColorRes))) .check(matches(isCompletelyDisplayed()))ç­‰ç­‰ï¼Œæ”¾åˆ°å¤–é¢å°±ä¸ä¼šé˜»å¡ž UI çº¿ç¨‹äº†å—ï¼Ÿéš¾é“ä¸ä¼šé˜»å¡ž test.apk çš„ UI çº¿ç¨‹ï¼Ÿç»è¿‡åç¼–è¯‘ tesk.apk ä¹‹åŽå‘çŽ°ï¼Œå®žé™…ä¸Š test.apk åªåŒ…å«æµ‹è¯•ç”¨ä¾‹ç›¸å…³çš„å†…å®¹ï¼Œç”šè‡³æ²¡æœ‰ä¸€ä¸ª Activityï¼Œè€ŒçœŸæ­£çš„è¢«æµ‹è¯•çš„å†…å®¹å®žé™…ä¸Šè¿˜æ˜¯åœ¨æˆ‘ä»¬åŽŸæ¥çš„ apk ä¹‹ä¸­ï¼Œtest.apk å®žé™…ä¸Šæ˜¯é€šè¿‡å¯åŠ¨è¢«æµ‹è¯•çš„ apk çš„ç›¸å…³å†…å®¹æ¥å®žçŽ°ä»ªå™¨æµ‹è¯•çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœå°† onView ç›¸å…³çš„ä»£ç æ”¾åˆ°å¤–é¢ï¼Œå®žé™…ä¸Šæ˜¯åœ¨ test.apk é‡Œé¢è·‘çš„ï¼Œä¹Ÿå°±ä¸ä¼šå¯¹è¢«æµ‹è¯•çš„ apk è¿›è¡Œé˜»å¡žã€‚ 4. åŠ¨ç”»çš„å‘Android å®˜æ–¹çš„ Espresso æµ‹è¯•æ¡†æž¶ä¸èƒ½å…¼å®¹åŠ¨ç”»æ•ˆæžœï¼Œåœ¨è·‘æµ‹è¯•ï¼Œç‰¹åˆ«æ˜¯ç‚¹å‡»ã€è¾“å…¥ç­‰ UI æµ‹è¯•æ—¶ï¼Œéœ€è¦è¿›å…¥å¼€å‘è€…æ¨¡å¼æŠŠèƒ½æ˜¾ç¤ºåŠ¨ç”»çš„éƒ½å…³æŽ‰ï¼šä¸ç„¶ Espresso ä¼šæŠ¥ PerformExceptionã€‚ 5. æµ‹è¯• ImageView çš„ Drawable çš„å‘ 5.1 android:tint çš„å‘å¯¹äºŽ ImageViewï¼Œæˆ‘ä»¬éœ€è¦æµ‹è¯•å®ƒæ˜¯å¦å±•ç¤ºå‡ºäº†æˆ‘ä»¬ä¼ å…¥çš„ Drawableï¼Œä¸è¿‡æ¯”è¾ƒå¯æƒœçš„æ˜¯ï¼ŒEspresso è‡ªèº«å¹¶æ²¡æœ‰æä¾› withDrawable() æ–¹æ³•ï¼Œå¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Kotlin çš„æ‰©å±•å‡½æ•°å®žçŽ°è¿™ä¸ªåŠŸèƒ½ï¼š123456789101112fun withDrawable(@DrawableRes id: Int, @ColorRes tint: Int? = null, tintMode: PorterDuff.Mode = SRC_IN) = object : TypeSafeMatcher&lt;View&gt;() &#123; override fun describeTo(description: Description) &#123; description.appendText("ImageView with drawable same as drawable with id $id") &#125; override fun matchesSafely(view: View): Boolean &#123; val context = view.context val expectedBitmap = context.getDrawable(id)?.toBitmap() return view is ImageView &amp;&amp; view.drawable.toBitmap().sameAs(expectedBitmap) &#125;&#125;ä½†æ˜¯ï¼ŒImageView æ”¯æŒç€è‰² (tint) åŠŸèƒ½ï¼ŒçœŸæ­£æ˜¾ç¤ºå‡ºæ¥çš„ Drawable å’Œæˆ‘ä»¬ä»Ž Context é‡Œé¢æ‹¿åˆ°çš„ Drawable å¾ˆå¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ç»™ expectedBitmap è¿›è¡Œç€è‰²ï¼š123456789101112131415161718192021222324private fun Int.toColor(context: Context) = ContextCompat.getColor(context, this)private fun Drawable.tinted(@ColorInt tintColor: Int? = null, tintMode: PorterDuff.Mode = SRC_IN) = apply &#123; setTintList(tintColor?.toColorStateList()) setTintMode(tintMode) &#125;private fun Int.toColorStateList() = ColorStateList.valueOf(this)fun withDrawable(@DrawableRes id: Int, @ColorRes tint: Int? = null, tintMode: PorterDuff.Mode = SRC_IN) = object : TypeSafeMatcher&lt;View&gt;() &#123; override fun describeTo(description: Description) &#123; description.appendText("ImageView with drawable same as drawable with id $id") tint?.let &#123; description.appendText(", tint color id: $tint, mode: $tintMode") &#125; &#125; override fun matchesSafely(view: View): Boolean &#123; val context = view.context val tintColor = tint?.toColor(context) val expectedBitmap = context.getDrawable(id)?.tinted(tintColor, tintMode)?.toBitmap() return view is ImageView &amp;&amp; view.drawable.toBitmap().sameAs(expectedBitmap) &#125;&#125; 5.2 VectorDrawable çš„å‘ä»Ž 5.0 ä¹‹åŽï¼Œ Android æ”¯æŒçŸ¢é‡å›¾ï¼Œå³ VectorDrawableï¼Œåœ¨ ImageView ä¸­ä½¿ç”¨ app:srcCompat è¿›è¡Œæ˜¾ç¤ºã€‚ä½†æ˜¯ï¼Œè™½ç„¶åœ¨æ™®é€šçš„ apk ä¸­å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçŸ¢é‡å›¾ï¼Œä½†æ˜¯åœ¨è¿è¡Œä»ªå™¨æµ‹è¯•æ—¶ä»…ä»…è¿™æ ·æ˜¯æ˜¾ç¤ºä¸äº†çš„ï¼Œè¿˜éœ€è¦åœ¨ä»£ç ä¸­ä½¿ç”¨ setImageResource() æ‰èƒ½åœ¨æµ‹è¯•ä¸­æ˜¾ç¤ºå‡ºçŸ¢é‡å›¾ã€‚ç›®å‰æ¥çœ‹è¿™æ˜¯ Android æµ‹è¯•æ¡†æž¶çš„ä¸€ä¸ª Bugï¼Œå¦‚æžœä¸æƒ³æ”¹ä»£ç çš„è¯å¯ä»¥ä¸è¿›è¡Œè¿™æ–¹é¢çš„æµ‹è¯•ï¼Œæ¯•ç«Ÿå›¾èƒ½ä¸èƒ½æ˜¾ç¤ºå‡ºæ¥ï¼Œç”¨çœ¼ç›çœ‹çœ‹å°±è¡Œäº†ã€‚ 5.3 VectorDrawable å’Œ tint çš„å‘ä¸Šé¢è¯´åˆ°äº† Drawable éœ€è¦ tintï¼Œå¦‚æžœæˆ‘ä»¬çš„ ImageView æ˜¾ç¤ºçš„æ˜¯ VectorDrawableï¼Œé‚£å°±è¦å°å¿ƒäº†ï¼Œå› ä¸º VectorDrawable å¯ä»¥åœ¨å®ƒè‡ªå·±çš„ xml æ–‡ä»¶ä¸­è¿›è¡Œç€è‰²ï¼š123456&lt;vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="152dp" android:tint="?attr/colorControlNormal" android:viewportHeight="152" android:viewportWidth="149" android:width="149dp"&gt;æ³¨æ„ä¸Šé¢çš„ android:tint=&quot;?attr/colorControlNormal&quot;ï¼Œè¿™æ˜¯åœ¨ vector ä¸­å®šä¹‰çš„ã€‚å¦‚æžœä½ ç»™è¿™ä¸ª tint è®¾å®šçš„æ˜¯ä¸€ä¸ª &lt;selector&gt;ï¼Œé‚£ä¹ˆå°±éœ€è¦æ³¨æ„äº†ï¼šå¦‚æžœä½ çš„ &lt;selector&gt; çš„ç¬¬ä¸€ä¸ª &lt;item&gt; ä¸æ˜¯é»˜è®¤é¢œè‰²ï¼Œè€Œæ˜¯ state_enable:false ä¹‹ç±»çš„æœ‰çŠ¶æ€çš„é¢œè‰²ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨æµ‹è¯•ä»£ç ä¸­èŽ·å– R.attr.colorControlNormal å¹¶å¯¹ Drawable é‡æ–°è¿›è¡Œç€è‰²ï¼Œå¦åˆ™å³ä½¿ä½ æ²¡æœ‰å¯¹è¿™ä¸ª Drawable è¿›è¡Œè¿‡ä»»ä½•ä¿®æ”¹ï¼Œæµ‹è¯•ä¾æ—§ä¼šæŠ¥é”™å¤±è´¥ã€‚å¦‚æžœä½ çš„ &lt;selector&gt; çš„ç¬¬ä¸€ä¸ª &lt;item&gt; æ˜¯é»˜è®¤çš„ä¸å¸¦æœ‰çŠ¶æ€é™å®šçš„é¢œè‰²ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦é‡æ–°ç€è‰²ã€‚é‰´äºŽé»˜è®¤çš„ colorControlNormal æ˜¯ &lt;selector&gt; é¢œè‰²ï¼Œæˆ‘å»ºè®®åœ¨æµ‹è¯• Drawable çš„æ—¶å€™éƒ½ç»Ÿä¸€è¿›è¡Œé‡æ–°ç€è‰²ã€‚è€Œå¦‚ä½•åœ¨è¿è¡Œæ—¶å–åˆ° colorControlNormal çš„çœŸæ­£çš„é¢œè‰²èµ„æº IDï¼Œå¯ä»¥å‚ç…§ä»¥ä¸‹ä»£ç ï¼š123val typedValue = TypedValue()it.activity?.theme?.resolveAttribute(R.attr.colorControlNormal, typedValue, true)tintColorRes = typedValue.resourceIdæœ€åŽæ‹¿åˆ°çš„ tintColorRes å³ä¸ºé¢œè‰²èµ„æº IDã€‚å…³äºŽå…¶ä¸­å…·ä½“åŽŸç†ï¼Œå¯ä»¥å‚ç…§æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Instrument Test</tag>
        <tag>Espresso</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ConnectedDevice: No Test Found è°ƒè¯•è¿‡ç¨‹]]></title>
    <url>%2F%2FAndroid%2Fconnecteddevice-no-test-found-%E8%B0%83%E8%AF%95%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰åˆç¨å¾®æŠ˜è…¾ç€æƒ³å°è¯•ä¸€ä¸‹ TDDï¼Œå¹¶åœ¨æ¯æ¬¡æž„å»ºçš„æ—¶å€™åŠ å…¥æµ‹è¯•çŽ¯èŠ‚ï¼Œå½“æµ‹è¯•ä¸é€šè¿‡å°±ä¸å…è®¸ buildã€‚å½“ä¸€åˆ‡éƒ½é…ç½®å¥½ï¼Œç‚¹ä¸‹ build App çš„æ—¶å€™ï¼Œå´å‡ºçŽ°äº† There were failing tests.ã€‚æˆ‘å¿ƒæƒ³ï¼Œä¸ä¼šå•Šï¼ŒçŽ°åœ¨æˆ‘å°±æ ¹æœ¬æ²¡å†™å‡ ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä¸ºä»€ä¹ˆä¼šé€šä¸è¿‡ï¼ŸäºŽæ˜¯ï¼Œå°±å¼€å§‹äº†è‰°éš¾çš„è°ƒè¯•è¿‡ç¨‹ 0. æ›´æ–°2019-05-27 æ›´æ–°ï¼š Google å›žå¤ï¼šInstant Run åœ¨æ–°ç‰ˆæœ¬å·²ç»ä¸è¢«æ”¯æŒäº†ï¼Œä»–ä»¬å¼€å‘äº†ä¸€ä¸ªæ›´å¥½çš„åŠŸèƒ½å« Apply Changeã€‚Instant Run has been deprecated in Android Studio 3.5 and instead weâ€™ve implemented a brand new solution called Apply Changes that is more stable and doesnâ€™t modify your APK on build.â€¦We recommend turning off Instant Run in the settings for earlier versions of Android Studioå°è¯•äº†ä¸€ä¸‹ 2019-05-23 ç¼–è¯‘çš„ Android Studio 3.6 Canary 1 ï¼Œé—®é¢˜çš„ç¡®å·²ç»è¢«ä¿®å¤äº†ã€‚æ‰€ä»¥è¿˜åœ¨ä½¿ç”¨ 3.4 ç¨³å®šç‰ˆçš„ï¼Œç›´æŽ¥æŠŠ Instant Run å…³æŽ‰å§ã€‚ 1. ConnectedDevice No tests foundæ‰“å¼€æµ‹è¯•ç»“æžœï¼Œå°±å¾—åˆ°äº†ä¸‹é¢è¿™å¼ å›¾å†ç‚¹è¿›åŽ»ä¸€çœ‹ï¼šå®ƒè¯´æˆ‘æ²¡æœ‰æŒ‰ç…§ JUnit çš„æ–¹å¼ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œä½†æ˜¯æˆ‘çš„æµ‹è¯•ç”¨ä¾‹éƒ½æ˜¯åŠ äº† @Test çš„å•Š12345678910@RunWith(AndroidJUnit4::class)class ApplicationTest &#123; @Test fun useAppContext() &#123; // Context of the app under test. val appContext = InstrumentationRegistry.getInstrumentation().targetContext assertEquals("aaa.bbb.ccc.ddd", appContext.packageName) &#125;&#125;äºŽæ˜¯å°±é™·å…¥äº†å›°å¢ƒï¼Œé—®é¢˜åˆ°è¿™é‡Œå°±æ¶ˆå¤±äº†ï¼Œåˆ°åº•åº”è¯¥æ€Žæ ·æ‰èƒ½å®šä½åˆ°é—®é¢˜å‘¢ï¼Ÿ 2. ä½¿ç”¨ gradle å‘½ä»¤è¡Œè¿›è¡Œæž„å»ºå°è¯•Android Studio çš„ Run App å®žé™…ä¸Šå°±æ˜¯å…ˆæ‰§è¡Œ assemble[Build-Variant] ç„¶åŽå†å°†ç”Ÿæˆçš„ apk å®‰è£…åˆ°æ‰‹æœºçš„è¿‡ç¨‹ã€‚è€Œè¿™ä¸ª assemble å®žé™…ä¸Šæ˜¯é€šè¿‡ gradle æ‰§è¡Œçš„ï¼ŒäºŽæ˜¯å¯ä»¥å°è¯•é€šè¿‡ gradle å‘½ä»¤è¡Œè¿›è¡Œç¼–è¯‘ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ gradle å¯¼è‡´çš„é—®é¢˜ã€‚ç„¶è€Œï¼Œgradle å•ç‹¬è¿›è¡Œç¼–è¯‘å¹¶æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼šæ‰€ä»¥å¾ˆæœ‰å¯èƒ½æ˜¯ Android Studio è‡ªèº«çš„æž„å»ºå‡ºçŽ°äº†é—®é¢˜ï¼Œä½†æ˜¯ï¼Œç›®å‰çš„æž„å»ºä¿¡æ¯å¹¶ä¸è¶³ä»¥è®©æˆ‘ä»¬å®šä½åˆ°é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦èŽ·å–æ›´å¤šçš„æž„å»ºä¿¡æ¯ã€‚ 3. INSTRUMENT: Process Crashedé¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ Build, Execution, Deployment -&gt; Compiler å¼€å¯ gradle --scanç„¶åŽï¼Œç‚¹å‡»çº¢æ¡†é‡Œé¢çš„å°å›¾æ ‡è®© Build ä¿¡æ¯å˜æˆæ–‡å­—ï¼šä¹‹åŽï¼Œå°±çœ‹åˆ°äº† build å¤±è´¥çš„è¯¦ç»†ä¿¡æ¯äº†ï¼šåŽŸæ¥æ˜¯åœ¨æµ‹è¯•çš„æ—¶å€™ç¨‹åºå´©æºƒäº†ï¼Œè¿™æ‰å¯¼è‡´äº†æµ‹è¯•çš„å¤±è´¥ã€‚ç»è¿‡ä¸€ç•ª StackOverflow ä¹‹åŽï¼Œè¿™ä¸ªç­”æ¡ˆ æé†’äº†æˆ‘ï¼šç”±äºŽ Instrument Test å®žé™…ä¸Šæ˜¯å®‰è£…äº†ä¸€ä¸ª test.apkï¼Œæ‰€ä»¥å®ƒçš„æŠ¥é”™ä¿¡æ¯ä¼šåœ¨ Log Cat è€Œä¸æ˜¯ Build Output ä¸­ã€‚ 4. Didnâ€™t find class CoreComponentFactoryæ‰“å¼€ Log Catï¼Œé¦–å…ˆæ˜ å…¥çœ¼å¸˜çš„æ˜¯ Unable to instantiate applicationåŽŸæ¥åœ¨æ‰§è¡Œæµ‹è¯•çš„æ—¶å€™ï¼Œæ²¡æœ‰åŠžæ³•å®žä¾‹åŒ– Application å¯¼è‡´ Instrument Test æ— æ³•æ‰¾åˆ° Contextï¼ŒäºŽæ˜¯ç¨‹åºå°±å´©æºƒå¯¼è‡´æµ‹è¯•å¤±è´¥äº†ã€‚å†å¾€ä¸Šçœ‹ï¼Œå¯ä»¥çœ‹åˆ°å¯¼è‡´æ— æ³•å®žä¾‹åŒ– Application çš„åŽŸå› ï¼šåŽŸæ¥æ˜¯æž„å»º Application çš„å·¥åŽ‚æ‰¾ä¸åˆ°äº†ï¼Œä»Žè€Œé€ æˆå®ƒæ— æ³•å®žä¾‹åŒ–ã€‚ 5. ç½ªé­ç¥¸é¦– Instant RunDidn't find class CoreComponentFactory è¿™ä¸ªé—®é¢˜ä¹‹å‰ä¹Ÿé‡åˆ°è¿‡ï¼Œæ˜¯å› ä¸º R8 å°†å…¶æ··æ·†äº†ï¼Œå¯¼è‡´åœ¨ release æ¨¡å¼ä¸‹æ‰¾ä¸åˆ°è¿™ä¸ªç±»ï¼Œä½†æ˜¯çŽ°åœ¨æ˜¯ debug æ¨¡å¼ï¼Œå¹¶æ²¡æœ‰å¯ç”¨æ··æ·†ï¼Œä½†æ˜¯ä¾ç„¶è¿˜æ˜¯æ‰¾ä¸åˆ°è¿™ä¸ªç±»ã€‚åœ¨ç»è¿‡åˆä¸€é˜µå­çš„ StackOverflow ä¹‹åŽï¼Œæˆ‘æ‰¾åˆ°äº†è¿™ä¹ˆä¸€ä¸ªç­”æ¡ˆï¼šè™½ç„¶å®ƒè¢«å‡æˆäº†è´Ÿåˆ†ï¼Œä½†æ˜¯ä¹Ÿä¸å¦¨ç¢æˆ‘å°è¯•ä¸€ä¸‹å®ƒçš„å¯ç”¨æ€§ã€‚äºŽæ˜¯æˆ‘å°† Instant Run å–æ¶ˆæŽ‰ï¼Œå¥‡è¿¹å‘ç”Ÿäº†ï¼Œç¨‹åºç«Ÿç„¶å°±ç¼–è¯‘é€šè¿‡å¹¶æˆåŠŸå®‰è£…åœ¨äº†æ¨¡æ‹Ÿå™¨ä¸Šã€‚ 6. æ€»ç»“åˆ°è¿™é‡Œï¼Œæ•´ä¸ªè°ƒè¯•è¿‡ç¨‹å°±ç»“æŸäº†ï¼Œä¹Ÿç»™ Google æäº†è¿™ä¸ª bugã€‚è™½ç„¶ä¸æ•¢è‚¯å®šä¸€å®šæ˜¯ Instant Run çš„é—®é¢˜ï¼Œä½†æ˜¯ç›®å‰ï¼ˆAS 3.4.1ï¼‰æ¥çœ‹ï¼Œå–æ¶ˆ Instant Run å°±å¯ä»¥è¿è¡ŒæˆåŠŸã€‚è¿™ä¸ªé—®é¢˜æœ¬èº«å¯èƒ½æœ‰ä¸€äº›ç‰¹å¼‚æ€§ï¼Œä¸è¿‡å€’æ˜¯ä»Žä¸­å­¦åˆ°äº†ä¸€ä¸ªçŸ¥è¯†ï¼šç±»ä¼¼çš„ Instrument Test çš„å¤±è´¥æœ€å¥½å…ˆåŽ» Log Cat å¯»æ‰¾åŽŸå› ã€‚ä¹Ÿå¸Œæœ›å¤§å®¶èƒ½ä»Žè¿™ç¯‡åšå®¢ä¸­èƒ½å­¦åˆ°ä¸€äº›ä»€ä¹ˆå§ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Instrument Test</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ buildSrcVersions è½»æ¾ç®¡ç† gradle ä¾èµ–]]></title>
    <url>%2F%2FAndroid%2F%E4%BD%BF%E7%94%A8-buildsrcversions-%E8%BD%BB%E6%9D%BE%E7%AE%A1%E7%90%86-gradle-%E4%BE%9D%E8%B5%96%2F</url>
    <content type="text"><![CDATA[å¦‚æžœä½ å¼€å‘è¿‡ç¨å¾®æœ‰ç‚¹ä½“é‡çš„ Android Appï¼Œéƒ½ä¼šå› ä¸ºè¶Šæ¥è¶Šå¤šçš„ Gradle ä¾èµ–è€Œå¤´ç–¼ã€‚ä¸€ä¸ª App çš„ç¼–è¯‘ä¾èµ–å°‘åˆ™åå‡ é¡¹ï¼Œå¤šåˆ™å‡ åé¡¹ï¼Œå¦‚æžœå†åŠ ä¸Šå¤š moduleï¼Œé‚£ä¹ˆä¾èµ–çš„ç»Ÿä¸€ç®¡ç†å°±å¾ˆé‡è¦äº†ã€‚ä½†æ˜¯ï¼Œå¦‚ä½•é«˜æ•ˆç»Ÿä¸€ç®¡ç†ï¼Œåˆ™æ˜¯ä¸€ä¸ªéš¾é¢˜ã€‚ä»Šå¤©å°±æ¥è¯´è¯´å¦‚ä½•ä½¿ç”¨ buildSrcVersions è½»æ¾ç®¡ç† gradle ä¾èµ–ã€‚ 1. Ext çš„å¼Šç«¯åœ¨ä»‹ç» buildSrcVersions ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ Google å®˜æ–¹æŽ¨èçš„ç»Ÿä¸€ç®¡ç†æ–¹å¼ï¼Œå³ä½¿ç”¨ ext è¿›è¡Œç®¡ç†ï¼Œä¾‹å¦‚ï¼š12345678910ext &#123; // The following are only a few examples of the types of properties you can define. compileSdkVersion = 28 buildToolsVersion = "28.0.3" // You can also use this to specify versions for dependencies. Having consistent // versions between modules can avoid behavior conflicts. supportLibVersion = "28.0.0" ...&#125;ç„¶åŽåœ¨ build.gradle ä¸­1234567android &#123; // Use the following syntax to access properties you defined at the project level: // rootProject.ext.property_name compileSdkVersion rootProject.ext.compileSdkVersion buildToolsVersion rootProject.ext.buildToolsVersion ...&#125;ä½†æ˜¯ï¼è¿™ç§æ–¹å¼æœ‰å¾ˆå¤§çš„é—®é¢˜ï¼šç”±äºŽå¤š module å·¥ç¨‹éœ€è¦å…±äº«ä¸€äº›å˜é‡ï¼Œext å®šä¹‰çš„ä½ç½®å¯èƒ½åœ¨å…¶ä»–åœ°æ–¹æœ€å¤§çš„é—®é¢˜åœ¨äºŽï¼ŒIDE ä¸èƒ½è·³è½¬åˆ°è¿™äº›å˜é‡çš„å®šä¹‰åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œå¦‚æžœä½ å¯¹å·¥ç¨‹ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œé‚£ä¹ˆåœ¨ä¾èµ–ç‰ˆæœ¬éœ€è¦æ›´æ”¹çš„æ—¶å€™å°±è¦ç¿»ç®±å€’æŸœæ‰¾ä¸€é˜µï¼Œè¿™ä¸å…ä»¤äººçƒ¦èºï¼Œå½±å“å·¥ä½œæ•ˆçŽ‡ã€‚é‚£ä¹ˆé™¤äº† ext ä¹‹å¤–æœ‰æ²¡æœ‰æ›´å¥½çš„ç»Ÿä¸€ç®¡ç†ä¾èµ–çš„æ–¹å¼å‘¢ï¼Ÿæœ‰çš„ï¼ŒGradle æä¾›äº†ä¸€ä¸ª buildSrc æ–¹å¼ã€‚ 2. Kotlin + buildSrc ç®¡ç† gradle ä¾èµ–æ—¶è‡³ä»Šæ—¥ï¼ŒKotlin ä¸ä»…å¯ä»¥ä½œä¸ºæºæ–‡ä»¶ç”¨äºŽå¼€å‘ç›®çš„ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥å½“æˆè„šæœ¬è¿è¡Œï¼Œè¿™å°±æ˜¯ .kts æ–‡ä»¶ï¼Œè€Œä¸” Gradle ç³»ç»Ÿä¹Ÿæ”¯æŒä½¿ç”¨ kts æ–‡ä»¶ä½œä¸º build è„šæœ¬ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œä½¿ç”¨ Kotlin å’Œ buildSrc è¿›è¡Œä¾èµ–ç®¡ç†ä¸»è¦éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼šåœ¨æ ¹ç›®å½•å»ºç«‹ buildSrc æ–‡ä»¶å¤¹åœ¨ buildSrc ä¸­åˆ›å»º build.gradle.ktsï¼Œå¹¶åŠ ä¸Šå¦‚ä¸‹è¯­å¥1234567plugins &#123; `kotlin-dsl`&#125;repositories &#123; jcenter()&#125;åœ¨ buildSrc/src/main/java ä¸­åˆ›å»º Versions.kt å’Œ Libs.kt12345678910object Versions &#123; const val compileSdkVersion = 28 const val targetSdkVersion = 28 ... const val retrofit = "2.8.6"&#125;object Libs &#123; const val retrofit = "com.squareup.retrofit2:retrofit:$&#123;Versions.retrofit&#125;â€&#125;æœ€åŽï¼Œåœ¨ app/build.gradle ä¸­123456android &#123; compileSdkVersion(Versions.compileSdkVersion)&#125;dependencies &#123; implementation(Libs.retrofit)&#125;è¿™æ ·ï¼Œæˆ‘ä»¬æ—¢èƒ½å®žçŽ°ä¾èµ–çš„ç»Ÿä¸€ç®¡ç†ï¼Œä¹Ÿèƒ½ä½¿ç”¨åˆ° IDE çš„è‡ªåŠ¨è¡¥å…¨å’Œå®šä¹‰è·³è½¬åŠŸèƒ½ï¼Œè¿…é€Ÿå®šä½åˆ°éœ€è¦æ”¹åŠ¨çš„ç‰ˆæœ¬ã€‚ä½†æ˜¯ï¼ä¸Šé¢æˆ‘ä»¬è¿˜æ˜¯è¦è‡ªå·±åŽ»ç¼–å†™ buildSrcï¼Œä¸å…æœ‰äº›éº»çƒ¦ã€‚è€ŒäºŽæ­¤åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¸¢å¤±äº†åŽŸå…ˆ gradle ä¼šè‡ªåŠ¨æç¤ºä¾èµ–çš„ç‰ˆæœ¬å‡çº§ç‰¹æ€§ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§ä¸œè¥¿èƒ½å¤ŸæŠŠè¿™ä¸¤ä¸ªä¸œè¥¿ç»“åˆåœ¨ä¸€èµ·å®žçŽ°æ–‡ä½“ä¸¤å¼€èŠ±å‘¢ï¼Ÿåˆ°è¿™é‡Œç»ˆäºŽè¿›å…¥æœ¬ç¯‡ä¸»é¢˜ï¼šä½¿ç”¨ buildSrcVersions æ’ä»¶ 3. buildSrcVersions è‡ªåŠ¨ç”Ÿæˆ buildSrc ç›®å½•buildSrcVersions æ’ä»¶çš„é¡¹ç›®åœ°å€é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•çš„ build.gradle ä¸­å¼•å…¥æ’ä»¶ï¼š1234567buildscript &#123; //...&#125;plugins &#123; id("de.fayard.buildSrcVersions") version "0.3.2"&#125;// Don't put any code before the buildscripts &#123;&#125; and plugins &#123;&#125; blockè¿™ä¸ªæ’ä»¶å¢žåŠ äº† buildSrcVersions è¿™ä¸ª gradle taskã€‚è¿è¡Œè¿™ä¸ª taskï¼Œå®ƒå°±ä¼šæ‰«æå¹¶è¯»å–ä½ çš„ä¾èµ–é¡¹ï¼Œå¹¶ä»¥æ­¤è‡ªåŠ¨ç”Ÿæˆ buildSrc ç›®å½•ã€‚è¿è¡Œçš„ç»“æžœå¦‚ä¸‹ï¼šæŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† build.gradle ä¸­çš„ä¾èµ–æ¢æˆä½¿ç”¨ Libs è¿›è¡Œå¼•ç”¨å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢è¿™äº›ä¾èµ–éƒ½æ˜¯æŸ“äº†è‰²çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬å¯ä»¥ç›´æŽ¥è·³è½¬åˆ°å¯¹åº”çš„å®šä¹‰ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥è¿›è¡Œè¡¥å…¨ã€‚åŒæ—¶ï¼ŒbuildSrcVersions è¿˜å…·å¤‡æ£€æŸ¥æ›´æ–°çš„èƒ½åŠ›ï¼Œå¦‚æžœä½ å·²ç»ç”Ÿæˆè¿‡ buildSrc äº†ï¼Œé‚£ä¹ˆå†æ¬¡è¿è¡Œ buildSrcVersions task å°±ä¼šå¯¹ä½ çš„ä¾èµ–é¡¹è¿›è¡Œæ›´æ–°æ£€æŸ¥ï¼Œå¯ç”¨çš„æ–°ç‰ˆæœ¬ä¼šä»¥æ³¨é‡Šçš„å½¢å¼é™„åœ¨å¯¹åº”ä¾èµ–é¡¹å­—ç¬¦ä¸²çš„åŽé¢ã€‚å½“ç„¶ï¼Œå®ƒæ˜¯ä¸ä¼šéšä¾¿æ”¹ä½ çš„ä»£ç çš„ï¼Œè¿™ä¸ªæ›´æ–°å®ƒåªæ˜¯è¿›è¡Œä¸€ä¸‹æç¤ºï¼Œåˆ°åº•è¦ä¸è¦ä½¿ç”¨æ–°ç‰ˆæœ¬è¿˜æ˜¯æ ¹æ®é¡¹ç›®æƒ…å†µæ¥å†³å®šã€‚ä¸è¿‡ï¼Œè¿™ä¸ªå¥½ç”¨çš„æ’ä»¶ä¹Ÿæ˜¯æœ‰ç¼ºé™·çš„ï¼šé¦–å…ˆï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªç©ºçš„ settings.gradle.kts æ–‡ä»¶ï¼Œå› ä¸ºå·¥ç¨‹ä¸­åªèƒ½æœ‰ä¸€ä¸ª settings.gradleï¼Œæ‰€ä»¥å½“å®ƒä¸ºç©ºæ—¶è¿˜å¥½ï¼Œä½†æ˜¯å¦‚æžœä½ å¾€é‡Œé¢å¡«ä¸œè¥¿ï¼Œå°±ä¼šè®© gradle æ‘¸ä¸ç€å¤´è„‘ï¼Œå¯¼è‡´ç¼–è¯‘ä¸ç¨³å®šå¯¹æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è®©å®ƒè‡ªåŠ¨å°† settings.gradle æ–‡ä»¶åˆ æŽ‰ï¼Œä¸º buildSrcVersions task å¢žåŠ ä¸€ä¸ª doLast() å³å¯ï¼š1tasks["buildSrcVersions"].doLast &#123; delete("$&#123;rootDir.path&#125;/buildSrc/settings.gradle.kts") &#125;å…¶æ¬¡ï¼Œå®ƒä¼šå¯¼è‡´ build configuration å¤±è´¥ï¼Œå¦‚å›¾ï¼šå…¶åŽŸå› åœ¨äºŽå®ƒçš„è¿›ç¨‹ä¼šå ç”¨ build/dependenciesUpdate å¯¼è‡´ task(&quot;clean&quot;) æ— æ³•åˆ›å»ºã€‚è™½ç„¶ä¸å½±å“å·¥ç¨‹çš„ Sync å’Œæž„å»ºï¼Œä½†æ˜¯æœ‰è¿™ä¸ªé»„æ¡æ€»å½’æ˜¯çœ‹çš„ä¸çˆ½çš„ã€‚æœ€åŽï¼Œå®ƒå¹¶ä¸èƒ½è‡ªåŠ¨çš„å¸®ä½ æ”¹ä½ çš„ build.gradleï¼Œéœ€è¦ä½ æ‰‹åŠ¨ä¿®æ”¹ï¼Œå½“ç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªä¸œè¥¿çš„æ—¶å€™éœ€è¦æ‰“çš„å­—è¿˜æŒºå¤šçš„ã€‚ä¸è¿‡ï¼Œæ¯”èµ·å®ƒèƒ½è‡ªåŠ¨å¿«é€Ÿæž„å»º buildSrc æ¥è¯´ï¼Œä¹Ÿè¿˜ç®—å¾—ä¸Šæ˜¯ç‘•ä¸æŽ©ç‘œã€‚ 4. ä¸€äº›æ½œåœ¨çš„å‘å¦‚æžœä½ é€‰æ‹©ä½¿ç”¨ buildSrcVersions æ’ä»¶ï¼Œé‚£ä¹ˆè¯·å°† Android æž„å»ºç›¸å…³çš„ç‰ˆæœ¬å·å•ç‹¬æ”¾ç½®åœ¨ä¸€ä¸ªæ–°æ–‡ä»¶ä¸­ï¼š12345678// AndroidVersions.ktobject AndroidVersions &#123; const val compileSdkVersion = 28 const val targetSdkVersion = 28 const val minSdkVersiosn = 20 ...&#125;å› ä¸ºæ¯æ¬¡ buildSrcVersions è¿è¡Œéƒ½æœ‰å¯èƒ½ä¼šæ›¿æ¢æŽ‰å®ƒç”Ÿæˆçš„ Versions.kt å’Œ Libs.ktå¦‚æžœä½ é€‰æ‹©è‡ªå·±ç¼–å†™ buildSrc ç›®å½•ï¼ŒåŠ¡å¿…æ³¨æ„ä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼šä½¿ç”¨æ­£ç¡®çš„ç›®å½•ç»“æž„buildSrc éµå¾ªé»˜è®¤çš„ Java/Kotlin ç›®å½•ç»“æž„ï¼Œå³ buildSrc/src/main/java/...ä¸è¦å¿˜è®°åŠ  jcenter()ä¸è¦å¿˜è®°åœ¨ buildSrc/build.gradle.kts ä¸­å¢žåŠ  jcenter()ï¼Œå¦åˆ™ kotlin-dsl æ’ä»¶æ˜¯åŠ è½½ä¸æˆåŠŸçš„æœ€åŽï¼Œä¹Ÿå¸Œæœ›æˆ‘çš„è¿™ç¯‡æ–‡ç« èƒ½ç»™å¤§å®¶æé«˜åŠ³åŠ¨ç”Ÿäº§çŽ‡å§ï¼Œæ¯•ç«Ÿè°éƒ½æƒ³å·æ‡’ä¸æ˜¯ï¼ŸðŸ˜†]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Gradle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€’å½’æ ‘åˆ†æžå½’å¹¶æŽ’åºç®—æ³•å¤æ‚åº¦]]></title>
    <url>%2F%2FAlgorithm%2F%E9%80%92%E5%BD%92%E6%A0%91%E5%88%86%E6%9E%90%E5%BD%92%E5%B9%B6%E7%AE%97%E6%B3%95%E5%A4%8D%E6%9D%82%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰å­¦ç®—æ³•åˆ†æžçš„æ—¶å€™åªçŸ¥é“é€šè¿‡æ•°è¯­å¥æ¥è®¡ç®—ç®—æ³•çš„å¤æ‚åº¦ï¼Œè€Œå¯¹äºŽé€’å½’ç®—æ³•æ²¡æœ‰å¾ˆå¥½çš„æ–¹æ³•ï¼›ç”±äºŽé€’å½’ç®—æ³•é€šå¸¸é‡‡ç”¨åˆ†æ²»æ€è·¯ï¼Œæ¯é€’å½’ä¸€æ¬¡ï¼Œå­é—®é¢˜åœ¨å¢žå¤šï¼Œä½†æ˜¯å­é—®é¢˜çš„è§„æ¨¡åœ¨å‡å°‘ï¼Œæ‰€ä»¥å¦‚ä½•åŽ»è®¡ç®—è¿™ç§é€’å½’ç±»ç®—æ³•çš„å¤æ‚åº¦å‘¢ï¼Ÿæ–¯å¦ç¦çš„æ•™æŽˆæä¾›äº†ä¸€ç§ä½¿ç”¨ é€’å½’æ ‘ çš„æ–¹æ³•ã€‚ å½’å¹¶çš„å¤æ‚åº¦è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨ç»å…¸çš„å½’å¹¶æŽ’åºç®—æ³•ä½œä¸ºä¸€ä¸ªä¾‹å­ï¼Œä½¿ç”¨é€’å½’æ ‘æ¥åˆ†æžå®ƒçš„å¤æ‚åº¦ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå½’å¹¶æŽ’åºç®—æ³•ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šé€’å½’å·¦åŠéƒ¨åˆ†é€’å½’å³åŠéƒ¨ä»½å°†æŽ’å¥½åºçš„å·¦åŠè¾¹å’Œå³åŠè¾¹åˆå¹¶å¯¹äºŽå½’å¹¶(merge)éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šåœ°è®¡ç®—å‡ºå…¶å¤æ‚åº¦ï¼š1234567for k from 0 to N-1: if A[i] &lt; B[j]: C[k] = A[i] i++ else if B[j] &lt; A[i]: C[k] = B[j] j++é¦–å…ˆåœ¨å¾ªçŽ¯éƒ¨åˆ†ï¼Œå¾ªçŽ¯çš„æ¯ä¸€æ¬¡æ‰§è¡Œäº† 444 æ¬¡æ“ä½œï¼Œæ‰€ä»¥ä¸€å…±éœ€è¦ 4N4N4N æ¬¡æ“ä½œï¼›ç„¶åŽåˆå§‹åŒ– i å’Œ j éœ€è¦ä¸¤æ¬¡æ“ä½œï¼›æ‰€ä»¥ï¼Œå½’å¹¶éƒ¨åˆ†ä¸€å…±æ‰§è¡Œ 4N+24N + 24N+2 æ¬¡æ“ä½œï¼Œç”±äºŽ Nâ‰¥1N \ge 1Nâ‰¥1ï¼Œæ‰€ä»¥ï¼š4N+2â‰¤6N4N + 2 \le 6N4N+2â‰¤6Nç²—ç³™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ 6N6N6N ä½œä¸ºå½’å¹¶éƒ¨åˆ†çš„å¤æ‚åº¦ã€‚ é€’å½’æ ‘å’Œå½’å¹¶æŽ’åºçš„å¤æ‚åº¦å¯¹äºŽæˆ‘ä»¬çš„é€’å½’ç¨‹åºï¼Œæˆ‘ä»¬é‡‡ç”¨é€’å½’æ ‘æ¥åˆ†æžå®ƒçš„å¤æ‚åº¦ï¼šå…¶ä¸­ï¼Œæ¨ªæ¡è¡¨ç¤ºçš„æ˜¯ è¾“å…¥æ•°æ®çš„é•¿åº¦ï¼Œæ ¹èŠ‚ç‚¹çš„è¾“å…¥è§„æ¨¡ä¸º NNNï¼›æ¯è¿›è¡Œä¸€æ¬¡é€’å½’ï¼Œæ ‘å°±å‘ä¸‹æ·±å…¥ä¸€å±‚ï¼›é‚£ä¹ˆï¼Œæ ¹æ®äºŒå‰æ ‘ç»“è®ºï¼Œæ ‘çš„æ€»å±‚æ•°ä¸º logâ¡N+1\log{N} + 1logN+1ï¼›å¯¹äºŽç¬¬ jjj å±‚ï¼Œæ‹¥æœ‰ 2j2^j2j ä¸ªèŠ‚ç‚¹ï¼ŒåŒæ—¶æ¯ä¸ªèŠ‚ç‚¹çš„è¾“å…¥è§„æ¨¡ä¸º N/2jN / {2^j}N/2jæ‰€ä»¥ï¼Œå¯¹äºŽç¬¬ jjj å±‚ï¼Œå…¶æ‰§è¡Œçš„æ“ä½œæ•°ä¸ºï¼š2jÃ—6(N/2j)=6N2^j \times 6(N/2^j) = 6N2jÃ—6(N/2j)=6Nè€ŒäºŒå‰æ ‘ä¸€å…±æœ‰ logâ¡N\log{N}logN å±‚ï¼Œæ‰€ä»¥ï¼Œå½’å¹¶æŽ’åºçš„æ€»å¤æ‚åº¦æ˜¯ï¼š(logâ¡N+1)Ã—6N=6Nlogâ¡N+6N(\log{N} + 1) \times 6N = 6N\log{N} + 6N(logN+1)Ã—6N=6NlogN+6Næ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†å½’å¹¶æŽ’åºçš„æ€»å¤æ‚åº¦ O(Nlogâ¡N)O(N\log{N})O(NlogN) æ€»ç»“è¿™é‡Œæ¥æ€»ç»“ä¸€ä¸‹ä½¿ç”¨é€’å½’æ ‘è¿›è¡Œç®—æ³•åˆ†æžçš„æ­¥éª¤ï¼šè®¡ç®—é€’å½’çš„æ¯ä¸€æ­¥ä¸­çš„å¤æ‚åº¦æŒ‰ç…§é€’å½’çš„åˆ†è£‚ç¨‹åº¦ï¼Œç”»å‡ºä¸åŒçš„é€’å½’æ ‘åˆ†æž æ¯ä¸€å±‚ çš„æ—¶é—´å¤æ‚åº¦ï¼Œé‡ç‚¹å…³æ³¨èŠ‚ç‚¹æ•°é‡å’Œè¯¥å±‚æ¯èŠ‚ç‚¹çš„è¾“å…¥è§„æ¨¡æ¯ä¸€å±‚çš„å¤æ‚åº¦ä¹˜ä»¥å±‚æ•°ï¼Œå°±æ˜¯é€’å½’ç®—æ³•çš„æ€»å¤æ‚åº¦]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
        <tag>Algorithm Analysis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GPG + Yubikey 4 æŠ˜è…¾æ‰‹è®°]]></title>
    <url>%2F%2FGPG%2FGPG%20%2B%20Yubikey%204%20%E6%8A%98%E8%85%BE%E6%89%8B%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[GPG ç›¸ä¿¡å¾ˆå¤šäººéƒ½æŠ˜è…¾è¿‡ï¼ŒYubikey ä¹Ÿæœ‰å¾ˆå¤šäººä¹°è¿‡ï¼›ä½†æ˜¯å¥½åƒåªæœ‰è€å¤–æŠ˜è…¾è¿‡ Yubikey + GPG çš„ï¼›æœ€è¿‘åˆšæŠ˜è…¾å®Œæ¯•ï¼Œå› ä¸ºè‡ªå·±ä¸æ…Žè¿˜æŠŠä¸€ä¸ªè€é’¥åŒ™æžä¸¢äº†ï¼ŒçŽ°åœ¨åªèƒ½éšå®ƒåŽ»äº†ï¼›è¿™é‡Œå°±å†™å†™æˆ‘æŠ˜è…¾è¿‡ç¨‹ä¸­é‡åˆ°çš„å‘ï¼Œå‰è½¦ä¹‹é‰´ï¼ŒåŽäº‹ä¹‹å¸ˆã€‚ å‡†å¤‡ YubikeyYubikey ä¹°ä¸å°±è¡Œäº†ï¼Œä¸ºä»€ä¹ˆè¦å•å¼€ä¸€ä¸ª section æ¥è¯´å‘¢ï¼Ÿå…¶å®ž Yubikey ç›®å‰ä¸»è¦æœ‰ä¸¤ä¸ªç³»åˆ—ï¼Œä¸€ä¸ªæ˜¯ Yubikey 4ï¼Œä¸€ä¸ªæ˜¯ Yubikey NEOã€‚è¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼ŸYubikey 4 ä¸æ”¯æŒ NFCï¼Œä½†æ˜¯å¯ä»¥æ”¯æŒ 4096 bit çš„å¯†é’¥Yubikey NEO æ”¯æŒ NFCï¼Œä½†æ˜¯åªèƒ½æ”¯æŒ 2048 bit çš„å¯†é’¥ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœä½ æƒ³åœ¨æ‰‹æœºä¸Šç”¨ï¼Œé‚£ä¹ˆå°±åªèƒ½ä½¿ç”¨ 2048 bit çš„å¯†é’¥ï¼›å¦‚æžœä½ æƒ³æ›´é•¿çš„å¯†é’¥ï¼Œå°±ä¸èƒ½åœ¨æ‰‹æœºä¸Šç”¨ã€‚å½“ç„¶ï¼Œé™¤äº†ç”¨äºŽ GPG çš„ Smartcard ä»¥å¤–ï¼ŒYubikey è¿˜å¯ä»¥ç”¨äºŽä¸¤æ­¥éªŒè¯ç­‰å…¶ä»–æ–¹é¢ï¼Œè¿™å°±è¦çœ‹ä½ çš„éœ€æ±‚çš„å–èˆäº†ï¼Œè¿™ä¸ªä¸œè¥¿åœ¨ä½ ä¹°çš„æ—¶å€™å°±è¦è€ƒè™‘å¥½ã€‚ å®‰è£… GPGæŠ˜è…¾ GPG çš„ç¬¬ä¸€æ­¥å½“ç„¶å°±æ˜¯å®‰è£… GPGï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ Macï¼Œæ‰€ä»¥ç›´æŽ¥å®‰è£… GPGSuiteï¼Œç„¶åŽå†ç”¨ brew å®‰è£… gnupg å°±è¡Œäº†ã€‚ä¸è¿‡ï¼Œå¦‚æžœä½ ä½¿ç”¨ 4096 bit çš„å¯†é’¥ï¼Œé‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨ gpg2 è€Œä¸æ˜¯ gpg ç¼–è¾‘å¡çš„ä¿¡æ¯æŠŠ Yubikey æ‹¿åˆ°æ‰‹ä¹‹åŽæˆ‘ä»¬å…ˆåˆ«å¿™ç€ç”Ÿæˆå¯†é’¥ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬è¦é…ç½®ä¸€ä¸‹å¡çš„ä¿¡æ¯ï¼Œå…¶å®žä¸»è¦å°±æ˜¯è®¾ç½®å¡çš„ PIN å’Œ Admin PINï¼Œè€Œè¿™ä¸ªåœ¨è¦æŠŠå¯†é’¥å¯¼å…¥å¡çš„æ—¶å€™éœ€è¦ã€‚å°†å¡æ’å…¥ USBï¼Œç„¶åŽæ‰§è¡Œ gpg2 --card-editï¼›ç„¶åŽä½ å°±ä¼šçœ‹åˆ°å¡çš„ç›¸å…³ä¿¡æ¯ï¼š12345678910111213141516171819202122232425262728Reader ...........: Yubico Yubikey 4 OTP U2F CCIDApplication ID ...: D2760001240102010006046218630000Version ..........: 2.1Manufacturer .....: YubicoSerial number ....: 04621863Name of cardholder: Wafer LiLanguage prefs ...: zhSex ..............: ç”·æ€§URL of public key : hkp://keys.gnupg.netLogin data .......: omyshokami@gmail.comSignature PIN ....: å¿…é¡»Key attributes ...: rsa4096 rsa4096 rsa4096Max. PIN lengths .: 127 127 127PIN retry counter : 3 0 3Signature counter : 43Signature key ....: E219 29F0 DEC5 FAEC 434A 91D7 E22B 63C2 E449 298F created ....: 2018-01-21 09:31:56Encryption key....: 20F2 E95E 0107 1097 A853 A5CC E6AB 1330 6FE4 E5D9 created ....: 2018-01-21 09:31:56Authentication key: C1A4 2561 3A5D E7D5 4CBF CD4B 7440 5003 FFA1 4684 created ....: 2018-01-21 09:32:39General key info..: pub rsa4096/E22B63C2E449298F 2018-01-21 Wafer Li (Gmail. Mainly used in git) &lt;omyshokami@gmail.com&gt;sec&gt; rsa4096/E22B63C2E449298F åˆ›å»ºäºŽï¼š2018-01-21 æœ‰æ•ˆè‡³ï¼š2020-01-21 å¡å·ï¼š0006 04621863ssb&gt; rsa4096/E6AB13306FE4E5D9 åˆ›å»ºäºŽï¼š2018-01-21 æœ‰æ•ˆè‡³ï¼š2020-01-21 å¡å·ï¼š0006 04621863ssb&gt; rsa4096/74405003FFA14684 åˆ›å»ºäºŽï¼š2018-01-21 æœ‰æ•ˆè‡³ï¼š2020-01-21 å¡å·ï¼š0006 04621863ç„¶åŽè¾“å…¥ adminï¼Œå†è¾“å…¥ helpï¼Œå°±å¯ä»¥ä½¿ç”¨ç®¡ç†å‘˜å‘½ä»¤å¹¶çœ‹åˆ°ç›¸å…³å¸®åŠ©ï¼š123456789101112131415161718192021gpg/card&gt; adminå…è®¸ä½¿ç”¨ç®¡ç†å‘˜å‘½ä»¤gpg/card&gt; helpquit ç¦»å¼€è¿™ä¸ªèœå•admin æ˜¾ç¤ºç®¡ç†å‘˜å‘½ä»¤help æ˜¾ç¤ºè¿™ä»½åœ¨çº¿è¯´æ˜Žlist åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ•°æ®name æ›´æ”¹å¡æŒæœ‰äººçš„å§“åurl æ›´æ”¹èŽ·å–å¯†é’¥çš„ URLfetch æ ¹æ®å¡ä¸­æŒ‡å®šçš„ URL èŽ·å–å¯†é’¥login æ›´æ”¹ç™»å½•ålang æ›´æ”¹é¦–é€‰è¯­è¨€é¦–é€‰sex æ›´æ”¹å¡æŒæœ‰äººçš„æ€§åˆ«cafpr æ›´æ”¹ä¸€ä¸ª CA æŒ‡çº¹forcesig è®¾å®š PIN ç­¾åæ˜¯å¦å¿…é¡»generate ç”Ÿæˆæ–°çš„å¯†é’¥passwd æ›´æ”¹æˆ–è§£é” PIN çš„èœå•verify éªŒè¯ PIN å¹¶åˆ—å‡ºæ‰€æœ‰æ•°æ®unblock unblock the PIN using a Reset Codefactory-reset destroy all keys and dataæœ€è¿‘ gpg2 çš„ä¸­æ–‡åŒ–åšçš„ä¸é”™ï¼Œç›¸ä¿¡ä½ å·²ç»çœ‹æ‡‚å¤§æ¦‚äº†ï¼Œè¦ä¿®æ”¹å¯†ç ï¼Œæˆ‘ä»¬è¾“å…¥ passwdï¼š12345678910gpg/card&gt; passwdgpg: æ£€æµ‹åˆ° OpenPGP å¡å· D27600012401020100060462186300001 - change PIN2 - unblock PIN3 - change Admin PIN4 - set the Reset CodeQ - quitæ‚¨çš„é€‰æ‹©ï¼Ÿç„¶åŽæˆ‘ä»¬åˆ†åˆ«è¾“å…¥ 1 å’Œ 2 åŽ»ä¿®æ”¹ PIN å’Œ Admin PINã€‚æŽ¥ç€ä¼šå¼¹å‡ºä¸€ä¸ªæ¡†è®©ä½ è¾“å…¥åŽŸæ¥çš„ PINï¼Œé‚£ä¹ˆåŽŸæ¥çš„ PIN æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ ¹æ® Yubikey çš„æ–‡æ¡£ï¼ŒPIN å’Œ Admin PIN çš„å‡ºåŽ‚è®¾ç½®éƒ½æ˜¯ 12345678ã€‚è®°ä½è¿™ä¸ªå¯†ç ï¼Œå¦‚æžœä½ æŽ¥ä¸‹æ¥æŠŠä¸œè¥¿æžç‚¸äº†ï¼Œä½ è¿˜å¯ä»¥æŠŠ Yubikey æ¢å¤å‡ºåŽ‚è®¾ç½®ï¼Œè¿™æ—¶ä½ å°±éœ€è¦å®ƒäº†ã€‚æ”¹å®Œå¯†ç ä¹‹åŽæˆ‘ä»¬é€‰æ‹© Q å’Œ quit é€€å‡ºå¡çš„ç¼–è¾‘ç•Œé¢ï¼Œæ³¨æ„ä¸è¦ Ctrl + Cï¼Œå¯èƒ½ä¼šä¸¢å¤±ä¿®æ”¹ï¼Œæœ€å¥½è¿˜æ˜¯ä½¿ç”¨å®ƒçš„é€€å‡ºæ¥é€€å‡ºã€‚ ç”Ÿæˆå¯†é’¥çŽ°åœ¨æˆ‘ä»¬ç»ˆäºŽè¦ç”Ÿæˆå¯†é’¥äº†ï¼Œç”Ÿæˆå¯†é’¥è¿™ä¸ªå¾ˆå¤šäººéƒ½è®²è¿‡äº†ï¼Œæ“ä½œä¹Ÿå°±é‚£äº›ï¼Œè¿™é‡Œå°±ä¸å†ç»†è®²ï¼Œè¯´ç‚¹è¦æ³¨æ„çš„åœ°æ–¹ã€‚é¦–å…ˆå°±æ˜¯å¯†é’¥çš„é•¿åº¦ï¼Œå¦‚æžœä½ ä½¿ç”¨ Yubikey 4 çš„è¯ï¼Œä½¿ç”¨ 4096 bit çš„ï¼Œå¦‚æžœä½ ä½¿ç”¨ Yubikey NEO çš„è¯ï¼Œé‚£ä¹ˆå°±åªèƒ½ä½¿ç”¨é»˜è®¤çš„ 2048 bit äº†ã€‚ä½†æ˜¯ï¼Œå¦‚æžœä½ ä»¥åŽæƒ³æ¢æˆ Yubikey NEO çš„è¯ï¼Œé‚£ä¹ˆè¿˜æ˜¯ç”¨ 2048 çš„ï¼Œä¸è¦ç”¨ 4096 çš„ã€‚ç„¶åŽåœ¨ç”Ÿæˆå¯†é’¥çš„æ—¶å€™ä¸ºäº†è®©å®ƒå¾—åˆ°æ›´å¤šçš„ç†µï¼Œå¤šåŠ¨åŠ¨é¼ æ ‡å°±è¡Œäº†ï¼Œä¸éœ€è¦æ•²é”®ç›˜ï¼Œå¦åˆ™å°±æ•²åˆ°ä»€ä¹ˆå‘½ä»¤äº†ã€‚ç”Ÿæˆå®Œæ¯•ä¹‹åŽï¼Œè¾“å…¥ gpg2 --expert --edit-key KEYID è¿›å…¥ä¸‹ä¸€ä¸ªæ­¥éª¤ã€‚ ç”Ÿæˆå­å¯†é’¥è¿™ä¸ªå¯èƒ½å¾ˆå¤šäººæ²¡è®²è¿‡ï¼Œå®žé™…ä¸Š Yubikey å¯ä»¥å­˜å‚¨ 3 ç§å¯†é’¥ï¼Œç­¾åã€åŠ å¯†å’Œè®¤è¯ï¼›é»˜è®¤ç”Ÿæˆçš„åªæœ‰ç­¾åå¯†é’¥å’ŒåŠ å¯†å¯†é’¥ï¼Œå¹¶ä¸ä¼šç”Ÿæˆè®¤è¯å¯†é’¥ã€‚è®¤è¯å¯†é’¥æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿæˆ‘æŸ¥åˆ°ä¸»è¦è¿˜æ˜¯ç”¨äºŽ SSH ç™»å½•ï¼Œä¸è¿‡è¿™æ¬¡æˆ‘æ²¡æœ‰æŠ˜è…¾å‡ºæ¥ï¼Œä¹‹åŽå¯èƒ½ä¼šå†™å¦å¤–ä¸€ç¯‡å…³äºŽè¿™ä¸ªçš„æ–‡ç« ã€‚åˆšæ‰æˆ‘ä»¬è¿›å…¥äº† --edit-key çš„ç•Œé¢ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è¾“å…¥ addkey å°±å¯ä»¥å¢žåŠ ä¸€ä¸ªå­å¯†é’¥äº†ã€‚1234567891011121314gpg&gt; addkeyä¸»é’¥çš„ç§é’¥éƒ¨åˆ†å­˜å‚¨åœ¨å¡ä¸Šã€‚è¯·é€‰æ‹©æ‚¨è¦ä½¿ç”¨çš„å¯†é’¥ç§ç±»ï¼š (3) DSA (ä»…ç”¨äºŽç­¾å) (4) RSA (ä»…ç”¨äºŽç­¾å) (5) ElGamal (ä»…ç”¨äºŽåŠ å¯†) (6) RSA (ä»…ç”¨äºŽåŠ å¯†) (7) DSA (è‡ªå®šä¹‰ç”¨é€”) (8) RSA (è‡ªå®šä¹‰ç”¨é€”) (10) ECC (sign only) (11) ECC (set your own capabilities) (12) ECC (encrypt only) (13) Existing keyæ‚¨çš„é€‰æ‹©ï¼Ÿè¿™é‡Œä¹‹æ‰€ä»¥å‡ºçŽ°è¿™ä¹ˆå¤šé€‰é¡¹æ˜¯å› ä¸ºæˆ‘ä»¬ä¸Šé¢ä½¿ç”¨äº† --expert æ¨¡å¼ï¼Œå¦‚æžœä½ è¦åˆ›å»ºè®¤è¯å¯†é’¥ï¼Œé‚£ä¹ˆå°±å¿…é¡»ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹© 8ï¼Œç”¨ RSA ç®—æ³•æ¥ç”Ÿæˆè®¤è¯å­å¯†é’¥ã€‚123456789RSA å¯†é’¥å¯èƒ½çš„æ“ä½œï¼šç­¾å åŠ å¯† è®¤è¯ç›®å‰å…è®¸çš„æ“ä½œï¼šç­¾å åŠ å¯† (S) é€‰æ‹©æ˜¯å¦ç”¨äºŽç­¾å (E) é€‰æ‹©æ˜¯å¦ç”¨äºŽåŠ å¯† (A) é€‰æ‹©æ˜¯å¦ç”¨äºŽè®¤è¯ (Q) å·²å®Œæˆæ‚¨çš„é€‰æ‹©ï¼Ÿè¿™é‡Œç»™ä½ çš„é€‰é¡¹æ˜¯ä¸ªå¼€å…³é€‰é¡¹ï¼ŒåƒçŽ°åœ¨çš„çŠ¶æ€ï¼Œæˆ‘å¦‚æžœé€‰æ‹© Sï¼Œä¸Šé¢çš„ ç›®å‰å…è®¸çš„æ“ä½œ å°±ä¼šå˜æˆåªæœ‰åŠ å¯†ã€‚1234567891011æ‚¨çš„é€‰æ‹©ï¼Ÿ sRSA å¯†é’¥å¯èƒ½çš„æ“ä½œï¼šç­¾å åŠ å¯† è®¤è¯ç›®å‰å…è®¸çš„æ“ä½œï¼šåŠ å¯† (S) é€‰æ‹©æ˜¯å¦ç”¨äºŽç­¾å (E) é€‰æ‹©æ˜¯å¦ç”¨äºŽåŠ å¯† (A) é€‰æ‹©æ˜¯å¦ç”¨äºŽè®¤è¯ (Q) å·²å®Œæˆæ‚¨çš„é€‰æ‹©ï¼Ÿç„¶åŽæˆ‘ä»¬è®©è¿™ä¸ªå¯†é’¥åªèƒ½è¿›è¡Œè®¤è¯ï¼Œç„¶åŽç”Ÿæˆå®ƒå°±è¡Œäº†ã€‚æœ€åŽè¾“å…¥ save ä¿å­˜å¹¶é€€å‡ºã€‚ å¤‡ä»½å¯†é’¥æ³¨æ„ï¼è¿™ä¸ªæ“ä½œå¿…é¡»åœ¨å°†å¯†é’¥ä¼ å…¥ Yubikey ä¹‹å‰è¿›è¡Œï¼å¤‡ä»½æ˜¯å¾ˆé‡è¦çš„ï¼Œä¸€æ—¦ä½ å°†å¯†é’¥ä¼ å…¥ Yubikey ä¸­ï¼Œé‚£ä¹ˆå°±å†ä¹Ÿå–ä¸å‡ºæ¥äº†ï¼è€Œä¸”å°¤å…¶æ³¨æ„è¦å¤‡ä»½ä½ çš„ä¸»å¯†é’¥ï¼ä½ çš„ä¸»å¯†é’¥ä¸ä»…å…·æœ‰ç­¾ååŠŸèƒ½ï¼Œè€Œä¸”è¿˜ä»£è¡¨äº†ä½ çš„èº«ä»½ï¼Œå¦‚æžœä¸¢å¤±äº†ä¸»å¯†é’¥ï¼Œå°±æ„å‘³ç€ä½ çš„èº«ä»½å°±æ­¤ä¸¢å¤±ï¼Œä½ åªèƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„å¯†é’¥ï¼Œå¹¶æŠŠåŽŸæ¥çš„åŠé”€æŽ‰ã€‚è¿™é‡Œå°¤å…¶è¦æ³¨æ„ï¼šè¯·è®°ä½ä½ çš„å¯†é’¥ passphraseå› ä¸º GPG åœ¨å¯¼å…¥ä¸€ä¸ªç§é’¥çš„æ—¶å€™ä¼šè¦æ±‚å®ƒçš„å¯†ç ï¼Œå¦‚æžœä½ æŠŠå®ƒå¿˜è®°äº†ï¼Œé‚£ä¹ˆä½ å°±ä¸¢å¤±äº†ä½ çš„å¯†é’¥ã€‚ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å¯¼å‡ºä½ çš„ç§é’¥ï¼š1gpg2 --armor --export-secret-keys KEYID &gt;&gt; private.ascè¯·å¥½å¥½ä¿å­˜å®ƒï¼Œå¹¶è®°ä½å®ƒçš„å¯†ç ã€‚ è½¬ç§»å¯†é’¥åˆ° Yubikeyå½“ä½ å¤‡ä»½å¹¶ä¿å­˜å¥½ä½ çš„ä¸»ç§é’¥ä¹‹åŽï¼Œå°±å¯ä»¥å°†å¯†é’¥ä¼ å…¥ Yubikey äº†ã€‚å½“ç„¶å…¶å®žä¹Ÿå¯ä»¥ä¸å°†ä¸»å¯†é’¥ä¼ åˆ° Yubikey ä¸­ï¼Œä¸è¿‡åœ¨æœ‰äº†è‰¯å¥½å¤‡ä»½çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿½æ±‚æ›´é«˜çš„å®‰å…¨æ€§ï¼Œæ¯•ç«ŸæŠŠä½ çš„ç§é’¥ä¿å­˜åœ¨ç”µè„‘é‡Œé¢æ€»æ˜¯ä¸å¥½çš„ã€‚è¿›å…¥å¯†é’¥ç¼–è¾‘æ¨¡å¼ï¼š1gpg2 --edit-key KEYIDè¾“å…¥ toggleï¼Œç„¶åŽè¾“å…¥ keytocardï¼Œè¾“å…¥ y ç¡®è®¤å°†ä¸»å¯†é’¥ä¼ å…¥ Yubikey ä¸­ï¼Œç„¶åŽé€‰æ‹© 1ï¼Œå°†ä¸»å¯†é’¥ä½œä¸ºç­¾åå¯†é’¥ã€‚è¿™æ—¶å°±ä¼šæŠŠä½ çš„ä¸»å¯†é’¥ä¼ åˆ° Yubikey ä¸­ï¼Œè¿™æ—¶å®ƒå°±ä¼šé—®ä½ å¯†é’¥çš„å¯†ç ï¼Œè¿˜æœ‰ Yubikey çš„ Admin PINã€‚è¾“å…¥ key 1 é€‰æ‹©ç¬¬äºŒä¸ªå¯†é’¥ï¼šè¿™æ—¶å€™ä½ çš„ç¬¬äºŒä¸ªå¯†é’¥å°±ä¼šæœ‰ä¸ª *ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚ç„¶åŽç»§ç»­è¾“å…¥ keytocard å°†å¯†é’¥ä¼ å…¥ï¼ŒæŽ¥ç€é€‰æ‹©å¯¹åº”çš„å¯†é’¥ç±»åž‹å°±è¡Œäº†ã€‚ç¬¬äºŒä¸ªå¯†é’¥ä¼ å…¥å®Œæˆä¹‹åŽï¼Œæˆ‘ä»¬è¾“å…¥ key 1 å–æ¶ˆé€‰æ‹©ç¬¬äºŒä¸ªå¯†é’¥ã€‚æŽ¥ç€ï¼Œæˆ‘ä»¬å†è¾“å…¥ key 2 é€‰æ‹©ç¬¬ä¸‰ä¸ªå¯†é’¥ã€‚æŽ¥ç€å†è¾“å…¥ keytocard ä¼ å…¥ Yubikeyï¼Œé€‰æ‹©å¯¹åº”çš„å¯†é’¥ç±»åž‹å°±è¡Œäº†ã€‚ å…³äºŽ keytocard çš„è¯´æ˜Žå½“ä½ ä½¿ç”¨äº† keytocard ä¹‹åŽä¼šå‘çŽ°ï¼Œå¥½åƒä½ çš„å¯†é’¥å¹¶æ²¡æœ‰ä¼ å‡ºåŽ»å•Šï¼Ÿå¦‚æžœä½ ä½¿ç”¨ gpg2 --export-secret-keys ä¹Ÿèƒ½æ­£å¸¸å¯¼å‡ºï¼Œè¿™æ˜¯æ€Žä¹ˆå›žäº‹å‘¢ï¼Ÿå…¶å®žï¼Œkeytocard çš„ç¡®å°†ä½ çš„å¯†é’¥å¯¼å‡ºäº†ï¼Œä½†æ˜¯å®ƒåœ¨ç”µè„‘é‡Œé¢ç•™ä¸‹äº†ä¸€ä¸ª stubï¼Œè¿™ä¸ªå®žé™…ä¸Šæ˜¯æ²¡æœ‰ä»€ä¹ˆç”¨çš„ã€‚ä½¿ç”¨ gpg2 --export-secret-keys å¯ä»¥å°†ä½ çš„å¯†é’¥å¯¼å‡ºï¼Œä½†æ˜¯ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œå®ƒä¸æ˜¯çœŸçš„ç§é’¥ï¼Œå¦‚æžœä½ å°†ä½ çš„ Yubikey æ¢å¤å‡ºåŽ‚è®¾ç½®ï¼Œåˆ æŽ‰ä½ çš„ç§é’¥å¹¶å°†è¿™ä¸ªæ–°å¯¼å‡ºçš„å¯¼å…¥ã€‚ç„¶åŽä½ å°±ä¼šå‘çŽ°ä½ å¹¶æ²¡æœ‰å¯¼å…¥ç§é’¥ï¼Œåœ¨ä½ çš„é’¥åŒ™é“¾é‡Œé¢æ˜¾ç¤ºçš„ä½ çš„å¯†é’¥æ˜¯å…¬é’¥ï¼Œå¹¶ä¸æ˜¯å¯†é’¥å¯¹ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¸€å†å¼ºè°ƒå¿…é¡»å¤‡ä»½ç§é’¥å¹¶è®°ä½å¯†ç çš„åŽŸå› äº†ï¼›å‡å¦‚ä½ éšä¾¿ä¹±æžï¼Œæ²¡æœ‰å¤‡ä»½ç§é’¥åˆå°† Yubikey æ¢å¤å‡ºåŽ‚è®¾ç½®ï¼Œé‚£ä¹ˆä½ çš„ç§é’¥å°±å½»åº•ä¸¢å¤±äº†ã€‚ ä½¿ç”¨å¯†é’¥GPG èƒ½å¹²å˜›å‘¢ï¼Ÿå¯ä»¥ç»™é‚®ä»¶åŠ å¯†ï¼Œç»™ Git Commit ç­¾åä¹‹ç±»çš„ã€‚æˆ–è€…ä½ å¯ä»¥ç›´æŽ¥ç”¨ gpg2 --clearsign ç­¾åä¸€æ®µä¿¡æ¯ï¼›å¦‚æžœä½ æ²¡ç”¨ Yubikeyï¼Œé‚£ä¹ˆ GPG ä¼šç›´æŽ¥è¯¢é—®ä½ çš„å¯†é’¥ passphraseï¼›ä½†æ˜¯å¦‚æžœä½ ä½¿ç”¨äº† Yubikeyï¼Œé‚£ä¹ˆå®ƒå°±ä¸ä¼šé—®ä½  passphraseï¼Œè€Œæ˜¯é—®ä½ çš„ Yubikey PIN ä½œä¸ºå¯†ç ã€‚å¦‚æžœä½ åœ¨ Yubikey æ‹”æŽ‰çš„æ—¶å€™è¿›è¡Œ GPG ç­¾åæˆ–è€…åŠ å¯†æ“ä½œï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¦æ±‚ä½ æ’å…¥æ™ºèƒ½å¡ã€‚å¦‚æžœä½ é‡è§äº†ä¸Šé¢çš„æƒ…å†µï¼Œé‚£ä¹ˆå°±è¯´æ˜Žä½ çš„é…ç½®æˆåŠŸäº†ã€‚ Yubikey çš„æ”¯æŒæ€§ç›®å‰æ¥çœ‹ï¼ŒPC ç«¯(Mac)å’Œ Android éƒ½æ”¯æŒä½¿ç”¨ Yubikeyï¼›ä½†æ˜¯ Chrome æ’ä»¶å°±ä¸è¡Œäº†ï¼Œè¿˜æ˜¯åªèƒ½ä½¿ç”¨ passphrase è§£é”ç§é’¥ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦è®©ä½ è®°ä½ passphrase çš„åŽŸå› ã€‚ æœ€åŽè¯´äº†è¿™ä¹ˆå¤šï¼Œæœ€åŽæ¬¢è¿Žå¤§å®¶å¯¼å…¥æˆ‘çš„å…¬é’¥ç»™æˆ‘å‘åŠ å¯†é‚®ä»¶ã€‚æˆ‘çš„å¯†é’¥æ˜¯ E449298FæŒ‡çº¹ï¼šE219 29F0 DEC5 FAEC 434A 91D7 E22B 63C2 E449 298Fä½ åº”è¯¥ä¼šè‡³å°‘çœ‹åˆ° 3 ä¸ªæ ‡è¯†ï¼Œä¸¤ä¸ªé‚®ç®±ï¼Œä¸€ä¸ª PhotoIDï¼›å…¶ä¸­é‚®ç®±æœ‰ Tsanie Lily(1701D0C1) çš„ç­¾åã€‚]]></content>
      <categories>
        <category>GPG</category>
      </categories>
      <tags>
        <tag>GPG</tag>
        <tag>Yubikey</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³è„šæ³¨ä¸­æ•°å­¦å…¬å¼ä¸èƒ½æ¸²æŸ“çš„é—®é¢˜]]></title>
    <url>%2F%2FHexo%2F%E8%A7%A3%E5%86%B3%E8%84%9A%E6%B3%A8%E4%B8%AD%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E4%B8%8D%E8%83%BD%E6%B8%B2%E6%9F%93%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘ï¼Œé‰´äºŽæ€§èƒ½è€ƒé‡ï¼Œæˆ‘ä»Ž MathJax è¿ç§»åˆ°äº† Katexï¼Œä½†æ˜¯éšä¹‹è€Œæ¥å‡ºçŽ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è„šæ³¨é‡Œé¢çš„æ•°å­¦å…¬å¼æ²¡åŠžæ³•æ¸²æŸ“å‡ºæ¥ã€‚å¦‚å›¾ï¼šä½†æ˜¯ï¼Œå¦‚æžœæˆ‘ä»…ä»…ä½¿ç”¨ node çš„ REPL å’Œç”¨äºŽ markdown æ¸²æŸ“çš„ markdown-it ä»¥åŠå®ƒçš„ä¸¤ä¸ªæ’ä»¶ markdown-it-katex å’Œ markdonw-it-footnote åˆ†åˆ«ç”¨äºŽæä¾› Katex å’Œè„šæ³¨åŠŸèƒ½çš„è¯ï¼›æ˜¯å¯ä»¥æ¸²æŸ“å‡º Katex å’Œè„šæ³¨çš„ HTML ç»“æž„çš„ï¼šè¿™æ˜¯æ€Žä¹ˆå›žäº‹å‘¢ï¼Ÿç»è¿‡è¾›è‹¦çš„ç ”ç©¶ä¹‹åŽå‘çŽ°ï¼Œæˆ‘çš„åŽŸæœ¬çš„ _config.yml å†™çš„å°±æ¯”è¾ƒæœ‰æ¯’ï¼Œå¾ˆå¤šè‡ªå®šä¹‰çš„é…ç½®éƒ½æ’åœ¨äº†åŽŸæ¥é…ç½®çš„ä¸­é—´ï¼Œè€Œä¸”ç¼©è¿›æ ¼å¼ä¹Ÿä¸è§„èŒƒã€‚åŽæ¥é‡æ–°å°†æ‰€æœ‰é…ç½®éƒ½å†™åœ¨åŽŸæ¥é…ç½®çš„åŽé¢ï¼Œè§„èŒƒäº†ä¸€ä¸‹ç¼©è¿›é—®é¢˜å°±è§£å†³äº†ã€‚æ‰€ä»¥å¤§å®¶é‡åˆ°è¿™ç§é—®é¢˜çš„æ—¶å€™æœ€å¥½æ£€æŸ¥ä¸€ä¸‹è‡ªå·±çš„ _config.yml æ–‡ä»¶æœ‰æ²¡æœ‰æ ¼å¼ä¸Šçš„é”™è¯¯ï¼Œç‰¹åˆ«æ˜¯ç¼©è¿›çš„é”™è¯¯ã€‚]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Katex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³ Travis CI æ€»æ˜¯æ›´æ–°æ—§åšå®¢çš„é—®é¢˜]]></title>
    <url>%2F%2FHexo%2F%E8%A7%A3%E5%86%B3%20Travis%20CI%20%E6%80%BB%E6%98%AF%E6%9B%B4%E6%96%B0%E6%97%A7%E5%8D%9A%E5%AE%A2%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡ç€é‡ä»‹ç»ä¸€ä¸‹å¦‚ä½•è§£å†³ Travis CI åœ¨è¿›è¡Œè‡ªåŠ¨é›†æˆçš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šæ›´æ–°æ—§åšå®¢çš„é—®é¢˜ã€‚ä¹‹å‰æœ‰æƒ³è¿‡è¦æŠŠè¿™ç¯‡æ–‡ç« åˆå¹¶åˆ°ä¸Šä¸€ç¯‡é‡Œé¢ï¼Œä¸è¿‡è¿™ä¸ªé—®é¢˜æ¯”è¾ƒéšè”½ï¼Œè€Œä¸”è¾ƒéš¾è§£å†³ï¼Œæœ€åŽè¿˜æ˜¯æ–°å¼€ä¸€ç¯‡æ–‡ç« æ¥è¯¦ç»†è®²ä¸€ä¸‹è¯¥æ€Žä¹ˆåšï¼Œé˜²æ­¢ä»¥åŽæœ‰äººå†è¢«è¿™ä¸ªé—®é¢˜å›°æ‰°ã€‚ 1. åˆçº§ç—‡çŠ¶â€”â€”master çš„ commit åªæœ‰ä¸¤ä¸ªåœ¨ç»è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æŠ˜è…¾ä¹‹åŽï¼ŒTravis CI æ€»ç®—æ˜¯èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œè„šæœ¬å¹¶æäº¤åˆ° GitHub ä¸Šè¿›è¡Œï¼›ä¸è¿‡ï¼Œå¦‚æžœä½ æŸ¥çœ‹ master çš„ commit æƒ…å†µå°±ä¼šå‘çŽ°ï¼Œä½ åŽŸæœ¬æ»¡æ»¡å½“å½“çš„é¡µé¢æž„å»ºåŽ†å²çªç„¶å°±åªæœ‰ä¸¤ä¸ªäº†ã€‚åšå®¢æœ€é‡è¦çš„å°±æ˜¯ç§¯ç´¯ï¼ŒçŽ°åœ¨ä¸€ä¸ªæž„å»ºä½ çš„åšå®¢å°±å˜æˆæ–°åšå®¢äº†ï¼Œç®€ç›´ä¸èƒ½å¿ã€‚è¿™ä¸ªé—®é¢˜çš„åŽŸå› åœ¨äºŽä½ çš„åšå®¢ç›®å½•ä¸‹æ²¡æœ‰ä¹‹å‰ deploy ä¼šç”Ÿæˆçš„ .deploy_git è¿™ä¸ªç›®å½•ï¼›è¿™ä¸ªç›®å½•å®žé™…ä¸Šä¹Ÿå°±æ˜¯ä½ çš„ master åˆ†æ”¯ï¼Œåœ¨æ²¡æœ‰è¿™ä¸ªç›®å½•çš„æƒ…å†µä¸‹ï¼Œhexo-deploy-git æ’ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆ .deploy_gitï¼Œå¹¶å°† public å¤åˆ¶åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼›ç„¶åŽæ’ä»¶ä¼šè¿›è¡Œ force pushï¼è¿™å°±æ˜¯ä½ çš„ commit åŽ†å²ä¼šä¸¢å¤±çš„åŽŸå› ï¼è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œé¦–å…ˆä½ éœ€è¦åœ¨æœ¬åœ°è¿›è¡Œä¸€æ¬¡ deployï¼Œæ¥æ¢å¤ä½ çš„ commit åŽ†å²ç„¶åŽï¼Œåªéœ€è¦åœ¨æ¯æ¬¡æž„å»ºçš„æ—¶å€™éƒ½ clone ä¸€ä¸‹è¿™ä¸ªç›®å½•ï¼Œè¿™æ ·ä½ çš„åŽ†å²å°±ä¸ä¼šä¸¢å¤±äº†ã€‚å¾€ .travis.yml åŠ å…¥å¦‚ä¸‹è„šæœ¬å³å¯ï¼š12before_install: - git clone --branch=master &#123;your_blog_repo_git_url&#125; .deploy_git 2. é«˜çº§ç—‡çŠ¶â€”â€”æ—§åšå®¢æ€»æ˜¯è¢«æ›´æ–°è¿™ä¸ªç—‡çŠ¶æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œä¹Ÿæ˜¯æœ¬æ–‡æœ€ç»ˆè¦è§£å†³çš„é—®é¢˜ã€‚ç—‡çŠ¶çš„å…·ä½“è¡¨çŽ°åœ¨äºŽï¼Œåšå®¢çš„æ›´æ–°æ—¶é—´æ€»æ˜¯æœ€æ–°çš„ï¼›å°±è¿žä½ æ²¡æœ‰æ›´æ–°è¿‡çš„æ—§åšå®¢ä¹Ÿä¸€æ ·ï¼å¦‚å›¾æ‰€ç¤ºï¼Œå›¾ç‰‡ä¸­çš„æ›´æ–°æ—¶é—´å…¨éƒ¨éƒ½ä¸€æ ·ï¼ŒæŒ‰å¸¸ç†æ¥è¯´è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚è¿™åˆ°åº•æ˜¯ä»€ä¹ˆåŽŸå› å‘¢ï¼Ÿ 2.1 ç—‡çŠ¶åŽŸå› ç»è¿‡ä¸€ç•ªæŸ¥è¯¢ä¹‹åŽï¼Œæˆ‘æŸ¥åˆ°äº†è¿™ç¯‡åšæ–‡ï¼›é‡Œé¢æåˆ°ï¼ŒHexo å¹¶ä¸è¯†åˆ«æ–‡ç« çš„æ›´æ–°æ—¶é—´ï¼Œè€Œæ˜¯å°†è¿™ä¸ªæ›´æ–°æ—¶é—´äº¤ç»™äº†ç³»ç»Ÿè¿›è¡Œï¼›å®žé™…ä¸Š Hexo çš„æ–‡ç« æ›´æ”¹æ—¶é—´å°±æ˜¯ markdown æ–‡ä»¶çš„ æœ€åŽä¿®æ”¹æ—¶é—´ï¼›åˆ°è¿™é‡Œï¼ŒåŽŸå› å·²ç»å¾ˆæ˜Žæ˜¾äº†ï¼šç”±äºŽ Travis CI åœ¨æž„å»ºçš„æ—¶å€™ï¼Œæ€»æ˜¯ é‡æ–° clone repoï¼Œè¿™å°±é€ æˆäº† æ‰€æœ‰æ–‡ä»¶çš„æœ€åŽä¿®æ”¹æ—¶é—´éƒ½æ˜¯æœ€æ–°çš„ clone æ—¶é—´ï¼›å®žé™…ä¸Šï¼Œè¿™å¹¶ä¸æ˜¯ Travis CI çš„é—®é¢˜ï¼Œè€Œæ˜¯ git çš„é—®é¢˜ï¼Œgit ç”±äºŽåˆ†å¸ƒå¼çš„åŽŸå› ï¼Œå¹¶ä¸ä¼šä¿ç•™æ–‡ä»¶çš„æœ€åŽä¿®æ”¹æ—¶é—´ï¼›ä¸è¿‡ï¼Œä½œä¸ºä¸€ä¸ªåšå®¢ç³»ç»Ÿæ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ git çš„æœ€åŽ commit æ—¶é—´æ¥æ›¿ä»£ï¼Œè¿™æ ·å­å°±èƒ½æ¢å¤æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´äº†ã€‚ 2.2 è§£å†³åŠžæ³•è§£å†³æ–¹æ¡ˆæ¸…æ¥šä¹‹åŽæˆ‘å°±å¼€å§‹å¯»æ‰¾ç›¸å…³çš„å®žçŽ°ï¼Œä¸è¿‡ç½‘ä¸ŠçŽ°æœ‰çš„ä¸€æ­¥åˆ°ä½ä¿®æ”¹æ–‡ä»¶ last modified time çš„å®žçŽ°éƒ½ä¸èƒ½è§£å†³ non-ASCII çš„é—®é¢˜ï¼›æ‰€è°“ non-ASCII çš„é—®é¢˜å°±æ˜¯å½“ä½ çš„æ–‡ä»¶åå«æœ‰ä¸­æ–‡æˆ–è€…å…¶ä»–çš„å­—ç¬¦çš„æ—¶å€™ï¼Œè„šæœ¬å°±ä¼šç‚¸æŽ‰ï¼Œæ‰§è¡Œä¸ä¸‹åŽ»ã€‚æœ€åŽé¢è¿˜æ˜¯æ¯›ä¸»å¸­è¯´å¾—å¥½ï¼Œè‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿï¼Œåœ¨å‚ç…§äº†è¿™ä¸ª StackOverflow çš„ç­”æ¡ˆä¹‹åŽï¼Œæˆ‘ç¼–å†™äº†ä¸‹é¢çš„è„šæœ¬ï¼Œç»ˆäºŽè§£å†³äº† non-ASCII æ–‡ä»¶åçš„é—®é¢˜ï¼š123456789101112131415161718192021222324# -*- coding: utf-8 -*-import subprocessimport osimport shlexif __name__ != '__main__': raise ImportError("%s should not be used as a module." % __name__)# 'git ls-files -z | xargs -0 -n1 -I&#123;&#125; -- git log -1 --format="%ct &#123;&#125;" &#123;&#125; | sort'git_ls_cmd = 'git ls-files -z'xargs_cmd = 'xargs -0 -n1 -I&#123;&#125; -- git log -1 --format="%ct &#123;&#125;" &#123;&#125;'sort_cmd = 'sort'work_dir = os.getcwd()git_ls_result = subprocess.Popen(shlex.split(git_ls_cmd), stdout=subprocess.PIPE)xargs_result = subprocess.Popen(shlex.split(xargs_cmd), stdin=git_ls_result.stdout, stdout=subprocess.PIPE)result = subprocess.check_output('sort', stdin=xargs_result.stdout)timestamp_file_list = [tuple(it.split(' ', 1)) for it in result.decode('utf-8').split('\n')][:-1]for timestamp, file_path in timestamp_file_list: os.utime(os.path.join(work_dir, file_path), (int(timestamp), int(timestamp)))ä½ ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ª gisté‡Œé¢èŽ·å–å…¶ä»£ç ï¼›åœ¨ä½ æŠŠ repo å…‹éš†ä¸‹æ¥ï¼Œè¿›è¡Œäº† user.name å’Œ user.email çš„é…ç½®ä¹‹åŽï¼Œç”¨ python3 æ‰§è¡Œä¸€ä¸‹è¿™ä¸ªè„šæœ¬ï¼Œå°±èƒ½æ¢å¤æ–‡ä»¶çš„æœ€åŽä¿®æ”¹æ—¶é—´ã€‚ç›¸å…³çš„ .travis.yml é…ç½®ï¼š1234567before_install: # Git Config - git config --global user.name "your_user_name" - git config --global user.email "your_email"# Restore last modified time - chmod +x git_reset_mtime.py - python3 ./git_reset_mtime.pyç‰¹åˆ«æ³¨æ„ï¼å¿…é¡»ä½¿ç”¨ python3 æ‰§è¡Œï¼Œæœ¬è„šæœ¬ç›®å‰æœ€ä½Žæ”¯æŒåˆ° python 3.4ä¹‹æ‰€ä»¥æ˜¯ 3.4 æ˜¯å› ä¸º Travis CI çš„ python3 çš„æœ€æ–°ç‰ˆæœ¬å°±åªåˆ° 3.4ï¼›ä¸èƒ½é‡‡ç”¨ 3.5 ä¹‹åŽæ‰èƒ½ä½¿ç”¨çš„ subprocess.run() 2.3 Clone Depth å¯¼è‡´çš„é—®é¢˜åœ¨ç»è¿‡ä¸Šé¢çš„ä¸€ç•ªæŠ˜è…¾ä¹‹åŽï¼Œä½ ä¼šå‘çŽ°ä¸€ä¸ªå¥‡æ€ªçš„çŽ°è±¡ï¼šåœ¨æœ¬åœ°æµ‹è¯•è„šæœ¬å®Œå…¨æˆåŠŸï¼Œä½†æ˜¯æŠŠè„šæœ¬æ”¾åˆ° Travis CI åŽ»è¿è¡Œå´ä¸è¡Œï¼Œ æœ€å¤šåªèƒ½æ¢å¤å‡ å¤©å‰çš„ä¿®æ”¹æ—¶é—´ã€‚åœ¨æŸ¥çœ‹äº†ä¸€ä¸‹ Travis CI çš„ log ä¹‹åŽï¼Œæˆ‘å‘çŽ°ï¼šTravis CI é»˜è®¤ä¼šé‡‡ç”¨ --depth=50 è¿™ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¹‹åŽå…‹éš† å‰ 50 ä¸ª commitï¼›è€Œæˆ‘ä»¬çš„è„šæœ¬éœ€è¦å®Œæ•´çš„ git åŽ†å²è®°å½•æ‰èƒ½æ­£ç¡®çš„æ¢å¤æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å–æ¶ˆ Travis CI çš„é»˜è®¤ depth å‚æ•°ï¼Œè®©å®ƒå…‹éš†æˆ‘ä»¬å®Œæ•´çš„ git ä»“åº“:12git: depth: false 3. æœ€ç»ˆçš„ Travis CI è„šæœ¬è¿™é‡Œç»™å‡ºæˆ‘æœ€ç»ˆæµ‹è¯•æˆåŠŸçš„ Travis CI è„šæœ¬ç»™å¤§å®¶å‚è€ƒï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475dist: trustysudo: requiredaddons: ssh_known_hosts: - github.com - git.coding.net apt: packages: - nasmenv: global: - ATOM_WRITER_PATCH_URL=https://raw.githubusercontent.com/wafer-li/hexo-generator-atom-markdown-writer-meta/9f8ab23d42a60a9fa7ef8eed161f216a7716d14d/lib/generator.js - ATOM_WRITER_DIR=node_modules/hexo-generator-atom-markdown-writer-meta/ - TZ=Asia/Tokyolanguage: node_jsnode_js: nodebranches: only: - sourcegit: depth: false submodules: falsecache: apt: true directories: - node_modulesbefore_install: # Git Config - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules - git config --global user.name "wafer-li" - git config --global user.email "omyshokami@gmail.com" # Restore last modified time - "git ls-files -z | while read -d '' path; do touch -d \"$(git log -1 --format=\"@%ct\" \"$path\")\" \"$path\"; done" # Submodules - git submodule update --recursive --remote --init # Deploy history - git clone --branch=master --single-branch https://github.com/wafer-li/wafer-li.github.io.git .deploy_git # SSH Setup - openssl aes-256-cbc -K $encrypted_XXXXXXXXX_key -iv $encrypted_XXXXXXXXX_iv -in blog_deploy_key.enc -out blog_deploy_key -d - eval "$(ssh-agent -s)" - chmod 600 ./blog_deploy_key - ssh-add ./blog_deploy_keyinstall: npm installbefore_script: # Patch atom writer generator - curl $ATOM_WRITER_PATCH_URL &gt;| $&#123;ATOM_WRITER_DIR&#125;/lib/generator.js ## Theme Dependencies - cd themes/next-reloaded # canvas-nest - git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest # fancybox3 - git clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancybox # reading_progress - git clone https://github.com/theme-next/theme-next-reading-progress source/lib/reading_progress - cd ../..script: - hexo clean - hexo g -d --config source/_data/next.yml 4. å‚è€ƒèµ„æ–™ä»Ž Git æäº¤åŽ†å²ä¸­ã€Œæ¢å¤ã€æ–‡ä»¶ä¿®æ”¹æ—¶é—´How to retrieve the last modification date of all files in a git repositorygit-tools/git-restore-mtime at master Â· MestreLion/git-tools]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Trivas CI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo é›†æˆ Travis CI è‡ªåŠ¨éƒ¨ç½²åšæ–‡]]></title>
    <url>%2F%2FHexo%2FHexo%20%E9%9B%86%E6%88%90%20Travis%20CI%20%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%8D%9A%E6%96%87%2F</url>
    <content type="text"><![CDATA[è¿™ä¸ªæƒ³æ³•æ˜¯æˆ‘åœ¨æŠ˜è…¾ Hexo Next 6.0 çš„æ—¶å€™å‘çŽ°çš„ï¼Œæœ‰ä½ä»å…„åœ¨ Next çš„æ–° repo é—®å¦‚ä½•å¤„ç† CI é—®é¢˜ï¼Œå—åˆ°ä»–çš„å¯å‘ï¼Œæˆ‘å°±å¼€å§‹æŠ˜è…¾ä½¿ç”¨ Travis CI è¿›è¡Œåšå®¢çš„è‡ªåŠ¨éƒ¨ç½²äº†ã€‚ 1. ä¸ºä»€ä¹ˆè¦ç”¨ CI æ¥éƒ¨ç½²åšå®¢é‡åˆ°ä¸€é¡¹æ–°æŠ€æœ¯ï¼Œä¸€ä¸ªå¥½ä¹ æƒ¯å°±æ˜¯é—®ä¸€ä¸‹è‡ªå·± ä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªæ–°æŠ€æœ¯ï¼Œå®ƒå¸¦æ¥äº†ä»€ä¹ˆå¥½å¤„ï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦åˆ™å°±ä¼šé™·å…¥ä¸ºäº†ä½¿ç”¨æ–°æŠ€æœ¯è€Œä½¿ç”¨æ–°æŠ€æœ¯çš„é™·é˜±ä¹‹ä¸­ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¦ç”¨ CI æ¥éƒ¨ç½²å‘¢ï¼Ÿå¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼šåœ¨æœªé‡‡ç”¨ CI çš„æ—¶å€™ï¼Œç¼–å†™å®Œåšå®¢æ€»éœ€è¦è‡ªå·±æ‰‹åŠ¨ hexo g -dï¼Œè¿™ç§å·¥ä½œæ˜¯é‡å¤æ€§çš„ã€æž¯ç‡¥çš„ï¼Œé‚£ä¹ˆå°±åº”å½“å°½é‡å¯»æ‰¾è®©é‡å¤æ€§çš„å·¥ä½œè¿›è¡Œè‡ªåŠ¨åŒ–çš„æ–¹æ³•ï¼›åœ¨ä½¿ç”¨ CI ä¹‹åŽï¼Œæˆ‘åªéœ€è¦æ‰§è¡Œ git pushï¼Œå°†åšå®¢çš„ markdown source æŽ¨åˆ°è¿œç«¯ä»“åº“ï¼Œå‰©ä¸‹çš„é™æ€é¡µé¢æž„å»ºè¿‡ç¨‹å°±ç”± CI æŽ¥æ‰‹è¿›è¡Œï¼Œè€Œä¸éœ€è¦æˆ‘æ‰‹åŠ¨æ‰“å­—ï¼Œè€Œä¸”è¿˜å ç”¨æˆ‘çš„ CPUã€‚è¿™è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯ä¸ç¦ä¼šæœ‰äººæ‹…å¿ƒï¼šå¦‚æžœæ¯ push ä¸€æ¬¡å°±ä¼šè‡ªå·±æž„å»ºï¼Œåšå®¢ä¼šä¸ä¼šå› ä¸º push ä¸ŠåŽ»äº†ä¸€äº›ä¸å¥½çš„ä¸œè¥¿è€Œæžç‚¸äº†ï¼Ÿå…¶å®žè¿™ç§æ‹…å¿ƒæ˜¯å¤šä½™çš„ï¼Œåªéœ€è¦åœ¨è¿›è¡Œäº†å¤§é¢ç§¯æ›´æ”¹çš„æ—¶å€™å…ˆåœ¨æœ¬åœ°æŸ¥çœ‹ä¸€ä¸‹ï¼Œå¦‚æžœæ²¡æœ‰é—®é¢˜å°±å† push å°±è¡Œäº†ï¼Œè¿™æ—¶å€™è™½ç„¶éœ€è¦æœ¬åœ°ç”Ÿæˆï¼Œä½†æ˜¯ä½ ä¸å¯èƒ½æ•´å¤©é‡æž„ä½ çš„åšå®¢ï¼Œæ‰€ä»¥ CI çš„æ•ˆçŽ‡æå‡è¿˜æ˜¯å­˜åœ¨çš„ã€‚ 2. Travis CI çš„é…ç½®æµç¨‹æœ¬åšå®¢é‡‡ç”¨ Travis CI ä½œä¸ºæŒç»­é›†æˆå·¥å…·ï¼Œä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹åŸºæœ¬çš„é…ç½®æµç¨‹ã€‚ç”±äºŽ Travis CI æ¯”è¾ƒæµè¡Œï¼Œæ³¨å†Œå’Œå…³è” repo è¿™ç§æ“ä½œå°±ä¸ä»‹ç»äº†ã€‚ 2.1 èŽ·å–ç›¸å…³æƒé™åœ¨é…ç½®å’Œä½¿ç”¨ Travis CI ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯ä¸º Travis CI èŽ·å–å…¶æ‰€éœ€è¦çš„æƒé™ã€‚å½“ç„¶ï¼ŒèŽ·å–æ‰€éœ€è¦çš„æƒé™æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œè¿™é‡ŒæŽ¨èä¸¤ç§ï¼Œåˆ†åˆ«ä¸º Access Tokenå’Œ Deploy Keyè¿™ä¸¤ç§å„æœ‰å¥½å¤„ï¼ŒDeploy Key çš„å¥½å¤„åœ¨äºŽå®‰å…¨æ€§æ¯”è¾ƒé«˜ï¼ŒAccess Token çš„å¥½å¤„æ˜¯è¾ƒä¸ºçµæ´»ã€‚ä¸‹é¢æ¯ç§éƒ½å†™äº†æŽ¨èä½¿ç”¨çš„ repoï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„ repo çš„å®žé™…æƒ…å†µæ¥é€‰æ‹©ã€‚ 2.1.1 ä½¿ç”¨ Depoly Key è¿›è¡Œéƒ¨ç½²æœ¬æ–¹æ³•é€‚ç”¨äºŽå¤§å¤šæ•°çš„å…¬æœ‰åšå®¢ä»“åº“åŒæ—¶ï¼Œä»“åº“å†…ä¸å…·å¤‡ç§æœ‰çš„å­æ¨¡å—å»ºè®®é¦–é€‰Deploy Key æ˜¯ä¸€ä¸ª SSH Keyï¼ŒåŒºåˆ«äºŽä¸ªäºº SSH Key çš„æ˜¯ï¼Œå®ƒä»…å¯¹é…ç½®äº†å®ƒçš„ä»“åº“æœ‰æ•ˆï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœåº”ç”¨ä½¿ç”¨äº† Deploy Keyï¼Œé‚£ä¹ˆåº”ç”¨çš„æƒé™å°±ä»…é™äºŽ repo ä¹‹ä¸­ï¼Œå‡†ç¡®çš„æ¥è¯´ï¼Œæ˜¯ä»…é™äºŽ repo çš„ æ–‡ä»¶è¯»å†™æƒé™ã€‚è¿™å°±ç»™ Deploy Key å¸¦æ¥äº†å¾ˆé«˜çš„å®‰å…¨åº¦ï¼Œå³ä½¿ Key æ³„æ¼äº†ï¼Œå¨èƒåˆ°çš„ä¹Ÿåªæ˜¯è®¾ç½®äº†å®ƒçš„ä»“åº“ï¼Œè€Œä¸ä¼šå¨èƒå¸å·æœ¬èº«ã€‚ä½¿ç”¨äº† SSH Key ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬æ˜¯ä½¿ç”¨ SSH å’Œ GitHub è¿›è¡Œè¿žæŽ¥ï¼Œé‚£ä¹ˆå¯¹ SSH çš„é…ç½®æ˜¯å¿…ä¸å¯å°‘çš„ï¼› 2.1.1.1 å¯†é’¥ç”Ÿæˆé¦–å…ˆæˆ‘ä»¬è¦ç”Ÿæˆä¸€å¯¹å…¬é’¥å’Œç§é’¥ï¼Œè¿™ä¸ªåœ¨å¾ˆå¤šåœ°æ–¹éƒ½æœ‰æ“ä½œä»‹ç»äº†ï¼Œè¿™é‡Œå°±ä¸å¤šè®²ã€‚1ssh-keygen -t rsa -b 4096 -C "email" -f key_file -N ''æŽ¥ç€ï¼Œåˆ° repo çš„ Settings é‡Œé¢åˆ›å»ºä¸€ä¸ª Deploy Keyï¼ŒæŠŠå…¬é’¥çš„å†…å®¹ç²˜è´´è¿›åŽ»ã€‚å¦‚æžœæ˜¯ coding.net çš„è¯ï¼Œæ˜¯é…ç½®åœ¨ éƒ¨ç½²å…¬é’¥ ä¹‹ä¸­ã€‚ç„¶åŽæˆ‘ä»¬æŠŠå…¬é’¥åˆ æŽ‰ï¼Œé¿å…ä½ è¯¯æŠŠå®ƒåŠ å…¥äº† git ä¸­ã€‚1rm -f key_file.pub 2.1.1.2 ä½¿ç”¨ Travis å‘½ä»¤è¡Œç¨‹åºè¿›è¡ŒåŠ å¯†å¯†é’¥æ˜¾ç„¶æ˜¯ä¸èƒ½ç»™åˆ«äººçœ‹çš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°±è¦æŠŠå¯†é’¥é€šè¿‡ travis ç¨‹åºåŠ å¯†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦å®‰è£… travis1gem install traviså¦‚æžœä½ çš„ ruby ç‰ˆæœ¬å¤ªæ—§ï¼Œå¯èƒ½è¿˜éœ€è¦å…ˆå‡çº§ä¸€ä¸‹ã€‚æœ€å¥½åœ¨ä½ çš„ repo ç›®å½•ä¸‹æ‰§è¡Œ travis å‘½ä»¤æ–¹ä¾¿ travis è‡ªåŠ¨è¯†åˆ«ä»“åº“ã€‚ç„¶åŽï¼Œæˆ‘ä»¬é€šè¿‡ travis æ¥ç™»å½•ï¼š1travis loginè¿™æ˜¯ä¸ºäº†è®© travis è‡ªåŠ¨å°†åŠ å¯†å¥½çš„ä¸œè¥¿ä¸Šä¼ åˆ° Settings çš„çŽ¯å¢ƒå˜é‡ä¸­ï¼Œè¿™æ ·å°±ä¸ç”¨æˆ‘ä»¬é…ç½® .travis.yml æ–‡ä»¶äº†ã€‚æŽ¥ç€ï¼Œæˆ‘ä»¬å¯¹æ–‡ä»¶è¿›è¡ŒåŠ å¯†ï¼š1travis encrypt key_fileéšåŽï¼Œæˆ‘ä»¬æŠŠç”Ÿæˆçš„ .enc æ–‡ä»¶åŠ å…¥ git ä¸­ï¼Œå¹¶æŠŠç§é’¥åˆ æŽ‰ã€‚12rm -f key_filegit add key_file.enc 2.1.1.3 é…ç½® Known Hosts å’Œ SSHæŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¿›è¡Œ SSH çš„ç›¸å…³é…ç½®ï¼›é¦–å…ˆéœ€è¦é…ç½®çš„æ˜¯ Known Hostsï¼Œå¦åˆ™ CI å°±ä¼šå¡åœ¨é—®ä½ æ˜¯å¦è¦ç»§ç»­é‚£é‡Œã€‚ç„¶åŽï¼Œæˆ‘ä»¬ä½¿ç”¨ openssl æŠŠä¹‹å‰åŠ å¯†çš„æ–‡ä»¶è§£åŽ‹æˆç§é’¥ï¼Œæœ€åŽæŠŠç§é’¥é…ç½®ä¸Šå°±è¡Œäº†ã€‚1234567891011addons: ssh_known_hosts: - github.com - git.coding.netbefore_install: # SSH Setup - openssl aes-256-cbc -K $encrypted_693585a97b8c_key -iv $encrypted_693585a97b8c_iv -in blog_deploy_key.enc -out blog_deploy_key -d - eval "$(ssh-agent -s)" - chmod 600 ./blog_deploy_key - ssh-add ./blog_deploy_key 2.1.2 èŽ·å– Access Tokenæœ¬æ–¹æ³•é€‚ç”¨äºŽå…·æœ‰ç§æœ‰ Submodule çš„ä»“åº“çš„æƒ…å†µGitHub èŽ·å– Access Token çš„æ­¥éª¤å¦‚ä¸‹ï¼š12Settings -&gt; Developer settings -&gt; Personal access token-&gt; Generate new tokenæŽ¥ç€å°±è¿›å…¥åˆ›å»º Access Token çš„é¡µé¢äº†ï¼Œå¯¹äºŽä¸€ä¸ªåšå®¢çš„ CI æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦çš„æƒé™æ¯”è¾ƒå°‘ï¼Œæˆ‘å°è¯•äº†ä¸€ä¸‹åªéœ€è¦ public_repo çš„æƒé™å³å¯ï¼›ä¸ºäº†å°½é‡ä¿è¯æˆ‘ä»¬ GitHub å¸å·çš„å®‰å…¨ï¼Œèƒ½å°‘ç»™æƒé™å°±å°‘ç»™ã€‚ç„¶åŽæˆ‘ä»¬é€‰æ‹©ç”Ÿæˆï¼Œæ­¤æ—¶ä¼šè¿”å›žåˆ° Personal access token çš„é¡µé¢ï¼Œå¹¶æ˜¾ç¤ºæˆ‘ä»¬åˆšæ‰ç”Ÿæˆçš„ access tokenã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ª access token åªä¼šåœ¨è¿™ä¸€ä¸ªé¡µé¢æ˜¾ç¤ºä¸€æ¬¡ï¼Œåˆ‡è®°è¦å¤åˆ¶ä¸‹æ¥ï¼Œå¦åˆ™å°±åªèƒ½ é‡æ–°ç”Ÿæˆã€‚ç„¶åŽæˆ‘ä»¬åˆ°åšå®¢ repo çš„ Travis CI è®¾ç½®é¡µé¢ä¸­æ–°å»ºä¸€ä¸ªçŽ¯å¢ƒå˜é‡ï¼Œå°†è¿™ä¸ª Access Token ç²˜è´´åˆ°çŽ¯å¢ƒå˜é‡çš„ value ä¸­ã€‚è¿™é‡Œè¦æ³¨æ„ä¸€å®šè¦å…³æŽ‰ Display in log çš„é€‰é¡¹ï¼Œå¦åˆ™ä½ çš„ Access Token å°±æ³„æ¼äº†ã€‚ 2.2 åªæž„å»ºå«æœ‰ .travis.yml æ–‡ä»¶çš„åˆ†æ”¯å¯¹äºŽæœ¬åšå®¢è€Œè¨€ï¼Œæˆ‘é‡‡ç”¨å• repo åŒåˆ†æ”¯ç®¡ç†ï¼Œå³ä¸€ä¸ª source åˆ†æ”¯ä¿å­˜åŽŸå§‹çš„ markdown æ–‡ä»¶ï¼Œå¦ä¸€ä¸ª master åˆ†æ”¯ä¿å­˜ç”¨äºŽéƒ¨ç½²çš„ HTMLã€‚å¯¹äºŽè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°± å¿…é¡»è¦ åœ¨ Travis CI çš„ repo è®¾ç½®é¡µé¢ ä¸­å‹¾é€‰ åªæž„å»ºå«æœ‰ .travis.yml æ–‡ä»¶çš„åˆ†æ”¯ï¼›ç”±äºŽ Travis CI ä¼šä¾¦å¬ commit äº‹ä»¶è¿›è¡Œè‡ªåŠ¨æž„å»ºï¼Œè€Œå¯¹äºŽ master ä¸Šçš„ commitï¼Œæ˜¯ä¸å«æœ‰ .travis.yml æ–‡ä»¶ä¹Ÿä¸éœ€è¦æž„å»ºçš„ã€‚ä¸ºäº†é˜²æ­¢ Travis CI æž„å»º master åˆ†æ”¯ï¼Œæˆ‘ä»¬å°±å¿…é¡»è¦å‹¾é€‰è¿™ä¸ªé€‰é¡¹ã€‚æœ‰äº›æ•™ç¨‹æåˆ°ä½¿ç”¨123branches: only: - sourceä¹Ÿå¯ä»¥èµ·åˆ°åªæž„å»º source çš„åŠŸèƒ½ï¼›ä¸è¿‡åœ¨æˆ‘è¿™é‡Œè¿™ç§æ–¹æ³•è¡Œä¸é€šï¼Œæœ€åŽè¿˜æ˜¯ä½¿ç”¨äº†åªæž„å»ºå«æœ‰ .travis,yml æ–‡ä»¶çš„æ–¹æ³•ã€‚ 2.3 .travis.yml æ–‡ä»¶çš„åŸºæœ¬é…ç½®æœ¬åšå®¢ä½¿ç”¨çš„ Hexo æ¡†æž¶æ˜¯é‡‡ç”¨ Node.js æŠ€æœ¯ç¼–å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æŽ¥å¥—ç”¨ Node.js çš„ Travis CI æµç¨‹ã€‚ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬çš„ Node.js .travis.yml çš„é…ç½®12345678910111213141516171819202122232425262728# çŽ¯å¢ƒå˜é‡ï¼Œæ³¨æ„ä¸€ä¸ª item å°±ä¼šæž„å»ºä¸€æ¬¡# æ‰€ä»¥ä¸€æ¬¡æž„å»ºä¸­éœ€è¦å¤šä¸ªçŽ¯å¢ƒå˜é‡çš„ï¼Œä¹Ÿè¦å†™åˆ°ä¸€è¡Œé‡Œenv: - ENV_1=xxxxxx ENV_2=yyyyyylanguage: node_js # æž„å»ºçš„ç¼–ç¨‹è¯­è¨€node_js: node # Node.js çš„ç‰ˆæœ¬ï¼Œnode è¡¨ç¤ºæœ€æ–°ç‰ˆ# ç¼“å­˜çš„ç›®å½•# Node.js é¡¹ç›®ä¸€èˆ¬ç¼“å­˜ node_modules# ç”¨äºŽåŠ å¿«æž„å»ºé€Ÿåº¦cache: directories: - "node_modules"# åœ¨ install é˜¶æ®µä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤before_install:# Install é˜¶æ®µï¼Œåœ¨è¿™é‡Œæ˜¯ npm installinstall: npm install# åœ¨ script ä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤before_script:# Script é˜¶æ®µï¼Œæ‰§è¡Œ hexo ç›¸å…³å‘½ä»¤script: - hexo clean - hexo g -d --config source/_data/next.ymlåœ¨æ‹¥æœ‰ .travis.yml æ–‡ä»¶åŽï¼Œæ¯æ¬¡ commit ä¹‹åŽ Travis CI å°±ä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶ç”¨æ¥è¿›è¡Œè‡ªåŠ¨åŒ–æž„å»ºå·¥ä½œ 3. ç›¸å…³çš„å‘å½“ç„¶ï¼ŒTravis CI çš„é…ç½®ä¸å¯èƒ½è¿™ä¹ˆä¸€å¸†é£Žé¡ºï¼Œè¿˜å­˜åœ¨ç€éžå¸¸å¤šçš„å‘ã€‚ä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹æˆ‘æ‰€é‡åˆ°çš„å‘ï¼Œå¸Œæœ›ç»™å¤§å®¶ä»¥å‰è½¦ä¹‹é‰´ã€‚ 3.1 Git Submodule çš„å‘å¦‚æžœä½ çš„ GitHub ä½¿ç”¨äº†ä¸¤æ­¥éªŒè¯ï¼Œé‚£ä¹ˆä½ å¹³æ—¶è‚¯å®šæ˜¯ä½¿ç”¨ ssh çš„åœ°å€è¿›è¡Œ git çš„ç›¸å…³æ“ä½œï¼›ä½†æ˜¯å¯¹äºŽ Travis CI çš„è™šæ‹Ÿæœºæ¥è¯´ï¼Œå®ƒä¸å…·å¤‡ä½ çš„ SSH keyï¼Œå½“ç„¶ä¹Ÿå°±ä¸èƒ½ä½¿ç”¨ ssh åœ°å€è¿›è¡Œ clone å’Œ pushã€‚ç‰¹åˆ«æ˜¯å¯¹äºŽ git submoduleï¼Œç”±äºŽ Travis CI è‡ªå·±å¯ä»¥å¤„ç† https åœ°å€çš„ submoduleï¼Œä½†æ˜¯å¦‚æžœé‡‡ç”¨ ssh æ–¹å¼ï¼Œå®ƒæ ¹æœ¬å°±æ— æ³• clone ä¸‹æ¥ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨ç®¡ç† git submoduleï¼Œåœ¨ .travis.yml ä¸­å¢žåŠ å¦‚ä¸‹é€‰é¡¹ï¼š12345git: submodules: falsebefore_install: - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodulesä¸Šé¢çš„ sed å‘½ä»¤å°±æ˜¯å°† ssh åœ°å€æ›¿æ¢æˆ https åœ°å€çš„ã€‚ä¸è¿‡ï¼Œå¯¹äºŽåŽé¢çš„éƒ¨ç½²é˜¶æ®µï¼Œç”±äºŽè¦ push åˆ°è‡ªå·±çš„ä»“åº“ï¼Œæ‰€ä»¥ deploy çš„åœ°å€éœ€è¦ä¿®æ”¹ä¸º https://&lt;username&gt;:&lt;ACCESS_TOKEN&gt;@github.com/&lt;username&gt;/repo.gitæ‰€ä»¥ï¼Œå¦‚æžœä½¿ç”¨ hexo-deploy æ’ä»¶çš„è¯ï¼Œè¿˜éœ€è¦ä»¥ä¸‹çš„å‘½ä»¤ï¼š12before_script: - sed i "s/git@github.com:/https:\/\/yourusername:$&#123;ACCESS_TOKEN&#125;@github.com\//" you_config_file.ymlæŠŠä¸Šé¢çš„ yourusername å’Œ your_config_file.yml ä½œå‡ºç›¸åº”ä¿®æ”¹å³å¯ã€‚ 3.2 å®‰è£…æŸäº›é¢å¤–ç¨‹åºåŒ…å¦‚æžœä½ ä½¿ç”¨ hexo-all-minifier æ¥è¿›è¡Œ HTML çš„ç›¸å…³æ–‡ä»¶åŽ‹ç¼©ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦é¢å¤–å®‰è£…ä¸€ä¸ªç³»ç»Ÿç¨‹åºåŒ… nasmã€‚Travis CI å¯¹æ­¤æŽ¨å‡ºäº† addons é€‰é¡¹æ¥æ–¹ä¾¿ä½ é…ç½®ï¼š1234addons: apt: packages: - nasmè¿™ä¸ªé—®é¢˜æ¯”è¾ƒéš¾æš´éœ²ï¼Œæˆ‘æŸ¥çœ‹äº†å¾ˆä¹…çš„ logï¼Œæœ€åŽåœ¨ npm install çš„ log é‡Œé¢å‘çŽ°äº†æŸä¸ªä¾èµ–æ²¡åŠžæ³•å®‰è£…ï¼›æœ€åŽæ‰å‘çŽ°æ˜¯ç¼ºäº†ä¸€ä¸ªç³»ç»Ÿçš„ç¨‹åºåŒ…ã€‚ 3.3 Patch æŸäº› Hexo æ’ä»¶æœ‰æ—¶å€™ä½ ä½¿ç”¨çš„ Hexo æ’ä»¶æœ‰äº›é—®é¢˜ï¼Œè™½ç„¶æœ‰äººæå‡ºäº† PRï¼Œä½†æ˜¯ä¹…ä¹…æ²¡æœ‰åˆå¹¶ï¼›åœ¨æœ¬åœ°ç”Ÿæˆçš„æ—¶ä»£ï¼Œä½ éœ€è¦è‡ªå·±æ‰‹åŠ¨ patch è¿™ä¸ªæ’ä»¶ï¼Œç„¶è€Œæˆ‘ä»¬çŽ°åœ¨ä½¿ç”¨ CIï¼Œå½“ç„¶ä¸å¯èƒ½ç”±ä½ è¿›åŽ»å¤åˆ¶ç²˜è´´ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ curl æŠŠ patch æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ï¼Œå¹¶è¦†å†™ç›¸å…³æ–‡ä»¶ã€‚é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¯ä»¥è¿›è¡Œè¦†å†™æ“ä½œï¼š1curl &#123;raw-path-file-url&#125; &gt;| &#123;problem_file&#125;å…¶ä¸­ &gt;| ç¬¦å·å¯ä»¥ä½¿åŽé¢çš„æ–‡ä»¶æ¸…ç©ºï¼Œç±»ä¼¼äºŽæ–‡ä»¶æ“ä½œçš„ w é€‰é¡¹ã€‚ 3.4 å®‰è£… Hexo Next ä¸»é¢˜çš„æ’ä»¶Hexo Next åœ¨ 6.0 ä¹‹åŽï¼ŒæŠŠä¸€äº›åŽŸæœ¬åœ¨ source/lib ä¸­çš„ js æ–‡ä»¶ç§»åˆ°äº†æ–°çš„ repo ä¸­ï¼Œä»¥å‡å°‘ next æœ¬èº« repo çš„å¤æ‚åº¦ã€‚ä½†æ˜¯ç”±äºŽ Next æŠŠ source/lib è¿™ä¸ªè·¯å¾„ ignore äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ‰‹åŠ¨å°†æ’ä»¶ clone åˆ° source/lib é‡Œé¢ã€‚åœ¨ä½¿ç”¨ CI æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ hexo g -d ä¹‹å‰å°†æ’ä»¶è£…å¥½ï¼š12345678910before_script: ## Theme Dependencies - cd themes/next-reloaded # canvas-nest - git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest # fancybox3 - git clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancybox # reading_progress - git clone https://github.com/theme-next/theme-next-reading-progress source/lib/reading_progress - cd ../..è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹å½“å‰å·¥ä½œè·¯å¾„çš„é—®é¢˜ï¼Œè®°å¾—åˆ‡æ¢å›žåŽŸç›®å½•ã€‚ 3.5 æ—¶åŒºé—®é¢˜Travis CI å¥½åƒé»˜è®¤ä½¿ç”¨çš„æ˜¯ç¾Žå›½çš„æ—¶åŒºï¼Œè¿™æ ·å°±ä¼šè®©ä½ çš„ master commit åŽ†å²å˜å¾—å¾ˆä¹±ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰å¿…è¦è®© Travis CI å’Œä½ çš„æœ¬æœºæ—¶åŒºè¿›è¡Œç»Ÿä¸€è¿™ä¸ªé…ç½®æ¯”è¾ƒç®€å•ï¼Œé€šè¿‡è®¾ç½® TZ çŽ¯å¢ƒå˜é‡å³å¯ã€‚123env: global: - TZ=Asia/Tokyoåˆ«åæ§½æˆ‘ä¸ºä»€ä¹ˆç”¨æ—¥æœ¬æ—¶åŒºï¼ŒçŽ©æ¸¸æˆéœ€è¦ã€‚è¿™é‡Œéœ€è¦å¤šè¯´ä¸€ç‚¹çš„æ˜¯ï¼Œå¦‚æžœåªæœ‰ envï¼Œå¦‚ï¼š123env: - ENV1=xxxx - ENV2=yyyyæ­¤æ—¶ï¼ŒTravis CI å°±ä¼šè¿›è¡Œ ä¸¤æ¬¡ æž„å»ºï¼Œåˆ†åˆ«é‡‡ç”¨ ENV1 å’Œ ENV2è€Œå¯¹äºŽ global çš„çŽ¯å¢ƒå˜é‡ï¼Œå°±ä¼šé‡‡å–æ‰€æœ‰çš„çŽ¯å¢ƒå˜é‡ï¼Œåªæž„å»ºä¸€æ¬¡ã€‚ 4. æ€»ç»“ç»è¿‡ä¸€æ®µæ—¶é—´çš„å¥‹æˆ˜ï¼ŒTravis CI çš„é›†æˆç»ˆäºŽåšå¥½äº†ï¼›è™½ç„¶èŠ±è´¹äº†ç‚¹æ—¶é—´ï¼Œä¸è¿‡åœ¨æŠ˜è…¾çš„è¿‡ç¨‹ä¸­è¿˜æŽ¥è§¦äº†ä¸€ä¸‹ Travis CI çš„é…ç½®æµç¨‹ï¼Œæƒ³å¿…è¿˜æ˜¯æœ‰äº›æ”¶èŽ·çš„ï¼›è¦ä¸äººä»¬æ€»è¯´æŠ˜è…¾åšå®¢æ¯”å†™åšå®¢æœ‰è¶£å‘¢ï¼Ÿ]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Trivas CI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Solidity åŸºç¡€çŸ¥è¯†å’Œæ¦‚è¿°]]></title>
    <url>%2F%2FSolidity%2F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%92%8C%E6%A6%82%E8%BF%B0%2F</url>
    <content type="text"><![CDATA[Solidity æ˜¯è¿è¡ŒäºŽä»¥å¤ªåŠ(Ethereum) åŒºå—é“¾ä¸Šçš„æ™ºèƒ½åˆçº¦è¯­è¨€ï¼Œå®ƒæ˜¯å›¾çµå®Œå¤‡çš„ï¼Œæ„å‘³ç€å¯ä»¥ç”¨å®ƒå†™ä¸€äº›ä»»æ„å¤æ‚åº¦çš„ç¨‹åºå¹¶è¿è¡ŒäºŽåŒºå—é“¾ä¸­ã€‚ 1. åŒºå—é“¾åŸºç¡€çŸ¥è¯†åŒºå—é“¾åŠ å¯†è´§å¸çš„æŠ€æœ¯åŸºç¡€ï¼Œæœ¬æ–‡å±žäºŽ Solidityï¼Œå¯¹æ­¤ä¸è¿‡å¤šä»‹ç»ï¼Œå¯èƒ½åœ¨ä»¥åŽä¼šåœ¨å…¶ä»–æ–‡ç« è¿›è¡Œä»‹ç»ã€‚ 1.1 äº¤æ˜“åŒºå—é“¾å½¢è±¡çš„æ¥è¯´å°±æ˜¯ä¸€ä¸ªå…¨çƒå…±äº«çš„äº¤æ˜“æ•°æ®åº“ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªäººéƒ½å¯ä»¥è®¿é—®è¿™ä¸ªæ•°æ®åº“å¹¶å‘èµ·æ›´æ”¹ï¼Œè¿™ä¸ªæ›´æ”¹å°±æ˜¯ äº¤æ˜“ã€‚åŒºå—é“¾å¯¹äº¤æ˜“æœ‰å•ä¸€æ€§ä¿è¯ï¼Œä¹Ÿå°±æ˜¯å½“ä½ çš„äº¤æ˜“æ­£åœ¨æäº¤åˆ°æ•°æ®åº“çš„æ—¶å€™ï¼Œå…¶ä»–çš„äº¤æ˜“ä¸èƒ½å½±å“ä½ çš„äº¤æ˜“ã€‚åŒæ—¶ï¼ŒåŒºå—é“¾å¯¹äº¤æ˜“æœ‰å®Œæˆä¿è¯ï¼Œæ„æ€å°±æ˜¯ä¸€ä¸ªäº¤æ˜“ï¼Œè¦ä¸å°± å…¨éƒ¨å®Œæˆï¼Œè¦ä¸å°± éƒ½ä¸å®Œæˆã€‚ä¸ä¼šå‡ºçŽ°ä¸€æ–¹ä½™é¢å˜åŠ¨ï¼Œè€Œå¦ä¸€æ–¹å´ä¸å˜çš„æƒ…å†µã€‚å…¶æ¬¡ï¼Œä¸€ä¸ªäº¤æ˜“æ€»æ˜¯ç”±å‘èµ·æ–¹è¿›è¡Œå¯†ç å­¦æ–¹é¢çš„ç­¾å(signed)ï¼Œè¿™ä¹Ÿå°±ä¿è¯äº¤æ˜“çš„æ¥æºæ–¹çš„å¯ä¿¡èµ–æ€§ã€‚åªæœ‰æ‹¥æœ‰å¯¹åº”çš„å¯†é’¥é”®å€¼å¯¹ï¼Œæ‰èƒ½ä»Žè´¦æˆ·ä¸­è½¬é’±ã€‚ 1.2 åŒºå—äº¤æ˜“æ•°æ®åº“éƒ½æœ‰ä¸€ä¸ªéœ€è¦å¤„ç†çš„åŸºæœ¬é—®é¢˜ï¼šå¦‚æžœä¸¤ä¸ªäº¤æ˜“éƒ½æƒ³æ¸…ç©ºä¸€ä¸ªè´¦æˆ·çš„ä½™é¢æ€Žä¹ˆåŠžï¼Ÿè¿™åœ¨æ¯”ç‰¹å¸çš„æœ¯è¯­ä¸­å«åš â€œdoble-spend attackâ€ï¼Œä¹Ÿå°±æ˜¯äº¤æ˜“ä¹‹é—´å‡ºçŽ°äº†å†²çªã€‚åŒºå—é“¾å¯¹æ­¤ä½œå‡ºçš„å›žç­”æ˜¯ï¼Œ ä½ ä¸éœ€è¦æ‹…å¿ƒè¿™ç§é—®é¢˜ã€‚åŒºå—é“¾ä¼šå¯¹äº¤æ˜“çš„é¡ºåºä½œå‡ºé€‰æ‹©ï¼Œæ­¤æ—¶ï¼Œè¿™äº›äº¤æ˜“ä¼šè¢«æ†ç»‘è¿›ä¸€ä¸ª åŒºå— ä¸­ï¼Œå½“ä¸¤ä¸ªäº¤æ˜“å‡ºçŽ°å†²çªçš„æ—¶å€™ï¼ŒæŽ’åœ¨åŽé¢çš„äº¤æ˜“å°±ä¼šè¢«æŠ›å¼ƒè€Œä¸ä¼šè¿›å…¥åŒºå—ä¸­ã€‚è¿™äº›åŒºå—åœ¨æ—¶é—´ä¸Šå‘ˆçŽ°å‡ºä¸€ç§çº¿æ€§çš„å½¢çŠ¶ï¼Œå› è€Œæˆ‘ä»¬å°†è¿™äº›åŒºå—æ‰€æž„æˆçš„ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„äº¤æ˜“æ•°æ®åº“ç§°ä¸º åŒºå—é“¾è€ŒåŒºå—é“¾ä¸­æ‰€åº”ç”¨çš„äº¤æ˜“é€‰æ‹©æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯äº¤æ˜“çš„å…¬è¯æœºåˆ¶ï¼Œæˆ‘ä»¬ç§°å…¶ä¸º æŒ–çŸ¿ä¹‹æ‰€ä»¥ç§°å…¶ä¸ºæŒ–çŸ¿ï¼ŒåŽŸå› åœ¨äºŽæ–°çš„åŒ…å« ä½ æ‰€æ‰¿è®¤çš„äº¤æ˜“ çš„åŒºå—æ˜¯é€šè¿‡ä¸€ç³»åˆ—çš„è®¡ç®—å¾—åˆ°çš„ï¼Œè¿™ä¸ªæ–°åŒºå—çš„ç”Ÿæˆå¾ˆç±»ä¼¼ä»Žä¸€å †æ•°æ®ä¸­æŠŠé‡‘å­æŒ–å‡ºæ¥çš„è¿‡ç¨‹ã€‚åŒºå—è®¡ç®—æˆåŠŸåŽï¼ŒåŒºå—é“¾ç³»ç»Ÿä¼šç»™äºˆæŒ–çŸ¿è€…å¥–åŠ±ï¼Œåœ¨æ¯”ç‰¹å¸ç³»ç»Ÿä¸­æ˜¯èµ ä¸Žæ¯”ç‰¹å¸ï¼Œä»¥å¤ªå¸ç³»ç»Ÿåˆ™æ˜¯å¥–åŠ±ä»¥å¤ªå¸ã€‚å½“ç„¶ï¼Œä¸€ä¸ªåŒºå—ä¹Ÿæœ‰å¯èƒ½ä¼šè¢«é€€å›ž(reverted)ï¼Œä¸è¿‡æ˜¯ä»…å½“è¿™ä¸ªåŒºå—ä½äºŽåŒºå—é“¾çš„å¤´éƒ¨çš„æ—¶å€™ï¼›å½“è¶Šæ¥è¶Šå¤šçš„åŒºå—è¢«åŠ åˆ°åŒºå—é“¾çš„å¤´éƒ¨ä¹‹åŽï¼Œä½ æ‰€è®¡ç®—å‡ºçš„åŒºå—è¢«é€€å›žçš„å¯èƒ½æ€§å°±ä¼šè¶Šæ¥è¶Šä½Žã€‚ 2. ä»¥å¤ªåŠè™šæ‹Ÿæœº(EVM)ä»¥å¤ªåŠè™šæ‹Ÿæœº(Ethereum Virtual Machine) æ˜¯ä»¥å¤ªåŠåˆçº¦(contract)çš„è¿è¡ŒçŽ¯å¢ƒï¼Œä¹Ÿå³ Solidity çš„è¿è¡ŒçŽ¯å¢ƒã€‚å’Œæ™®é€šçš„è™šæ‹Ÿæœºä¸åŒçš„æ˜¯ï¼ŒEVM ä¸æ˜¯ä¸€ä¸ªæ²™ç›’ç³»ç»Ÿï¼Œè€Œæ˜¯ å®Œå…¨ç‹¬ç«‹çš„è¿è¡Œåœ¨ EVM ä¸­çš„åˆçº¦ä¸èƒ½è®¿é—®äº’è”ç½‘ã€æ–‡ä»¶ç³»ç»Ÿæˆ–è€…å…¶ä»–çš„è¿›ç¨‹ï¼Œåªèƒ½å’Œè¿è¡ŒäºŽ EVM çš„å…¶ä»–åˆçº¦è¿›è¡Œäº¤äº’ã€‚EVM ä¸­æœ‰å¦‚ä¸‹æ¦‚å¿µï¼š 2.1 è´¦æˆ·(Accounts)EVM ä¸­æœ‰ç€ä¸¤ç§è´¦æˆ·ï¼šä¸€ç§ç§°ä¸ºå¤–æ¥è´¦æˆ·(External owned Accounts)ï¼Œæ˜¯ä½¿ç”¨å…¬ç§æœ‰çš„é”®å€¼å¯¹æŽ§åˆ¶è®¿é—®çš„ï¼Œä¹Ÿå°±æ˜¯çœŸå®žäººç±»æŽ§åˆ¶çš„å¸å·ã€‚å¦ä¸€ç§ç§°ä¸ºåˆçº¦è´¦æˆ·(Contract Accounts)ï¼Œæ˜¯å«æœ‰ä»£ç çš„åˆçº¦æŽ§åˆ¶çš„å¸å·ï¼Œä»£ç è¢«å­˜å‚¨åœ¨åˆçº¦ä¸­ã€‚è´¦æˆ·é€šè¿‡åœ°å€æ¥è¿›è¡Œæ ‡è¯†ï¼›å¤–éƒ¨è´¦æˆ·çš„åœ°å€é€šè¿‡å…¶ public key æ¥ç¡®å®šï¼›åˆçº¦è´¦æˆ·çš„åœ°å€æ˜¯åœ¨å…¶è¢«åˆ›å»ºçš„æ—¶å€™ç¡®å®šçš„ï¼Œé€šè¿‡å®ƒçš„åˆ›å»ºè€…(å³äº¤æ˜“çš„å‘é€è€…)çš„åœ°å€å’Œä»Žåˆ›å»ºè€…åœ°å€å‘é€çš„äº¤æ˜“æ•°é‡æ¥ç¡®å®šã€‚EVM å¯¹äºŽè¿™ä¸¤ç§è´¦æˆ·éƒ½æ˜¯å¹³ç­‰å¯¹å¾…çš„ï¼Œä¸ç®¡å®ƒå­˜ä¸å­˜å‚¨ç€ä»£ç ã€‚æ¯ä¸ªè´¦æˆ·éƒ½æœ‰ç€ä¸€ä¸ªæŒä¹…åŒ–çš„ key-value mapping(ç±»ä¼¼ HashMap)ã€‚key å’Œ value åˆ†åˆ«æ˜¯ 256bit words å’Œ 256bit wordsã€‚è¿™ä¸ª mapping è¢«ç§°ä¸º storageåŒæ—¶ï¼Œæ¯ä¸ªè´¦æˆ·éƒ½å…·æœ‰ ä»¥å¤ªå¸ çš„ä½™é¢(balance)ï¼Œå¯ä»¥é€šè¿‡å‘é€ä»¥å¤ªå¸çš„äº¤æ˜“æ¥ä¿®æ”¹ã€‚ä¸¤ç§è´¦æˆ·çš„å¯¹æ¯”å¤–éƒ¨è´¦æˆ·(External Accounts)å…·æœ‰ä»¥å¤ªå¸ä½™é¢å¯ä»¥å‘é€äº¤æ˜“(å¯ä»¥å‘é€æˆ–è€…è§¦å‘åˆçº¦ä»£ç )ä½¿ç”¨é”®å€¼å¯¹æ¥æŽ§åˆ¶ä¸å‚¨å­˜æœ‰ä»£ç åˆçº¦è´¦æˆ·(Contract Accounts)å…·æœ‰ä»¥å¤ªå¸ä½™é¢å‚¨å­˜æœ‰ä»£ç å…¶ä»£ç çš„æ‰§è¡Œé€šè¿‡äº¤æ˜“æˆ–è€…å…¶ä»–åˆçº¦å‘é€çš„ä¿¡æ¯æ¥è§¦å‘å½“å…¶ä»£ç æ‰§è¡Œæ—¶ï¼Œå¯ä»¥ï¼šæ‰§è¡Œä»»æ„å¤æ‚åº¦çš„æ“ä½œ(å›¾çµå®Œå¤‡)ä¿®æ”¹å…¶è‡ªèº«çš„æŒä¹…æ€§å­˜å‚¨(storage)è°ƒç”¨å…¶ä»–åˆçº¦ 2.2 äº¤æ˜“(Transactions)äº¤æ˜“æ˜¯ä¸€ä¸ªè´¦æˆ·å‘ç»™å¦ä¸€ä¸ªå¸å·çš„æ¶ˆæ¯ï¼Œäº¤æ˜“å¯ä»¥åŒ…å«äºŒè¿›åˆ¶çš„æ•°æ®(ç§°ä¸ºå®ƒçš„è´Ÿè½½)ï¼Œå’Œä»¥å¤ªå¸å¦‚æžœç›®æ ‡è´¦æˆ·å…·æœ‰ä»£ç ï¼Œé‚£ä¹ˆè¿™ä¸ªä»£ç å°±ä¼šè¢«æ‰§è¡Œï¼Œå¹¶ä¸”äº¤æ˜“ä¼šæä¾›å…¶è´Ÿè½½å……å½“ä»£ç çš„è¾“å…¥æ•°æ®ã€‚å¦‚æžœç›®æ ‡è´¦æˆ·æ˜¯ é›¶è´¦æˆ·(zero-account)(å®ƒçš„è´¦æˆ·çš„åœ°å€æ˜¯ 0)ï¼Œé‚£ä¹ˆï¼Œè¯¥äº¤æ˜“å°±ä¼šåˆ›å»ºä¸€ä¸ª æ–°çš„åˆçº¦ã€‚ä¸Šé¢å·²ç»è¯´è¿‡ï¼Œåˆçº¦çš„åœ°å€æ˜¯é€šè¿‡å‘é€è€…çš„åœ°å€æ¥ç¡®å®šçš„ã€‚æ­¤æ—¶ï¼Œäº¤æ˜“çš„è´Ÿè½½å°±ä¼šå……å½“åˆçº¦çš„æž„å»ºå‚æ•°ï¼Œæ­¤æ—¶ï¼ŒEVM å¼€å§‹æ‰§è¡Œæž„é€ å‡½æ•°ï¼Œè¿›è¡Œåˆçº¦çš„æž„å»ºï¼Œå…¶ç»“æžœå³åˆçº¦çš„ä»£ç ï¼Œè¢«å­˜å…¥åˆçº¦è´¦æˆ·ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸éœ€è¦ä¼ å…¥åˆçº¦æœ¬èº«çš„ä»£ç å³å¯å®Œæˆåˆçº¦çš„æž„å»º 2.3 æ±½æ²¹(Gas)æ±½æ²¹æ˜¯ä»¥å¤ªåŠç”¨äºŽè¡¡é‡æ‰§è¡Œäº¤æ˜“çš„å·¥ä½œé‡çš„å•ä½ã€‚ç”±äºŽå‘èµ·äº¤æ˜“æœ‰å¯èƒ½å¯¼è‡´åˆçº¦çš„æ‰§è¡Œï¼Œä»£ç æ‰§è¡Œå°±éœ€è¦ CS é¢†åŸŸä¸­çš„æ—¶é—´ä¸Žç©ºé—´ï¼Œå³éœ€è¦çŸ¿å·¥çš„ç®—åŠ›æ¥ä½œä¸ºæ”¯æ’‘ã€‚ä¸ºäº†ä¿è¯ç½‘ç»œä¸­çš„ç®—åŠ›ä¸è¢«å¤§è§„æ¨¡æ¶ˆè€—å’Œé”æ­»ï¼Œä»¥å¤ªåŠä¸­çš„æ¯ä¸€ä¸ªäº¤æ˜“éƒ½éœ€è¦æ¶ˆè€—æ±½æ²¹æ¥å®Œæˆï¼Œå³äº¤æ˜“çš„ æ‰‹ç»­è´¹ã€‚ä¹‹æ‰€ä»¥ç§°ä¹‹ä¸º æ±½æ²¹ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªâ€œæ‰‹ç»­è´¹â€æ˜¯éœ€è¦äº‹å…ˆä»Žäº¤æ˜“å‘èµ·è€…çš„è´¦æˆ·ä¸­æ‰£é™¤æŽ‰ï¼Œä¸Žè¯¥äº¤æ˜“ç»‘å®šï¼Œå¾ˆç±»ä¼¼ä¸€ä¸ªæ±½è½¦åŠ æ²¹çš„è¿‡ç¨‹ã€‚å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œäº¤æ˜“çš„å‘èµ·è€…å¯ä»¥è‡ªå®šä¹‰æ±½æ²¹çš„ä»·æ ¼ä¹Ÿå°±æ˜¯è¯´ï¼Œäº¤æ˜“å‘èµ·è€…é€šè¿‡äº‹å…ˆä»Žè´¦æˆ·ä¸­æ‰£é™¤ä¸€å®šé‡çš„ ä»¥å¤ªï¼Œä½œä¸ºå……å…¥çš„æ±½æ²¹ï¼›å……å…¥çš„ä»¥å¤ªè´¹ç”¨ = æ±½æ²¹é‡ Ã—\timesÃ— è‡ªå®šä¹‰çš„æ±½æ²¹ä»·æ ¼ï¼Œæ±½æ²¹é‡å®žé™…ä¸Šæ˜¯é€šè¿‡å……å…¥çš„ä»¥å¤ªè´¹ç”¨å€’æŽ¨å¾—åˆ°çš„ã€‚è¿™ä¹Ÿå°±ç±»ä¼¼äºŽä¸€ä¸ªåŠ æ²¹çš„è¿‡ç¨‹ã€‚ç„¶åŽï¼ŒçŸ¿å·¥å¼€å§‹å¤„ç†äº¤æ˜“ï¼Œå¹¶æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ ä¸æ–­æ¶ˆè€—æ±½æ²¹å½“è®¡ç®—å®Œæˆæ—¶ï¼ŒåŒºå—è¢«ç”Ÿæˆï¼Œå¹¶åŠ å…¥åŒºå—é“¾ä¸­ï¼ŒçŸ¿å·¥å¾—åˆ°æ‰€æ¶ˆè€—çš„æ±½æ²¹çš„ä»¥å¤ªè´¹ç”¨ä½œä¸ºäº¤æ˜“çš„æ‰‹ç»­è´¹ï¼›åŒæ—¶ï¼Œ å¤šä½™çš„æ±½æ²¹ä¼šè¢«é€€è¿˜å›žäº¤æ˜“å‘èµ·è€…çš„è´¦æˆ·ã€‚ä½†æ˜¯ï¼Œå¦‚æžœæ±½æ²¹è€—å°½ï¼Œäº¤æ˜“è¿˜æœªå¤„ç†å®Œæˆçš„è¯ï¼Œé‚£ä¹ˆçŸ¿å·¥å°±ä¼š å›žé€€æ‰€æœ‰ä¿®æ”¹ï¼Œå¹¶å°†è¯¥äº¤æ˜“ä½œä¸º å¤±è´¥çš„äº¤æ˜“ åŠ å…¥åˆ°åŒºå—é“¾ä¸­ï¼ŒåŒæ—¶ï¼Œ æ”¶å–æ‰€æœ‰çš„æ±½æ²¹è´¹ç”¨ï¼Œä¸é€€æ¢ç»™å‘èµ·è€…ã€‚ 2.4 å­˜å‚¨, å†…å­˜å’Œæ ˆ 2.4.1 å­˜å‚¨(Storage)æ¯ä¸€ä¸ªå¸å·éƒ½ä¼šå…·æœ‰ä¸€ä¸ª 256bit -&gt; 256 bit çš„é”®å€¼å¯¹ï¼Œè¿™ä¸ªé”®å€¼å¯¹è¢«ç§°ä½œ storageåœ¨åˆçº¦ä¸­è¿›è¡Œ storage çš„éåŽ†å’Œæžšä¸¾æ˜¯ä¸å¯èƒ½çš„ï¼Œè€Œä¸”åœ¨ storageçš„è¯»å†™æ“ä½œéƒ½æ˜¯ç›¸å¯¹æ˜‚è´µçš„ã€‚å³é€šå¸¸ç”¨äºŽå­˜å‚¨ä¸€äº›æŒä¹…åŒ–çš„æ•°æ®ï¼Œæ‰€ä»¥ç§°ä½œ storageäº‹å®žä¸Š storage çš„è¯»å†™æ˜¯ååˆ†æ˜‚è´µçš„ï¼Œå®ƒéœ€è¦ 20000 gas è¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–ï¼Œéœ€è¦ 5000 gas æ¥è¿›è¡Œæ•°æ®çš„ä¿®æ”¹ï¼ŒåŒæ—¶è¿˜éœ€è¦ 200 gas è¿›è¡Œä¸€ä¸ª word çš„è¯»å–ã€‚ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¹ˆè´µå‘¢ï¼Ÿæ˜¯å› ä¸ºå­˜å‚¨åœ¨ storage çš„æ•°æ®æ˜¯æ°¸ä¹…ä¿å­˜åœ¨åŒºå—é“¾ä¸­çš„ï¼Œéœ€è¦çœŸå®žçš„å­˜å‚¨å¼€é”€ã€‚ 2.4.2 å†…å­˜(Memory)ç¬¬äºŒä¸ªå­˜å‚¨ç±»åž‹æ˜¯ memoryï¼Œå°±åƒå†…å­˜ä¸€æ ·ï¼Œmemory ä»…åœ¨åˆçº¦è¿è¡Œä¸­æœ‰æ•ˆï¼Œå½“åˆçº¦è¿è¡Œå®Œæˆæ—¶ï¼Œå†…å­˜å°±ä¼šè¢«æ¸…ç©ºé‡ç½®ã€‚å†…å­˜æ˜¯çº¿æ€§çš„å¹¶è¢«å­—èŠ‚ç¼–ç ï¼›å¯¹äºŽè¯»å–æ“ä½œæ¥è¯´ï¼Œåªèƒ½ä¸€æ¬¡æ€§è¯»å– 256bit çš„æ•°æ®ï¼Œå³ä¸€ä¸ª word;è€Œå¯¹äºŽå†™å…¥æ“ä½œæ¥è¯´ï¼Œå¯ä»¥å†™å…¥ 8bit æˆ–è€… 256bitã€‚å½“ä½ è¯»å†™è¶…è¿‡äº†ä¸€ä¸ª word çš„æ—¶å€™ï¼Œå†…å­˜ä»¥ word(256bit) çš„çº§åˆ«æ‰©å¤§ï¼›å½“ç„¶ï¼Œéšç€å†…å­˜çš„æ‰©å¤§ï¼Œå°±è¦ç›¸åº”æ”¶å– gas ä½œä¸ºè´¹ç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå†…å­˜æ¯æ‰©å¤§ä¸€ä¸ªæ•°é‡çº§ï¼Œéƒ½æ˜¯å¹³æ–¹çº§åˆ«çš„ï¼Œæ‰€ä»¥ä¸è¦è¿‡å¤šä½¿ç”¨å†…å­˜ï¼Œå¦åˆ™ä¼šæ¶ˆè€—å¾ˆå¤š gasã€‚ç›¸æ¯” storage æ¥è¯´ï¼Œmemory çš„å¤„ç†å¼€é”€å°±ä¾¿å®œå¾ˆå¤šã€‚å®ƒåªéœ€è¦ 3 gas æ¥è¯»å†™æ•°æ®ï¼Œå¦‚æžœå†…å­˜æ‰©å¤§äº†é‚£ä¹ˆå°±æ”¶å–ä¸€äº›æ‰©å®¹è´¹ç”¨çš„ gasã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå†…å­˜å°±æ˜¯é€šå¸¸çš„å·¥ä½œç”¨åœ°ï¼ŒåŸºæœ¬çš„ï¼Œä¸éœ€è¦æ°¸ä¹…å­˜å‚¨çš„ä¸œè¥¿éƒ½å¯ä»¥æ”¾åˆ°å†…å­˜ä¸­ã€‚ 2.4.3 æ ˆ(Stack)EVM ä¸åƒä¼ ç»Ÿçš„è®¡ç®—æœºæ˜¯ä¸€ä¸ªä»¥å¯„å­˜å™¨ä¸ºä¸»çš„æœºå™¨ï¼Œè€Œæ˜¯ä»¥æ ˆä¸ºä¸»çš„æœºå™¨ï¼Œæ‰€æœ‰çš„è®¡ç®—éƒ½åœ¨ä¸€ä¸ªè¢«ç§°ä½œ stack çš„ç©ºé—´ä¸­è¿›è¡Œã€‚è¿™ä¸ªæ ˆå…·æœ‰ 1024 ä¸ªå…ƒç´ çš„å®¹é‡ï¼Œè€Œä¸”åŒ…å«ç€ä¸€äº› wordã€‚å¯¹äºŽæ ˆçš„è®¿é—®ä»…é™äºŽå‰ 16 ä¸ªå…ƒç´ ï¼›åœ¨å‰ 16 ä¸ªå…ƒç´ ä¸­ï¼Œä½ å¯ä»¥å°†ä»»æ„ä¸€ä¸ªå¤åˆ¶åˆ°é¡¶éƒ¨ï¼Œæˆ–è€…å°†ä»»æ„ä¸€ä¸ªå…ƒç´ å’Œé¡¶éƒ¨çš„å…ƒç´ åšäº¤æ¢ã€‚å…¶ä»–çš„æ“ä½œåˆ™æ˜¯æå–é¡¶éƒ¨å…ƒç´ (å¯ä»¥ä¸æ­¢æå–ä¸€ä¸ª)è¿›è¡Œè®¡ç®—å¹¶å°†ç»“æžœåŽ‹å…¥æ ˆä¸­ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å°†æ ˆä¸­çš„å…ƒç´ ç§»åˆ°å†…å­˜å’Œå­˜å‚¨ä¸­ï¼Œä¸è¿‡å¯¹äºŽæ¯”å‰ 16 ä¸ªæ›´æ·±ä¸€ç‚¹çš„å…ƒç´ å°±ä¸èƒ½è®¿é—®åˆ°äº†ï¼Œé™¤éžä½ å°†å‰ 16 ä¸ªå…ƒç´ ç§»é™¤ã€‚é€šå¸¸ï¼Œè¿™ä¸ªæ ˆä¸­çš„å…ƒç´ ä¸ä¼šä½¿ç”¨åˆ°ï¼Œå°±åƒå‡½æ•°æ ˆä¸€æ ·ç”±ç¼–è¯‘å™¨æˆ–è€…è§£é‡Šå™¨æ¥æ“ä½œã€‚ 2.5 æŒ‡ä»¤é›†EVM çš„æŒ‡ä»¤é›†æ¯”è¾ƒç®€çŸ­ï¼Œæ‰€æœ‰çš„æŒ‡ä»¤éƒ½æ˜¯å¯¹åŸºæœ¬æ•°æ®ç±»åž‹å’Œ 256bit çš„å­—çš„æ“ä½œï¼ŒåŒ…å«äº†ä¸€èˆ¬çš„ç®—æœ¯è¿ç®—ã€ä½è¿ç®—ã€é€»è¾‘è¿ç®—å’Œæ¯”è¾ƒè¿ç®—ç­‰ï¼ŒåŒæ—¶è¿˜å¯ä»¥è¿›è¡Œæ¡ä»¶è·³è½¬å’Œéžæ¡ä»¶è·³è½¬ã€‚åŒæ—¶ï¼Œåˆçº¦è¿˜å¯ä»¥è®¿é—®å®ƒæ‰€åœ¨åŒºå—çš„ä¸€äº›ä¿¡æ¯æ¯”å¦‚è¯´åŒºå—çš„ç¼–å·å’ŒåŒºå—çš„æ—¶é—´æˆ³ã€‚ 2.6 ä¿¡æ¯è°ƒç”¨(Message Calls)åˆçº¦å¯ä»¥é€šè¿‡ ä¿¡æ¯è°ƒç”¨ æ¥è°ƒç”¨å…¶ä»–çš„åˆçº¦æˆ–è€…ç»™ä¸€ä¸ªéžåˆçº¦è´¦æˆ·å‘é€ä»¥å¤ªå¸ã€‚ä¿¡æ¯è°ƒç”¨å’Œäº¤æ˜“ç±»ä¼¼ï¼Œéƒ½å…·å¤‡ä¸€ä¸ªå‘é€è€…ï¼Œç›®æ ‡è€…ï¼Œæ•°æ®è´Ÿè½½ï¼Œä»¥å¤ªå¸ï¼Œæ±½æ²¹å’Œè¿”å›žçš„æ•°æ®ã€‚äº‹å®žä¸Šï¼Œæ¯ä¸€ä¸ªäº¤æ˜“éƒ½æ˜¯ç”± top-level çš„ä¿¡æ¯è°ƒç”¨ç»„æˆçš„ï¼Œtop-level çš„ä¿¡æ¯è°ƒç”¨å¯ä»¥åˆ›å»ºå…¶ä»–ä¿¡æ¯è°ƒç”¨ã€‚åˆçº¦å¯ä»¥å†³å®šé€šè¿‡ä¿¡æ¯è°ƒç”¨æ‰€ä¼ é€’çš„ gas æ•°é‡ï¼Œå¦‚æžœä¸€ä¸ª out-of-gas exception å‘ç”Ÿçš„è¯ï¼Œè°ƒç”¨æ ˆä¸­å°±ä¼šåŽ‹å…¥ä¸€ä¸ª error value æ¥æ ‡è¯†å¼‚å¸¸çš„å‘ç”Ÿã€‚æ­¤æ—¶ï¼Œåªæœ‰é€šè¿‡è¯¥è°ƒç”¨ä¼ é€çš„ gas ä¼šè¢«æ¶ˆè€—æŽ‰ã€‚åŒæ—¶ï¼Œå‘èµ·ä¿¡æ¯è°ƒç”¨çš„åˆçº¦ä¼šæ‰‹åŠ¨å¼•èµ·ä¸€ä¸ªå¼‚å¸¸ï¼Œä»¥ä¿è¯å¼‚å¸¸æ ˆçš„å‘ˆçŽ°ã€‚ä¸Šé¢ä¹Ÿè¯´è¿‡ï¼Œè¢«è°ƒç”¨çš„åˆçº¦ä¼šæ”¶åˆ°ä¸€ä¸ªæ–°é²œçš„ memory å®žä¾‹ï¼Œå¹¶å¯ä»¥è®¿é—®éšè°ƒç”¨ä¼ æ¥çš„æ•°æ®è´Ÿè½½ï¼›æ­¤æ—¶ï¼Œç³»ç»Ÿä¼šæä¾›ä¸€ä¸ªé¢å¤–çš„ç©ºé—´ç”¨äºŽå­˜å‚¨è¿™ç§æ•°æ®è´Ÿè½½ï¼Œå«åš calldataå½“åˆçº¦ä»£ç æ‰§è¡Œå®Œæ¯•åŽï¼Œå®ƒå¯ä»¥å°†æ•°æ®è¿”å›žï¼Œè€Œè¿”å›žçš„æ•°æ®ä¼šå­˜å‚¨åœ¨è°ƒç”¨è€…çš„å†…å­˜ä¸­ã€‚è°ƒç”¨çš„æ·±åº¦è¢«é™åˆ¶åœ¨ 1024ï¼Œæ‰€ä»¥å¯¹äºŽä¸€äº›æ¯”è¾ƒå¤æ‚çš„æ“ä½œï¼Œä½¿ç”¨å¾ªçŽ¯ä¼šæ¯”ä½¿ç”¨é€’å½’è¦å¥½ã€‚ 2.7 å§”æ‰˜è°ƒç”¨(Delegatecall)/è°ƒç”¨ä»£ç (Callcode)å’Œåº“å§”æ‰˜è°ƒç”¨æ˜¯ä¸€ç§ç‰¹åˆ«çš„ä¿¡æ¯è°ƒç”¨ï¼Œå®ƒå¯ä»¥å°†è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡æš´éœ²ç»™è¢«è°ƒç”¨è€…ã€‚ä¸‹é¢ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š1234567891011121314151617contract D &#123; unit public n; address public sender; function delegatecallSetN(address _e, unit _n) &#123; _e.delegatecall(byte4(sha3(&quot;setN(unit256)&quot;)), _n) &#125;&#125;contract E &#123; unit public n; address public sender; funciton setN(unit _n) &#123; n = _n; sender = msg.sender; &#125;&#125;å½“ä¸€ä¸ªåˆçº¦ C è°ƒç”¨ D çš„æ–¹æ³•æ—¶ï¼Œæ˜¯ D çš„ sender è¢«è®¾ç½®æˆäº† C ï¼Œè€Œä¸æ˜¯ E çš„æ–¹æ³•è¢«è®¾ç½®ã€‚è¿™å°±æ˜¯ delegatecall å’Œæ™®é€šè°ƒç”¨çš„åŒºåˆ«ï¼Œå®ƒç›¸å½“äºŽå°†å…¶ä»–åˆçº¦çš„å‡½æ•°å¼•å…¥åˆ°äº†å½“å‰åˆçº¦çš„ä½œç”¨åŸŸä¸­ã€‚å¼•å…¥è¿™ç§è°ƒç”¨ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨åˆçº¦ä¸­åŠ¨æ€è°ƒç”¨å‡½æ•°ï¼Œè¿™ä¹Ÿä¸ºæˆ‘ä»¬å®žçŽ° Solidity çš„å‡½æ•°åº“æä¾›äº†é€”å¾„ã€‚ä¸è¿‡éœ€è¦æé†’çš„æ˜¯ï¼Œè¿™ä¸ª delegatecall æ–¹æ³•æ˜¯ç›¸å½“ä½Žçº§çš„æ–¹æ³•ï¼Œ å¦‚æžœä¸åšæ·±å…¥å¼€å‘å¯ä»¥ä¸ç®¡å®ƒ 2.8 æ—¥å¿—EVM ä¹Ÿæä¾›ä»Žåº•å±‚ç›´è‡³åŒºå—å±‚çº§çš„æ—¥å¿—åŠŸèƒ½ï¼Œç”¨è¿™äº›åŠŸèƒ½æ¥å®žçŽ° äº‹ä»¶ç³»ç»Ÿä½†æ˜¯ï¼Œåˆçº¦åœ¨å®ƒè¢«åˆ›å»ºä¹‹åŽå°±ä¸èƒ½è®¿é—®æ—¥å¿—æ•°æ®ï¼Œä¸è¿‡æ—¥å¿—æ•°æ®å¯ä»¥ä»ŽåŒºå—é“¾çš„å¤–éƒ¨è¢«è®¿é—®ã€‚ä¸€äº›æ—¥å¿—æ•°æ®è¢«å­˜å‚¨åœ¨å¸ƒéš†è¿‡æ»¤å™¨(bloom filter)ä¸­ï¼Œæ‰€ä»¥ä¸€äº›è½»é‡çº§çš„å®¢æˆ·ç«¯ä¹Ÿå¯ä»¥è®¿é—®éƒ¨åˆ†çš„åŒºå—é“¾æ—¥å¿—ã€‚ 2.9 åˆçº¦åˆ›å»ºåˆçº¦é™¤äº†é€šè¿‡ä¿¡æ¯è°ƒç”¨æ¥åˆ›å»ºä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸€ä¸ªç‰¹åˆ«çš„æŒ‡ä»¤æ¥åˆ›å»ºã€‚æŒ‡ä»¤åˆ›å»ºå’Œæ™®é€šçš„ä¿¡æ¯è°ƒç”¨åˆ›å»ºçš„åŒºåˆ«åœ¨äºŽï¼Œåœ¨æŒ‡ä»¤åˆ›å»ºå®Œæ¯•ä¹‹åŽï¼Œåˆ›å»ºè€…å¯ä»¥èŽ·å–åˆ°æ–°åˆçº¦çš„åœ°å€ã€‚ 2.10 è‡ªæ¯æƒ³è¦åŽ»é™¤åŒºå—é“¾ä¸­çš„ä»£ç çš„å”¯ä¸€é€”å¾„å°±æ˜¯é€šè¿‡åˆçº¦çš„è‡ªæ¯ã€‚å½“åˆçº¦è°ƒç”¨æžæž„æŒ‡ä»¤(selfdestruct) æ—¶ï¼Œåˆçº¦è´¦æˆ·ä¸­å‰©ä½™çš„ä»¥å¤ªå¸ä¼šè¢«å‘å¾€åˆ¶å®šçš„ç›®æ ‡ï¼Œç„¶åŽï¼Œåˆçº¦çš„ storage å’Œä»£ç å°±ä¼šä»ŽåŒºå—é“¾ä¸­åˆ é™¤ã€‚å³ä½¿åˆçº¦ä»£ç ä¸­ä¸åŒ…å« selfdestruct æŒ‡ä»¤ï¼Œå®ƒä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨ delegatecall æˆ–è€… callcode æŒ‡ä»¤æ¥æ‰§è¡Œä»¥å¤ªåŠå®¢æˆ·ç«¯ä¼¼ä¹Žè¿˜æœªå®žçŽ°æ—§åˆçº¦å’Œæ—§ä»£ç çš„åˆ é™¤åŠŸèƒ½ã€‚å­˜å‚¨èŠ‚ç‚¹å¯ä»¥è‡ªè¡Œé€‰æ‹©æ˜¯å¦åˆ é™¤åˆçº¦ã€‚å½“æœŸï¼Œå¤–éƒ¨è´¦æˆ·æ˜¯æ— æ³•è¢«åˆ é™¤çš„ã€‚]]></content>
      <categories>
        <category>Solidity</category>
      </categories>
      <tags>
        <tag>Solidity</tag>
        <tag>Ethereum</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿‘æœˆå°‘å¥³çš„ç¤¼ä»ª 2.1 æ„Ÿæƒ³]]></title>
    <url>%2F%2FTalk%2F%E8%BF%91%E6%9C%88%E5%B0%91%E5%A5%B3%E7%9A%84%E7%A4%BC%E4%BB%AA%202.1%20%E6%84%9F%E6%83%B3%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘è¿™éƒ¨ FD å‘å”®ä¹‹åŽå°±å¿ä¸ä½çŽ©äº†ä¸€ä¸‹ï¼›ä¼šç»“åˆæœ¬ç¯‡ã€Šè¿‘æœˆå°‘å¥³çš„ç¤¼ä»ª 2ã€‹(æœˆã«å¯„ã‚Šãã†ä¹™å¥³ã®ä½œæ³•ï¼’) æ¥è°ˆä¸€è°ˆæ„Ÿæƒ³ï¼›å†…æœ‰å‰§é€ï¼Œæ…Žç‚¹ 1. ä»‹ç»æ­¤æ¬¡å‘å”®çš„ FD ä¸»è¦åŒ…å«ä¸¤æ¡çº¿è·¯ï¼šè‰¾æ–¯ç‰¹çº¿å’Œæ˜¥å¿ƒçº¿ï¼Œä¸è¿‡æ˜¥å¿ƒçº¿æ˜¯æ‰“é…±æ²¹çš„ï¼Œå°±æ²¡çŽ©ã€‚åŒæ—¶æ”¶å½•äº†å‰ä¼ ã€Šè¿‘æœˆå°‘å¥³çš„ç¤¼ä»ª0ã€‹ï¼Œè®²è¿°å¤§è—è¡£è¿œå­¦ç”Ÿæ—¶ä»£çš„æ•…äº‹ã€‚ 2. å†…å®¹å’Œæ„Ÿæƒ³è‰¾æ–¯ç‰¹æ˜¯æœ¬ç¯‡çš„å¥³ä¸»è§’ï¼Œåœ¨æ­¤ FD ä¸­æ˜¯ç€é‡æå†™çš„å¯¹è±¡ï¼›åœ¨å–å¾—è²ä¸½å±•æœ€ä¼˜ç§€å¥–ä¹‹åŽï¼Œä¸¤äººå›žè€å®¶æ‹œè®¿çˆ¶æ¯ï¼ˆè¿™åŸºæœ¬å±žäºŽå›ºå®šæµç¨‹äº†ï¼‰ï¼ŒéšåŽå›žåˆ°å­¦é™¢å±•å¼€ç¬¬äºŒå¹´çš„å­¦ä¹ ç”Ÿæ´»çš„äº‹ã€‚å¯¹äºŽæœ¬ç¯‡çš„è¯„ä»·ä¸­ï¼Œå¤šæœ‰ã€ŽçŸ›ç›¾å†²çªä¸è¶³ã€çš„æ‰¹è¯„ï¼›ç›¸æ¯”å‰ä½œã€Šè¿‘æœˆå°‘å¥³çš„ç¤¼ä»ª 1ã€‹ä¸­æš—æµæ¶ŒåŠ¨çš„å®¶æ—çº·äº‰ï¼Œã€Šè¿‘æœˆ 2ã€‹å› ä¸ºä¸»è§’ç”Ÿé•¿åœ¨ä¼˜æ¸¥çš„çŽ¯å¢ƒä¸­ï¼Œå› è€Œåœ¨è®¾å®šèƒŒæ™¯ä¸­ç¼ºå¤±äº†ç£¨ç‚¼çš„åœŸå£¤ï¼Œè™½æœ‰æ‰èƒ½ï¼Œä½†æ˜¯è¿œè¿œä¸åŠå…¶çˆ¶æ¯é—ªè€€ã€‚åœ¨ FD ä¸­æ­¤é—®é¢˜è¿›ä¸€æ­¥æš´éœ²ï¼Œç”±äºŽå–å¾—äº†æœ€ä¼˜ç§€å¥–ï¼Œç­ä¸Šçš„è®¾è®¡å¤©æ‰è´¾æ–¯å­å¼€å§‹è®¤çœŸå¯¹å¾…è®¾è®¡çš„ä½œä¸šå’Œè€ƒè¯•ï¼Œå› è€Œæˆ‘ä»¬çš„ä¸»è§’å°ä¸¤å£æŽ¥è¿žè½è´¥ã€‚äºŽæ˜¯ä»–ä»¬ç»ˆäºŽå‘çŽ°ï¼ˆå®žé™…ä¸Šåœ¨æœ¬ç¯‡ç»“å°¾ä¹Ÿæœ‰ä½“çŽ°ï¼‰ï¼Œè‡ªå·±çš„æ‰èƒ½åªä¸è¿‡æ˜¯äººå®¶çš„ä¸€ä¸ªå°æŒ‡å¤´ï¼›äºŽæ˜¯ä¸€ä¸ªé—®é¢˜å°±å‡ºçŽ°äº†ï¼Œ è‡ªå·±æ— è®ºå¦‚ä½•åŠªåŠ›ï¼Œéƒ½æ¯”ä¸è¿‡å¤©æ‰ï¼›å°ä¸¤å£å¯¹æ­¤è¯¢é—®äº†å¾ˆå¤šçš„äººï¼ŒåŒ…æ‹¬åœ¨å…¬å¯“çš„é‚»å±…ä»¬ï¼Œè¿˜ç›´æŽ¥å‘è‡ªå·±çš„çˆ¶æ¯æ±‚åŠ©ï¼›ä¸è¿‡éœ²å¨œçš„å›žå¤çœŸçš„æ¯”è¾ƒä»¤äººä¼¤å¿ƒï¼šã€Œè‡ªå·±ä»Žæ¥æ²¡æœ‰åœ¨æ‰èƒ½ä¸Šç¢°è¿‡å£ï¼Œè¯·éšä¾¿åŠªåŠ›ä¸€ä¸‹å§ã€è¯´å®žè¯ï¼ŒçŽ©åˆ°è¿™é‡Œçš„æ—¶å€™æˆ‘æ˜¯æ¯”è¾ƒæªå¿ƒçš„ï¼Œæ˜Žæ˜Žè‡ªå·±ä¹Ÿæ‹¥æœ‰è€€çœ¼çš„æ‰èƒ½ï¼Œä½†æ˜¯ï¼Œå´åªèƒ½è¿™æ ·ä»»ç”±å…¶è¢«æ›´è€€çœ¼çš„å…‰èŠ’æŽ©ç›–å—ï¼Ÿä¸è¿‡ï¼Œå¹¸å¥½æˆ‘ä»¬çŽ°åœ¨æ˜¯ä¸»è§’å°ä¸¤å£ï¼Œç»è¿‡å’ŒçŽ°ä»»æ ¡é•¿å•†é‡ä¹‹åŽï¼ˆé¡ºä¾¿æŠŠæ ¡é•¿æ´—ç™½äº†ï¼‰ï¼Œå†³å®šç»„æˆè®¾è®¡å¸ˆç»„åˆã€ŽeSã€ä¸€åŒå‘å¤©æ‰æŒ‘æˆ˜ï¼ä¸è¿‡ï¼Œæ—¢ç„¶ç»„æˆäº†è®¾è®¡å¸ˆç»„åˆï¼Œé‚£ä¹ˆæäº¤è®¾è®¡çš„æ—¶å€™ï¼Œå°±å¿…é¡»æ”¾å¼ƒä¸€äººï¼Œå¦å¤–ä¸€äººè¦å°½åŠ›å¯¹è®¾è®¡å›¾åšå‡ºç‚¹æ£€å’Œä¿®æ­£ã€‚äºŽæ˜¯å¾ˆé¡ºç†æˆç« çš„å°±è¿‡æ¸¡åˆ°æ˜¯å¦è¦æ”¾å¼ƒè‡ªå·±çš„æ‹äººèº«ä»½ï¼Œä»¥å¥³ä»†çš„èº«ä»½æ¥é¢å¯¹è‡ªå·±çš„ä¸»äººå…¼æ‹äººã€‚è¿™ä¸ªé€‰é¡¹å¯ä»¥è¯´æ˜¯æ•´ä¸ªè¿‘æœˆç³»åˆ—ä¸­æœ€ä¸ºé‡è¦å’Œå¿…æœ‰çš„é€‰é¡¹ä¸ºä»€ä¹ˆæ˜¯ã€Žå¿…æœ‰ã€ï¼Ÿå› ä¸ºè¿™æ˜¯ä¸ªä¼ªå¨˜æ¸¸æˆå•Šï¼ä½†æ˜¯ï¼Œè¿™ä¸ªé€‰é¡¹ç¬¬ä¸€æ¬¡æ‰¿æ‹…äº† END åˆ†æ”¯çš„ä½œç”¨ï¼Œè€Œä¸åªæ˜¯å•çº¯çš„ CG å›žæ”¶ã€‚å¦‚æžœé€‰æ‹©äº†æ‹äººï¼Œé‚£ä¹ˆæœ€åŽï¼Œå°±å› ä¸ºå°ä¸¤å£è¦å†³å‡ºèƒœè´Ÿï¼Œè€ŒåŒåŒè¾“ç»™å¤©æ‰è´¾æ–¯å­ï¼›ä¸è¿‡å³ä½¿è¾“ç»™äº†å¤©æ‰ï¼Œå°ä¸¤å£è¿˜æ˜¯åŒåŒèŽ·å¾—äº†äºŒç­‰å¥–ï¼Œè¿˜æ˜¯æ²¡æœ‰å†³å‡ºèƒœè´Ÿï¼ˆç¬‘ï¼‰å¦‚æžœé€‰æ‹©äº†å¥³ä»†ï¼Œé‚£ä¹ˆå› ä¸ºè‰¾æ–¯ç‰¹çš„è®¾è®¡å¾—åˆ°äº†å®Œå–„ï¼Œé‚£ä¹ˆå°±èƒ½å¤Ÿæˆ˜èƒœè´¾æ–¯å­ã€‚è¿™é‡Œæ˜¯æœ€è®©æˆ‘æƒŠè‰³çš„ï¼Œå¦‚æžœä½ ä¸é€‰æ‹©è¢« gangï¼Œé‚£ä¹ˆå°±è¾¾ä¸æˆå®Œç¾Žç»“å±€ã€‚ï¼ˆçœ‹èµ·æ¥å®˜æ–¹ä¹Ÿå¾ˆæ‡‚çŽ©å®¶çš„å¿ƒå˜›ï¼‰ä¹Ÿè®¸åœ¨ç»è¿‡è¿™ä¸€æ¬¡çš„ç»åŽ†åŽï¼Œæˆ‘ä»¬çš„æ‰åŽå¤§å°‘çˆ·æ‰ç†è§£å¹¶è·µè¡Œäº†çˆ¶äº²ä¸€ç›´ä»¥æ¥å¯¹ä»–çš„å¿ å‘Šï¼šã€Œèƒ½ä¸ºè°æ´¾ä¸Šç”¨åœºæ˜¯å¾ˆäº†ä¸èµ·çš„äº‹ã€åŽŸæœ¬ç”±äºŽéœ²å¨œçš„åŽŸå› ï¼Œæˆ‘ç¬¬ä¸€æ¬¡é€‰çš„æ—¶å€™ä»ç„¶æƒ³è®©ä»–åŽ»å’Œè‡ªå·±çš„æ‹äººç«žäº‰ï¼›æ¯•ç«Ÿæ˜¯æ¨±å°è·¯éœ²å¨œçš„å„¿å­å•Šï¼Œæ€Žä¹ˆä¼šè¾“ç»™ä»–äººï¼Œè‚¯å®šæ˜¯å¿ƒæ€§è¿˜ä¸å¤Ÿæˆç†Ÿã€‚ä¸è¿‡çŽ©åˆ°æœ€åŽï¼Œæžœç„¶æˆ‘ä»¬çš„ä¸»è§’è¿˜æ˜¯ã€Œæœæ—¥çš„å¥³å„¿ã€å•Šï¼ˆç¬‘ï¼‰ã€‚ 3. äº®ç‚¹è´¾æ–¯å­å’Œæ¢…å®«çš„ç™¾åˆå‰§ã€Šæ¢…å®«ç†è®ºåŠå…¶å‘¨è¾¹ã€‹ï¼ˆç¬‘ï¼‰æ‰åŽçš„æ³³è£…æˆ‘ä»¬çš„æ‰åŽå¤§å°å§è¶Šæ¥è¶Šæ¼‚äº®äº†æ‰åŽèµ° T å°çš„è¡£æœçœŸçš„å¥½åƒä»–å¦ˆï¼Œå·®ç‚¹è®¤é”™äº†è‰¾æ–¯ç‰¹çš„å§å§èµ° T å°å’Œå¦¹å¦¹æŠ¢å°±ç®—äº†ï¼Œè¿˜è¦å’Œå¦¹å¦¹æŠ¢ç”·æœ‹å‹â€¦â€¦ 4. ç¼ºæ†¾æœ€å¤§çš„ç¼ºæ†¾å½“ç„¶è¿˜æ˜¯å‰ä½œä¸»è¦äººç‰©éœ²å¨œå’Œæ¸¸æ˜Ÿ æ²¡æœ‰ç™»åœºä¼°è®¡å®˜æ–¹è¿˜æƒ³å†æžä¸€ç¬”ï¼Œæ¯•ç«Ÿæœ‰å¾ˆå¤šäººéƒ½æœŸå¾…è¿™ä¸¤ä¸ªå‰ä½œçš„æœ€ä¸»è¦äººç‰©ç™»åœºï¼›æ¯•ç«Ÿçˆ¶äº²ï¼ˆæœæ—¥å¨˜ï¼‰çœ‹åˆ°è‡ªå·±å„¿å­å¥³è£…ä¾å¥‰å¦ä¸€ä¸ªä¸»äººï¼Œæƒ³èµ·æ¥å°±ååˆ†æœ‰è¶£ï¼ 5. å’Œä¸€ä»£çš„æ¯”è¾ƒå½“ç„¶ï¼Œæ•´ä½“å‰§æƒ…çš„çŸ›ç›¾å’Œè·Œå®•æ¯”ä¸ä¸Šä¸€ä»£æ˜¯å…¬è®¤çš„ï¼›ä¸è¿‡ï¼Œã€Šè¿‘æœˆ 2ã€‹ä»ä¸å¤±ä¸ºä¸€éƒ¨ååˆ†ä¼˜ç§€çš„ä½œå“ï¼Œå…¶ä¸­ï¼Œæˆ‘ä»¬çš„å¤§å°‘çˆ·ï¼ˆå°å§ï¼‰çš„å¤æ‚æ€§æ ¼å’Œè¿½æ±‚æˆåŠŸçš„æ–¹å¼å¯èƒ½æ›´ä¸ºçŽ°å®žï¼Œè€Œä¸åƒéœ²å¨œä¸€æ ·è¿‡äºŽè™šå¹»ã€‚è™½è¯´å¦‚æ­¤ï¼Œå¦‚æžœè¦åš ã€Šè¿‘æœˆ 3ã€‹çš„è¯ï¼Œå‰§æƒ…å®‰æŽ’ä¸ŠåŠ¿å¿…è¦èµ·æ³¢æ¾œï¼ˆæ¯”å¦‚è¯´å¤§è—å‰å®¶ä¸»èº«äº¡ï¼Œè¡£è¿œç‹¬åŠ›éš¾æ”¯ï¼Œå®¶æ—é‡æ–°é™·å…¥åŠ¨è¡å’Œçº·äº‰ï¼‰ï¼Œå¦åˆ™ 3 åªèƒ½æ˜¯å½“åšç‚’å†·é¥­ä½œå“è€Œå·²ï¼Œè¿™æ ·åªä¼šç ¸çƒ‚è¿‘æœˆçš„é‡‘å­—æ‹›ç‰Œã€‚]]></content>
      <categories>
        <category>æ‚è°ˆ</category>
      </categories>
      <tags>
        <tag>æ‚è°ˆ</tag>
        <tag>Galgame</tag>
        <tag>æœˆã«å¯„ã‚Šãã†ä¹™å¥³ã®ä½œæ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†è°ˆå•ä¾‹æ¨¡å¼]]></title>
    <url>%2F%2FDesignPattern%2F%E5%86%8D%E8%B0%88%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰æåˆ°æžšä¸¾å®žçŽ°æ˜¯å•ä¾‹çš„æœ€ä½³å®žçŽ°ï¼Œè¿™æ¯‹åº¸ç½®ç–‘ï¼›ä¸è¿‡ï¼Œå¯¹æ¯”æžšä¸¾å’Œé™æ€å†…éƒ¨ç±»ï¼Œå¥½åƒå®ƒä»¬çš„åŒºåˆ«å°±åœ¨äºŽé˜²æ­¢äº†åå°„æ”»å‡»ï¼›é‚£ä¹ˆï¼Œéƒ½ã€Žæ”»å‡»ã€äº†ï¼Œä¸ºå•¥ååæ²¡äº‹åŽ»æ”¹ä½ çš„å•ä¾‹å‘¢ï¼Ÿç›´æŽ¥èŽ·å–æ›´æœ‰æ„æ€çš„ä¿¡æ¯ä¸æ˜¯æ›´å¥½å—ï¼Ÿ 1. ã€Žåå°„æ”»å‡»ã€ä¸æ˜¯æ”»å‡»è¿™é‡Œæ‰€æåˆ°çš„ã€Žåå°„æ”»å‡»ã€çš„æ¦‚å¿µï¼Œå®žé™…ä¸Šå¹¶ä¸æ˜¯ä¿¡æ¯å®‰å…¨é¢†åŸŸçš„ ã€Žæ”»å‡»ã€ çš„æ¦‚å¿µï¼›è€Œæ˜¯ï¼Œ é€šè¿‡åå°„çš„åˆç†åˆ©ç”¨ï¼Œå¯ä»¥ä»¤å•ä¾‹å¤±æ•ˆï¼›é‚£ä¹ˆåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæœ€å¸¸é‡åˆ°çš„åå°„æ”»å‡»å°±æ˜¯ å¯¹è±¡çš„åºåˆ—åŒ–ã€‚å½“å•ä¾‹éœ€è¦å®žçŽ°åºåˆ—åŒ–çš„æ—¶å€™ï¼Œååºåˆ—åŒ–è¿‡ç¨‹å®žé™…ä¸Šå°±æ˜¯ä½¿ç”¨ åå°„ æ¥ç”Ÿæˆäº†æ–°çš„å®žä¾‹ã€‚é‚£ä¹ˆåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå•ä¾‹æ¨¡å¼å°±è¢«ç ´åæŽ‰äº†ã€‚è¿™æ—¶ï¼Œæœ‰äººæå‡ºå¯ä»¥åˆ©ç”¨ readResolve() æ–¹æ³•æ¥é˜²æ­¢è¿™ç§äº‹æƒ…çš„å‘ç”Ÿï¼›è€Œå®žé™…ä¸Šï¼Œ å•çº¯åˆ©ç”¨ readResolve() ä¹Ÿå¹¶ä¸èƒ½é˜²æ­¢å•ä¾‹è¢«ç ´åï¼›ã€ŠEffective Java ç¬¬äºŒç‰ˆã€‹åœ¨ 77 æ¡æå‡ºï¼šå¦‚æžœä¾èµ– readResolve() æ–¹æ³•æ¥è¿›è¡Œå®žä¾‹æŽ§åˆ¶ï¼Œå¸¦æœ‰å¯¹è±¡å¼•ç”¨ç±»åž‹çš„æ‰€æœ‰å®žä¾‹åŸŸéƒ½å¿…é¡»å£°æ˜Žä¸º transient çš„ã€‚å¦åˆ™ï¼Œé‚£ç§ç ´é‡œæ²‰èˆŸå¼çš„æ”»å‡»è€…ï¼Œå°±æœ‰å¯èƒ½åœ¨ readResolve() æ–¹æ³•è¿è¡Œä¹‹å‰ï¼Œä¿æŠ¤æŒ‡å‘ååºåˆ—åŒ–å¯¹è±¡çš„å¼•ç”¨ã€‚æ­¤æ—¶ï¼Œæžšä¸¾ç±»åž‹å°±æ´¾ä¸Šç”¨åœºäº†ï¼Œæžšä¸¾ä¸ºäº†é˜²æ­¢è¿™ç§äº‹æƒ…çš„å‘ç”Ÿï¼Œå•ç‹¬å®žçŽ°äº†ä¸€å¥—åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æœºåˆ¶ï¼›å¤§ä½“å°±æ˜¯åˆ©ç”¨ valueOf() æ¥è¿›è¡Œååºåˆ—åŒ–ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ™®é€šçš„åºåˆ—åŒ–æœºåˆ¶ï¼›åŒæ—¶ï¼Œä¹Ÿç¦æ­¢å£°æ˜Ž readResolve() å’Œ readObject() è¿™ç±»æ–¹æ³•ã€‚ 2. Kotlin å•ä¾‹æ˜¯æ‡’åŠ è½½çš„ä¸‹é¢æ˜¯ Kotlin å•ä¾‹çš„åç¼–è¯‘ Java ä»£ç 1234567891011public final class Test &#123; public static final Test INSTANCE; private Test() &#123; INSTANCE = (Test)this; &#125; static &#123; new Test(); &#125;&#125;è™½ç„¶å®ƒå’Œæ‰€è°“çš„é¥¿æ±‰å¼ Java å•ä¾‹å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯åœ¨å®žé™…ä½¿ç”¨ä¸­ï¼Œå®ƒæ˜¯ æ‡’åŠ è½½ çš„ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼ŸåŽŸå› å°±åœ¨äºŽ JVM ç±»çš„åŠ è½½æ—¶æœºï¼›JVM Specification ä¸­åœ¨ å‡†å¤‡é˜¶æ®µ ä¸­æå‡ºï¼šexplicit initializers for static fields are executed as part of initialization (Â§5.5), not preparation.æ‰€ä»¥ï¼Œä¸Šé¢çš„ INSTANCE çš„å®žä¾‹åŒ–ï¼Œå³ static å—æ˜¯åœ¨ç±»åŠ è½½çš„ åˆå§‹åŒ–é˜¶æ®µ è¿›è¡Œçš„ï¼›è€Œå¯¹äºŽåˆå§‹åŒ–é˜¶æ®µï¼ŒJVM Specification å¼ºåˆ¶è§„å®šäº†æœ‰ä¸”ä»…æœ‰ 5 ç§æƒ…å†µ å¯ä»¥è§¦å‘åˆå§‹åŒ–é˜¶æ®µï¼›è€Œè¿™ 5 ç§æƒ…å†µï¼Œéƒ½æ˜¯ä½ çœŸæ­£ä½¿ç”¨åˆ°ç±»çš„å®žä¾‹çš„æ—¶å€™æ‰ä¼šå‡ºçŽ°çš„ï¼›æ ¹æ®è¿™ 5 ç§æƒ…å†µï¼Œå†ç»“åˆ Kotlin object çš„å•ä¾‹è¯­æ³•å’Œä½¿ç”¨ï¼Œå¯ä»¥å¾—å‡ºæœ‰ä¸”ä»…æœ‰ 2 ç§æƒ…å†µä¼šå¯¼è‡´ object å•ä¾‹æå‰è¿›è¡Œåˆå§‹åŒ–ï¼šåå°„è°ƒç”¨ç±»ä¸­å…¶ä»–çš„é™æ€å˜é‡å¯¹äºŽåå°„ï¼Œä¸€ä¸ªå¾ˆå…¸åž‹çš„åº”ç”¨åœºæ™¯å°±æ˜¯ä½¿ç”¨ classpath scanner è¿›è¡Œæ³¨è§£æ‰«æï¼›ä¸è¿‡ï¼ŒJB çš„å·¥ç¨‹å¸ˆæå‡ºï¼Œclasspath scanner å¹¶ä¸éœ€è¦åå°„æ¥å®žçŽ°æ³¨è§£æ‰«æ[1]ï¼›äºŽæ˜¯æˆ‘éšä¾¿æ‰¾äº†ä¸€ä¸ª classpath scanner: fast-classpath-scannerï¼›ç»è¿‡ä½¿ç”¨ä¹‹åŽï¼Œå‘çŽ°å³ä½¿æ‰“å°å‡ºäº†å•ä¾‹çš„ä¿¡æ¯ï¼Œä½†æ˜¯ JVM åªåŠ è½½äº† main æ–¹æ³•çš„ç±»ï¼Œè€Œå¹¶æ²¡æœ‰åŠ è½½å•ä¾‹ã€‚ç›¸å…³çš„ç»“æžœåœ¨ è¿™ä¸ª gist ä¸­ã€‚å•ä¾‹çš„åå­—å« Testï¼Œè€Œ main() æ–¹æ³•ç±»çš„åå­—å« SingletonTestå¯¹äºŽç¬¬äºŒç§æƒ…å†µï¼Œåœ¨ Kotlin ä¸­æ˜¯ä¸å­˜åœ¨çš„ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå¯¹äºŽ Kotlin object ä¸­ï¼Œå£°æ˜Žå€¼çš„æ–¹æ³•åªæœ‰ var val å’Œ const val ä¸‰ç§ï¼›å¯¹äºŽå‰ä¸¤ç§ï¼Œè™½ç„¶åç¼–è¯‘å‡ºæ¥çš„ä»£ç æŒ‡æ˜Žè¿™æ ·çš„ç¡®å®šä¹‰äº†ä¸¤ä¸ªé™æ€çš„å€¼ï¼›var çš„æƒ…å†µï¼šval çš„æƒ…å†µï¼šä½†æ˜¯ï¼Œå½“ä½ ä½¿ç”¨çš„æ—¶å€™ï¼Œå´æ˜¯é€šè¿‡ INSTANCE æ¥å¼•ç”¨çš„ã€‚è¿™æ ·æ— è®ºå¦‚ä½•éƒ½ä¼šå¯¼è‡´å•ä¾‹çš„å®žä¾‹åŒ–ã€‚è€Œä½¿ç”¨ const val çš„ç¡®å¾—åˆ°äº†ä¸€ä¸ª public static çš„å€¼ï¼›ä½†æ˜¯ï¼Œå½“ä½ ä½¿ç”¨çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ›¿æ¢ä¸º å­—é¢é‡ï¼Œä¸ä¼šå¯¼è‡´å•ä¾‹åŠ è½½ï¼›æ‰€ä»¥ï¼Œç»¼ä¸Šæ‰€è¿°ï¼ŒKotlin ä¸­ object å•ä¾‹æ˜¯æ‡’åŠ è½½çš„ã€‚https://discuss.kotlinlang.org/t/kotlin-singleton-implementation/2853/6?u=omysho â†©ï¸Ž]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Retrofit2 + Rxjava2]]></title>
    <url>%2F%2FAndroid%2FRetrofit%2FRetrofit2%20%2B%20Rxjava2%2F</url>
    <content type="text"><![CDATA[Retrofit å’Œ Rxjava ç»“åˆåº”è¯¥ç®—å¾—ä¸Šæ˜¯ Rxjava åœ¨ Android åº”ç”¨å¾—æœ€å¹¿æ³›çš„ä¸€ä¸ªæ–¹é¢äº†ã€‚è¿™é‡Œå°±æ¥è®²è®²å…³äºŽè¿™ä¸¤ä¸ªåº“å…·ä½“ç»„åˆçš„ç”¨æ³•ã€‚ 1. æ·»åŠ ä¾èµ–å…·ä½“éœ€è¦æ·»åŠ çš„ä¾èµ–åº“æœ‰ï¼š Retrofit2ã€Rxjava2ã€RxAndroid2ã€Gson ã€Rtrofit2 åˆ° Rxjava2 çš„è½¬æ¢å™¨ã€Retrofit2 åˆ° Gson çš„è½¬æ¢å™¨123456789// Retrofitcompile 'com.squareup.retrofit2:retrofit:2.2.0'compile group: 'com.squareup.retrofit2', name: 'converter-gson', version: '2.2.0'compile group: 'com.squareup.retrofit2', name: 'adapter-rxjava2', version: '2.2.0'// Rx*compile 'io.reactivex.rxjava2:rxjava:2.1.0'compile 'io.reactivex.rxjava2:rxandroid:2.0.1'compile 'io.reactivex.rxjava2:rxkotlin:2.0.1-RC1'å…¶ä¸­ï¼ŒGson æ˜¯ JSON è§£æžåº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Jackson æ›¿ä»£ï¼›ä¸Šé¢çš„ rxkotlin æ˜¯ Rxjava çš„ Kotlin è½»é‡æ”¯æŒåº“ï¼›å¦‚æžœä¸ä½¿ç”¨ Kotlin å¯ä»¥æ— è§†ã€‚ 2. æž„å»º APIä½¿ç”¨ Retrofit çš„ç¬¬ä¸€æ­¥å½“ç„¶å°±æ˜¯æž„å»º API æŽ¥å£ï¼›ä¸è¿‡æ—¢ç„¶æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Rxjava2ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ª API æŽ¥å£å½“ç„¶å°±ç¨å¾®æœ‰ç‚¹ä¸ä¸€æ ·ï¼š123456interface TrendingApi &#123; @GET("&#123;language&#125;") fun getTrending(@Path("language") language: String = ".", @Query("since") since: String) : Observable&lt;ResponseBody&gt;&#125;å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ API è¿”å›žçš„æ˜¯ä¸€ä¸ª Observable&lt;T&gt; å¯¹è±¡ï¼Œè€Œéžé€šå¸¸çš„ Call&lt;T&gt; å¯¹è±¡ã€‚å¯¹äºŽè¿™ä¸ª Observableï¼Œå‡è®¾æˆ‘ä»¬çš„ Body å¯¹è±¡ä¸º Tï¼Œé‚£ä¹ˆ Observable ä¸€å…±æœ‰ä»¥ä¸‹çš„å‡ ç§å¯èƒ½æƒ…å†µï¼šObservable&lt;T&gt;Observable&lt;Response&lt;T&gt;&gt;Observable&lt;Result&lt;T&gt;&gt;å‰ä¸¤ä¸ªè‡ªç„¶ä¸ç”¨è¯´ï¼Œç¬¬ä¸‰ä¸ª Result æ˜¯ Response&lt;T&gt; å’Œ Throwable çš„åŒ…è£…å¯¹è±¡ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœä½¿ç”¨ Result çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ onNext() ä¸­åŒæ—¶å¤„ç†æ­£å¸¸æƒ…å†µå’Œå¼‚å¸¸æƒ…å†µã€‚æ‰€è°“çš„å¼‚å¸¸æƒ…å†µæŒ‡çš„æ˜¯æŠ›å‡ºäº† Exception 3. ä¸‰ç§ Observable çš„åŒºåˆ«é‚£ä¹ˆè¿™ä¸‰ç§ Observable ç©¶ç«Ÿæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“ adapter-rxjava2 çš„æºç ï¼š123456789101112Observable&lt;Response&lt;R&gt;&gt; responseObservable = isAsync ? new CallEnqueueObservable&lt;&gt;(call) : new CallExecuteObservable&lt;&gt;(call); Observable&lt;?&gt; observable; if (isResult) &#123; observable = new ResultObservable&lt;&gt;(responseObservable); &#125; else if (isBody) &#123; observable = new BodyObservable&lt;&gt;(responseObservable); &#125; else &#123; observable = responseObservable; &#125;ä»Žè¿™æ®µä»£ç å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤çš„æƒ…å†µå°±æ˜¯ Observable&lt;Response&lt;T&gt;&gt;ï¼›è€Œè¿™ä¸ªé»˜è®¤çš„ Observable æ˜¯é€šè¿‡æ‰§è¡Œ CallEnqueueObservable æˆ–è€… CallExecuteObservable å¾—åˆ°çš„ã€‚ç„¶åŽå†é€šè¿‡åˆ¤æ–­ Observable çš„åŒ…è£…çŠ¶æ€ï¼Œå¯¹ä¸Šé¢å¾—åˆ°çš„ Observable&lt;Response&lt;T&gt;&gt; è¿›è¡Œè½¬æ¢ã€‚ 3.1 Observable&lt;T&gt;é¦–å…ˆæ¥çœ‹æˆ‘ä»¬çš„ BodyObservableï¼š123@Override protected void subscribeActual(Observer&lt;? super T&gt; observer) &#123; upstream.subscribe(new BodyObserver&lt;T&gt;(observer));&#125;å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ subscribeActual() ä¸­ï¼Œå¯¹æˆ‘ä»¬ä¼ å…¥çš„ observer å°è£…äº†ä¸€å±‚å¤–å£³ BodyObserverï¼›ç„¶åŽå°†å…¶ä¼ å…¥ä¸Šå±‚çš„ subscribe ä¸­ï¼Œä»¥å¯åŠ¨ç½‘ç»œè¯·æ±‚ã€‚è¿™å±‚å¤–å£³æ­£æ˜¯è¿™ä¸ª Adapter çš„å…³é”®æ‰€åœ¨ï¼Œé€šè¿‡ä½¿ç”¨å¦ä¸€ä¸ªå¯¹è±¡ï¼Œæ¥å¤„ç†ä¸åŒçš„ç½‘ç»œæƒ…å†µï¼Œç„¶åŽå†å§”æ´¾åˆ°æˆ‘ä»¬çœŸæ­£ä¼ å…¥çš„ observer12345678910111213141516171819202122232425262728293031323334353637383940414243444546private static class BodyObserver&lt;R&gt; implements Observer&lt;Response&lt;R&gt;&gt; &#123; private final Observer&lt;? super R&gt; observer; private boolean terminated; BodyObserver(Observer&lt;? super R&gt; observer) &#123; this.observer = observer; &#125; @Override public void onSubscribe(Disposable disposable) &#123; observer.onSubscribe(disposable); &#125; @Override public void onNext(Response&lt;R&gt; response) &#123; if (response.isSuccessful()) &#123; observer.onNext(response.body()); &#125; else &#123; terminated = true; Throwable t = new HttpException(response); try &#123; observer.onError(t); &#125; catch (Throwable inner) &#123; Exceptions.throwIfFatal(inner); RxJavaPlugins.onError(new CompositeException(t, inner)); &#125; &#125; &#125; @Override public void onComplete() &#123; if (!terminated) &#123; observer.onComplete(); &#125; &#125; @Override public void onError(Throwable throwable) &#123; if (!terminated) &#123; observer.onError(throwable); &#125; else &#123; // This should never happen! onNext handles and forwards errors automatically. Throwable broken = new AssertionError( "This should never happen! Report as a bug with the full stacktrace."); //noinspection UnnecessaryInitCause Two-arg AssertionError constructor is 1.7+ only. broken.initCause(throwable); RxJavaPlugins.onError(broken); &#125; &#125;&#125;å¯ä»¥çœ‹åˆ°ï¼Œå…¶å®žè¿™å±‚å£³å¤„ç†çš„å¹¶ä¸æ˜¯æˆ‘ä»¬çš„ Body å¯¹è±¡ï¼Œè€Œæ˜¯ä¹‹å‰ä½¿ç”¨ Call è°ƒç”¨æ—¶è¿”å›žçš„ Response å¯¹è±¡ã€‚æˆ‘ä»¬é‡ç‚¹æ¥çœ‹çœ‹ onNext()ï¼š1234567891011121314@Override public void onNext(Response&lt;R&gt; response) &#123; if (response.isSuccessful()) &#123; observer.onNext(response.body()); &#125; else &#123; terminated = true; Throwable t = new HttpException(response); try &#123; observer.onError(t); &#125; catch (Throwable inner) &#123; Exceptions.throwIfFatal(inner); RxJavaPlugins.onError(new CompositeException(t, inner)); &#125; &#125;&#125;å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆåŠŸè®¿é—®å¹¶å“åº”çš„æ—¶å€™(2xx)ï¼Œç»“æžœè¿”å›žç»™äº†æˆ‘ä»¬çš„ onNext() ï¼›è€Œå½“æˆåŠŸè®¿é—®ä½†ä¸æˆåŠŸå“åº”çš„æ—¶å€™(4xx/5xx)ï¼Œè¿”å›žçš„ç»“æžœé€šè¿‡ HttpException çš„åŒ…è£…ï¼Œç„¶åŽè¿”å›žç»™äº†æˆ‘ä»¬çš„ onError() æ–¹æ³•ã€‚è€Œå½“è¿™ä¸ªå£³å­ä¸­å‡ºçŽ° onError() æ—¶ï¼Œæ„å‘³ç€å¯èƒ½å‡ºçŽ°äº†æ–­ç½‘çš„æƒ…å†µï¼Œæˆ–è€…å…¶ä»–å¼‚å¸¸ï¼›æ­¤æ—¶ä¹Ÿæ˜¯é€šè¿‡ onError() è¿”å›žåˆ°æˆ‘ä»¬çš„è§‚å¯Ÿè€…ä¸­ã€‚ç»“è®ºï¼š2xx ç»“æžœé€šè¿‡ onNext() è¿”å›ž4xx/5xx ç»“æžœé€šè¿‡ onError() è¿”å›žæ–­ç½‘å’Œå…¶ä»–å¼‚å¸¸æƒ…å†µä¹Ÿé€šè¿‡ onError() è¿”å›ž 3.2 Observable&lt;Result&lt;T&gt;&gt;Result æ˜¯ adapter-rxjava2 æ–°å¢žçš„åŒ…è£…ç±»ï¼ŒåŒ…è£…äº† error å’Œ response ï¼›å…³äºŽå®ƒå…·ä½“å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„æºç ï¼šé¦–å…ˆæ˜¯ Result ç±»ï¼Œä¸‹é¢çš„æ˜¯ ResultObservable ä½¿ç”¨åˆ°çš„é™æ€å·¥åŽ‚æ–¹æ³•å’Œ Result çš„æž„é€ å‡½æ•°ï¼š1234567891011121314151617public static &lt;T&gt; Result&lt;T&gt; error(Throwable error) &#123; if (error == null) throw new NullPointerException("error == null"); return new Result&lt;&gt;(null, error);&#125;public static &lt;T&gt; Result&lt;T&gt; response(Response&lt;T&gt; response) &#123; if (response == null) throw new NullPointerException("response == null"); return new Result&lt;&gt;(response, null);&#125;private final Response&lt;T&gt; response;private final Throwable error;private Result(Response&lt;T&gt; response, Throwable error) &#123; this.response = response; this.error = error;&#125;å¯ä»¥çœ‹åˆ°ï¼Œerror å’Œ response æ˜¯ä¸å…±æˆ´å¤©çš„å…³ç³»ï¼Œç¬¦åˆ Retrofit çš„è®¾è®¡ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„ ResultObservable çš„åŒ…è£…ç±»ï¼š1234567891011121314151617181920212223242526272829303132333435 private static class ResultObserver&lt;R&gt; implements Observer&lt;Response&lt;R&gt;&gt; &#123; private final Observer&lt;? super Result&lt;R&gt;&gt; observer; ResultObserver(Observer&lt;? super Result&lt;R&gt;&gt; observer) &#123; this.observer = observer; &#125; @Override public void onSubscribe(Disposable disposable) &#123; observer.onSubscribe(disposable); &#125; @Override public void onNext(Response&lt;R&gt; response) &#123; observer.onNext(Result.response(response)); &#125; @Override public void onError(Throwable throwable) &#123; try &#123; observer.onNext(Result.&lt;R&gt;error(throwable)); &#125; catch (Throwable t) &#123; try &#123; observer.onError(t); &#125; catch (Throwable inner) &#123; Exceptions.throwIfFatal(inner); RxJavaPlugins.onError(new CompositeException(t, inner)); &#125; return; &#125; observer.onComplete(); &#125; @Override public void onComplete() &#123; observer.onComplete(); &#125; &#125;&#125;å¯ä»¥çœ‹åˆ°ï¼Œè¿™å›žï¼Œé‡ç‚¹åœ¨ onError æ–¹æ³•ï¼›é€šè¿‡é‡è½½ onError å¹¶ä½¿ç”¨ Result çš„é™æ€å·¥åŽ‚ï¼›è®©æˆ‘ä»¬çš„ observer ä¹Ÿèƒ½é€šè¿‡ onNext èŽ·å–åˆ°å…·ä½“çš„ Throwableï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ onNext() å¤„ç†ç½‘ç»œé”™è¯¯ã€‚è€Œå½“æ›´ä¸¥é‡çš„é”™è¯¯å‘ç”Ÿæ—¶ï¼ŒonError() æ‰ä¼šè¢«è°ƒç”¨ç»“è®ºï¼šç½‘ç»œå¼‚å¸¸å’Œæ­£å¸¸çš„ç½‘ç»œå†…å®¹éƒ½é€šè¿‡ onNext() è¿›è¡Œå¤„ç†ã€‚ 3.3 Observable&lt;Response&lt;T&gt;&gt; çš„èŽ·å–é‚£ä¹ˆä½œä¸ºå…³é”®çš„ Observable&lt;Response&lt;T&gt;&gt; å¯¹è±¡æ˜¯ä»Žå“ªé‡ŒèŽ·å–çš„å‘¢ï¼Ÿè®©æˆ‘ä»¬å°†ç›®å…‰è½¬å‘åœ¨å¼€å¤´çš„ä¸¤ä¸ª Call å¼€å¤´çš„ Observableï¼›å¾ˆå®¹æ˜“çŸ¥é“ï¼Œä¸€ä¸ªå¯¹åº”äº† Retrofit çš„ call.execute()ï¼›è€Œå¦å¤–ä¸€ä¸ªå¯¹åº”äº† call.enqueue()ä¸ºäº†ç®€ä¾¿ï¼Œæˆ‘ä»¬åªçœ‹ execute() éƒ¨åˆ†çš„æºç ï¼šä¸‹é¢å°±æ˜¯å…³é”®çš„ subscribeActual æ–¹æ³•ï¼š1234567891011121314151617181920212223242526272829@Override protected void subscribeActual(Observer&lt;? super Response&lt;T&gt;&gt; observer) &#123; // Since Call is a one-shot type, clone it for each new observer. Call&lt;T&gt; call = originalCall.clone(); observer.onSubscribe(new CallDisposable(call)); boolean terminated = false; try &#123; Response&lt;T&gt; response = call.execute(); if (!call.isCanceled()) &#123; observer.onNext(response); &#125; if (!call.isCanceled()) &#123; terminated = true; observer.onComplete(); &#125; &#125; catch (Throwable t) &#123; Exceptions.throwIfFatal(t); if (terminated) &#123; RxJavaPlugins.onError(t); &#125; else if (!call.isCanceled()) &#123; try &#123; observer.onError(t); &#125; catch (Throwable inner) &#123; Exceptions.throwIfFatal(inner); RxJavaPlugins.onError(new CompositeException(t, inner)); &#125; &#125; &#125;&#125;å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡è°ƒç”¨ call.execute() èŽ·å– Response å¯¹è±¡ï¼›ç„¶åŽå°†èŽ·å–åˆ°çš„ Response å¯¹è±¡è¿›è¡Œä¼ é€’ï¼Œå°±å®žçŽ°äº†ä¸€ä¸ª Observable çš„åŠŸèƒ½ã€‚ 3.4 åŽŸç†å’Œç»“è®ºé€šè¿‡ä»¥ä¸Šçš„æºç è§£è¯»ï¼Œæˆ‘ä»¬å¾—å‡ºäº† adapter-rxjava2 çš„å…·ä½“åŽŸç†ï¼šé¦–å…ˆé€šè¿‡ CallExecuteObservable èŽ·å–åˆ° Observable&lt;Response&lt;T&gt;&gt; å¯¹è±¡ï¼›ç„¶åŽæ ¹æ®ä¸åŒçš„ Observable ç±»åž‹å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œå˜æ¢ï¼Œæœ€åŽä¼ å‡ºï¼Œå¾—åˆ°äº†æˆ‘ä»¬éœ€è¦çš„ Observableï¼›åœ¨è°ƒç”¨ Observable.subscribe(observer) æ—¶ï¼›é¦–å…ˆæ˜¯æœ€å¤–å±‚çš„ subscribeActual() è¢«è°ƒç”¨ï¼›ç„¶åŽè¢«å±‚å±‚ä¼ é€’ï¼Œç›´åˆ° CallExecuteObservable çš„ subscribeActual() è°ƒç”¨ call.execute()ï¼›ç„¶åŽå°† Response å‘ä¸‹è¿›è¡Œå±‚å±‚ä¼ é€’ï¼Œå®Œæˆäº†æ•´ä¸ªè®¢é˜…æµç¨‹ã€‚ç»“è®ºï¼šåªæœ‰æœ€åŽ subscribe() è°ƒç”¨ï¼Œæ‰ä¼šè§¦å‘ç½‘ç»œè¯·æ±‚åœ¨æ­¤ä¹‹å‰å¯ä»¥å…ˆä¿ç•™ Observable å¯¹è±¡ï¼›ç›´åˆ°éœ€è¦çš„æ—¶å€™å†è¿›è¡Œè°ƒç”¨Observable&lt;T&gt; çš„ 2xx ç»“æžœåœ¨ onNext() è°ƒç”¨ï¼Œ4xx/5xx ç»“æžœåœ¨ onError() è°ƒç”¨Observable&lt;Result&lt;T&gt;&gt; çš„ error å’Œ response éƒ½åœ¨ onNext() è°ƒç”¨ 4. åˆ›å»º Retrofit å®žä¾‹å½“æˆ‘ä»¬çš„ API åˆ›å»ºå¥½ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹åˆ›å»º Retrofit å®žä¾‹ï¼›ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ Rxjavaï¼Œå¿…é¡»ç»™ Retrofit åŠ ä¸Š CallAdapterFactoryï¼š12345private val retrofitBuilder: Retrofit.Builder = Retrofit.Builder() .baseUrl(BASE_URL) .addCallAdapterFactory(RxJava2CallAdapterFactory.create()) .addConverterFactory(GsonConverterFactory.create(gson))è¿™é‡Œæ¥è¯´ä¸€ä¸‹æœ‰å…³ RxJava2CallAdapterFactory çš„å‡ ä¸ª create() çš„åŒºåˆ«ï¼›è¿™ä¸ªå·¥åŽ‚ä¸€å…±æœ‰ä¸‰ä¸ªé™æ€æž„é€ æ–¹æ³•ï¼šcreate()createAsync()createScheduler(scheduler)ç¬¬ä¸€ä¸ªæ˜¯äº§ç”Ÿä¸€ä¸ªåŒæ­¥çš„ Adapterï¼Œç›¸å½“äºŽè°ƒç”¨ call.execute()ï¼›åŒæ—¶ï¼Œä¹Ÿä¸å¯¹ call.execute() çš„çº¿ç¨‹è¿›è¡Œæå‰æŽ§åˆ¶ã€‚ç¬¬äºŒä¸ªæ˜¯äº§ç”Ÿä¸€ä¸ªå¼‚æ­¥çš„ Adapterï¼Œç›¸å½“äºŽè°ƒç”¨ call.enqueue()ï¼›æ­¤æ—¶ï¼ŒObservable çš„ subscribeOn() æ–¹æ³•å¤±æ•ˆç¬¬ä¸‰ä¸ªæ˜¯æŒ‡å®šä¸€ä¸ª Schedulerï¼Œè®© Adapter äº§ç”Ÿçš„ Observable ä¸€å¼€å§‹å°± subscribeOn åˆ°é‚£ä¸ªçº¿ç¨‹ä¸Šã€‚ 5. è°ƒç”¨ç½‘ç»œ APIç»ˆäºŽï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å¯¹æž„å»ºèµ·æ¥çš„ API è¿›è¡Œè°ƒç”¨äº†ï¼Œè°ƒç”¨çš„æ–¹æ³•å’Œ Rxjava çš„æ™®é€šä½¿ç”¨æ— å¼‚ï¼›ä¸‹é¢ç»™å‡ºä¸€ä¸ªåŸºæœ¬çš„ä¾‹å­ï¼š12345ApiManager.createTrendingService(TrendingApi::class) .getTrending(since) .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(observer);è¿™é‡Œï¼Œè®©æˆ‘ä»¬çš„ç½‘ç»œè¯·æ±‚åœ¨ io() çº¿ç¨‹ä¸Šå‘ç”Ÿï¼›ç„¶åŽåœ¨ Android çš„ä¸»çº¿ç¨‹è¿›è¡Œå›žè°ƒï¼›éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ AndroidSchedulers æ¥è¿›è¡Œä¸»çº¿ç¨‹çš„æŒ‡å®šã€‚ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒobserveOn() æ˜¯å¯ä»¥å¤šæ¬¡æŒ‡å®šçš„å¦‚æžœä½ éœ€è¦å¯¹ç»“æžœè¿›è¡Œå˜æ¢æ“ä½œè¯·åŠ¡å¿…å°† observeOn() ç´§æŒ¨åœ¨ subscribe() è¿›è¡Œè®¾ç½®å¦åˆ™å°±ä¼šåœ¨ä¸»çº¿ç¨‹è¿›è¡Œè¯·æ±‚çš„å˜æ¢æ“ä½œ 6. å–æ¶ˆè¯·æ±‚è®²äº†è¿™ä¹ˆå¤šéƒ½æ˜¯åœ¨è®²å‘èµ·è¯·æ±‚ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å–æ¶ˆè¯·æ±‚å‘¢ï¼Ÿæ²¡æœ‰äº† Call å¯¹è±¡ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å–æ¶ˆå·²ç»å‘å‡ºåŽ»çš„è¯·æ±‚å‘¢ï¼Ÿå®žé™…ä¸Š adapter-rxjava2 å·²ç»è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ã€‚åœ¨ CallExecuteObservable ä¸­ï¼Œå®ƒå‘ observer çš„ onSubscribe() ä¼ å…¥äº†ä¸€ä¸ª CallDisposable å¯¹è±¡ï¼›é€šè¿‡è¿™ä¸ª CallDisposableï¼Œå½“æˆ‘ä»¬å–æ¶ˆè®¢é˜…æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨åœ°å°†è¯·æ±‚å–æ¶ˆã€‚123456789101112131415private static final class CallDisposable implements Disposable &#123; private final Call&lt;?&gt; call; CallDisposable(Call&lt;?&gt; call) &#123; this.call = call; &#125; @Override public void dispose() &#123; call.cancel(); &#125; @Override public boolean isDisposed() &#123; return call.isCanceled(); &#125; &#125;æ‰€ä»¥ï¼Œåªè¦åœ¨ onSubscribe() ä¸­èŽ·å–åˆ° Disposable å¯¹è±¡ï¼›é€šè¿‡è°ƒç”¨ dispose() å°±èƒ½å–æ¶ˆè¯·æ±‚ã€‚ 7. å…¶ä»–adapter-rxjava2 é™¤äº†æ”¯æŒ Observable ä»¥å¤–ï¼Œè¿˜æ”¯æŒäº† Flowableã€Single å’Œ Maybe ç­‰å¯¹è±¡ï¼›ç”±äºŽåŽŸç†éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œåœ¨è¿™é‡Œå°±ä¸è¯¦ç»†å±•å¼€äº†ã€‚ä¸è¿‡ï¼Œè¯·åŠ¡å¿…æ³¨æ„ Flowable å’Œ Observable çš„åŒºåˆ«ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>Retrofit</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Rxjava2</tag>
        <tag>Retrofit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Rxjava2 å‘ç‚¹è¯¦è§£]]></title>
    <url>%2F%2FRxjava%2FRxjava2%20%E5%9D%91%E7%82%B9%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[Rxjavaï¼Œæ˜¯ä¸€ä¸ªå“åº”å¼çš„(Reactive)ï¼ŒåŸºäºŽè§‚å¯Ÿè€…æ¨¡å¼çš„å¼‚æ­¥æ¡†æž¶ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„ RxScala å’Œ RxSwift ç­‰ã€‚è¯´èµ·æ¥çŽ°åœ¨å·²ç» 2017 å¹´äº†ï¼Œåº”è¯¥æ²¡æœ‰ä»€ä¹ˆ Java å·¥ç¨‹å¸ˆä¸çŸ¥é“ä»€ä¹ˆæ˜¯ Rxjava äº†å§ç½‘ä¸Šå…³äºŽ Rxjava çš„æ–‡ç« å·²ç»éžå¸¸å¤šäº†ï¼Œ å¦‚æžœä½ æ²¡æœ‰äº†è§£è¿‡ Rxjavaï¼›é‚£ä¹ˆè¯·ç›´æŽ¥åˆ°æ–‡ç« æœ€åŽçœ‹ä¸€äº›èµ„æ–™å’Œæ•™ç¨‹ï¼›è¿™é‡Œå°±ä¸»è¦æ¥è®²è®²ä¸€äº› Rxjava2 çš„å‘ç‚¹ã€‚ 1. Observable å’Œ FlowableRxjava2 æ–°å¢žäº†ä¸€ä¸ª Flowableï¼Œçœ‹èµ·æ¥ API è°ƒç”¨å’Œ Observable ç±»ä¼¼ï¼Œè€Œä¸”å®˜æ–¹çš„ README ä¸Šéƒ½æ˜¯ Flowable çš„ç¤ºä¾‹æ•™ç¨‹ï¼›é‚£ä¹ˆå¾ˆè‡ªç„¶çš„å°±ä¼šè”æƒ³åˆ° Flowable æ˜¯ Obserable çš„æ›¿ä»£ç”¨å“ï¼›å®ƒä»¬çš„ API è°ƒç”¨æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼›å¦‚æžœä½ è¿™ä¹ˆæƒ³é‚£å°±æ˜¯ å¤§é”™ç‰¹é”™ï¼å®ƒä»¬ä¿©å­˜åœ¨ä¸€ä¸ªå¾ˆå¤§çš„åŒºåˆ«å°±æ˜¯å…³äºŽèƒŒåŽ‹é—®é¢˜çš„å¤„ç†ã€‚ 1.1 ä»€ä¹ˆæ˜¯èƒŒåŽ‹(backpressure)åœ¨å¼‚æ­¥ä»»åŠ¡ä¸­ï¼Œç»å¸¸ä¼šå‡ºçŽ°ä¸€ç§æƒ…å†µï¼šç”Ÿäº§è€…ç”Ÿäº§äº§å“è¿‡å¿«ï¼Œè€Œæ¶ˆè´¹è€…æ¶ˆè´¹é€ŸçŽ‡ä¸åŒï¼›å¦‚æžœä¸åšå¤„ç†ï¼Œé‚£ä¹ˆæŽ¥æ”¶ç«¯å°±ä¼šè¢«å‘é€ç«¯æ·¹æ²¡ï¼Œæˆ–è€…å‘é€ç«¯å †ç§¯ä¸€å¤§å †äº‹ä»¶æ— æ³•å¤„ç†ï¼Œæœ€ç»ˆå¯¼è‡´å†…å­˜çˆ†ç‚¸ã€‚åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œå¯¹äºŽè¿™ç§æƒ…å†µçš„æœ€ç®€å•å¤„ç†å°±æ˜¯é‡‡ç”¨åœç­‰æ¨¡åž‹ï¼Œç›´åˆ°æ”¶åˆ°æŽ¥æ”¶ç«¯çš„å›žæŠ¥ä¹‹åŽï¼Œæ‰å‘é€ä¸‹ä¸€ä¸ªæ•°æ®ã€‚è€ŒèƒŒåŽ‹ï¼ŒæŒ‡çš„å°±æ˜¯è¿™æ ·ä¸€ç§å¤„ç†ç­–ç•¥ï¼šé€šè¿‡å°†é»˜è®¤çš„è¢«åŠ¨æŽ¥å—äº‹ä»¶çš„æ¨¡å¼å˜æˆ ä¸»åŠ¨è¯·æ±‚äº‹ä»¶ ï¼Œä»Žè€Œé¿å…æŽ¥æ”¶ç«¯å¤„ç†ä¸åŠè€Œè¢«æ·¹æ²¡æˆ–è€… OOM çš„é—®é¢˜ã€‚ 1.2 å…³äºŽèƒŒåŽ‹çš„ä¸åŒå¤„ç†é‚£ä¹ˆä¸¤è€…å…·ä½“çš„åŒºåˆ«å°±æ˜¯ï¼šFlowable æ˜¯æœ‰èƒŒåŽ‹ç­–ç•¥çš„ï¼Œéœ€è¦ä¸»åŠ¨è¯·æ±‚äº‹ä»¶å‘é€è€Œ Observable æ˜¯æ²¡æœ‰èƒŒåŽ‹ç­–ç•¥çš„ï¼Œäº‹ä»¶ä¼šè‡ªåŠ¨å‘é€ï¼Œå¤šäº†å°±ä¼š OOM 1.3 å…·ä½“çš„ä¾‹å­Observableï¼š12345678910111213141516171819202122Observable.just(1, 2, 3, 4, 5) .subscribe(new Observer&lt;Integer&gt;() &#123; @Override public void onSubscribe(Disposable d) &#123; // Disposable ç”¨æ¥å–æ¶ˆè®¢é˜… &#125; @Override public void onNext(Integer value) &#123; &#125; @Override public void onError(Throwable e) &#123; &#125; @Override public void onComplete() &#123; &#125; &#125;)Observable å¯¹åº”çš„æ˜¯ Observerï¼›è¿™ä¸ªå†™æ³•æ˜¯æ²¡æœ‰èƒŒåŽ‹æŽ§åˆ¶çš„ï¼Œå¦‚æžœäº‹ä»¶è¿‡å¤šä¼š OOMFlowableï¼š123456789101112131415161718192021222324252627Flowable.just(1, 2, 3, 4, 5).subscribe(new Subscriber&lt;Integer&gt;() &#123; Subscription sub; //å½“è®¢é˜…åŽï¼Œä¼šé¦–å…ˆè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå…¶å®žå°±ç›¸å½“äºŽonStart()ï¼Œ //ä¼ å…¥çš„Subscription så‚æ•°å¯ä»¥ç”¨äºŽè¯·æ±‚æ•°æ®æˆ–è€…å–æ¶ˆè®¢é˜… @Override public void onSubscribe(Subscription s) &#123; Log.w("TAG","onsubscribe start"); sub=s; sub.request(1); Log.w("TAG","onsubscribe end"); &#125; @Override public void onNext(Integer o) &#123; Log.w("TAG","onNext---&gt;"+o); sub.request(1); &#125; @Override public void onError(Throwable t) &#123; t.printStackTrace(); &#125; @Override public void onComplete() &#123; Log.w("TAG","onComplete"); &#125;&#125;);Flowable å¯¹åº”çš„æ˜¯ Subscriberå¯ä»¥çœ‹åˆ°ï¼Œåœ¨å…·ä½“çš„å›žè°ƒæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ request() æ¥æŒ‡ç¤ºä¸Šæ¸¸çš„æ•°æ®ä¼ è¾“ã€‚å¦åˆ™ï¼Œ æ•°æ®æ˜¯ä¸ä¼šè‡ªåŠ¨ä¼ è¾“çš„ã€‚è¿˜æœ‰ä¸€ä¸ªæœ‰è¶£çš„åœ°æ–¹åœ¨äºŽä¸Šé¢ä»£ç çš„è¾“å‡ºç»“æžœï¼š12345678onsubscribe startonNext---&gt;0onNext---&gt;1onNext---&gt;2...onNext---&gt;10onCompleteonsubscribe endå¯ä»¥çœ‹åˆ°ï¼ŒonNext åœ¨ onSubscribe æ–¹æ³• å¹¶æ²¡æœ‰æ‰§è¡Œå®Œæ¯• å°±å¼€å§‹è°ƒç”¨äº†ã€‚å…·ä½“æ¥è¯´ï¼Œæ˜¯åœ¨ request() ä¹‹åŽï¼ŒonNext æ–¹æ³•å°±ç«‹å³è¢«æ‰§è¡Œäº†ï¼›ä¸è¿‡åœ¨å®žè·µä¸­ä¹Ÿä¸ä¸€å®šæ˜¯è¿™æ ·çš„ç»“æžœæ‰€ä»¥åƒä¸‡è¦æ³¨æ„ï¼Œåœ¨ request() ä¹‹å‰å°±è¦å°†æ‰€æœ‰çš„åˆå§‹åŒ–å·¥ä½œåšå¥½ã€‚ 2. çº¿ç¨‹è°ƒåº¦èƒ½å¤Ÿå¯¹çº¿ç¨‹è¿›è¡Œè‡ªç”±è°ƒåº¦æ˜¯ Rxjava çš„ä¸€å¤§ä¼˜åŠ¿ï¼›ä½†æ˜¯ï¼Œç”±äºŽ Rxjava çš„ API æ˜¯æµå¼è°ƒç”¨ï¼Œæ‰€ä»¥å¾ˆå¯èƒ½ä¼šå‡ºçŽ°çº¿ç¨‹è°ƒåº¦çš„å‘ã€‚å…·ä½“æ¥è¯´ï¼ŒRxjava é€šè¿‡ subscribeOn() å’Œ observeOn() æ¥å®žçŽ°å¯¹çº¿ç¨‹çš„è°ƒåº¦ï¼›å…¶ä¸­ï¼ŒsubscribeOn() æŒ‡å®šçš„æ˜¯æ•°æ®çš„ç”Ÿäº§çº¿ç¨‹ï¼›observeOn() æŒ‡å®šçš„æ˜¯æ•°æ®çš„æ¶ˆè´¹çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„åŒºåˆ«åœ¨äºŽï¼šsubscribeOn() åªèƒ½æŒ‡å®šä¸€æ¬¡å¦‚æžœå¤šæ¬¡æŒ‡å®šï¼Œåˆ™ä»¥ç¬¬ä¸€æ¬¡ä¸ºå‡†observeOn() å¯ä»¥æŒ‡å®šå¤šæ¬¡æ¯æŒ‡å®šä¸€æ¬¡ï¼Œå…¶ä¹‹åŽæµå¼æ“ä½œæ‰€åœ¨çš„çº¿ç¨‹å°±ä¼šæ˜¯æŒ‡å®šçš„çº¿ç¨‹ä¸¾ä¸ªä¾‹å­ï¼š1234567891011121314Observable.just(getFilePath()) //æŒ‡å®šåœ¨æ–°çº¿ç¨‹ä¸­åˆ›å»ºè¢«è§‚å¯Ÿè€… .subscribeOn(Schedulers.newThread()) //å°†æŽ¥ä¸‹æ¥æ‰§è¡Œçš„çº¿ç¨‹çŽ¯å¢ƒæŒ‡å®šä¸ºioçº¿ç¨‹ .observeOn(Schedulers.io()) //mapå°±å¤„åœ¨ioçº¿ç¨‹ .map(mMapOperater) //å°†åŽé¢æ‰§è¡Œçš„çº¿ç¨‹çŽ¯å¢ƒåˆ‡æ¢ä¸ºä¸»çº¿ç¨‹ï¼Œ //ä½†æ˜¯è¿™ä¸€å¥ä¾ç„¶æ‰§è¡Œåœ¨ioçº¿ç¨‹ .observeOn(AndroidSchedulers.mainThread()) //æŒ‡å®šçº¿ç¨‹æ— æ•ˆï¼Œä½†è¿™å¥ä»£ç æœ¬èº«æ‰§è¡Œåœ¨ä¸»çº¿ç¨‹ .subscribeOn(Schedulers.io()) //æ‰§è¡Œåœ¨ä¸»çº¿ç¨‹ .subscribe(mSubscriber) 3. å‚è€ƒèµ„æ–™ç»™ Android å¼€å‘è€…çš„ RxJava è¯¦è§£å…³äºŽRxJavaæœ€å‹å¥½çš„æ–‡ç« å…³äºŽRxJavaæœ€å‹å¥½çš„æ–‡ç« ï¼ˆè¿›é˜¶ï¼‰å…³äºŽRxJavaæœ€å‹å¥½çš„æ–‡ç« â€”â€”èƒŒåŽ‹ï¼ˆBackpressureï¼‰å…³äºŽ RxJava æœ€å‹å¥½çš„æ–‡ç« â€”â€” RxJava 2.0 å…¨æ–°æ¥è¢­]]></content>
      <categories>
        <category>Rxjava</category>
      </categories>
      <tags>
        <tag>Rxjava2</tag>
        <tag>Rxjava</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin Scoping å‡½æ•°]]></title>
    <url>%2F%2FKotlin%2FKotlin%20Scoping%20%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[åœ¨ Kotlin çš„ Standard.kt ä¸­æä¾›äº†ä¸€äº›ç‰¹æ®Šçš„é«˜é˜¶å‡½æ•°ï¼›å®ƒä»¬è¢«ç§°ä½œ Scoping å‡½æ•°ï¼Œæ­¤ç±»å‡½æ•°é€šè¿‡ä½¿ç”¨ä¸€ä¸ªå‡½æ•° blockï¼Œå°†ä½ éœ€è¦å¯¹æŸå¯¹è±¡è¿›è¡Œçš„ä¸€ç³»åˆ—æ“ä½œé™åˆ¶åœ¨ lambda ä½œç”¨åŸŸå†…ï¼›è¿™æ ·ï¼Œå¯¹äºŽè¯¥å¯¹è±¡æ“ä½œçš„ä»£ç å°±ä¸ä¼šæ³„éœ²åˆ°å¤–å±‚ä½œç”¨åŸŸï¼Œä½¿å¾—ä»£ç æ›´ä¸ºå¹²å‡€æ•´æ´ã€‚ä¾‹å¦‚ï¼š123DbConnection.getConnection().let &#123; connection -&gt;&#125;// connection is no longer visible hereå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºŽ connection çš„æ“ä½œå°±ä»…å±€é™äºŽ let çš„ lambda åŒºåŸŸï¼Œè€Œåœ¨ lambda åŒºåŸŸå¤–æ˜¯ä¸å¯è§çš„ï¼›è¿™å°±å¯ä»¥ä¿è¯å¯¹ connection çš„æ“ä½œï¼Œä¸ä¼šå½±å“åˆ°æŽ¥ä¸‹æ¥çš„ä½œç”¨åŸŸã€‚ 1. let 1.1 å®šä¹‰1public inline fun &lt;T, R&gt; T.let(f: (T) -&gt; R): R = f(this) 1.2 ä¾‹å­12val s = "hoge".let &#123; it.toUpperCase() &#125;println(s) //=&gt; HOGEä»Žå®šä¹‰ä¹‹ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œlet æ˜¯æ‰€æœ‰ç±»åž‹éƒ½å…·æœ‰çš„æ‰©å±•å‡½æ•°ï¼›å®ƒçš„ lambda çš„å‚æ•°å°±æ˜¯ let çš„è°ƒç”¨è€…ã€‚ 1.3 ä¸»è¦ç”¨é€”let çš„ä¸»è¦ç”¨é€”åœ¨ Kotlin çš„ Idioms ä¸­æœ‰ä»‹ç»ï¼›ä¸»è¦å°±æ˜¯ç”¨äºŽåœ¨å¯¹è±¡ nullable çš„æ—¶å€™ï¼Œå¯¹å¯¹è±¡è¿›è¡Œæ“ä½œï¼›123data?.let &#123; ... // execute this block if not null&#125;å½“ data ä¸º null æ—¶ï¼Œlet å°±ä¸æ‰§è¡Œï¼Œè€Œç›´æŽ¥è¿”å›ž nullï¼›å¦åˆ™å°±æ‰§è¡Œ let çš„ lambdaã€‚æ­¤æ—¶ï¼Œå®ƒä¸Ž Java Optional çš„ä»¥ä¸‹ä¸‰ä¸ªå‡½æ•°çš„åŠŸèƒ½ç±»ä¼¼ï¼šmapflatMapifPresentå¯ä»¥çœ‹åˆ°ï¼Œlet å®žé™…ä¸Šå°±ç›¸å½“äºŽé›†åˆä¸­çš„ mapï¼Œä½œç”¨å°±æ˜¯è¿›è¡Œå…ƒç´ çš„å˜æ¢åŠŸèƒ½ï¼›æ³¨æ„ï¼Œä¸èƒ½åœ¨ let ä¸­è°ƒç”¨ it çš„ä¿®æ”¹æ–¹æ³•ï¼›å¦åˆ™ï¼Œå°±ä¼šå¯¹åŽŸæœ‰å¯¹è±¡è¿›è¡Œæ”¹å˜ã€‚ 2. with 2.1 å®šä¹‰1public inline fun &lt;T, R&gt; with(receiver: T, f: T.() -&gt; R): R = receiver.f() 2.2 ä¾‹å­123456val w = Window()with(w) &#123; setWidth(100) setHeight(200) setBackground(RED)&#125;å’Œ let ä¸åŒï¼Œwith å¹¶ä¸æ˜¯æ‰©å±•å‡½æ•°ï¼›å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯ä»»æ„ç±»åž‹çš„å¯¹è±¡ï¼Œå¦‚ä¸Šé¢çš„ xï¼›éœ€è¦æ³¨æ„çš„æ˜¯å®ƒçš„ lambda éƒ¨åˆ†ï¼Œå®ƒçš„ lambda è¦æ±‚æŽ¥æ”¶è€…ï¼ˆè°ƒç”¨è€…ï¼‰å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°çš„ç±»åž‹ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®ƒçš„ lambda ä¸­è°ƒç”¨ç¬¬ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•ï¼›æ­£å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå…¶ä¸­çš„å‡ ä¸ª set æ–¹æ³•éƒ½éšå«äº†è°ƒç”¨è€…æ˜¯ w 2.3 ä¸»è¦ç”¨é€”ç”±äºŽæŒ‡å®šäº†æŽ¥æ”¶è€…ç±»åž‹ï¼Œæ‰€ä»¥ with å‡½æ•°ä¸»è¦ç”¨äºŽå¯¹å¤æ‚å¯¹è±¡çš„ä¸€ç³»åˆ—é…ç½®æ“ä½œã€‚å¦‚ä¸Šé¢çš„è®¾ç½® Window çš„å®½åº¦å’Œé«˜åº¦ï¼Œä»¥åŠèƒŒæ™¯é¢œè‰²ç­‰ã€‚å¯ä»¥çœ‹åˆ°ï¼Œwith çš„è°ƒç”¨ ä¼šæ”¹å˜ä¼ å…¥çš„å¯¹è±¡å®žé™…ä¸Šï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨ let å‡½æ•°è¿›è¡Œè¿™ç§æ“ä½œï¼›ä¸è¿‡ç”±äºŽ let å‡½æ•°æ˜¯å°†å¯¹è±¡å½“åš å‚æ•° ä¼ å…¥ï¼Œæ‰€ä»¥å¦‚æžœè¦èŽ·å¾—å’Œ with ä¸€æ ·çš„æ•ˆæžœï¼Œå°±å¿…é¡»åœ¨å‰é¢åŠ  itï¼šæ‰€ä»¥ï¼Œlet å¹¶ä¸é€‚åˆè¿™é‡Œæ‰€è¯´çš„è¿™ä¸ªç”¨é€”ï¼Œåˆ©ç”¨ let è¿›è¡Œå…ƒç´ å˜æ¢å³å¯ã€‚ 3. run 3.1 å®šä¹‰1public inline fun &lt;T, R&gt; T.run(f: T.() -&gt; R): R = f() 3.2 ä¾‹å­12val s = "hoge".run &#123; toUpperCase() &#125;println(s) //=&gt; HOGEå¯ä»¥çœ‹åˆ°ï¼Œrun å®žé™…ä¸Šå°±æ˜¯ let å’Œ with çš„ç»“åˆï¼›å¯ä»¥è®© with ä¸éœ€è¦æŒ‡å®š receiver å‚æ•°å°±è¿›è¡Œå¯¹è±¡å†…éƒ¨å±žæ€§çš„é…ç½®ï¼›åŒæ—¶ï¼Œrun ä¹Ÿæ˜¯ä¸€ä¸ªæ‰©å±•å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡ä»»ä½•çš„ç±»è¿›è¡Œè°ƒç”¨ã€‚ 3.3 ä¸»è¦ç”¨é€”ä½œä¸º let å’Œ with çš„åˆä½“æ–¹æ³•ï¼Œé‚£ä¹ˆæœ€ä¸»è¦çš„ç”¨é€”å½“ç„¶è¿˜æ˜¯è¿›è¡ŒæŸä¸ªå¯¹è±¡çš„é…ç½®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œrun ä¹Ÿä¼šå¯¹å¯¹è±¡è¿›è¡Œæ”¹å˜ã€‚ 4. apply 4.1 å®šä¹‰1public inline fun &lt;T&gt; T.apply(f: T.() -&gt; Unit): T &#123; f(); return this &#125; 4.2 ä¾‹å­12val s = "hoge".apply &#123; toUpperCase() &#125;println(s) //=&gt; hogeç›¸æ¯”ä¹‹å‰çš„ç»“æžœï¼Œè¿”å›žçš„ä¾æ—§æ˜¯å°å†™å­—ç¬¦ï¼›è¿™æ˜¯ç”±äºŽ apply è¿”å›žçš„æ˜¯ apply çš„è°ƒç”¨è€…çš„ç¼˜æ•…ã€‚ 4.3 ä¸»è¦ç”¨é€”ç”±äºŽ apply çš„è¿”å›žç±»åž‹ä¸ºè°ƒç”¨è€…è‡ªèº«ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨ apply å®žçŽ°ä¸€ä¸ª æµå¼ API è°ƒç”¨ã€‚å®žé™…ä¸Šå°±æ˜¯ with æœ€åŽè¿”å›ž this çš„ç®€ç•¥ç‰ˆæœ¬ã€‚ 5. alsoè¿™æ˜¯ Kotlin 1.1 æ–°å¢žçš„ scoping å‡½æ•° 5.1 å®šä¹‰1public inline fun &lt;T&gt; T.also(block: (T) -&gt; Unit): T &#123; block(this); return this &#125; 5.2 ä½¿ç”¨ä¾‹å­12val s = "hoge".also &#123; it.toUpperCase() &#125;println(s) //=&gt; hogeå¯ä»¥çœ‹åˆ°ï¼Œå…¶ä½œç”¨å’Œ apply ä¸€æ ·ï¼›ä½†æ˜¯å’Œ apply çš„åŒºåˆ«åœ¨äºŽï¼Œalso çš„å‡½æ•°å‚æ•°å¹¶éžæŒ‡å®šæŽ¥æ”¶è€…ï¼›è€Œæ˜¯å°†è°ƒç”¨è€… T å½“åšå…¶å‚æ•°ä¼ å…¥ lambdaï¼›ç±»ä¼¼äºŽ let çš„ apply ç‰ˆæœ¬ã€‚ 5.3 ä¸»è¦ç”¨é€”é‚£ä¹ˆè¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿé¦–å…ˆï¼Œç”±äºŽ æ²¡æœ‰æŒ‡å®šæŽ¥æ”¶è€…ï¼Œæ‰€ä»¥ lambda å†…å¤–çš„ this çš„å«ä¹‰æ²¡æœ‰æ”¹å˜ï¼š12345678910111213141516// applyã‚’ä½¿ç”¨val button = Button(this).apply &#123; text = "Click me" setOnClickListener &#123; startActivity(Intent(this@MainActivity, NextActivity::class.java)) // å˜ãªã‚‹ã€Œthisã€ã§ã¯NG ^ &#125;&#125;// alsoã‚’ä½¿ç”¨val button = Button(this).also &#123; button -&gt; button.text = "Click me" button.setOnClickListener &#123; startActivity(Intent(this, NextActivity::class.java)) &#125;&#125;å…¶æ¬¡ï¼Œå¯ä»¥é€šè¿‡èµ‹äºˆ lambda å‚æ•°åå­—ï¼Œä¾‹å¦‚ä¸Šé¢çš„ button ï¼Œå¢žå¼ºå¯è¯»æ€§ã€‚ 5.4 å’Œ let çš„åŒºåˆ«also å’Œ let éƒ½æ˜¯é€šè¿‡å°†è°ƒç”¨è€…ä½œä¸º lambda çš„å‚æ•°ä¼ å…¥å‡½æ•°çš„å½¢å¼è¿›è¡Œè°ƒç”¨ï¼›å…¶åŒºåˆ«å°±åœ¨äºŽ also æœ€ç»ˆè¿”å›žå€¼ä¸ºå…¶è‡ªèº«çš„è°ƒç”¨è€…ï¼Œå³ thisï¼›è€Œ let çš„æœ€ç»ˆè¿”å›žå€¼ç”±å®ƒçš„ lambda çš„æœ€åŽä¸€ä¸ªè¡¨è¾¾å¼çš„è¿”å›žå€¼å†³å®šã€‚ç±»ä¼¼äºŽ apply å’Œ with çš„åŒºåˆ«ï¼›åŒç†ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ let æ¥å®žçŽ°ä¸Šé¢çš„ also å®žçŽ°çš„åŠŸèƒ½ï¼š1234567val button = Button(this).let &#123; button -&gt; button.text = "Click me" button.setOnClickListener &#123; startActivity(Intent(this, NextActivity::class.java)) &#125; button // letã®å ´åˆã¯ã“ã‚ŒãŒå¿…è¦ã«ãªã‚‹&#125; 6. æ€»ç»“let ç”¨äºŽè¿›è¡Œå…ƒç´ å˜æ¢æ“ä½œï¼Œç±»ä¼¼äºŽ mapwith ç”¨äºŽå¯¹å¤æ‚å¯¹è±¡çš„é…ç½®ï¼Œéœ€è¦æä¾›å…·ä½“çš„å¯¹è±¡run æ˜¯ with çš„ let ç‰ˆæœ¬ï¼Œé…ç½®å¯¹è±¡å±žæ€§ï¼Œä¸éœ€è¦æä¾›å…·ä½“å¯¹è±¡apply æ˜¯ with çš„æµå¼ API ç‰ˆæœ¬also æ˜¯ let çš„ apply ç‰ˆæœ¬ï¼Œç”¨äºŽå¯¹è±¡é…ç½®ï¼ŒåŒæ—¶ä¿ç•™æµå¼ API å’Œ å½“å‰ this çš„å«ä¹‰ 7. å‚è€ƒèµ„æ–™Kotlin ã‚¹ã‚³ãƒ¼ãƒ—é–¢æ•° ç”¨é€”ã¾ã¨ã‚Exploring the Kotlin standard library]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala for-comprehension]]></title>
    <url>%2F%2FScala%2FScala%20for-comprehension%2F</url>
    <content type="text"><![CDATA[Scala ä½œä¸ºå‡½æ•°å¼è¯­è¨€ï¼Œæä¾›äº†å¾ˆå¤šç”¨äºŽé«˜é˜¶å‡½æ•°æ¥è§£å†³ä¸€ç±»èŒƒå¼é—®é¢˜ï¼›ä½†æ˜¯ï¼Œä½¿ç”¨è¿‡å¤šçš„é«˜é˜¶å‡½æ•°å°±ä¼šè®©ä»£ç çš„å¯è¯»æ€§å˜å·®ï¼›æ‰€ä»¥ï¼Œå¯¹æ­¤ Scala æä¾›äº†ä¸€ç§ç±» Python çš„ç®€ä¾¿çš„è¯­æ³•ç³–ï¼Œç”¨æ¥è§£å†³ä»£ç çš„å¯è¯»æ€§é—®é¢˜ã€‚ 1. é—®é¢˜èƒŒæ™¯åœ¨è¿™é‡Œä¸¾ä¸€ä¸ª Effective Scala ä¸­çš„ä¾‹å­ï¼šæ¯”å¦‚è¯´ï¼Œæˆ‘è¦åˆ—å‡ºæ‰€æœ‰ä¸åŒå­—æ¯ç»„æˆçš„ pairï¼Œé‚£ä¹ˆè¯¥æ€Žä¹ˆåŠžå‘¢ï¼Ÿå¦‚æžœç”¨ Java çš„è¯ï¼Œå°±ä¼šæœ‰ä¸¤å±‚ forï¼Œé‚£ä¹ˆåœ¨ Scala ä¸‹ï¼Œæˆ‘ä»¬å°±åº”è¯¥ç”¨åˆ° flatMapï¼š1234567val chars = 'a' to 'z'chars flatMap &#123; a =&gt; chars flatMap &#123; b =&gt; Vector("%c%c".format(a, b)) &#125;&#125; filter &#123; s =&gt; s.head != s.last &#125;è¿™é‡Œç”¨åˆ°äº†ä¸¤ä¸ª flatMapï¼Œä¸ºä»€ä¹ˆï¼Ÿé¦–å…ˆï¼Œå¦‚æžœéƒ½ä½¿ç”¨ mapï¼Œé‚£ä¹ˆå†…éƒ¨çš„ map å°†å…ƒç´ è½¬å˜ä¸ºäº† Vectorï¼›è€Œ char ä½œä¸º Rangeï¼Œä¼šé»˜è®¤é€‰æ‹© Vector ä½œä¸º map çš„é€‰é¡¹ï¼›æ­¤æ—¶ï¼Œ a è½¬æ¢æˆçš„ä¸œè¥¿å°±å˜æˆäº† Vector[Vector[String]]ï¼›è€Œ chars åˆä¼šé»˜è®¤ç”Ÿæˆä¸€å±‚ Vectorï¼›æ‰€ä»¥ï¼Œæœ€åŽç”Ÿæˆçš„ä¸œè¥¿å°±ä¼šæœ‰ä¸‰å±‚ Vectorï¼Œå³ Vector[Vector[Vector(String)]]ï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤æ¬¡ flatten è¿›è¡Œå±•å¹³ï¼Œæ‰èƒ½æœ€ç»ˆå¾—åˆ° Vector(String)ï¼›è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆéœ€è¦ä¸¤æ¬¡ flatMap çš„åŽŸå› ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æžœé‡‡ç”¨ flatMapï¼Œé‚£ä¹ˆæ“ä½œå°±ä¼šå˜å¾—ååˆ†éš¾ä»¥ç†è§£ã€‚ 2. for-comprehensionå¯¹æ­¤ï¼ŒScala æä¾›äº†ä¸€ç§ç®€ä¾¿çš„ï¼Œç”¨äºŽç”Ÿæˆ Seq çš„ for è¡¨è¾¾å¼ï¼›é€šå¸¸ç§°ä¸º for-comprehensionï¼Œä¹Ÿç§°ä¸º Sequence Comprehensionï¼Œæˆ–è€… for expressionã€‚å®ƒçš„è¯­æ³•ç»“æž„å¦‚ä¸‹ï¼š1for (s) yield eå…¶ä¸­ï¼Œs è¢«ç§°ä½œ enumeratorsï¼Œe åˆ™æ˜¯éåŽ†ç”Ÿæˆçš„å…ƒç´ ï¼›è¡¨è¾¾å¼å¯¹äºŽ s æœ‰ä»¥ä¸‹å‡ ç‚¹è¦æ±‚ï¼šs æ˜¯ generator å’Œ filter ç»„æˆçš„ï¼Œä»¥åˆ†å·é—´éš”çš„è¯­å¥åºåˆ—ã€‚genrator çš„å½¢å¼ä¸ºï¼š p &lt;- cã€‚å…¶ä¸­ p æ˜¯ä¸€ä¸ªæ¨¡å¼(pattern)ï¼Œc åˆ™æ˜¯ä¸€ä¸ªé›†åˆfilter çš„å½¢å¼ä¸º if conditionï¼Œå…¶ä¸­ condition æ˜¯ä¸ªå¸ƒå°”è¡¨è¾¾å¼å…è®¸å¤šä¸ª generatorï¼Œä½†æ˜¯åœ¨ä¸‹é¢çš„ generator å¿…é¡»æ¯”åœ¨ä¸Šé¢çš„è¦å˜åŒ–çš„å¿«ã€‚æ¢æˆæŒ‡ä»¤æ€§è¯­è¨€çš„è¯ï¼Œå°±æ˜¯åœ¨ä¸‹é¢çš„ generator å¿…é¡»åœ¨æ›´å†…éƒ¨çš„ for å¾ªçŽ¯ä¸­ã€‚ç»è¿‡æ‰§è¡Œä¹‹åŽï¼Œè¿™ä¸ªè¡¨è¾¾å¼ä¼šè¿”å›žä¸€ä¸ªç”± e ç»„æˆçš„é›†åˆï¼›å…·ä½“è¿”å›žçš„é›†åˆç±»åž‹ï¼Œä¾‹å¦‚ List å’Œ Vectorï¼Œåˆ™ç”± s æ¥å†³å®šï¼›å¦‚æžœç±»åž‹ä¸èƒ½æ»¡è¶³ï¼Œåˆ™ä¼šå‘ç±»åž‹ç»“æž„çš„ä¸Šä¸€å±‚å›žæº¯ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæœ€æŽ¥è¿‘çš„æ»¡è¶³è¦æ±‚çš„ç±»åž‹ä¸ºæ­¢ã€‚åŒæ—¶ï¼Œfor-comprehension å¯ä»¥ä½¿ç”¨èŠ±æ‹¬å·ä»£æ›¿åœ†æ‹¬å·ï¼Œæ­¤æ—¶ï¼Œå°±ä¸éœ€è¦ç”¨åˆ†å·æ¥åˆ†éš”è¯­å¥äº†ã€‚ 3. ä½¿ç”¨ for-comprehension è§£å†³é—®é¢˜é‚£ä¹ˆï¼Œå¯¹äºŽä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¯•ç€ä½¿ç”¨ for-comprehension æ¥è§£å†³ï¼š1234567val chars = 'a' to 'z'for &#123; a &lt;- chars b &lt;- chars if (a != b)&#125; yield "%c%c".format(a, b)å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ for-comprehension æ¥è§£å†³ï¼Œå†™å‡ºæ¥çš„ä»£ç ä¼šæ¯” flatMap ç®€å•å¾—å¤šã€‚ 4. å…³äºŽè¿”å›žç±»åž‹å¯¹äºŽä¸Šé¢çš„è¡¨è¾¾å¼ï¼Œå®ƒçš„è¿”å›žç±»åž‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®žé™…ä¸Šï¼Œæ˜¯ä¸€ä¸ª Vectorã€‚ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ª Vector ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œchars å®žé™…ä¸Šæ˜¯ä¸€ä¸ª Range å¯¹è±¡ï¼›è€Œå¯¹äºŽ Range å¯¹è±¡ï¼Œå®ƒä¸èƒ½æ‹¥æœ‰ä¸€å † Stringï¼›æ­¤æ—¶ï¼ŒScala ç¼–è¯‘å™¨ä¼šåœ¨ç±»åž‹ç»“æž„ä¸­å‘ä¸Šå¯»æ‰¾æœ€è¿‘çš„æ»¡è¶³æ¡ä»¶çš„ç±»åž‹ï¼›æ­¤æ—¶ï¼Œå¯»æ‰¾åˆ°çš„æ˜¯ IndexedSeqï¼Œè€Œè¿™ä¸ªç±»åž‹çš„é»˜è®¤ Seq å®žçŽ°å°±æ˜¯ Vector]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala List é«˜é˜¶å‡½æ•°]]></title>
    <url>%2F%2FScala%2FScala%20List%20%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[é«˜é˜¶å‡½æ•°æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªå¾ˆå¤§çš„ç‰¹æ€§ï¼›åŒæ—¶ï¼Œå…¶ä¸­é›†åˆç±»çš„é«˜é˜¶å‡½æ•°åœ¨æ—¥å¸¸çš„å¼€å‘å’Œä½¿ç”¨ä¸­ï¼Œå äº†ä¸€ä¸ªå¾ˆé‡è¦çš„ä½ç½®ï¼›ä½†æ˜¯ï¼Œè¿™äº›å‡½æ•°æœ‰å¯èƒ½ä¼šåœ¨åˆšæŽ¥è§¦çš„æ—¶å€™æžä¸æ‡‚å®ƒä»¬çš„å…·ä½“ä½œç”¨ï¼›é‚£ä¹ˆä»Šå¤©å°±ä»¥ List æ¥è¯´ä¸€è¯´å¸¸ç”¨çš„é«˜é˜¶å‡½æ•°å…·ä½“çš„ä½œç”¨ã€‚ 1. å­é›†æ“ä½œåœ¨ä¸€ä¸ªé›†åˆä¸­é€‰å–ä¸€äº›ç‰¹å®šçš„å…ƒç´ ä½œä¸ºå­é›†ï¼›æˆ‘ä»¬åœ¨æŒ‡ä»¤æ€§è¯­è¨€ä¸­ï¼Œé€šå¸¸é€‰ç”¨ for è¯­å¥æ¥å®žçŽ°è¿™ä¸ªéœ€æ±‚ï¼›è€Œåœ¨å‡½æ•°å¼è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬æœ‰å¯¹åº”çš„é«˜é˜¶å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 1.1 filter(p: (T) =&gt; Boolean)é¡¾åæ€ä¹‰ï¼Œ è¿‡æ»¤å™¨ï¼Œç”¨æ¥ é€‰å–ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œ å¹¶å°†å…¶ä½œä¸ºè¿”å›žå€¼ï¼›è¿™é‡Œçš„ ç¬¦åˆæ¡ä»¶ æŒ‡çš„æ˜¯ ä½¿å¾—å‡½æ•° p çš„è¿”å›žå€¼ä¸º true çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼š123val list = List(1, 2, 3, 4)list.filter((x) =&gt; x &gt; 2) // List(3, 4) 1.2 filterNot(p: (T) =&gt; Boolean)åŒç†ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ä¸Šé¢çš„åé¢ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¥ è¿‡æ»¤æŽ‰ ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼›è¿”å›žçš„æ˜¯ï¼Œ ä¸åŒ…å«ç¬¦åˆå…ƒç´ çš„å­é›†ï¼›ä¾‹å¦‚ï¼š123val list = List(1,2,2,3)list.filterNot((x) =&gt; x == 2) // List(1, 3) 1.3 partition(p: (T) =&gt; Boolean)è¿™ä¸ªå‡½æ•°æ˜¯ä¸Šé¢ä¸¤ä¸ªå‡½æ•°çš„é›†åˆä½“ï¼Œè¿”å›žçš„æ˜¯ä¸€ä¸ª Turpleï¼ŒåŒ…å«çš„å…ƒç´ ä¸ºï¼š1(list.filter, list.filterNot)ä¾‹å¦‚ï¼š1234val list = List(1, 2, 3, 4, 5, 6, 7)// Returns: (List(1, 2, 3), List(4, 5, 6, 7))list.partition((x) =&gt; x &lt; 4) 1.4 takeWhile(p: (T) =&gt; Boolean)è¿™ä¸ªå‡½æ•°ä¼šä¸€ç›´é€‰å–å…ƒç´ ï¼Œ ç›´åˆ° p çš„è¿”å›žå€¼ä¸º falseï¼Œç„¶åŽå°†å…ƒç´ ä½œä¸ºæ–°çš„é›†åˆè¿”å›žã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›žçš„å°±æ˜¯ ç¬¦åˆæ¡ä»¶çš„é›†åˆå‰ç¼€ä¾‹å¦‚ï¼š1234val list = List(1, 1, 1, 1, 2, 1)// æ³¨æ„æœ€åŽä¸€ä¸ª 1 å¹¶æ²¡æœ‰æ‹¿èµ°list.takeWhile((x) =&gt; x == 1) // List(1, 1, 1, 1) 1.5 dropWhile(p: (T) =&gt; Boolean)å’Œä¸Šé¢çš„æ–¹æ³•ç›¸åï¼Œè¿™ä¸ªæ–¹æ³•ä¼šä¸€ç›´ ä¸¢å¼ƒ å…ƒç´ ï¼Œç›´åˆ° p çš„è¿”å›žå€¼ä¸º falseï¼›é‚£ä¹ˆå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›žçš„å°±æ˜¯ ä¸ç¬¦åˆæ¡ä»¶çš„é›†åˆåŽç¼€ï¼›123val list = List(1, 3, 6, 9, 4, 2, 1)list.dropWhile((x) x != 4) // List(4, 2, 1) 1.6 span(p: (T) =&gt; Boolean)è¿™ä¸ªå‡½æ•°æ˜¯ä¸Šä¸¤ä¸ªå‡½æ•°çš„ç»“åˆï¼Œå®ƒè¿”å›žçš„æ˜¯å¦‚ä¸‹çš„ä¸€ä¸ª Turpleï¼š1(list.takeWhile, list.dropWhile) 1.7 partitionã€span å’Œå®ƒä»¬çš„åŸºæœ¬æ–¹æ³•çš„åŒºåˆ«æ—¢ç„¶ partition å’Œ span éƒ½å¯ä»¥ç”¨åŸºæœ¬çš„ filterã€filterNot å’Œ takeWhileã€dropWhile æ¥è§£å†³ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜è¦ä¸“é—¨å®žçŽ°ä¸€æ¬¡è¿™ä¸¤ä¸ªæ–¹æ³•å‘¢ï¼Ÿå…¶å®žï¼Œspan å’Œ partition åªéœ€è¦æ‰«æä¸€æ¬¡é›†åˆï¼›ä½†æ˜¯å¦‚æžœä½¿ç”¨ filterã€filterNot å’Œ takeWhileã€dropWhile æ¥å®žçŽ°çš„è¯ï¼Œå°±éœ€è¦æ‰«æä¸¤æ¬¡é›†åˆäº†ã€‚æ‰€ä»¥ï¼Œå¦‚æžœåŒæ—¶éœ€è¦ä¸¤è€…çš„æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆä½¿ç”¨ span å’Œ partition æ˜¾ç„¶æ˜¯æ›´ç»æµŽçš„ã€‚ 1.8 withFilterScala é™¤äº† filter ä¹‹å¤–ï¼Œè¿˜æä¾›äº†ä¸€ä¸ª withFilter å‡½æ•°ï¼›é‚£ä¹ˆï¼Œè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæ ¹æ®æ–‡æ¡£ï¼šNote: the difference between c filter p and c withFilter p is that the former creates a new collection, whereas the latter only restricts the domain of subsequent map, flatMap, foreach, and withFilter operations.ä¹Ÿå°±æ˜¯è¯´ï¼Œfilter ä¼šè¿”å›žä¸€ä¸ª æ–°çš„ Listï¼›ä½†æ˜¯ withFilter ä¸ä¼šè¿”å›žæ–°çš„ Listï¼›å®ƒåªä¼šæä¾›ä¸€ä¸ªè¿‡æ»¤å™¨çš„ä½œç”¨ï¼Œè®©ç¬¦åˆæ¡ä»¶çš„å…ƒç´ é€šè¿‡ï¼Œä»¥æ–¹ä¾¿æŽ¥ä¸‹æ¥çš„ map ç­‰å…¶ä»–é«˜é˜¶å‡½æ•°çš„ä½¿ç”¨ï¼›è€Œå°±æ•ˆçŽ‡è€Œè¨€ï¼ŒwithFilter æ¯” filter è¦å¿«ã€‚å¦‚æžœä½ éœ€è¦è¿”å›žä¸€ä¸ªæ–°çš„é›†åˆï¼Œå°±ä½¿ç”¨ filterï¼›å¦‚æžœä½ åªæ˜¯éœ€è¦ä¸€ä¸ªå…ƒç´ è¿‡æ»¤å™¨ï¼Œè€ŒæŽ¥ä¸‹æ¥ï¼Œè¿˜éœ€è¦è¿›è¡Œå…¶ä»–æ“ä½œï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ withFilter 2. å…ƒç´ æ£€æŸ¥æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå¸Œæœ›æ£€æŸ¥é›†åˆå†…éƒ¨çš„å…ƒç´ çŠ¶æ€ï¼›æ¯”å¦‚è¯´ï¼Œ æ˜¯å¦æ‰€æœ‰çš„å…ƒç´ éƒ½æ»¡è¶³æŸä¸ªç‰¹å®šæ¡ä»¶ï¼›æˆ–è€…ï¼Œ æ˜¯å¦æœ‰å…ƒç´ æ»¡è¶³ç‰¹å®šæ¡ä»¶ã€‚åœ¨ Scala ä¸­ï¼Œæˆ‘ä»¬æœ‰é«˜é˜¶å‡½æ•°æ¥è¿›è¡Œè¿™ä¸ªæ“ä½œã€‚ 2.1 forAll(p: (T) =&gt; Boolean): Booleané¡¾åæ€ä¹‰ï¼Œæ£€æŸ¥ æ˜¯å¦æ‰€æœ‰çš„å…ƒç´ éƒ½æ»¡è¶³ç‰¹å®šæ¡ä»¶ä¾‹å¦‚ï¼š123val list = List(1, 2, 3, 4)list.forAll(c =&gt; c &gt; 0) // true 2.2 exists(p: (T) =&gt; Boolean): BooleanåŒç†ï¼Œæ£€æŸ¥ æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ä¾‹å¦‚ï¼š123val list = List(1, 2, 3, 4)list.exists(c =&gt; c &lt; 0) // false 3. å˜æ¢ 3.1 map(f: (T) =&gt; U)map å‡½æ•°ï¼Œå¯ä»¥è¯´æ˜¯è¿™é‡Œé¢ç”¨çš„æœ€å¤šçš„é«˜é˜¶å‡½æ•°äº†ï¼›map å‡½æ•°çš„çœŸæ­£ä½œç”¨ï¼Œå®žé™…ä¸Šæ˜¯ä¸€ç§å˜æ¢åŠŸèƒ½ï¼Œè€Œä¸”ä¸ä»…å¯ä»¥å˜æ¢æˆå’ŒçŽ°å…ƒç´ ç±»åž‹ç›¸åŒçš„ç±»åž‹ï¼Œä¹Ÿå¯ä»¥å˜æ¢æˆä¸åŒçš„ç±»åž‹ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥é€šè¿‡ map å‡½æ•°ï¼Œå°†ä¸€ç§å…ƒç´ çš„é›†åˆï¼Œå˜æˆå¦ä¸€ç§å…ƒç´ çš„é›†åˆã€‚ä¾‹å­ï¼š12345// å°†æ‰€æœ‰å…ƒç´ éƒ½ä¹˜ä»¥ 2val list = List(1, 2, 3, 4)list.map((x) =&gt; x * 2) // List(2, 4, 6, 8)12345// å°† Int å˜æˆ Stringval list = List(1, 2, 3, 4)list.map((x) =&gt; x.toString()) // List("1", "2", "3", "4") 3.2 flattenè¿™ä¸ªå‡½æ•°å¯ä»¥å°†åµŒå¥—çš„ List å±•å¹³ï¼Œå°±åƒå®ƒçš„åå­—ä¸€æ ·ã€‚ä¾‹å¦‚ï¼š123val listOfLists = List(List(1, 2), List(3, 4))listOfLists.flatten = List(1, 2, 3, 4, 5, 6) 3.3 flatMapå®ƒæ˜¯ map å’Œ flatten çš„é›†åˆä½“ï¼Œç›¸å½“äºŽå…ˆè¿›è¡Œ map ç„¶åŽ flattenã€‚ä¾‹å­ï¼š123val listOfLists = List(List(1, 2), List(3, 4))listOfLists.flatMap((x) =&gt; x.map(_ * 2)) // List(2, 4, 6, 8)ä¹Ÿå°±æ˜¯è¯´ï¼ŒflatMap å…ˆå°†å…ƒç´  map æˆ åµŒå¥—çš„ Listï¼›éšåŽï¼Œå†è°ƒç”¨ flattenï¼Œå°†åµŒå¥—çš„ List å±•å¹³flatMap çš„ä½œç”¨è¿‡äºŽå¼ºå¤§ï¼Œä½¿ç”¨æ—¶éœ€è¦å°å¿ƒè°¨æ…Žåœ¨ Twitter çš„ Effective Scala ä¸­ï¼ŒæŽ¨èä½¿ç”¨ for-comprehention æ¥ä»£æ›¿ flatMap çš„ä½¿ç”¨ 3.4 zip[T](xs: List[U]): List[(T, U)]åŽ‹ç¼©ï¼Œå®ƒçš„å·¦å³ä¸¤ä¸ªæ“ä½œæ•°åˆ†åˆ«æ˜¯ ä¸¤ä¸ª Listï¼›ç„¶åŽè¿”å›žä¸€ä¸ªåˆ†åˆ«åŒ…å«ä¸¤ä¸ª List å…ƒç´ çš„äºŒå…ƒç»„çš„ Listã€‚ä¾‹å¦‚ï¼š12345val list1 = List(1, 2, 3, 4)val list2 = List("a", "b", "c", "d")// List((1, "a"), (2, "b"), (3, "c"), (4, "d"))list1 zip list2 3.5 unzipæœ‰åŽ‹ç¼©å°±æœ‰è§£åŽ‹ï¼›è¿™ä¸ªå‡½æ•°çš„ä½œç”¨å°±æ˜¯å°†ä¸Šé¢åŽ‹ç¼©åŽçš„ç»“æžœè§£åŽ‹å‡ºæ¥ï¼›å…·ä½“æ¥è¯´å°±æ˜¯æŽ¥å—ä¸€ä¸ªäºŒå…ƒç»„çš„ Listï¼Œ è¿”å›žä¸€ä¸ª List çš„äºŒå…ƒç»„ã€‚ä¾‹å¦‚ï¼š12345val list1 = List(1, 2, 3, 4)val list2 = List("a", "b", "c", "d")// (List(1, 2, 3, 4), List("a", "b", "c", "d"))(list1 zip list2) unzip 3.6 collectæ ¹æ®æ–‡æ¡£ï¼Œcollect æŽ¥å—ä¸€ä¸ª PartialFunctionï¼Œç„¶åŽå¯¹é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ apply è¿™ä¸ªå‡½æ•°ï¼Œè¿”å›žä¸€ä¸ªæ–°çš„é›†åˆã€‚å¬èµ·æ¥ï¼Œè¿™ä¸ªæ–¹æ³•å’Œ map å¾ˆåƒï¼Œä¸è¿‡å…¶åŒºåˆ«å°±æ˜¯åœ¨äºŽ collect æŽ¥å—çš„æ˜¯ä¸€ä¸ª PartialFnction ï¼›è¿™å…·ä½“æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ï¼š12345678910val convertFn: PartialFunction[Any, Int] = &#123; case i: Int =&gt; i; case s: String =&gt; s.toInt; case Some(s: String) =&gt; s.toInt&#125;List(0, 1, "2", "3", Some(4), Some("5")). collect(convertFn)// List[Int] = List(0, 1, 2, 3, 5)æ³¨æ„åˆ°ï¼Œ collect çš„ lambda ä¸­ï¼Œå¹¶æ²¡æœ‰å¯¹æ‰€æœ‰çš„ case éƒ½è¿›è¡Œå¤„ç†ï¼›ä¸Šé¢çš„ List é™¤äº†å«æœ‰ String ã€ Int å’Œ Some[String] ä¹‹å¤–ï¼Œè¿˜å«æœ‰ Some[Int]ï¼›è¿™å°±æ˜¯æ‰€è°“çš„ PartialFunction ï¼Œå®ƒå¹¶æ²¡æœ‰å¯¹æ‰€æœ‰çš„æƒ…å½¢éƒ½è¿›è¡Œå¤„ç†ï¼Œä¹Ÿæ²¡æœ‰æä¾›ä¸€ä¸ªé»˜è®¤çš„é€‰é¡¹ã€‚å¦‚æžœä¸Šé¢çš„ collect æ›¿æ¢ä¸º mapï¼Œåˆ™ç¬¬å››ä¸ª Some(4) å°±ä¼šå¯¼è‡´ MatchErrorï¼›è€Œ collect åˆ™é¿å¼€äº†è¿™ä¸ªé”™è¯¯ã€‚ç†è®ºä¸Šï¼Œcollect è¿›è¡Œäº† map å’Œ filter çš„ä¸¤é‡åŠŸèƒ½ã€‚è™½ç„¶ï¼Œcollect ä¸ä¼šé€ æˆ MatchErrorï¼›ä½†æ˜¯ collect ä¸æ˜¯ä½¿ç”¨ try...catch å®žçŽ°çš„ã€‚collect æ˜¯é€šè¿‡æ£€æŸ¥å‡½æ•°ä¸­æä¾›çš„ case æ£€æŸ¥ï¼›å¦‚æžœ case ä¸åŒ¹é…ï¼Œåˆ™è·³è¿‡è¯¥å…ƒç´ ï¼Œä¸è°ƒç”¨å‡½æ•°ï¼›å¦‚æžœ case ä¸­å­˜åœ¨ ???ï¼Œé‚£ä¹ˆåŒæ ·ä¹Ÿä¼šæŠ›å‡ºå¼‚å¸¸ï¼š123456789101112List(1, "").collect( &#123; case i: Int =&gt; i; case _ =&gt; ??? &#125;)scala.NotImplementedError: an implementation is missing at scala.Predef$.$qmark$qmark$qmark(Predef.scala:225) at $anonfun$1.applyOrElse(&lt;console&gt;:8) at scala.collection.immutable.List.collect(List.scala:303) ... 33 elided 3.7 collectFirstè¿™æ˜¯ collect çš„ç®€åŒ–ç‰ˆæœ¬ï¼›å®ƒåªä¼šå°†å‡½æ•°åº”ç”¨åœ¨ ç¬¬ä¸€ä¸ªæ»¡è¶³ å…¶ case çš„å…ƒç´ ä¸­ï¼Œå¹¶è¿”å›žä¸€ä¸ªåŒ…å«è¯¥å…ƒç´ çš„ Option å¯¹è±¡ã€‚å¦‚æžœä¸å­˜åœ¨è¿™æ ·çš„å‡½æ•°ï¼Œé‚£ä¹ˆå°±è¿”å›ž None 3.8 groupBy[A](f: (A) =&gt; K): Map[K, Seq[A]]groupBy é€šè¿‡å‡½æ•° fï¼Œå°† List åˆ†æˆä¸åŒçš„éƒ¨åˆ†ï¼›æ¯ä¸€ä¸ªéƒ¨åˆ†ç”±ä¸€ä¸ªé”®å€¼ K æ¥è¿›è¡Œæ˜ å°„ï¼Œæœ€ç»ˆè¿”å›žç»“æžœä¸ºä¸€ä¸ª Map å¯¹è±¡ã€‚ä¾‹å­ï¼š1234567val fruit = List("apple", "peer", "orange", "pineapple")fruit groupBy (_.head)//&gt; Map(p -&gt; List("peer", "pineapple"),// a -&gt; List("apple"),// o -&gt; List("orange")) 4. è§„çº¦åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæˆ‘ä»¬é€šå¸¸è¿˜ä¼šè¿›è¡Œè§„çº¦æ“ä½œï¼›ä¾‹å¦‚æ±‚ä¸€ä¸ª 1 åˆ° 100 çš„å’Œï¼›é‚£ä¹ˆï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å°±æ˜¯å°†ä¸€ä¸ª 1 åˆ° 100 çš„é›†åˆè§„çº¦åˆ°ä¸€ä¸ª Intï¼Œå®ƒæ˜¯è¿™ä¸ªé›†åˆæ‰€æœ‰å…ƒç´ çš„å’Œã€‚ä¸‹é¢ä»‹ç»çš„å°±æ˜¯ä¸€ç³»åˆ—è§„çº¦å‡½æ•°ã€‚ 4.1 reduceLeft(op: (B, T) =&gt; B)é¡¾åæ€ä¹‰ï¼Œä»Žå·¦åˆ°å³è¿›è¡Œè§„çº¦æ“ä½œï¼›è¯¥å‡½æ•°ä¼šä»Žå·¦åˆ°å³åœ°ä½¿ç”¨æ“ä½œç¬¦ op å°†å…ƒç´ è¿žæŽ¥èµ·æ¥ã€‚æ³¨æ„ op æ˜¯ä¸ªäºŒå…ƒæ“ä½œï¼Œå®ƒæŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›žä¸€ä¸ªå€¼ã€‚é‚£ä¹ˆäº§ç”Ÿçš„ç»“æžœå°±æ˜¯ä¸€ä¸ª å·¦æ–œçš„æ ‘ï¼šéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒreduceLeft ä¸ä»…èƒ½è¿”å›žå’ŒåŽŸæœ‰å…ƒç´ ç›¸åŒç±»åž‹çš„å€¼ï¼Œä¹Ÿèƒ½è¿”å›žä¸åŒç±»åž‹çš„å€¼ï¼›åŸºäºŽè¿™æ ·çš„æ ‘ç»“æž„ï¼Œé‚£ä¹ˆå¯¹ op çš„ç±»åž‹å°±æœ‰äº†è¦æ±‚ï¼›å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸Šé¢ï¼Œä¸‹æ–¹çš„ op çš„è¿”å›žå€¼æ˜¯ä½œä¸ºä¸Šæ–¹ op çš„å·¦èŠ‚ç‚¹ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼ŒreduceLeft è¦æ±‚ï¼Œ op çš„å·¦è¾¹å‚æ•°çš„ç±»åž‹ï¼Œå¿…é¡»å’Œå…¶è¿”å›žå€¼çš„ç±»åž‹ç›¸åŒã€‚ 4.2 foldLeft(z: B)(op: (B, T) =&gt; B)foldLeft åˆ™æ˜¯å¯¹ reduceLeft çš„è¿›ä¸€æ­¥æ³›åŒ–ï¼›reduceLeft æ˜¯ä¸å…è®¸åœ¨ ç©ºåˆ—è¡¨ ä¸­æ‰§è¡Œçš„ï¼›å¯¹æ­¤ï¼ŒfoldLeft æä¾›äº†ä¸€ä¸ª åˆå§‹å€¼ zï¼›å¦‚æžœåˆ—è¡¨ä¸ºç©ºï¼Œé‚£ä¹ˆå°±è¿”å›ž zï¼›å®ƒç”Ÿæˆçš„æ ‘å¦‚ä¸‹ï¼šè¿™é‡Œæ¯”è¾ƒæœ‰æ„æ€çš„å°±æ˜¯ foldLeft å®žé™…ä¸Šæ˜¯ä¸€ä¸ª æŸ¯é‡ŒåŒ–å‡½æ•°ï¼›å¯ä»¥å…ˆæä¾›åˆå§‹å€¼ï¼Œç„¶åŽåœ¨ op æ“ä½œç¡®å®šä¹‹åŽï¼Œå†è¿›è¡Œè§„çº¦è¿ç®—ã€‚ 4.3 reduceRight(op: (T, B) =&gt; B)æˆ‘ä»¬æ—¢ç„¶èƒ½ä»Žå·¦è¾¹è§„çº¦ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä»Žå³è¾¹è§„çº¦ï¼›reduceRight çš„ä½œç”¨å°±æ˜¯ï¼Œ ä»Žå³åˆ°å·¦ æ‰§è¡Œè§„çº¦æ“ä½œï¼›é‚£ä¹ˆï¼Œå®ƒæ‰€ç”Ÿæˆçš„æ ‘å°±æ˜¯ å³æ–œçš„ï¼šåŒç†ï¼ŒreduceRight è¦æ±‚ï¼Œå®ƒçš„å³æ“ä½œæ•°çš„ç±»åž‹å¿…é¡»å’Œå®ƒçš„è¿”å›žå€¼ç±»åž‹ç›¸åŒã€‚ 4.4 foldRight(z: B)(op: (T, B) =&gt; B)åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå…·æœ‰ä¸€ä¸ª foldRight å‡½æ•°ï¼Œåœ¨é›†åˆä¸ºç©ºæ—¶ï¼Œè¿”å›žåˆå§‹å€¼ zï¼›å®ƒç”Ÿæˆçš„æ ‘å¦‚ä¸‹ï¼š 4.5 left å’Œ right çš„åŒºåˆ«é‚£ä¹ˆ left å’Œ right æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿå®žé™…ä¸Šï¼Œé«˜é˜¶å‡½æ•°çš„ä½œç”¨èŒƒå›´éƒ½æ˜¯ æ•´ä¸ªåˆ—è¡¨ï¼›æ‰€ä»¥ï¼Œå¯¹äºŽæ»¡è¶³ äº¤æ¢å¾‹ å’Œ ç»“åˆå¾‹ çš„è¿ç®—ï¼Œä»Žå·¦è¾¹æ‰§è¡Œå’Œä»Žå³è¾¹æ‰§è¡Œçš„ç»“æžœæ˜¯ ä¸€æ ·çš„ï¼Œä¾‹å¦‚ åŠ æ³•æ“ä½œï¼›ä½†æ˜¯ï¼Œå¯¹äºŽä¸æ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹çš„è¿ç®—ï¼Œä¾‹å¦‚ å‡æ³•æ“ä½œï¼›é‚£ä¹ˆè¿™ä¸¤ä¸ªå‡½æ•°çš„æ‰§è¡Œç»“æžœå°±ä¸ä¸€æ ·ã€‚ 4.6 å…¶ä»–è§„çº¦å‡½æ•°Scala è¿˜æä¾›äº†ä¸€äº›å…¶ä»–çš„é’ˆå¯¹æ•°å­—ç±»åž‹çš„è§„çº¦å‡½æ•°ï¼›ä¾‹å¦‚ï¼šsumï¼Œ productï¼Œmax å’Œ minï¼›ä¸è¿‡ï¼Œsum å’Œ product åªèƒ½ç”¨äºŽæ•°å­—ç±»åž‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 5. å…¶ä»–é«˜é˜¶å‡½æ•°Scala é›†åˆä¸­è¿˜æ‹¥æœ‰å…¶ä»–çš„é«˜é˜¶å‡½æ•°ï¼Œè¯¸å¦‚ï¼šcountã€findã€sortWith ç­‰ï¼›è¿™äº›å‡½æ•°çš„ä½œç”¨æ¯”è¾ƒæ˜Žæ˜¾ï¼Œå¯ä»¥ä»Žå®ƒçš„å‘½åä¸­æŽ¨æµ‹å‡ºå…¶ä½œç”¨ï¼Œåœ¨è¿™é‡Œå°±ä¸å¤šåšè§£é‡Šäº†ã€‚]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ofo ä½¿ç”¨ä½“éªŒ]]></title>
    <url>%2F%2FTalk%2Fofo%20%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å› ä¸ºå’Œèˆå‹å‡ºåŽ»çœ‹ç”µå½±ï¼Œç»ˆäºŽç¬¬ä¸€æ¬¡ä½“éªŒäº†ä¸€ä¸‹è‘—åçš„å°é»„è½¦ ofoï¼›ofo çš„ç¡®æ˜¯å¾ˆæ–¹ä¾¿ï¼ŒåŒæ—¶ä¹Ÿè§£å†³äº†æ‰€è°“ã€Œæœ€åŽä¸€å…¬é‡Œã€çš„è¿™ä¸ªéœ€æ±‚ç—›ç‚¹ï¼›ä½†æ˜¯ï¼Œæˆ‘ä¸å¾—ä¸è¯´ï¼Œofo çš„è¿è¥å›¢é˜Ÿè¿˜å¾ˆå¹´è½»ï¼Œä¸€äº›å¾ˆåŸºæœ¬çš„æµç¨‹é—®é¢˜éƒ½æ²¡æžæ¸…æ¥šå°±èƒ¡ä¹±ä¸Šçº¿åŠŸèƒ½ã€‚ 1. æ ¡å›­è®¤è¯å°±æ¯”å¦‚è¯´ ofo çš„æ ¡å›­è®¤è¯ï¼Œçš„ç¡®å¯¹æˆ‘ç­‰å¤§å­¦ç”Ÿæœ‰å¾ˆå¤§çš„ä¼˜æƒ ï¼›ä½†æ˜¯ï¼Œå½“ä½ æ ¡å›­è®¤è¯ä¸é€šè¿‡ï¼Œè€Œä½ æ€¥ç€ç”¨è½¦ï¼ŒåŽ»è¿›è¡Œäº†æ™®é€šè®¤è¯ï¼Œé‚£ä¹ˆï¼šä½ å°±å†ä¹Ÿä¸èƒ½è¿›è¡Œæ ¡å›­è®¤è¯äº†!æ˜Žæ˜Žå°±æ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“è€ƒè™‘åˆ°çš„ Corner Caseï¼Œå¯æ˜¯ ofo å´æ²¡æœ‰å¤„ç†å¥½ï¼›çœ‹æ¥ ofo è¿˜éœ€è¦å¤šæ‹›å‡ ä¸ªæµ‹è¯•å¤§ç‰›ã€‚ 2. å®¢æœç”µè¯APP ä¸Šè§£å†³ä¸äº†çš„é—®é¢˜ï¼Œä¸€èˆ¬çš„ç”¨æˆ·å°±ä¼šæƒ³ç€åŽ»è”ç³»å®¢æœè§£å†³ï¼›åœ¨è¿™é‡Œæˆ‘ä¸å¾—ä¸è¯´ä¸€å£° MMPï¼Œofo çš„å®¢æœç”µè¯ä¸‰å¤©ä¸¤å¤´æ‰“ä¸é€šï¼›åœ¨åŠä¸ªå°æ—¶ä¹‹å†…ï¼Œæˆ‘è¿žç»­å‘å…¶æ‹¨æ‰“äº† 12 é€šç”µè¯ï¼›ä½†æ˜¯ï¼Œåªæœ‰ 3 é€šæ˜¯èƒ½æŽ¥é€šçš„ã€‚ç¬¬ä¸€é€šç”µè¯æŽ¥é€šä¹‹åŽï¼Œé¦–å…ˆæ˜¯è®©æˆ‘é€€æŠ¼é‡‘ï¼Œç„¶åŽå†æ‰“ç”µè¯ï¼›è¿™ä¹Ÿæ— å¯åŽšéžï¼Œæ¯•ç«Ÿé“¶è¡Œä¿¡ç”¨å¡æ¿€æ´»å°±æ˜¯è¿™ä¹ˆè¦æ±‚çš„ç¬¬äºŒé€šç”µè¯ï¼Œå°±æœ‰ç‚¹èŽ«åå…¶å¦™äº†ï¼Œé¦–å…ˆæŽ¥è¯å‘˜è¿žæ™®é€šè¯ä¹Ÿè¯´ä¸æ ‡å‡†ï¼›ç„¶åŽè¯´æ²¡æœ‰æƒé™æ¢å¤æˆ‘çš„è®¤è¯çŠ¶æ€ï¼Œåœ¨ç»è¿‡å¤šæ¬¡æ’•é€¼ä¹‹åŽï¼Œè®©æˆ‘åŽ»æ‰¾ä¸€ä¸ªå¾®ä¿¡å·åŽ»è§£å†³ï¼›ç»“æžœè¿™ä¸ªå¾®ä¿¡å·å±…ç„¶æ˜¯ä¸ª å¼‚å¸¸å·ï¼ç¬¬ä¸‰é€šç”µè¯ä¹‹åŽï¼Œå‘Šè¯‰æˆ‘ï¼Œä½ è¿˜æœ‰ä½™é¢æ²¡æœ‰é€€ï¼Œæ‰€ä»¥ä¸èƒ½ç»™ä½ æ¢å¤è®¤è¯çŠ¶æ€ã€‚ç»“æžœå‘¢ï¼Ÿå¸®æˆ‘ç”³è¯·äº†ä½™é¢é€€æ¬¾ï¼Œè¯´è¦åˆ°è´¦ä¹‹åŽæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œã€‚æ‰€ä»¥å°±å¯¼è‡´æˆ‘çŽ°åœ¨ï¼Œæ²¡æœ‰æŠ¼é‡‘ï¼Œä½™é¢è¿˜åœ¨é“¶è¡Œæµè½¬ï¼Œæ‰€ä»¥å°é»„è½¦å°±ä¸å…³æˆ‘ä»€ä¹ˆäº‹äº†ã€‚ 3. æ€»ç»“å¯ä»¥çœ‹å‡ºï¼Œå°±æ˜¯å› ä¸ºä¸€ä¸ªæ²¡æœ‰è€ƒè™‘åˆ°çš„ Corner Case ï¼ŒçŽ°åœ¨æˆ‘åªèƒ½åŽ»éª‘ mobike;æƒ³åˆ°å½“å¹´å³ä½¿æ˜¯å†™å°å­¦æœŸé¡¹ç›®ï¼Œä¹Ÿè¦è·Ÿé˜Ÿå‘˜è®¨è®ºä¸ªå¤§åŠå¤©çš„ Corner Case æ‰å¼€å§‹ç€æ‰‹ç¼–ç ï¼›å¯èƒ½è¿™å°±æ˜¯äº’è”ç½‘ APP æ³¡æ²«ç”Ÿæ€çš„çŽ°çŠ¶å§ï¼šå¤§å®¶éƒ½åŽ»æŠ¢åŠŸèƒ½ï¼Œè®©åŠŸèƒ½å°½æ—©ä¸Šçº¿ï¼Œå‰©ä¸‹çš„ç»´æŠ¤å•Šæ”¯æŒå•Šï¼Œéƒ½å¯ä»¥å¾€åŽè¾¹æ”¾ä¸€æ”¾ã€‚]]></content>
      <categories>
        <category>æ‚è°ˆ</category>
      </categories>
      <tags>
        <tag>ofo</tag>
        <tag>æ‚è°ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Coursera ä½œä¸šä¹‹å‡½æ•°é›†åˆ]]></title>
    <url>%2F%2FCoursera%2FScala%2FCoursera%20%E4%BD%9C%E4%B8%9A%E4%B9%8B%E5%87%BD%E6%95%B0%E9%9B%86%E5%90%88%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡æºç ï¼šhttps://github.com/wafer-li/scala-coursera/tree/master/funsets 1. èƒŒæ™¯çŸ¥è¯†è¯¥ä½œä¸šæ˜¯å®žçŽ°ä¸€ä¸ªå‡½æ•°é›†åˆçš„ç›¸å…³å†…å®¹ã€‚ä½•ä¸ºå‡½æ•°é›†åˆï¼Ÿä¸€èˆ¬æ¥è¯´ï¼Œç¼–ç¨‹è¯­è¨€ä¸­çš„é›†åˆ(Collection)éƒ½æ˜¯æœ‰é™é›†åˆï¼›ä½†æ˜¯ï¼Œåœ¨æ•°å­¦ä¸Šï¼Œè¿˜æœ‰å¾ˆå¤šçš„é›†åˆæ˜¯æ— é™é›†åˆï¼Œæ¯”å¦‚è¯´ è´Ÿæ•°é›†ï¼›æˆ‘ä»¬æœ‰æ²¡æœ‰ä¸€ç§åŠžæ³•åŽ»è¡¨ç¤ºè¿™ä¸ªé›†åˆå‘¢ï¼Ÿå½“ç„¶æœ‰çš„ï¼Œå¯¹äºŽä¸Šé¢çš„è´Ÿæ•°é›†æ¥è¯´ï¼Œæˆ‘ä»¬å¦‚ä½•çŸ¥é“ä¸€ä¸ªæ•°å­—æ˜¯ä¸æ˜¯è´Ÿæ•°é›†ä¸­çš„å…ƒç´ å‘¢ï¼Ÿå°†å®ƒä¸Ž 0 è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœ x &lt; 0ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯è´Ÿæ•°é›†çš„å…ƒç´ ã€‚æ­¤æ—¶ï¼Œ(x) =&gt; x == 0 å°±æˆä¸ºäº†è´Ÿæ•°é›†çš„åˆ¤æ–­æ ‡å‡†ï¼Œæˆ‘ä»¬å°†å…¶ä½œä¸ºè´Ÿæ•°é›†çš„ ç‰¹å¾å‡½æ•°ï¼Œé€šè¿‡ç‰¹å¾å‡½æ•°æ¥æŒ‡ä»£ç‰¹å®šçš„é›†åˆã€‚äºŽæ˜¯ï¼Œæˆ‘ä»¬å¾—åˆ°äº†å‡½æ•°é›†åˆçš„å®šä¹‰ï¼štype Set = (Int) =&gt; Booleanå’Œå®ƒçš„ä¸€ä¸ªåŸºæœ¬æ–¹æ³• contains()ï¼š1def contains(set: Set, x : Int) = set(x) 2. åŸºæœ¬æ–¹æ³•æŽ¥ä¸‹æ¥ï¼Œé¢˜ç›®è¦æ±‚æˆ‘ä»¬å®žçŽ°ä¸€äº›é›†åˆçš„åŸºæœ¬æ–¹æ³•ã€‚ 2.1 singletonSet()å¦‚ä½•è¿”å›žä¸€ä¸ªåªæœ‰ä¸€ä¸ªå…ƒç´ çš„å‡½æ•°é›†åˆå‘¢ï¼Ÿå¯¹äºŽæˆ‘ä»¬çš„ç‰¹å¾å‡½æ•°æ¥è¯´ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ç»™å®šçš„å…ƒç´ æ‰èƒ½æ»¡è¶³è¿™ä¸ªç‰¹å¾å‡½æ•°ï¼Œè¿™æ ·çš„é›†åˆå°±æ˜¯åªå­˜åœ¨ç»™å®šå…ƒç´ çš„é›†åˆã€‚æ‰€ä»¥ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š1def singletonSet(elem: Int): Set = (x) =&gt; x == elem 2.2 äº¤ã€å¹¶ã€è¡¥è¿™å‡ ä¸ªåŸºæœ¬çš„æ•°å­¦é›†åˆæ“ä½œå¹¶ä¸éš¾ï¼Œåªéœ€è¦æŠ“ä½æˆ‘ä»¬ç‰¹å¾å‡½æ•°å°±æ˜¯ contains() è¿™ä¸€ç‚¹å°±è¡Œäº†ã€‚ 2.3 filter()è¿™ä¸ªæ–¹æ³•ç®—æ˜¯åœ¨ JVM å‡½æ•°å¼è¯­è¨€ä¸­ç»å¸¸å‡ºçŽ°çš„é›†åˆæ–¹æ³•ï¼›ä½œç”¨å°±æ˜¯è¿”å›žæ»¡è¶³æ¡ä»¶çš„é›†åˆå†…çš„å…ƒç´ ï¼›å…¶ä¸­ï¼Œä¸€ä¸ªå¾ˆæœ‰è¶£çš„åœ°æ–¹åœ¨äºŽï¼Œfilter(s, p) çš„ä¸¤ä¸ªå‚æ•°ï¼Œè™½ç„¶å…¶è¡¨é¢ä¸Šçš„ç±»åž‹ä¸ä¸€æ ·ï¼›ä½†æ˜¯å®žé™…ä¸Šä»–ä»¬çš„ç±»åž‹æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œs å’Œ p éƒ½æ˜¯é›†åˆï¼æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦è¿”å›ž s å’Œ p çš„äº¤é›†å°±è¡Œäº†1def filter(s: Set, p: Int =&gt; Boolean) = intersect(s, p) 3. forAll()ç„¶åŽï¼Œæœ‰è¶£çš„åœ°æ–¹æ¥äº†ï¼Œé¢˜ç›®è¦æ±‚æˆ‘ä»¬å®žçŽ°ä¸€ä¸ª forAll() æ–¹æ³•ï¼Œç”¨æ¥æ£€æµ‹æ˜¯å¦ æ‰€æœ‰çš„ å…ƒç´ éƒ½æ»¡è¶³ç»™å®šçš„æ¡ä»¶ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¸èƒ½éåŽ†å…¨éƒ¨çš„æ— é™é›†å…ƒç´ ï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±é‡‡å–ä¸€ä¸ªåŒºé—´çš„åŠžæ³•ï¼Œå¦‚æžœåœ¨è¿™ä¸ªåŒºé—´å†…çš„æ‰€æœ‰çš„å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰ä¿¡å¿ƒè®¤ä¸ºæ‰€æœ‰çš„å…ƒç´ éƒ½æ»¡è¶³äº†æ¡ä»¶ã€‚åœ¨è¿™é‡Œï¼ŒåŒæ ·è¦æ³¨æ„ï¼Œ s å’Œ p çš„ç±»åž‹å®žé™…ä¸Šæ˜¯ä¸€æ ·çš„ï¼123456789def forall(s: Set, p: Int =&gt; Boolean): Boolean = &#123; def iter(a: Int): Boolean = &#123; if (a &gt; bound) true else if (diff(s, p)(a)) false else iter(a + 1) &#125; iter(-bound)&#125; 4. exists()æœ¬é¢˜ç¬¬äºŒéš¾çš„åœ°æ–¹æ¥äº†ï¼Œé¢˜ç›®è¦æ±‚å®žçŽ°ä¸€ä¸ª exists() å‡½æ•°ï¼Œç”¨äºŽæ£€æµ‹ æ˜¯å¦å­˜åœ¨ ä¸€ä¸ªå…ƒç´ æ»¡è¶³ç»™å®šçš„æ¡ä»¶ã€‚æŒ‰è¯´è¿™ä¸ªè¿˜ä¸æ˜¯å¾ˆéš¾ï¼Œä½†æ˜¯ï¼Œé¢˜ç›®è¦æ±‚ä½¿ç”¨ forAll() è¿›è¡Œå®žçŽ°ã€‚æŒ‰ç…§æˆ‘çš„æ—©å°±ä¸¢ç»™é«˜ä¸­è€å¸ˆçš„é€»è¾‘å…³ç³»çŸ¥è¯†ï¼Œã€Žæ‰€æœ‰ã€å’Œ ã€Žå­˜åœ¨ã€å¥½åƒå¹¶æ— ä»€ä¹ˆè”ç³»ã€‚ä¸è¿‡ï¼Œåœ¨è®ºå›ä¸Šæœ‰äººæé†’äº†æˆ‘ï¼Œå¯ä»¥ä½¿ç”¨ é—´æŽ¥æ³•ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸€ä¸‹ ä¸å­˜åœ¨ çš„æƒ…å†µï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºŽ æ‰€æœ‰çš„ å…ƒç´ ï¼Œéƒ½ ä¸æ»¡è¶³ ç»™å®šçš„æ¡ä»¶ï¼›åˆ°æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ä¸Šä¹‹å‰å®žçŽ°çš„ forAll() äº†ã€‚12def exists(s: Set, p: Int =&gt; Boolean) = !forAll(s, (elem) =&gt; !p(elem))ä½†æ˜¯ï¼Œè¿™æ˜¾å¾—å¤ªé•¿äº†ï¼Œèƒ½ä¸èƒ½ç¼©çŸ­åˆ°åªæœ‰ä¸€è¡Œä»£ç å‘¢ï¼Ÿä¹‹å‰æåˆ°ï¼Œs å’Œ p çš„ç±»åž‹å®žé™…ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é‡ç”¨ä¸Šé¢çš„æ–¹æ³•æ¥å¯¹ s å’Œ p è¿›è¡Œå¤„ç†ã€‚é‚£ä¹ˆï¼Œs å’Œ p åœ¨ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œæ˜¯ä»€ä¹ˆæ ·çš„å…³ç³»å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä»Žä¸Šé¢çš„ç»“è®ºå‡ºå‘ç»§ç»­æ€è€ƒï¼šå¯¹äºŽæ‰€æœ‰çš„å…ƒç´ ï¼Œéƒ½ä¸æ»¡è¶³ç»™å®šæ¡ä»¶ â‡’\Rightarrowâ‡’ å¯¹äºŽ s çš„æ‰€æœ‰å…ƒç´ ï¼Œéƒ½ä½äºŽã€Œåœ¨ s ä¸”ä¸åœ¨ p ä¸­ã€è¿™ä¸ªé›†åˆå†…æ‰€ä»¥ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªç®€ä¾¿çš„å†™æ³•ï¼š1def exists(s: Set, p: Int =&gt; Boolean) = !forAll(s, diff(s, p)) 5. map()æœ¬é¢˜æœ€éš¾çš„éƒ¨åˆ†æ¥äº†ï¼Œmap() å‡½æ•°ï¼Œç”¨äºŽå¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œå˜æ¢æ“ä½œï¼Œè¿”å›žä¸€ä¸ªå˜æ¢è¿‡åŽçš„æ–°é›†åˆã€‚é‰´äºŽæˆ‘ä»¬çš„é›†åˆæ˜¯ä¸€ä¸ª å‡½æ•°ï¼Œé‚£ä¹ˆ map() æ–¹æ³•ä¹Ÿå°±æ˜¯è¿”å›žä¸€ä¸ª æ–°å‡½æ•°ï¼Œç”¨æ¥æ£€æµ‹å‚æ•°æ˜¯å¦æ»¡è¶³æ–°å˜æ¢è¿‡åŽçš„æ¡ä»¶ã€‚å› ä¸º map() å‡½æ•°æ˜¯é’ˆå¯¹åŽŸæœ‰é›†åˆè¿›è¡Œå˜æ¢ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥åŸºäºŽåŽŸæœ‰é›†åˆç”Ÿæˆä¸Šé¢çš„æ–°å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºŽåŽŸæœ‰é›†åˆæ¥è¯´ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒå˜æ¢è¿‡åŽçš„æ•°å€¼å’Œä¼ å…¥çš„å‚æ•°ç›¸ç­‰ï¼š12def map(s: Set, f: Int =&gt; Int) = x =&gt; exists(s, elem =&gt; x==f(elem))]]></content>
      <categories>
        <category>Coursera</category>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
        <tag>Coursera</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala æ¨¡å¼åŒ¹é…]]></title>
    <url>%2F%2FScala%2FScala%20%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%2F</url>
    <content type="text"><![CDATA[æ¨¡å¼åŒ¹é…ï¼Œæ˜¯ Scala ç›¸æ¯” Java åœ¨ç±»åž‹ä¸Šçš„ä¸€ä¸ªå¾ˆå¥½åœ°æ”¹è¿›ï¼›é€šè¿‡å¼•å…¥æ¨¡å¼åŒ¹é…ï¼Œæ¶ˆé™¤äº† Java ä¸­å¸¸è§çš„ç±»åž‹æ£€æµ‹å’Œå¼ºåˆ¶è½¬æ¢(cast)ï¼›æ‹¥æœ‰æ›´é«˜çš„å®‰å…¨æ€§ 1. é—®é¢˜èƒŒæ™¯æ¨¡å¼åŒ¹é…ä¸»è¦è§£å†³çš„é—®é¢˜å°±æ˜¯ä¸€ä¸ªæ ‘çŠ¶çš„ç±»åž‹ä¾èµ–å›¾ï¼›æ¯”å¦‚ç®—æ•°è¡¨è¾¾å¼ï¼Œç”±æ–‡æ³•å¯çŸ¥ï¼Œå®ƒæ˜¯å…·æœ‰æ ‘çŠ¶ä¾èµ–å…³ç³»çš„ï¼šEâ†’E+E âˆ£Eâˆ’E âˆ£Eâˆ—E âˆ£E/E âˆ£(E) âˆ£i\begin{aligned} E &amp; \rightarrow \\ &amp; E+E \ | \\ &amp; E-E \ | \\ &amp; E*E \ | \\ &amp; E/E \ | \\ &amp; (E) \ | \\ &amp; i \end{aligned}Eâ€‹â†’E+E âˆ£Eâˆ’E âˆ£Eâˆ—E âˆ£E/E âˆ£(E) âˆ£iâ€‹æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ç±»æ¥è¡¨ç¤ºä¸€ä¸ªç®—æœ¯è¡¨è¾¾å¼ï¼š123trait Exprclass Number(n: Int) extends Exprclass Sum(leftOp: Expr, rightOp: Expr) extends Expré‚£ä¹ˆå½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨ç±»ä¼¼ eval() çš„æ–¹æ³•æ—¶ï¼Œè¯¥å¦‚ä½•å®žçŽ°è¿™ä¸ªæ–¹æ³•å‘¢ï¼Ÿ 2. å„æœ‰ç¼ºé™·çš„è§£æ³• 2.1 ä½¿ç”¨ç±»åž‹è¯´æ˜Žä¸€ä¸ªæš´åŠ›è§£å†³çš„æ€è·¯å°±æ˜¯ä¸º Expr æ·»åŠ ä¸Šä¸€ä¸ªç±»åž‹çš„è¯´æ˜Žï¼Œå³ï¼š1234trait Expr &#123; def isNumber: Boolean def isSum: Boolean&#125;ä¸è¿‡ï¼Œéšç€ä»¥åŽç®—æœ¯è¡¨è¾¾å¼çš„ç§ç±»è¶Šæ¥è¶Šå¤šï¼Œæ¯”å¦‚åŠ å…¥äº†ä¹˜æ³•å’Œé™¤æ³•ï¼›é‚£ä¹ˆï¼Œè¿™ä¸ªå®žçŽ°ä¼šå¯¼è‡´æ–¹æ³•æ•°çš„å¹³æ–¹çº§åˆ«çˆ†ç‚¸ã€‚æ¯å¢žåŠ ä¸€ä¸ªç§ç±»ï¼Œéƒ½éœ€è¦å¯¹çŽ°æœ‰çš„æ‰€æœ‰ç±»è¿›è¡Œæ–¹æ³•çš„å¢žåŠ æ˜¾ç„¶ï¼Œä½¿ç”¨ç±»åž‹è¯´æ˜Ž(classification) æ˜¯ä¸è¡Œçš„ã€‚ 2.2 ç±»åž‹æ£€æµ‹å’Œé€ åž‹Java è¿™é—¨é¢å‘å¯¹è±¡è¯­è¨€å¯¹æ­¤åˆ™æœ‰æ¯”è¾ƒå¥½çš„è§£æ³•ï¼šé€šè¿‡å¯¹å¯¹è±¡è¿›è¡Œç±»åž‹æ£€æµ‹å’Œå¼ºåˆ¶è½¬æ¢(cast)ï¼›ç”±äºŽå¼ºåˆ¶è½¬æ¢åŽç±»åž‹å¾—åˆ°é™å®šï¼Œæ‰€ä»¥å°±å¯ä»¥åˆ†åˆ«è¿›è¡Œæ£€æµ‹å·¥ä½œï¼š12345678public int eval(Expr e) &#123; if (e instanceof Number) &#123; ... &#125; else if (e instanceof Sum) &#123; ... &#125;&#125;ç›¸å¯¹çš„ï¼ŒScala ä¹Ÿå…·æœ‰è¿™ç§è¯­æ³•ç‰¹æ€§ï¼š123456789def eval(e: Expr): Int = &#123; if (e.isInstanceOf[Number]) &#123; e.asInstanceOf[Number].numberValue &#125; else if (e.isInstanceOf[Sum]) &#123; val sum = e.asInstanceOf[Sum] eval(sum.leftOp) + eval(sum.rightOp) &#125;&#125;ä¸è¿‡ï¼Œè¿™ç§æ–¹æ³•ç”±äºŽæ˜¯æ¯”è¾ƒä½Žå±‚çº§çš„ï¼Œå…·æœ‰æŒ‡ä»¤æ€§ç‰¹å¾ï¼›åŒæ—¶ï¼Œè¿‡å¤šçš„ç±»åž‹æ£€æµ‹å’Œå¼ºåˆ¶è½¬æ¢ä¹Ÿé€ æˆäº†è¯¸å¤šä¸å®‰å…¨å› ç´ ï¼šå¦‚æžœè¿è¡Œæ—¶ç±»åž‹æ”¹å˜äº†ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä¼šå‡ºçŽ°å¼‚å¸¸ã€‚ 2.3 é¢å‘å¯¹è±¡çš„è§£æ³•çŽ°åœ¨æˆ‘ä»¬æ¥é€‰æ‹©ä¸€ä¸ªæ›´é«˜çº§çš„è§£å†³åŠžæ³•ï¼Œé€šè¿‡åˆ©ç”¨å¤šæ€ç‰¹æ€§ï¼Œæ¥è§£å†³æ­¤ç±»é—®é¢˜ã€‚ç›¸æ¯”å°† eval() ä½œä¸ºä¸€ä¸ªå¤–éƒ¨çš„å‡½æ•°ï¼Œä¸å¦‚å°†å…¶ä½œä¸ºç±»çš„ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ï¼š1234567891011trait Expr &#123; def eval: Int&#125;class Number(n: Int) extends Expr &#123; override def eval: Int = n&#125;class Sum(leftOp: Expr, rightOp: Expr) extends Expr &#123; override def eval: Int = leftOp.eval + rightOp.eval&#125;é€šè¿‡è¯­è¨€è‡ªå¸¦çš„å¤šæ€ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ°å…·ä½“çš„ eval()ï¼›è¿™æ ·å°±èƒ½å¾ˆä¼˜é›…çš„è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼›ä¸è¿‡ï¼Œè¿™ç§å†™æ³•æœ‰ä¸ªç¼ºé™·ï¼›å¦‚æžœæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼Œä¾‹å¦‚ show()ï¼Œåˆ™éœ€è¦æ›´æ”¹æ‰€æœ‰çš„çŽ°å­˜ç±»ï¼›è€Œä¸”ï¼Œå¦‚æžœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŒ–ç®€æ“ä½œï¼Œå®ƒä¸èƒ½ä»…ä»…åªè€ƒè™‘ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œéœ€è¦å¤šä¸ªèŠ‚ç‚¹ç»¼åˆè€ƒè™‘ï¼›è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼Œå³ä½¿ä½¿ç”¨å¤šæ€ï¼Œä¹Ÿæ²¡èƒ½è§£å†³æˆ‘ä»¬æ‰€æœ‰çš„é—®é¢˜ 3. æ¨¡å¼åŒ¹é…åœ¨ Scala ä¸­ï¼Œå…·æœ‰ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„è¯­æ³•ç”¨äºŽè§£å†³è¿™ç±»é—®é¢˜ï¼Œå³ æ¨¡å¼åŒ¹é…ï¼›æ¨¡å¼åŒ¹é…ä½¿ç”¨ match å®šä¹‰ï¼š123456e match &#123; case Number(n) =&gt; n case Sum(left, right) =&gt; left.eval + right.eval case anotherE =&gt; anotherE.eval case _ =&gt; //Ignore&#125;match è¯­å¥å—ä¸­ï¼ŒåŒ…å«å¤šä¸ª case è¯­å¥ï¼›æ¯ä¸ª case è¯­å¥åŒ…æ‹¬ï¼šcase å…³é”®å­—ï¼Œæ¨¡å¼å’Œè¡¨è¾¾å¼ï¼Œæ¨¡å¼å’Œè¡¨è¾¾å¼ä½¿ç”¨ =&gt; åˆ†éš”ã€‚ä¹ä¸€çœ‹ï¼Œè¿™ä¸ªè¯­æ³•å’Œ C++/Java ä¸­çš„ switch å¾ˆåƒï¼›ä¸è¿‡ï¼Œå®ƒè¿›è¡Œäº†å¤§å¹…åº¦çš„å¼ºåŒ–ï¼Œä¸»è¦å°±æ˜¯æ”¾å®½äº†å¯¹é€‰æ‹©å™¨çš„é™åˆ¶ï¼šçŽ°åœ¨ case è¯­å¥å¯ä»¥æ˜¯ï¼šæž„é€ å™¨å˜é‡å¸¸é‡é€šé…ç¬¦ _å…¶ä¸­ï¼šæž„é€ å™¨å¿…é¡»æ˜¯ case classå˜é‡å¿…é¡»ä»¥å°å†™å­—æ¯å¼€å¤´å¸¸é‡å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ 4. åŒ¹é…å¤„ç†é¦–å…ˆï¼Œå¦‚æžœæ²¡æœ‰ case èƒ½å¤ŸåŒ¹é…é€‰æ‹©å™¨ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ç„¶åŽï¼Œå¦‚æžœåŒ¹é…æˆåŠŸï¼Œä¼šå°† æ•´ä¸ª match è¯­å¥ æ›¿æ¢ä¸º case çš„ right-hand sideã€‚å¯¹äºŽä¸åŒçš„æƒ…å†µï¼Œåˆ™æ˜¯ï¼šæž„é€ å™¨ï¼Œå°†å‚æ•°ç»‘å®š case ä¸­çš„å½¢å‚å˜é‡ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼å¸¸é‡ï¼Œæ£€æµ‹å’Œå¸¸é‡çš„ç›¸ç­‰æ€§ 5. Case ClassCase Class æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œé€šå¸¸ç”¨äºŽè¿›è¡Œæ¨¡å¼åŒ¹é…ï¼›ä½†æ˜¯ï¼Œå®ƒè¿˜å…·æœ‰ä¸€äº›å…¶ä»–çš„æœ‰ç”¨ç‰¹æ€§ï¼šå®ƒä¸éœ€è¦ new å…³é”®å­—è¿›è¡Œæž„å»ºï¼š123case Person(name: String, age: Int)val person = Person("hehe", 18)å®ƒçš„ä¸»è¦æž„é€ å™¨å‚æ•°ç›´æŽ¥å¯ä»¥ä½œä¸ºç±»çš„å­—æ®µï¼š1val name = person.nameå®ƒçš„ç›¸ç­‰æ€§åˆ¤æ–­æ˜¯ç»“æž„åŒ–çš„ï¼Œå½“å®ƒæ‰€æœ‰çš„æˆå‘˜éƒ½ç›¸ç­‰æ—¶ï¼Œå®ƒå°±ç›¸ç­‰ï¼Œå’Œå¼•ç”¨æ— å…³ï¼›åŒæ—¶è¿˜æä¾›äº† toString() æ–¹æ³•ï¼š12345678val firstSms = SMS("12345", "Hello!")val secondSms = SMS("12345", "Hello!")if (firstSms == secondSms) &#123; println("They are equal!")&#125;println("SMS is: " + firstSms)è¾“å‡ºï¼š12They are equal!SMS is: SMS(12345, Hello!) 6. æ¨¡å¼åŒ¹é…çš„è§£å†³åŠžæ³•ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥å¯¹å•ä¸ªèŠ‚ç‚¹è¿›è¡Œè§£æžå·¥ä½œï¼›åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŸ¥çœ‹èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼š12345678910111213141516171819202122232425262728trait Expr &#123; def eval: Int = this match &#123; case Number(n) =&gt; n case Sum(left, right) =&gt; left.eval + right.eval &#125; def show: String = this match &#123; case Number(n) =&gt; n.toString case Sum(left, right) =&gt; left.show + "+" + right.show case Prod(left, right) =&gt; def f(e: Expr): String = e match &#123; case Sum(l, r) =&gt; "(" + l.show + "+" + r.show + ")" case _ =&gt; e.show &#125; f(left) + "*" + f(right) case Var(x) =&gt; x &#125;&#125;case class Number(n: Int) extends Exprcase class Sum(left: Expr, right: Expr) extends Exprcase class Var(x: String) extends Exprcase class Prod(left: Expr, right: Expr) extends Exprä¸Šé¢çš„ show æ–¹æ³•é€šè¿‡æŸ¥çœ‹å­èŠ‚ç‚¹æƒ…å†µï¼Œå®žçŽ°äº†ä¼˜å…ˆçº§åŒºåˆ†: 7. å’Œå¤šæ€æ–¹æ³•çš„åŒºåˆ«é‚£ä¹ˆæ¨¡å¼åŒ¹é…ç›¸æ¯”é¢å‘å¯¹è±¡æ–¹æ³•æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿå¦‚æžœä½ å€¾å‘äºŽåœ¨çŽ°æœ‰çš„ç±»æž¶æž„ä¸Šæ·»åŠ  é€šç”¨çš„æ–¹æ³•ï¼Œé‚£ä¹ˆé‡‡ç”¨æ¨¡å¼åŒ¹é…ä¼šæ›´å¥½ï¼›å› ä¸ºæ¨¡å¼åŒ¹é…åªéœ€è¦ä¿®æ”¹åŒ¹é…ä»£ç ï¼Œè€Œä¸éœ€è¦åœ¨å„ä¸ªå­ç±»é‡æ–°å®žçŽ°æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œå¦‚æžœä½ å€¾å‘äºŽå¢žåŠ å­ç±»ï¼Œè€Œä¸æ˜¯å¢žåŠ é€šç”¨çš„å¤„ç†æ–¹æ³•ï¼Œé‚£ä¹ˆé‡‡ç”¨å¤šæ€æ–¹æ³•ä¼šæ›´å¥½ï¼›åŽŸå› æ˜¯é‡‡ç”¨å¤šæ€æž¶æž„åªéœ€è¦å»ºç«‹ä¸€ä¸ªå­ç±»ï¼Œè€Œé‡è½½æ–¹æ³•è¿™äº›ç¹çå·¥ä½œ IDE ä¼šå¸®ä½ åšå¥½ï¼›è€Œæ¨¡å¼åŒ¹é…è¿˜éœ€è¦åœ¨é¡¶å±‚ä»£ç ä¸­è¿›è¡Œä¿®æ”¹]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰“å­—è®­ç»ƒç½‘ç«™]]></title>
    <url>%2F%2FTalk%2F%E6%89%93%E5%AD%97%E8%AE%AD%E7%BB%83%E7%BD%91%E7%AB%99%2F</url>
    <content type="text"><![CDATA[ä¹°äº†æ–°é”®ç›˜ä¹‹åŽå°±æƒ³è¯•ä¸€è¯•å®ƒçš„å¨åŠ›ï¼Œæ‰€ä»¥å°±æ‰¾äº†ä¸€ä¸ªæ‰“å­—è®­ç»ƒç½‘ç«™æ¥æ‰“å­—ï¼›åœ¨çŸ¥ä¹Žä¸Šæ‰¾äº†ä¸€åœˆï¼Œç»“æžœå°±æ‰¾åˆ°äº† è¿™ä¸ªï¼›ç»ƒäº†ä¸€åœˆçš„æ„Ÿå—å°±æ˜¯ï¼š å·¦æ‰‹å¥½ç´¯å•Šï¼ï¼ï¼åŸºæœ¬ä¸Šå•è¯è¡¨é‡Œé¢æœ€é•¿çš„ S å’Œ T éƒ½åœ¨å·¦æ‰‹äº†ï¼Œè€Œæˆ‘åˆä¹ æƒ¯ä½¿ç”¨å·¦æ‰‹æ¥æŒ‰ç©ºæ ¼é”®ï¼›ç»“æžœå°±æ˜¯æˆ‘çš„å·¦æ‰‹çŽ°åœ¨ç´¯å¾—ä¸æˆæ ·å­äº†ï¼›ä¸è¿‡æœ€åŽæˆç»©ä¹Ÿä¸æ€Žä¹ˆæ ·ï¼Œå¤§æ¦‚ä¹Ÿå°± 50 å¤š wpm å§ï¼Œç›¸ä¿¡å¤§å®¶ä¸€å®šä¼šæ¯”æˆ‘æ‰“å­—å¿«çš„ã€‚]]></content>
      <categories>
        <category>æ‚è°ˆ</category>
      </categories>
      <tags>
        <tag>æ‚è°ˆ</tag>
        <tag>æ‰“å­—</tag>
        <tag>Typing training</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Realforce 87u]]></title>
    <url>%2F%2FBuying%2FRealforce%2087u%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘ç»ˆäºŽä¸‹å®šå†³å¿ƒæ¥ä¹°è¿™ä¸ªé”®ç›˜äº†ã€‚ä¸»è¦è¯´è¯´ä½¿ç”¨æ„Ÿå—å§2018/1/8 æ›´æ–°éƒ¨åˆ†å†…å®¹ 1. æ‰‹æ„Ÿæˆ‘ä¹°çš„è¿™ä¸ªæ˜¯é™éŸ³ç‰ˆï¼Œæ‰‹æ„Ÿä»‹äºŽçº¢è½´å’ŒèŒ¶è½´ä¹‹é—´ï¼Œå°±æ˜¯ç¨å¾®è½¯ä¸€ç‚¹çš„èŒ¶è½´ï¼ŒæŒ‰èµ·æ¥æœ‰ç§å™—å™—çš„æ„Ÿè§‰ï¼›æ˜¾ç„¶ï¼Œæ‰“å‡»æ„Ÿæ˜¯ä¸€ç‚¹ä¹Ÿæ²¡æœ‰äº†ï¼Œä¸è¿‡çœŸçš„æœ‰ç§æ‰èƒ¸çš„æ„Ÿè§‰ã€‚ä¸è¿‡è¿™ä¸ªé”®ç›˜çš„ä¼˜ç‚¹åœ¨äºŽï¼šç”±äºŽæ˜¯åˆ†åŒºåŽ‹åŠ›ï¼Œæ‰€ä»¥èƒ½æžå¤§åœ°ç¼“è§£å°æ‹‡æŒ‡çš„åŽ‹åŠ›ï¼›ä¹‹å‰æˆ‘ç”¨çš„ filco é’è½´ï¼Œæœ€åŽæœ‰ 40% çš„æ¦‚çŽ‡ç”¨å°æ‹‡æŒ‡æ‰“ä¸å‡º shift æŒ‰é”®ï¼›è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘è¦ä¹°ä¸€ä¸ªæ–°é”®ç›˜çš„åŽŸå› ã€‚ 2. ç‰¹è‰²åŠŸèƒ½Realforce 87u æœ‰ä¸ªç‰¹è‰²åŠŸèƒ½ï¼Œå°±æ˜¯æŠŠæ²¡æœ‰ä»€ä¹ˆåµç”¨çš„ Scroll Lock å˜æˆäº† NumLockï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªé”®ç›˜æœ‰ å°é”®ç›˜ çš„åŠŸèƒ½ï¼è¿™æ˜¯æˆ‘åœ¨ 87 é”®ç›˜ä¸Šä»Žæ¥æ²¡æœ‰è§åˆ°è¿‡çš„ã€‚ä¸è¿‡åœ¨ Mac ä¸Šï¼Œè¿™ä¸ª NumLock å°±å¤±æ•ˆäº†ï¼›2018/1/8 è¡¥å……ï¼šå¯æƒœçš„æ˜¯ï¼Œè‡ªä»Žå‡çº§åˆ° High Sierra ä¹‹åŽä¸‹é¢çš„æ–¹æ³•å°±ä¸ç®¡ç”¨äº†ä¸è¿‡å§ï¼Œåæ­£æˆ‘ä¹Ÿä¸æ€Žä¹ˆç”¨è¿™ä¸ªå°é”®ç›˜ï¼Œå…ˆå°±è¿™æ ·å§ã€‚éœ€è¦ä½¿ç”¨ Karabiner è¿›è¡Œé”®ä½ä¿®æ”¹ã€‚é¦–å…ˆä¸‹è½½ Karabinerï¼Œè¿™é‡Œæœ‰ä¸ªå°é—®é¢˜å°±æ˜¯ brew cask ä¼šæŠ¥ Operation not permitted çš„é”™è¯¯ï¼›æ‰€ä»¥æœ€å¥½è¿˜æ˜¯è‡ªå·±ä¸‹è½½é•œåƒå®‰è£…ä¸ºå¥½ã€‚éšåŽç‚¹å‡» Open private.xmlï¼šç„¶åŽåŠ ä¸Šä¸€æ¡è‡ªå®šä¹‰é…ç½®[1]ï¼š12345&lt;item&gt; &lt;name&gt;Map Realforce Numlock to OSX Numlock function&lt;/name&gt; &lt;identifier&gt;private.pc_numlock_to_mac_numlock&lt;/identifier&gt; &lt;autogen&gt;__KeyToKey__ KeyCode::KEYPAD_CLEAR, KeyCode::VK_IOHIKEYBOARD_TOGGLE_NUMLOCK&lt;/autogen&gt;&lt;/item&gt;æœ€åŽå†åˆ° Change Key å¯ç”¨å°±å¯ä»¥äº†ã€‚ 3. ç¼ºç‚¹ç›®å‰é‡åˆ°çš„ç¼ºç‚¹åªæœ‰ä¸€ä¸ªï¼šå°±æ˜¯å®ƒçš„å¯¼çº¿æ§½å¤ªç´§äº†ï¼Œå‡ ä¹Žæ˜¯æ­»æ­»å¡ä½é”®ç›˜çš„çº¿ç¼†ï¼›ç»“æžœæˆ‘æ‘†å¼„çš„æ—¶å€™éœ€è¦ç”¨å¾ˆå¤§çš„åŠ›æ°”æ‰èƒ½æŠŠçº¿å¼„å‡ºæ¥ï¼Œå¸Œæœ›ä»¥åŽä¸è¦å¼„çƒ‚ä¸ºå¥½ï¼›å°è´´å£«ï¼šå¼„çš„æ—¶å€™é•¿ç—›ä¸å¦‚çŸ­ç—›ï¼Œç›´æŽ¥ä¸€ä¸ªçŒ›åŠ²å¯ä»¥æ›´å¿«çš„å‡è½»çº¿ç¼†çš„æŸä¼¤å…¶æ¬¡å°±æ˜¯å±…ç„¶ä¸é…ç†çº¿ç”¨çš„å°¼é¾™æ‰Žå¸¦ï¼Œå·®è¯„ï¼ 4. ä¸ºä»€ä¹ˆä¸ä¹° HHKBä¸å–œæ¬¢ HHKB çš„é…åˆ—ã€‚æˆ‘å°±çˆ±ç”¨ Caps Lock ðŸ™ƒ 5. æ€»ç»“å¦‚æžœä½ å¾ˆå–œæ¬¢ç”¨é’è½´ï¼Œå¾ˆäº«å—ç”¨é’è½´çš„æ‰“å‡»æ„Ÿï¼Œè¯·ç›´æŽ¥ä¹°é’è½´ï¼Œé™ç”µå®¹ä¸é€‚åˆä½ ï¼›å¦‚æžœä½ ç”¨é’è½´æ„Ÿè§‰åˆ°åŠ›ä¸ä»Žå¿ƒï¼Œä½†æ˜¯é’±ä¸å¤Ÿï¼Œè¯·ä¹°èŒ¶è½´æˆ–è€…çº¢è½´ï¼›å¦‚æžœä½ æœ‰ç‚¹é—²é’±ï¼Œè€Œä¸”æ¯”è¾ƒæœ‰æ„å‘æ‰“é€ ä¸€ä¸ªè‰¯å¥½çš„æ‰“å­—çŽ¯å¢ƒï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä¹°ä¸€ä¸ªé™ç”µå®¹ï¼›æœ€åŽæ¥ä¸€å¼ çŽ‰ç…§ï¼š 6. è¡¥å……ä¸Šä¼ ä¸€å¼  Switch çš„è¯´æ˜Žä¹¦ï¼Œè¯´ä¸å®šä»¥åŽä¼šç”¨åˆ°ã€‚https://www.zhihu.com/question/39522431/answer/81753723 â†©ï¸Ž]]></content>
      <categories>
        <category>ä¹°ä¹°ä¹°</category>
      </categories>
      <tags>
        <tag>ä¹°ä¹°ä¹°</tag>
        <tag>é”®ç›˜</tag>
        <tag>Realforce</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo Experience]]></title>
    <url>%2F%2FHexo%2FHexo%20Experience%2F</url>
    <content type="text"><![CDATA[1. ç®€ä»‹è¿™æ˜¯æˆ‘æŠ˜è…¾ Hexo åšå®¢æ¡†æž¶çš„ç»éªŒï¼›å¸Œæœ›èƒ½ç»™åŽæ¥è€…ä»¥å¯è¿ªã€‚ 2. æˆ‘æ‰€éœ€è¦çš„åŠŸèƒ½è™½ç„¶ï¼ŒçŽ°ä»Šï¼Œç½‘ä¸Šå·²ç»å¾ˆå¤šæ•™ä½ å¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°æ­å»º Hexo åšå®¢ï¼Œä¹Ÿæœ‰å¾ˆå¤šäººè¸©è¿‡å¾ˆå¤šå‘ï¼›ä¸è¿‡ï¼Œå¯¹äºŽæˆ‘çš„ä¸€äº›è¦æ±‚ï¼Œä»ç„¶æœ‰å¾ˆå¤šçš„æ–¹é¢æœªèƒ½è§£å†³ã€‚æˆ‘ä¸»è¦éœ€è¦çš„åŠŸèƒ½ä¸€å…±æœ‰å››ä¸ªï¼šæ•°å­¦å…¬å¼æ¸²æŸ“PlantUML å›¾TODO ListFootnotes 3. æ•°å­¦å…¬å¼æ¸²æŸ“è¿™ä¸ªå€’æ˜¯æœ‰å¾ˆå¤šäººå‘äº†å¾ˆå¤šåšå®¢ï¼Œç„¶åŽä¹Ÿè§£å†³äº†ä¸€äº›é—®é¢˜ã€‚ä¸»è¦å°±æ˜¯ hexo-renderer-marked ä¸­ï¼ŒæŠŠ MathJax ä¸­çš„ _ è§£æžæ¸²æŸ“æˆäº†æ–œä½“ï¼›è¿™æ ·ï¼Œå°±é€ æˆäº†è§£æžé”™è¯¯ï¼›åŒæ—¶ï¼Œå¯¹äºŽå¤šè¡Œçš„æ•°å­¦å…¬å¼ï¼Œä¹Ÿå­˜åœ¨å¾ˆå¤šé—®é¢˜ã€‚ç»è¿‡ä¸€ç•ªå€’è…¾ï¼Œæˆ‘çš„æœ€ç»ˆå†³å®šæ˜¯ä½¿ç”¨ hexo-renderer-karmed ä»£æ›¿åŽŸå…ˆå®˜æ–¹è‡ªå¸¦çš„ hexo-renderer-markedå¯¹äºŽå¦å¤–çš„æ¸²æŸ“å™¨ï¼Œå®ƒä»¬ä¸»è¦çš„ç¼ºç‚¹æœ‰ï¼šhexo-renderer-pandoc è¿‡äºŽæ²‰é‡hexo-renderer-markdown-it ä¸æ”¯æŒ NexT ä¸»é¢˜çš„ ã€ŽRead Moreã€æ‰€ä»¥ï¼Œæœ€åŽé€‰æ‹©ä½¿ç”¨ hexo-renderer-karmedï¼›ä¸è¿‡è¿™ä¸ªæ’ä»¶åœ¨æŸäº›æ—¶å€™ä¹Ÿå­˜åœ¨é—®é¢˜ï¼›åœ¨è¿™é‡Œæœ‰ä¸€ä¸ª workaround 4. PlantUMLå¹³æ—¶æˆ‘ä¸»è¦ä½¿ç”¨çš„ UML ç»˜å›¾å·¥å…·å°±æ˜¯è¿™ä¸ªï¼›ä¸»è¦æ˜¯å› ä¸ºæˆ‘ç”¨ Atom ä¸Šé¢çš„ markdown-preview-enhanced èƒ½å¤Ÿå®žæ—¶å±•çŽ° PlantUML å›¾ã€‚Hexo æ’ä»¶åˆ—è¡¨ä¸­ï¼Œä¹Ÿå­˜åœ¨ä¸€ä¸ª PlantUML çš„æ’ä»¶ï¼Œhexo-tag-plantumlï¼›ä¸è¿‡è¿™ä¸ªæ˜¯ tag æ’ä»¶ï¼Œå¦‚æžœä½¿ç”¨è¿™ä¸ªçš„è¯ï¼Œæˆ‘å°±éœ€è¦ä½¿ç”¨æ ‡ç­¾æ¥å®šä¹‰ UMLï¼›è€Œä¸èƒ½ä½¿ç”¨ markdown åŽŸç”Ÿçš„ code fenceï¼›æ­¤æ—¶ï¼Œæˆ‘çš„ markdown-preview-enhanced ä¹Ÿä¼šä¸èµ·ä½œç”¨ï¼›æ‰€ä»¥å°±åªèƒ½è‡ªé€ è½®å­ï¼šè‡ªå·±å®žçŽ°äº†ä¸€ä¸ª filter æ’ä»¶ï¼Œç”¨æ¥å°† code fence è½¬æ¢æˆ PlantUML å›¾ã€‚æ’ä»¶æºç åœ¨è¿™é‡Œ 5. TODO Listè¿™ä¸ªæ˜¯æ¯”è¾ƒç¥žå¥‡çš„ï¼šä¹‹å‰é€‰æ‹©çš„ kramed æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œè€Œ marked æœ‰è¿™ä¸ªåŠŸèƒ½ï¼›ä¸è¿‡å¹¸å¥½ä»£ç é‡ä¸å¤šï¼Œå¯ä»¥ç›´æŽ¥å°† PR ä¸­çš„æ”¹åŠ¨åˆå¹¶åˆ° kramed ä¸­ã€‚ 6. Footnotesè¿™ä¸ªå®žé™…ä¸Šæ˜¯ä¸€ä¸ª Reference çš„åŠŸèƒ½ï¼›è¿™ä¸ªæ˜¯ç›®å‰æœ€å®¹æ˜“è€Œä¸”ä¹Ÿæ²¡æœ‰å‘çš„ï¼›ç›´æŽ¥å®‰è£… hexo-reference æ’ä»¶å³å¯ã€‚ å‚è€ƒé“¾æŽ¥Goon X çš„ Hexo åˆé›†å¦‚ä½•å¤„ç†Hexoå’ŒMathJaxçš„å…¼å®¹é—®é¢˜]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala æ³›åž‹å’Œå˜å½¢]]></title>
    <url>%2F%2FScala%2FScala%20%E6%B3%9B%E5%9E%8B%E5%92%8C%E5%8F%98%E5%BD%A2%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°æ³›åž‹æ˜¯å¤šæ€çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œé€šè¿‡è¿è¡Œæ—¶ç¡®å®šçš„ç±»åž‹æ¥åŠ è½½å¯¹åº”çš„ç±»ä»£ç ï¼›ä½œä¸ºä¸€ä¸ªé¢å‘å¯¹è±¡è¯­è¨€ï¼ŒScala åŒæ ·å…·æœ‰æ³›åž‹åŠŸèƒ½ã€‚ 2. å®šä¹‰ä¸Ž Java ä¸åŒï¼ŒScala çš„æ³›åž‹æ˜¯ä½¿ç”¨æ–¹æ‹¬å· [] å®šä¹‰çš„ï¼š1class List[T] &#123; ... &#125;åŒæ ·ï¼Œåœ¨æ³›åž‹æ–¹æ³•çš„å®šä¹‰ä¸­ï¼Œæ³›åž‹å‚æ•°çš„ä½ç½®ä¹Ÿå’Œ Java ä¸ä¸€æ ·ï¼šJava:1public static &lt;T&gt; listOf()Scala:1def listOf[T]() 3. ä¸Šç•Œå’Œä¸‹ç•Œè¿™ä¸ªæ–¹é¢ï¼ŒScala å’Œ Java æœ‰äº›è®¸ä¸åŒï¼›é¦–å…ˆï¼Œåœ¨å®šä¹‰æ–¹é¢ï¼ŒScala ä½¿ç”¨ä¸¤ä¸ªç‰¹æ®Šçš„ç¬¦å·è¡¨ç¤ºä¸Šä¸‹ç•Œï¼šA &lt;: B è¡¨ç¤º A æ˜¯ B çš„å­ç±»ï¼Œä¹Ÿå°±æ˜¯ B æ˜¯ A çš„ä¸Šç•Œï¼›A &gt;: B è¡¨ç¤º A æ˜¯ B çš„è¶…ç±»ï¼Œä¹Ÿå°±æ˜¯ B æ˜¯ A çš„ä¸‹ç•Œã€‚è€Œ Java ä½¿ç”¨ extends å…³é”®å­—æ¥è¯´æ˜Žã€‚å…¶æ¬¡ï¼ŒScala ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è¶…ç±»é™å®šç±»åž‹å‚æ•°ï¼›è€Œ Java åªèƒ½ä½¿ç”¨ extends å³å­ç±»é™å®šç±»åž‹å‚æ•°ï¼š12345// Scala[U &gt;: T]// JavaU super T // ERROR! 4. é€†å˜å’Œåå˜å…³äºŽé€†å˜å’Œåå˜ï¼ŒScala ç›¸æ¯”äºŽ Java ä¸­çš„ ä½¿ç”¨å£°æ˜Žï¼Œè¿˜å¯ä»¥åœ¨å®šä¹‰ä¸­æŒ‡æ˜Žåå˜å’Œé€†å˜ã€‚ 4.1 åè¯è§£é‡Šå¦‚æžœ A &lt;: B (A æ˜¯ B çš„å­ç±»)ï¼Œé‚£ä¹ˆå¯¹äºŽç±» C æ¥è¯´ï¼šC[A]&lt;:C[B]C[A] &lt;: C[B]C[A]&lt;:C[B] =&gt; C æ˜¯åå˜(covariant)çš„C[A]&gt;:C[B]C[A] &gt;: C[B]C[A]&gt;:C[B] =&gt; C æ˜¯é€†å˜(contravariant)çš„C[A]C[A]C[A] å’Œ C[B]C[B]C[B] æ²¡æœ‰ç»§æ‰¿å…³ç³» =&gt; C æ˜¯ä¸å˜(nonvariant) çš„å¯¹ Java è€Œè¨€ï¼Œ? extends T æä¾›äº†åå˜ç‰¹æ€§ï¼›? super T æä¾›äº†é€†å˜ç‰¹æ€§ 4.2 å®šä¹‰ä¸­æŒ‡æ˜Žå¯å˜æ€§è¿™æ˜¯ Scala å’Œ Kotlin ä¸­ç›¸å¯¹äºŽ Java çš„ä¸€ä¸ªæ”¹è¿›ï¼Œå¯ä»¥åœ¨ ç±»å®šä¹‰ ä¸­æŒ‡æ˜Žæ³›åž‹å¯å˜æ€§ã€‚12345// Scalaclass List[+T]// Kotlinclass List&lt;out T&gt;æ­¤æ—¶ï¼ŒæŒ‡æ˜Žäº† List æ˜¯ åå˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒList[String] æ˜¯ List[Object] çš„å­ç±»ã€‚åŒç†ï¼Œä¸‹é¢çš„å†™æ³•æŒ‡æ˜Žäº†é€†å˜æ€§ï¼š12345// Scalaclass List[-T]// Kotlinclass List&lt;in T&gt;å½“ä¸ä½¿ç”¨ +ã€- å·ä¿®é¥°æ—¶ï¼Œå°±æ˜¯ä¸å˜(nonvariant)çš„ 4.3 å‡½æ•°äº‹å®žä¸Šï¼Œåœ¨ Scala ä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼›def è¯­å¥å£°æ˜Žçš„å‡½æ•°ä¼šè¢«è½¬åŒ–æˆä¸€ä¸ª FunctionN&lt;-T, +U&gt; ç±»ï¼š123class Function1[-T, +U] &#123; def apply(param: T): U&#125;é€šè¿‡ apply å‡½æ•°æ¥è¿›è¡Œå‡½æ•°çš„è°ƒç”¨ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå‡½æ•°å‚æ•°æ˜¯é€†å˜çš„ï¼Œä½†æ˜¯è¿”å›žç±»åž‹æ˜¯åå˜çš„ï¼›è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå®žé™…ä¸Šï¼Œè¿™æ˜¯é‡Œæ°æ³•åˆ™çš„åº”ç”¨ï¼šå¦‚æžœ A2&lt;:A1A_2 &lt;: A_1A2â€‹&lt;:A1â€‹ ä¸” B1&lt;:B2B_1 &lt;: B_2B1â€‹&lt;:B2â€‹ï¼Œé‚£ä¹ˆå¯¹äºŽ A1â‡’B1A_1 \Rightarrow B_1A1â€‹â‡’B1â€‹ å’Œ A2â‡’B2A_2 \Rightarrow B_2A2â€‹â‡’B2â€‹ æ¥è¯´ï¼šA1A_1A1â€‹ æ‰€æŽ¥å—çš„èŒƒå›´æ¯” A2A_2A2â€‹ å¹¿ï¼Œæ‰€ä»¥ä½¿ç”¨ A1A_1A1â€‹ ä½œä¸ºå‚æ•°ï¼Œå¯ä»¥æŽ¥å— A2A_2A2â€‹ï¼›B1B_1B1â€‹ æ¯” B2B_2B2â€‹ è¦æ›´åŠ ä¸¥æ ¼ï¼Œæ‰€ä»¥è¿”å›ž B1B_1B1â€‹ å°±ç›¸å½“äºŽè‚¯å®šèƒ½è¿”å›ž B2B_2B2â€‹ï¼›æ­¤æ—¶ï¼Œå› ä¸º A1â‡’B1A_1 \Rightarrow B_1A1â€‹â‡’B1â€‹ çš„å½¢å‚å’Œè¿”å›žå€¼éƒ½æ»¡è¶³ A2â‡’B2A_2 \Rightarrow B_2A2â€‹â‡’B2â€‹ çš„è¦æ±‚ï¼›æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å‰è€…æ›¿ä»£åŽè€…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶ï¼šA1â‡’B1&lt;:A2â‡’B2A_1 \Rightarrow B_1 &lt;: A_2 \Rightarrow B_2A1â€‹â‡’B1â€‹&lt;:A2â€‹â‡’B2â€‹é‚£ä¹ˆè¯´æ˜Žï¼Œ å‡½æ•°å½¢å‚æ˜¯é€†å˜çš„ï¼Œè€Œè¿”å›žå€¼æ˜¯åå˜çš„Scala ä¼šè‡ªåŠ¨æ£€æŸ¥å‡½æ•°çš„æ³›åž‹å˜å½¢ï¼Œä»¥æ»¡è¶³ä¸Šé¢çš„è¦æ±‚ã€‚ 4.4 åå˜çš„å‡½æ•°å½¢å‚å‡½æ•°ä¸Šé¢çš„å˜å½¢è¦æ±‚æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼›å¦‚æžœä½ çš„å‡½æ•°ä¸è¿›è¡Œæ•°æ®çš„æ›´æ”¹æ“ä½œï¼Œé‚£ä¹ˆäº‹å®žä¸Šæ˜¯å¯ä»¥å°†å½¢å‚å£°æ˜Žä¸ºåå˜çš„ï¼›ä¸è¿‡ï¼Œé‰´äºŽ Scala çš„æ³›åž‹æ£€æŸ¥ï¼Œå®ƒç¦æ­¢äº†è¿™ç§æ–¹æ³•çš„å‡ºçŽ°ï¼›æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³›åž‹ä¸‹ç•Œï¼Œæ¥è®©æˆ‘ä»¬çš„å˜å½¢æ»¡è¶³ Scala çš„è¦æ±‚ï¼š1def concat[U &gt;: T](elem: U): List[U] = new Cons(elem, Empty)]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java é›†åˆæ¡†æž¶ Collection]]></title>
    <url>%2F%2FJava%2FJava%20%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%20Collection%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Collection æŽ¥å£æ˜¯ Java é›†åˆæ¡†æž¶æœ€åŸºæœ¬çš„æŽ¥å£ï¼›å®ƒæä¾›äº†åŸºæœ¬çš„å…ƒç´ æ“ä½œæ–¹æ³•å’ŒéåŽ†ä½¿ç”¨çš„è¿­ä»£å™¨ï¼›åŒæ—¶ï¼Œå®ƒè¿˜æä¾›äº†å…³äºŽ Collection çš„æ‰¹é‡æ“ä½œæ–¹æ³•ã€‚ 2. åŸºæœ¬æ“ä½œåŸºæœ¬çš„å…ƒç´ æ“ä½œåŒ…æ‹¬ add() å’Œ remove()ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬ size() å’Œ isEmpty() ç­‰ä¸€ç³»åˆ—çš„é›†åˆåŸºæœ¬æ“ä½œã€‚å…¶ä¸­ add() å’Œ remove() çš„è¿”å›žå€¼æ˜¯ booleanï¼›è¿™ä¸ªå¸ƒå°”å€¼ç”¨äºŽè¡¨ç¤ºå¢žåŠ å’Œåˆ é™¤æ˜¯å¦æˆåŠŸã€‚ï¼ˆæ˜¯å¦å¯¹é›†åˆæœ¬èº«è¿›è¡Œäº†æ“ä½œï¼‰ 3. éåŽ†æ“ä½œJava çš„ Collection éåŽ†æ“ä½œæœ‰ä¸‰ç§ï¼šä½¿ç”¨è¿­ä»£å™¨ Iteratorä½¿ç”¨ for each å¾ªçŽ¯ä½¿ç”¨ Stream çš„èšåˆæ“ä½œ(Java 8)å®žé™…ä¸Šï¼Œä½¿ç”¨ for each å¾ªçŽ¯å’Œä½¿ç”¨è¿­ä»£å™¨æ˜¯ä¸€æ ·çš„ï¼›for each å¯ä»¥åº”ç”¨äºŽä»»ä½•å®žçŽ°äº† Iterable æŽ¥å£çš„ç±»ï¼š123public ineterface Iterable&lt;E&gt; &#123; Iterator&lt;E&gt; iterator();&#125;for each å®žé™…ä¸Šå°±æ˜¯åº”ç”¨å®ƒè¿”å›žçš„è¿­ä»£å™¨è¿›è¡ŒéåŽ†æ“ä½œã€‚å…³äºŽ Stream ç”¨å•ç‹¬çš„ä¸€ç¯‡æ–‡ç« ä»‹ç»ï¼Œè¿™é‡Œä¸»è¦è§£æžè¿­ä»£å™¨çš„å·¥ä½œã€‚ 4. è¿­ä»£å™¨çš„éåŽ†12345public interface Iterator&lt;E&gt; &#123; E next(); boolean hasNext(); void remove();&#125;å…¶ä¸­ï¼Œnext() æ–¹æ³•è¿”å›žä¸‹ä¸€ä¸ªå…ƒç´ ï¼ŒhasNext() æ–¹æ³•ç”¨äºŽæ£€æµ‹æ˜¯å¦åˆ°è¾¾äº†é›†åˆæœ«å°¾ã€‚å½“åˆ°è¾¾äº†é›†åˆæœ«å°¾æ—¶ï¼Œè°ƒç”¨ next() ä¼šæŠ›å‡º NoSuchElementExceptionï¼Œæ‰€ä»¥ï¼Œæ­£ç¡®çš„å†™æ³•æ˜¯åœ¨å¾ªçŽ¯æ—¶ä½¿ç”¨ hasNext() ä½œä¸ºåˆ¤æ–­æ¡ä»¶ï¼š123while(iter.hasNext()) &#123; element = iter.next();&#125;å…¶ä¸­ï¼ŒCollection æŽ¥å£å·²ç»æ‰©å±•(extends)äº† Iterable æŽ¥å£ï¼Œæ‰€ä»¥è‡ªå¸¦ iterator() æ–¹æ³•ã€‚å…ƒç´ è¢«è®¿é—®çš„é¡ºåºå–å†³äºŽé›†åˆç±»çš„å…·ä½“å®žçŽ°ã€‚æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯ï¼ŒJava ä¸­çš„è¿­ä»£å™¨å’Œ C++ ä¸­çš„è¿­ä»£å™¨ä¸ä¸€æ ·ï¼›C++ ä¸­çš„è¿­ä»£å™¨æ˜¯åŸºäºŽç´¢å¼•çš„ï¼Œå¯ä»¥ä¸æ‰§è¡ŒæŸ¥æ‰¾æ“ä½œå°±å°†è¿­ä»£å™¨è¿›è¡Œç§»åŠ¨ï¼›ç›¸åï¼ŒJava ä¸­çš„è¿­ä»£å™¨æ›´ç±»ä¼¼äºŽ read() æ–¹æ³•ï¼Œè¿­ä»£å™¨çš„æŸ¥æ‰¾æ“ä½œå’Œç§»åŠ¨æ“ä½œç´§å¯†ç›¸è¿žï¼›Java ä¸­çš„è¿­ä»£å™¨æ›´ç±»ä¼¼äºŽæ˜¯ ä½äºŽä¸¤ä¸ªå…ƒç´ ä¹‹é—´ï¼Œè°ƒç”¨ next() å°†è¶Šè¿‡ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›žè¿™ä¸ªå…ƒç´ çš„å¼•ç”¨ã€‚ 5. è¿­ä»£å™¨çš„åˆ é™¤æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯ï¼ŒIterator æŽ¥å£è¿˜æä¾›äº†ä¸€ä¸ª remove() æ–¹æ³•ï¼›å®ƒä¼šåˆ é™¤ ä¸Šæ¬¡ è°ƒç”¨ next() çš„å…ƒç´ ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœä½ æƒ³åˆ é™¤æŸä¸ªä½ç½®ä¸Šçš„å…ƒç´ ï¼Œä½ çš„è¿­ä»£å™¨å°±å¿…é¡» å…ˆè¶Šè¿‡ è¿™ä¸ªå…ƒç´ ã€‚1234Iterator&lt;String&gt; it = c.iterator();iter.next(); //skip over the firstiter.remove(); // delete the firstéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œnext() å’Œ remove() æ˜¯å…·æœ‰ä¾èµ–æ€§çš„ï¼›ä¸èƒ½è¿žç»­è°ƒç”¨ä¸¤æ¬¡ remove()ï¼Œå¦åˆ™ï¼Œå°†ä¼šæŠ›å‡º IllegalStateException12iter.remove();iter.remove();å¿…é¡»å…ˆè°ƒç”¨ next() æ¥è¶Šè¿‡å°†è¦åˆ é™¤çš„å…ƒç´ ã€‚ 6. æ‰¹é‡æ“ä½œCollection åŒæ—¶æä¾›äº†ä¸€å¥—æ‰¹é‡æ“ä½œæ–¹æ³•ï¼Œç”¨äºŽå¯¹å¦ä¸€ä¸ªé›†åˆè¿›è¡Œæ“ä½œï¼Œä¸»è¦çš„æ–¹æ³•æœ‰ï¼šcontainsAll()åˆ¤æ–­å¦ä¸€é›†åˆæ˜¯å¦ä¸ºæœ¬é›†åˆçš„å­é›†ï¼ˆæœ¬é›†åˆæ˜¯å¦å®Œå…¨åŒ…å«äº†å¦ä¸€é›†åˆï¼‰addAll()å°†å¦ä¸€é›†åˆçš„æ‰€æœ‰å…ƒç´ åŠ å…¥åˆ°æœ¬é›†åˆä¸­removeAll()å°†æœ¬é›†åˆä¸­å«æœ‰çš„ å¦ä¸€é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´  ä»Žæœ¬é›†åˆä¸­åˆ é™¤retainAll()å°†æœ¬é›†åˆä¸­ ä¸å±žäºŽ å¦ä¸€é›†åˆçš„æ‰€æœ‰å…ƒç´ ä»Žæœ¬é›†åˆä¸­åˆ é™¤å³ï¼Œå°†æœ¬é›†åˆæ”¹é€ æˆä¸¤ä¸ªé›†åˆçš„ äº¤é›†clear()åˆ é™¤æœ¬é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´  7. å’Œæ•°ç»„çš„è½¬æ¢æ“ä½œCollection å­˜åœ¨ä¸€ä¸ª toArray() æ–¹æ³•ï¼›ä½†æ˜¯ï¼Œæ¯”è¾ƒå‘çˆ¹çš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•ä»…ä»…åªè¿”å›žä¸€ä¸ª Object[]ï¼›1Object[] a = c.toArray();è¿™æ˜¾ç„¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œå› ä¸º Object[] æ˜¯ æ–°æž„å»ºçš„ï¼Œå®ƒä¸èƒ½å¼ºåˆ¶è½¬æ¢æˆæ›´ä¸ºå…·ä½“çš„æ•°ç»„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨å¦ä¸€ä¸ª toArray(T[] a) æ–¹æ³•ï¼›12// å†™æ³•ä¸€String[] stringArray = c.toArray(new String[0]);å®žé™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥å‘ toArray() æä¾›ä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ•°ç»„ï¼š12// å†™æ³•äºŒString[] stringArray = c.toArray(new String[c.size()]);é‚£ä¹ˆè¿™ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæ ¹æ® JDK æ–‡æ¡£ï¼Œå½“æ•°ç»„å‚æ•°çš„ç©ºé—´ä¸å¤Ÿå¤§æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨é‡æ–°æž„å»ºä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ•°ç»„è¿›è¡Œå…ƒç´ è½¬å­˜ï¼›å½“æ•°ç»„ç©ºé—´è¶³å¤Ÿå¤§æ—¶ï¼ŒtoArray() å°±ä¸è‡ªå·±æž„å»ºæ•°ç»„äº†ï¼Œè€Œæ˜¯ç›´æŽ¥å°†å…ƒç´ å‚¨å­˜åˆ°æ•°ç»„ä¸­ã€‚è¿™æ ·çœ‹æ¥ï¼Œå†™æ³•ä¸€å¥½åƒæ²¡æœ‰ä»€ä¹ˆå¿…è¦ï¼Œæ¯•ç«Ÿéƒ½è¦åˆ›å»ºæ•°ç»„ï¼Œä¸å¦‚ç›´æŽ¥åˆ›å»ºäº†äº‹ï¼Œä½•å¿…è¦å¤šå‡ºä¸€ä¸ªæ— ç”¨çš„æ•°ç»„å‘¢ï¼Ÿå®žé™…ä¸Šï¼Œå†™æ³•äºŒå…·æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼›å³ä½¿ä½ ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„ Collectionï¼Œä½†æ˜¯å½“æœ‰å…ƒç´ åœ¨ size() å’Œ toArray() ä¹‹é—´è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆæœ€ç»ˆç”Ÿæˆçš„æ•°ç»„å°±ä¼šåŒ…å« nullã€‚è€Œï¼Œå†™æ³•ä¸€å°±å¯ä»¥ç›´æŽ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚çº¿ç¨‹å®‰å…¨çš„ Collection åªä¿è¯æ¯ä¸ªæ–¹æ³•æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå½“ä½ è°ƒç”¨ä¸¤ä¸ªä»¥ä¸Šçš„æ–¹æ³•è”åˆä½¿ç”¨æ—¶ï¼Œå°±ä¸å…·å¤‡çº¿ç¨‹å®‰å…¨äº†ã€‚Reference: The easiest way to transform collection to array?]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java é›†åˆæ¡†æž¶]]></title>
    <url>%2F%2FJava%2FJava%20%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»ä»»ä½•è¯­è¨€éƒ½ä¼šæä¾›ä¸€å¥—åŸºç¡€çš„æ•°æ®ç»“æž„çš„åº“ï¼›Java ä¹Ÿä¸ä¾‹å¤–ï¼Œè€Œä¸”æä¾›äº†ä¸€ä¸ªåºžå¤§çš„æ•°æ®ç»“æž„åº“ï¼Œæœ‰æ—¶å¯¹äºŽå®ƒä»¬ä¹‹é—´çš„é€‰æ‹©è®©äººå¾ˆå›°æƒ‘ã€‚è¿™é‡Œå°±æ¥ç®€å•è¯´æ˜Žä¸€ä¸‹ Java çš„ Collection å’ŒåŸºæœ¬çš„ Collection æ•°æ®ç»“æž„ 2. æŽ¥å£å…³ç³»å›¾å’ŒçŽ°ä»£çš„æ•°æ®ç»“æž„ç±»åº“ä¸€æ ·ï¼ŒJava é‡‡ç”¨äº† Collection æŽ¥å£å’Œå®žçŽ°ç›¸åˆ†ç¦»çš„ç­–ç•¥ã€‚é€šè¿‡è¿™æ ·ï¼Œæ¥åšåˆ°ä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„æŽ¥å£ï¼Œå¯¹æŸç§æ•°æ®ç»“æž„çš„ä¸åŒå®žçŽ°è¿›è¡Œå¤šæ€è°ƒç”¨ã€‚åŸºæœ¬çš„ Collection æŽ¥å£ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼šéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMap å¹¶éž Collection çš„å­ç±»ï¼Œè€Œæ˜¯è‡ªæˆä¸€æ´¾ã€‚åŒæ—¶ï¼Œè¿™äº›æŽ¥å£éƒ½æ˜¯ æ³›åž‹æŽ¥å£ï¼Œå¯ä»¥ä½¿ç”¨å®ƒä»¬å®šä¹‰æ³›åž‹æ–¹æ³•ã€‚ 3. æŽ¥å£å…·ä½“å«ä¹‰è¿™äº›æŽ¥å£çš„å…·ä½“å«ä¹‰å¦‚ä¸‹ï¼šCollectionCollection ç±»ç»“æž„çš„æ ¹ï¼Œä¸€ä¸ª Collection ä»£è¡¨äº†ä¸€å †å¯¹è±¡çš„é›†åˆä½“ï¼Œå¯¹è±¡é€šå¸¸è¢«ç§°ä½œ å…ƒç´ Setä¸€ä¸ª ä¸èƒ½æ‹¥æœ‰é‡å¤å…ƒç´  çš„ Collectionï¼Œç±»ä¼¼æ•°å­¦æ„ä¹‰ä¸Šçš„é›†åˆListä¸€ä¸ª æœ‰åºçš„ Collectionï¼Œæœ‰æ—¶ä¹Ÿè¢«ç§°ä½œ åºåˆ—(sequence)ä¸€èˆ¬æ¥è¯´ï¼ŒList çš„ç”¨æˆ·å¯¹äºŽ List æœ‰ç€æ¯”è¾ƒç²¾ç¡®åœ°æŽ§åˆ¶ç”¨æˆ·å¯ä»¥ä½¿ç”¨ç´¢å¼•æ¥è¿›è¡Œå…ƒç´ çš„æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œQueueä¸€ä¸ªå­˜å‚¨ç€å³å°†è¿›è¡Œå¤„ç†çš„å…ƒç´ çš„ Collectionç›¸æ¯” Collectionï¼Œå®ƒæä¾›äº†ç‰¹åˆ«çš„åŠ å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œæ¯”è¾ƒç‰¹åˆ«çš„æ˜¯ï¼Œé˜Ÿåˆ—ä¸€èˆ¬æ¥è¯´å…·æœ‰ å…ˆè¿›å…ˆå‡º(FIFO) çš„æ’å…¥å’Œåˆ é™¤æ¬¡åºé˜Ÿåˆ—çš„æ–°å…ƒç´ ä½äºŽé˜Ÿåˆ—æœ«å°¾ï¼Œæ—§å…ƒç´ ä½äºŽé˜Ÿåˆ—å¤´éƒ¨DequeåŒç«¯é˜Ÿåˆ—ï¼Œåœ¨é˜Ÿåˆ—ä¸¤å¤´éƒ½å¯ä»¥è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œåŒæ—¶ï¼ŒåŒç«¯é˜Ÿåˆ—ä¹ŸåŒæ—¶æ”¯æŒ å…ˆè¿›å…ˆå‡º(FIFO) å’Œ åŽè¿›å…ˆå‡º(LIFO) çš„æ’å…¥å’Œåˆ é™¤ç­–ç•¥Mapä¸€ä¸ªå­˜å‚¨é”®å€¼å¯¹çš„å¯¹è±¡Map ä¸èƒ½åŒ…å«é‡å¤é”®ï¼Œæ¯ä¸ªé”®å¯ä»¥è¢«æ˜ å°„åˆ°æœ€å¤šä¸€ä¸ªå€¼ä¸ŠSortedSetä¸€ä¸ªå®ƒçš„å…ƒç´ æŒ‰ç…§ å‡åºæŽ’åˆ— çš„ SetSortedMapä¸€ä¸ªå®ƒçš„é”®æŒ‰ç…§ å‡åºæŽ’åˆ— çš„ Map 4. Abstract ç±»é›†åˆæ¡†æž¶ä¸­ï¼Œé™¤äº†æŽ¥å£å’Œå…·ä½“å®žçŽ°ï¼Œè¿˜æä¾›äº†ä¸€ç³»åˆ—çš„ Abstract* ç±»ï¼›å®ƒæ˜¯ Collection å’Œ Map ä»¥åŠå…¶å­æŽ¥å£çš„ç®€å•å®žçŽ°å½¢å¼ï¼Œåˆ©ç”¨æ³›åž‹æ¥æä¾›äº†ä¸€äº›é€šç”¨çš„æ–¹æ³•ï¼›æ¯”å¦‚ contains() æ–¹æ³•ï¼Œå°±æ˜¯åˆ©ç”¨äº†æ³›åž‹çš„ Iterator å®žçŽ°çš„ã€‚Abstract ç±»æ˜¯ç”¨äºŽè¿›è¡Œå…·ä½“é›†åˆç±»å®žçŽ°çš„ï¼Œé€šè¿‡ç»§æ‰¿ Abstract ç±»ï¼Œå¯ä»¥æžå¤§å‡è½» 5. è§†å›¾åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªå…·ä½“çš„ Collection æˆ–è€… Map å¯¹è±¡è½¬æ¢æˆå¦ä¸€ç§é›†åˆæ¡†æž¶å†…çš„å…·ä½“å¯¹è±¡è¿›è¡Œæ“ä½œï¼›æ‰€ä»¥ï¼Œé›†åˆæ¡†æž¶æä¾›äº†ä¸€ç§å¾ˆæœ‰ç”¨çš„è§†å›¾æŠ€æœ¯ï¼›è§†å›¾(views) æŒ‡çš„å°±æ˜¯è¿”å›žä¸€ä¸ªå®žçŽ°äº† å…¶ä»–æŽ¥å£ çš„ å¼•ç”¨ï¼Œé€šè¿‡è¿™ä¸ªå¼•ç”¨ï¼Œæ¥è¿›è¡Œ åŽŸæœ‰é›†åˆ çš„æ“ä½œï¼Œè¿™ä¸ªå¯¹è±¡å¼•ç”¨å°±æ˜¯è§†å›¾ã€‚ 5.1 Array.asList()ä¸ä»…é›†åˆæ¡†æž¶ä¸­å­˜åœ¨åŒ…è£…å™¨ï¼ŒArray ç±»ä¸­ä¹Ÿå­˜åœ¨å¯ä»¥åŒ…è£…æˆä¸€ä¸ª List çš„æ–¹æ³•ï¼›å®ƒè¿”å›žä¸€ä¸ª List çš„è§†å›¾ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥ä½¿ç”¨ List ä¸­çš„è®¿é—®æ–¹æ³•ï¼ˆåŒ…æ‹¬ get å’Œ setï¼‰å¯¹ åŽŸæ•°ç»„ è¿›è¡Œè®¿é—®å’Œå…ƒç´ çš„ä¿®æ”¹ï¼›ä½†æ˜¯ï¼Œä¸èƒ½è°ƒç”¨ add() å’Œ remove() è¿™ç§èƒ½å¤Ÿå¯¹æ•°ç»„å¤§å°äº§ç”Ÿå½±å“çš„æ–¹æ³•ï¼›æ³¨æ„ï¼Œè§†å›¾å¯¹è±¡å§‹ç»ˆæ˜¯åœ¨ åŽŸå¯¹è±¡ è¿›è¡Œæ“ä½œçš„ã€‚æœ‰è¶£çš„æ˜¯ï¼ŒasList() è¿”å›žçš„ä¹Ÿæ˜¯ ArrayList å¯¹è±¡ä¸è¿‡ï¼Œä¸æ˜¯ java.util.ArrayListï¼Œè€Œæ˜¯ java.util.Arrays.ArrayListï¼Œæ˜¯å…¶è‡ªèº«çš„ä¸€ä¸ªå­ç±»Java 5 ä¹‹åŽï¼ŒasList() æ–¹æ³•å£°æ˜Žä¸ºäº†ä¸å®šå‚æ•°ï¼Œå¯ä»¥ç›´æŽ¥ä¼ å…¥å…ƒç´ è¿›è¡Œè½¬æ¢æ“ä½œã€‚ 5.2 å­èŒƒå›´å¯ä»¥ä½¿ç”¨è¯¸å¦‚ subXXX() å’Œ headXXX() å’Œ tailXXX() æ–¹æ³•è¿”å›ž Collection çš„ä¸€ä¸ªå­èŒƒå›´ï¼›å¯ä»¥é€šè¿‡è¿™ä¸ªå­èŒƒå›´è§†å›¾å¯¹é›†åˆçš„ä¸€éƒ¨åˆ†è¿›è¡Œæ“ä½œã€‚ 5.3 ä¸å¯å˜çš„è§†å›¾é€šè¿‡ unmodifiableXXX() å¯ä»¥èŽ·å–ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„è§†å›¾ï¼›è¿™ä¸ªè§†å›¾ä¸­çš„æ‰€æœ‰çš„æ›´æ”¹å™¨æ–¹æ³•éƒ½ä¼šè¿”å›ž UnsupportedOperationExceptionï¼›å½“ç„¶ï¼Œè¿™ä¸æ„å‘³ç€å…¶åŽŸå§‹é›†åˆä¸èƒ½è¢«æ›´æ”¹ï¼Œåªæ˜¯è§†å›¾å¯¹è±¡ä¸èƒ½æ›´æ”¹åŽŸæœ‰é›†åˆï¼Œä½†æ˜¯é€šè¿‡åŽŸå§‹é›†åˆçš„å¼•ç”¨ï¼ŒåŒæ ·å¯ä»¥æ›´æ”¹åŽŸå§‹çš„é›†åˆã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒunmodifiableCollection() è¿”å›žçš„é›†åˆæ˜¯é€šè¿‡åŽŸå§‹çš„ Object.equals() æ–¹æ³•è¿›è¡Œç›¸ç­‰æ€§åˆ¤æ–­çš„ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½é€šè¿‡ Collection è§†å›¾è¿›è¡Œç›¸ç­‰æ€§åˆ¤å®šã€‚ 5.4 åŒæ­¥è§†å›¾é›†åˆæ¡†æž¶è¿˜æä¾›äº†ä¸€ä¸ªåŒæ­¥è§†å›¾ï¼Œç”¨æ¥è¿›è¡Œä¸€ç³»åˆ—çš„å¤šçº¿ç¨‹åŒæ­¥å·¥ä½œã€‚é€šè¿‡ synchronizedXXX() å¯ä»¥èŽ·å–åˆ°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ Collection æˆ–è€… Mapï¼›ä¸è¿‡ï¼Œè¿™ä¸ªçº¿ç¨‹å®‰å…¨ä»…é™äºŽä¸€äº›åŸºæœ¬çš„æ–¹æ³•ï¼›å¯¹äºŽéåŽ†æ–¹æ³•ï¼ŒåŒ…æ‹¬ä½¿ç”¨è¿­ä»£å™¨å’Œ Streamï¼Œéƒ½éœ€è¦ æ‰‹åŠ¨è¿›è¡ŒåŒæ­¥ 5.5 æ£€æŸ¥è§†å›¾åœ¨ Java 5 å¼•å…¥æ³›åž‹ä¹‹åŽï¼Œé›†åˆæ¡†æž¶æä¾›äº†ä¸€ä¸ªæ£€æŸ¥è§†å›¾ï¼›å®ƒä¸“é—¨ç”¨äºŽæ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–ç±»åž‹çš„å¯¹è±¡æ··å…¥äº†é›†åˆä¹‹ä¸­ã€‚ä¾‹å¦‚ï¼š123ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();ArrayList a = strings;a.add(new Date());ç”±äºŽä½¿ç”¨äº†åŽŸå§‹ç±»åž‹ï¼Œç¼–è¯‘å™¨æ— æ³•å‘çŽ°è¿™ä¸€æ³›åž‹é”™è¯¯ã€‚ä½¿ç”¨æ£€æŸ¥è§†å›¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‘çŽ°è¿™ä¸€é”™è¯¯ï¼š1List&lt;String&gt; checkedStrings = Colllections.checkedList(strings, String.class);å½“å‘çŽ°ç±»åž‹ä¸ç¬¦åˆæ—¶ï¼Œå®ƒä¼šç«‹å³æŠ›å‡ºä¸€ä¸ª ClassCastExceptionï¼›ä¸è¿‡ï¼Œå®ƒä¹Ÿæœ‰ç¼ºé™·ï¼Œå®ƒæ˜¯ä¾èµ–äºŽè™šæ‹Ÿæœºçš„æ³›åž‹å®‰å…¨æœºåˆ¶ï¼›å½“å‘ ArrayList&lt;Pair&lt;String&gt;&gt; ä¸­æ’å…¥ Pair&lt;Date&gt; æ—¶ï¼Œå°±ä¸èƒ½æ£€æµ‹å‡ºè¿™ç§é”™è¯¯ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala Hello World]]></title>
    <url>%2F%2FScala%2FScala%20Hello%20World%2F</url>
    <content type="text"><![CDATA[1. ç®€ä»‹Scala æ—¢å¯ä»¥ä½¿ç”¨äº¤äº’å¼å‘½ä»¤è¡Œæ¥ç¼–ç¨‹ï¼Œä¹Ÿå¯ä»¥å°†å…¶å†™æˆä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºï¼›å…¶ä¸­ï¼Œå…³äºŽæž„å»ºç‹¬ç«‹ç¨‹åºçš„å†™æ³•ä¸€å…±æœ‰ä¸¤ç§ã€‚ 2. main() æ–¹æ³•ä½¿ç”¨ main() æ–¹æ³•æ˜¯é€šå¸¸å„ç§è¯­è¨€çš„ç¨‹åºå…¥å£ï¼ŒScala ä¹Ÿä¸ä¾‹å¤–ï¼š123def main(args: Array[String]) &#123; println("Hello, World!")&#125; 3. ä½¿ç”¨ Application ç‰¹è´¨123object Hello extends Application &#123; println("Hello, World!")&#125;]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala ç®€ä»‹]]></title>
    <url>%2F%2FScala%2FScala%20%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Scala æ˜¯é«˜å±‚çº§çš„ï¼Œå‡½æ•°å¼ï¼ŒåŸºäºŽ JVMï¼Œå®Œç¾Žè°ƒç”¨ Java çš„ç¼–ç¨‹è¯­è¨€ã€‚å…¶ä¸»è¦ç‰¹ç‚¹å°±æ˜¯å®ƒæ˜¯ä¸€é—¨å‡½æ•°å¼è¯­è¨€ã€‚è¯­æ³•ä¸Šï¼ŒKotlin å€Ÿé‰´äº†å…¶å¤§éƒ¨åˆ†çš„è¯­æ³•ï¼Œæ‰€ä»¥ä½“çŽ°å‡ºå’Œ Kotlin éžå¸¸ç›¸ä¼¼çš„ç‰¹å¾ã€‚åŒæ—¶ï¼Œç”±äºŽåŸºäºŽ JVMï¼Œæ‰€ä»¥ç±»åž‹ç³»ç»Ÿå’Œ Java æ²¡æœ‰å¤šå¤§åŒºåˆ«ã€‚ 2. ä»€ä¹ˆæ˜¯å‡½æ•°å¼è¯­è¨€å‡½æ•°å¼è¯­è¨€çš„ä¸¤å¤§ç†å¿µï¼šå‡½æ•°ä¹Ÿæ˜¯å€¼ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¿å­˜åœ¨å˜é‡ä¸­ï¼Œä¸Žå…¶ä»–ç±»åž‹åŒçº§å‡½æ•°åªåº”è¯¥æŽ¥å—å‚æ•°è¾“å…¥ï¼Œå¹¶è¾“å‡ºè¿”å›žå€¼ï¼Œä¸åº”è¯¥å…·æœ‰å…¶ä»–å‰¯ä½œç”¨ 3. æ²¡æœ‰åˆ†å·è¿™é‡Œéœ€è¦è¯´çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œè™½ç„¶ Scala æ²¡æœ‰åˆ†å·ï¼›ä½†æ˜¯å½“ä½ å†™é•¿è¡¨è¾¾å¼çš„æ—¶å€™å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼š12someLongExpression+ someOtherExpressionä¸Šé¢çš„è¯­å¥ä¼šè¢«éšå¼åŠ ä¸Šåˆ†å·ï¼š12someLongExpression;+ someOtherExpressionè¿™æ ·æ˜¾ç„¶æ˜¯ä¸ç¬¦åˆæˆ‘ä»¬çš„å®žé™…æ„å›¾çš„ï¼Œè§£å†³åŠžæ³•æœ‰ä¸¤ä¸ªï¼šä½¿ç”¨æ‹¬å·12(someLongExpression + someOtherLongExpression)å°†æ“ä½œç¬¦æ”¾åœ¨è¡Œå°¾12someLongExpression +someOtherExpressionåˆ†å·æŽ¨æ–­çš„è§„åˆ™ä¸ºï¼Œé™¤éžä»¥ä¸‹æƒ…å†µï¼Œå¦åˆ™è¡Œå°¾å°†ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªåˆ†å·ï¼šè¡Œå°¾ç”±ä¸€ä¸ªä¸èƒ½åˆæ³•ä½œä¸ºè¡Œå°¾çš„å­—ç¬¦ç»“æŸï¼Œå¦‚å¥ç‚¹(.) å’Œä¸­ç¼€æ“ä½œç¬¦ (+ã€-)ä¸‹ä¸€è¡Œå¼€å§‹äºŽä¸èƒ½ä½œä¸ºè¯­å¥å¼€å§‹çš„å­—è¡Œç»“æŸäºŽæ‹¬å·(()) å’Œ æ–¹æ‹¬å· ([]) ä¹‹ä¸­ç”±äºŽæ‹¬å·ä¸­ä¸èƒ½å®¹çº³å¤šä¸ªè¯­å¥ï¼Œæ‰€ä»¥ï¼Œå®ƒä¹‹ä¸­çš„è¡Œä¸å¯èƒ½æ˜¯ä¸€ä¸ªé€»è¾‘è¡Œ 4. é¢å‘å¯¹è±¡Scala ä¸­æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ å¯¹è±¡ï¼›æ“ä½œç¬¦å®žé™…ä¸Šæ˜¯å¯¹è±¡çš„ æ–¹æ³• 5. å˜é‡å®šä¹‰è¯­æ³•ä¸Šå’Œ Kotlin æ— å¤šå¤§å·®åˆ«1var x: Int = 0 6. å‡½æ•°å®šä¹‰1234def max(x: Int, y: Int): Int = &#123; if (x &gt; y) x else y&#125;æœ‰è¶£çš„æ˜¯ï¼ŒScala ä¸­ï¼Œå‡½æ•°å®šä¹‰éœ€è¦ä¸€ä¸ªç­‰å·ï¼›è¿™æ„å‘³ç€ï¼Œå‡½æ•°å®žé™…ä¸Šæ˜¯ä¸€ä¸ª å˜é‡ï¼Œè€Œå‡½æ•°ä½“å®žé™…ä¸Šæ˜¯ä¸€ä¸ª è¿”å›žå€¼çš„è¡¨è¾¾å¼ã€‚åŒæ—¶ï¼Œå‡½æ•°ä½“ æ²¡æœ‰ returnï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºå‡½æ•°ä½“æ˜¯ä¸€ä¸ª è¡¨è¾¾å¼ï¼Œè€Œä¸€ä¸ªè¡¨è¾¾å¼ç†åº”è¿”å›žå…¶è®¡ç®—å¾—åˆ°çš„å€¼ã€‚è¿™æ­£å¥½ä½“çŽ°äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œå‡½æ•°æ˜¯ä¸€ä¸ªå€¼ï¼Œå‡½æ•°ä½“æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ 7. ä½¿ç”¨å‡½æ•°å¼é£Žæ ¼Scala ç¨‹åºå‘˜åœ¨è§£å†³é—®é¢˜æ—¶ï¼Œåº”è¯¥ä¼˜å…ˆè€ƒè™‘å‡½æ•°å¼é£Žæ ¼è€ŒéžæŒ‡ä»¤å¼é£Žæ ¼ã€‚ç®€å•çš„åˆ¤æ–­æ ‡å‡†æœ‰ï¼šå°½é‡ä½¿ç”¨ val è§£å†³é—®é¢˜ä½¿ç”¨ var ä¼šè®©ä½ çš„ ç¼–ç å±‚çº§å˜ä½Žï¼Œè€Œå‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦ä½œç”¨å°±æ˜¯ä½¿ä½ çš„è§†é‡Žèšç„¦åœ¨é«˜å±‚çº§ä¸­ã€‚å°½é‡é¿å…å®šä¹‰è¿”å›ž Unit çš„å‡½æ•°å‡½æ•°å¼ç¼–ç¨‹ä¸€ä¸ªç†å¿µå°±æ˜¯å‡½æ•°ä½“æ˜¯è¡¨è¾¾å¼ï¼Œè€Œè¿”å›ž Unit (Java ä¸­çš„ void) çš„å‡½æ•°ä¸€èˆ¬æ¥è¯´éƒ½å…·æœ‰ å‰¯ä½œç”¨ (å³å‡½æ•°åšäº†ä¸æ˜¯ç”Ÿæˆè¿”å›žå€¼çš„å·¥ä½œ)]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala ç±»å’Œå¯¹è±¡åŸºç¡€]]></title>
    <url>%2F%2FScala%2FScala%20%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[1. ç®€ä»‹Scala é™¤äº†æ˜¯ä¸€é—¨å‡½æ•°å¼è¯­è¨€å¤–ï¼Œè¿˜åŒæ—¶å…·æœ‰é¢å‘å¯¹è±¡çš„ç‰¹å¾ï¼›åœ¨ Scala ä¸­ï¼Œä¸€æ ·å…·æœ‰ç±»å’Œå¯¹è±¡ä»¥åŠå¤šæ€çš„æ”¯æŒã€‚ 2. æž„é€ å™¨ç±»å…·æœ‰ä¸€ä¸ªé»˜è®¤çš„ primary æž„é€ å™¨ï¼Œå®ƒçš„å‚æ•°ç›´æŽ¥ä½äºŽ class å¤´ä¸­ï¼›è€Œä¸”ï¼Œæ›´åŠ ç¥žå¥‡çš„æ˜¯ï¼Œclass ä¸­å¯ä»¥ç›´æŽ¥æ‰§è¡Œå¦å¤–çš„å‡½æ•°ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œ æ•´ä¸ªç±» éƒ½æ˜¯ primary æž„é€ å™¨ã€‚å¯¹äºŽå¤šä¸ªæž„é€ å™¨ï¼Œæˆ‘ä»¬é‡‡ç”¨å¦‚ä¸‹çš„å£°æ˜Žæ¥å®žçŽ°ï¼š123class Person(val name:String, val age: Int) &#123; def this(name: String) = this(name, 17)&#125;é€šè¿‡ç›´æŽ¥å®šä¹‰ this æ¥å®šä¹‰ä¸€ä¸ªæ–°çš„æž„é€ å™¨ 3. å®šä¹‰å’Œåˆ›å»ºå’Œ Java ä¸€æ ·ï¼ŒScala ä¸­ï¼Œç±»ä½¿ç”¨ class å…³é”®å­—è¿›è¡Œå®šä¹‰ï¼š123class ChecksumAccumulator &#123; // class body&#125;ä¸è¿‡å’Œ Java ä¸åŒçš„ï¼Œå¯¹è±¡çš„æž„å»ºï¼Œç±»æ²¡æœ‰å‚æ•°ï¼Œåˆ™ä¸éœ€è¦æ‹¬å·ï¼š1new ChecksumAccumulator 4. å­—æ®µå’Œæ–¹æ³•ç±»ä¸­ï¼Œå­—æ®µä½¿ç”¨ val å’Œ var å®šä¹‰ï¼Œæ–¹æ³•ä½¿ç”¨ def å®šä¹‰ã€‚æ³¨æ„ def åŒæ ·è¦ä½¿ç”¨ç­‰äºŽå· =123456class ChecksumAccumulator &#123; var sum = 0 def checkSum(): Int = &#123; return ~(sum + 0XFF) + 1 &#125;&#125;å…¶ä¸­ï¼Œå¦‚æžœæ–¹æ³•éœ€è¦æœ‰å‰¯ä½œç”¨ï¼Œåˆ™å°†å…¶è¿”å›žå€¼å£°æ˜Žä¸º Unit123def add(b: Int): Unit = &#123; sum += b&#125;æ­¤æ—¶ï¼Œæ–¹æ³•ä¼šå¿½ç•¥å‡½æ•°ä½“æœ€åŽçš„å€¼ç±»åž‹ï¼Œè½¬è€Œå°†å…¶è½¬æ¢ä¸º Unitå¦‚æžœéœ€è¦è¿”å›ž Unitï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æŽ¥çœç•¥ç­‰äºŽå·ï¼Œä½¿ç”¨ Java ä¸­å¸¸ç”¨çš„æ–¹æ³•å£°æ˜Žå½¢å¼ï¼š123def add(b: Int) &#123; sum += b&#125;å¦‚æžœä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•çš„å®šä¹‰æ²¡æœ‰ç­‰äºŽå·ï¼Œé‚£ä¹ˆé»˜è®¤å…¶è¿”å›žå€¼ç±»åž‹ä¸º Unitã€‚å¦‚æžœéœ€è¦å‡½æ•°æˆ–è€…æ–¹æ³•æ¥æŽ¨æ–­è¿”å›žå€¼ç±»åž‹ï¼Œåˆ™éœ€è¦åŠ ä¸Šç­‰äºŽå· 5. Getter å’Œ Setterå¾ˆé—æ†¾ï¼ŒScala çš„ç±»æˆå‘˜æ˜¯å­—æ®µå½¢å¼çš„ï¼Œæ‰€ä»¥ï¼Œä¸èƒ½åƒ Kotlin é‚£æ ·é‡‡ç”¨è¯­æ³•ç³–å¼çš„ getter å’Œ setter çš„å†™æ³•ï¼›ç›¸æ¯” Javaï¼ŒScala åœ¨å®šä¹‰å­—æ®µæ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆå­—æ®µçš„ getter å’Œ setterï¼Œä»–ä»¬çš„å‘½åä¸ºï¼š12def x:T // getterdef x_= : (y: T): Unit // setteræ³¨æ„ï¼Œæ–¹æ³•åä¸º x å’Œ x_=é‚£ä¹ˆå¦‚ä½•æä¾›è‡ªå®šä¹‰çš„ getter å’Œ setter å‘¢ï¼Ÿæˆ‘ä»¬åªèƒ½é‡‡ç”¨åŽå¤‡å­—æ®µï¼ŒåŒæ—¶ï¼Œå°†æˆ‘ä»¬è‡ªå®šä¹‰çš„ getter å’Œ setter æ»¡è¶³ä¸Šé¢çš„å‘½åå…¬çº¦ï¼š123456class Person(private var _name: String) &#123; def name = _name def name_= (thatName: String): Unit = &#123; _name = thatName &#125;&#125;è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿåƒä½¿ç”¨å±žæ€§ä¸€æ ·ä½¿ç”¨ name äº†ã€‚123val p = new Person("hehe")p.name = "nihao" 6. å¯è§æ€§ç®€è¿°Scala ä¸­ï¼Œé»˜è®¤çš„å¯è§æ€§æ˜¯ publicï¼›å…¶ä½™çš„å¯è§æ€§ä¿®é¥°ç¬¦å’Œ Java ä¸€è‡´ã€‚ 7. ä¼´ç”Ÿå¯¹è±¡Scala æ²¡æœ‰é™æ€æˆå‘˜ï¼Œä½†æ˜¯å…·æœ‰ä¼´ç”Ÿå¯¹è±¡(companion object)ï¼Œæ˜¯å¯¹è±¡(object) çš„ä¸€ç§ã€‚å¯¹è±¡æ˜¯ä¸€ä¸ª å•ä¾‹ï¼Œå½“å¯¹è±¡å’Œç±»åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰ï¼Œå…·æœ‰åŒæ ·çš„åç§°æ—¶ï¼Œç§°å¯¹è±¡æ˜¯ç±»çš„ä¼´ç”Ÿå¯¹è±¡ã€‚å¯¹è±¡ä¸å¸¦å‚æ•°ï¼Œä¸èƒ½é€šè¿‡ new å…³é”®å­—è¿›è¡Œæž„å»ºã€‚æ–¹æ³•çš„è°ƒç”¨å½¢å¼å’Œ Java çš„é™æ€æ–¹æ³•è°ƒç”¨ç›¸åŒã€‚12345678910111213object ChecksumAccumulator &#123; private val cache = Map[String, Int]() def calculate(s: String): Int = if (cache.contains(s)) cache(s) else &#123; val acc = new ChecksumAccumulator for (c &lt;- s) acc.add(c.toByte) val cs = acc.checksum() cache += (s -&gt; cs) cs &#125;æ²¡æœ‰ä¼´ç”Ÿç±»çš„å¯¹è±¡ç§°ä¸º å­¤ç«‹å¯¹è±¡ï¼Œå®žé™…ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„å•ä¾‹ã€‚ 8. ç±»çš„è§£æžè¿‡ç¨‹Scala é‡‡ç”¨ä»£æ¢æ¨¡åž‹å¯¹è¡¨è¾¾å¼è¿›è¡Œè§£æžï¼Œé‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•è§£æžç±»çš„å®šä¹‰å’Œå£°æ˜Žè°ƒç”¨çš„å‘¢ï¼Ÿå¯¹æ­¤ï¼Œæœ‰å¦‚ä¸‹çš„å‡ ä¸ªæ­¥éª¤ï¼šå°† new å…³é”®å­—å½“æˆæ™®é€šæ–¹æ³•è¿›è¡Œä»£æ¢ï¼Œæœ€ç»ˆä¸ºå€¼è§£æžç±»å®šä¹‰ä¸­çš„æ–¹æ³•å½¢å‚è§£æžæž„é€ å™¨å½¢å‚å°† this å…³é”®å­—æ›¿æ¢æˆ new çš„è¡¨è¾¾å¼å°†ä¸Šè¿°è§£æžåˆ°çš„æ‰€æœ‰å€¼è¿›è¡Œä»£å…¥ï¼Œå‡½æ•°è§£æžä¸ºå­—é¢é‡ç»§ç»­ä»£æ¢ï¼Œæœ€ç»ˆå¾—åˆ°ç»“æžœ]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala å‡½æ•°å¼ç‰¹å¾]]></title>
    <url>%2F%2FScala%2FScala%20%E5%87%BD%E6%95%B0%E5%BC%8F%E7%89%B9%E5%BE%81%2F</url>
    <content type="text"><![CDATA[1. å‡½æ•°ç±»åž‹å‡½æ•°ç±»åž‹æ˜¯å‡½æ•°å¼è¯­è¨€çš„ç‰¹å¾ä¹‹ä¸€ï¼›å…¶åŽŸå› åœ¨äºŽï¼Œå‡½æ•°æ˜¯è¯­è¨€ä¸­çš„ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥ä½œä¸ºå˜é‡ï¼Œè€Œå˜é‡æ˜¯å…·æœ‰ç±»åž‹çš„ã€‚Scala çš„å‡½æ•°ç±»åž‹å®šä¹‰å¦‚ä¸‹ï¼š1f: Int, Int =&gt; Intä½¿ç”¨ç®­å¤´å°†å‚æ•°ç±»åž‹å’Œè¿”å›žå€¼ç±»åž‹ç›¸é—´éš”ï¼›ä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºå‡½æ•° f æŽ¥å—ä¸¤ä¸ª Int å‚æ•°ï¼Œè¿”å›žå€¼ç±»åž‹ä¸º Int 2. é«˜é˜¶å‡½æ•°é«˜é˜¶å‡½æ•°æŒ‡çš„æ˜¯æŽ¥å— å‡½æ•°ä½œä¸ºå‚æ•° çš„å‡½æ•°ï¼Œå®ƒçš„å‚æ•°æ˜¯å‡½æ•°ç±»åž‹ã€‚Scala ä¸­çš„é«˜é˜¶å‡½æ•°å¦‚ä¸‹ï¼š123def sum(f: Int =&gt; Int, a: Int, b: Int) = if(a &gt; b) 0 else f(a) + sum(a + 1, b)å…¶ä¸­ï¼Œf æ˜¯å‡½æ•°ç±»åž‹çš„å‚æ•°ï¼Œå®ƒæŽ¥å—ä¸€ä¸ª Int ä½œä¸ºå‚æ•°ï¼Œè¿”å›žå€¼æ˜¯ä¸€ä¸ª Intï¼›ä¸Šé¢çš„ä¾‹å­å¦‚ä¸‹æ•°å­¦å…¬å¼çš„æ±‚æ³•ï¼šâˆ‘abf(a)\sum_a^b{f(a)}aâˆ‘bâ€‹f(a) 3. åŒ¿åå‡½æ•°(å‡½æ•°å­—é¢é‡, lambda)ä½œä¸ºè¯­è¨€çš„åŸºæœ¬ç±»åž‹ï¼Œå¦‚å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å­—é¢é‡è¡¨ç¤ºå®ƒï¼Œå¦‚ï¼š12val s = "abc"println(s)ä¸Šé¢å¯ä»¥ç›´æŽ¥å†™æˆ1println("abc")åœ¨ Scala ä¸­ï¼Œå‡½æ•°ä¹Ÿå…·æœ‰è¿™ç§ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°å­—é¢é‡ï¼š12val f = (x: Int) =&gt; x * xsum(f, 1, 3)å¦‚ä¸Šï¼Œf æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…·æœ‰å‚æ•° xï¼Œè¿”å›ž x çš„å¹³æ–¹ä¹Ÿå¯ä»¥å°†å­—é¢é‡ç›´æŽ¥ä¼ å…¥1sum(x =&gt; x * x, 1, 3)å¤§éƒ¨åˆ†æƒ…å†µéƒ½ä¸éœ€è¦æ˜¾å¼æŒ‡å®šå‚æ•°çš„ç±»åž‹ï¼Œç¼–è¯‘å™¨ä¼šè¿›è¡Œè‡ªåŠ¨æŽ¨æ–­ï¼›åŒæ—¶ï¼Œæ— æ³•åœ¨å‡½æ•°å­—é¢é‡ä¸­æ˜¾å¼æŒ‡å®šå‡½æ•°çš„è¿”å›žå€¼ç±»åž‹åªèƒ½é€šè¿‡å®šä¹‰å‡½æ•°å˜é‡çš„ç±»åž‹æ¥è¿›è¡Œæ˜¾ç¤ºæŒ‡å®šå®žé™…ä¸Šï¼ŒScala ä¸­çš„åŒ¿åå‡½æ•°å°±æ˜¯å…¶ä»–è¯­è¨€ä¸­çš„ lambda è¡¨è¾¾å¼ï¼›å°±å‡½æ•°å¼ä¸Šæ¥è¯´ï¼ŒScala æä¾›äº†ä¸€ç§æ›´è½»ä¾¿çš„è¯­æ³• 4. æŸ¯é‡ŒåŒ– 4.1 å®šä¹‰æŸ¯é‡ŒåŒ–æ˜¯å‡½æ•°å¼èŒƒå¼çš„ä¸€ä¸ªç‰¹æœ‰çŽ°è±¡ï¼›å®ƒæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡æŽ¥å—éƒ¨åˆ†å‚æ•°ï¼Œå¯ä»¥è¿”å›žæŽ¥å—å‰©ä½™å‚æ•°çš„ åµŒå¥—å‡½æ•°ï¼›äº‹å®žä¸Šï¼Œå¯¹äºŽä¸€ä¸ªå‡½æ•°def f(arg1)â€¦(argn)=Edef \ f(arg_1)\ldots(arg_n) = Edef f(arg1â€‹)â€¦(argnâ€‹)=Eå½“ n&gt;1n \gt 1n&gt;1 æ—¶ï¼Œä»¥ä¸‹çš„å†™æ³•å’Œä¸Šé¢æ˜¯ç­‰ä»·çš„ï¼šdef f(arg1)â€¦(argn)={def g(argn)=E; g}def \ f(arg_1)\ldots(arg_n) = \{def \ g(arg_n) = E; \ g\}def f(arg1â€‹)â€¦(argnâ€‹)={def g(argnâ€‹)=E; g}æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™åµŒå¥—çš„æŽ¥å—éƒ¨åˆ†å‚æ•°çš„å‡½æ•°ï¼Œå¹¶è¿”å›žå®ƒï¼Œæ¥è¾¾åˆ°æŸ¯é‡ŒåŒ–çš„ç›®çš„ï¼›å®žé™…ä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«åšæŸ¯é‡ŒåŒ–ã€‚\begin{align} f(arg_1)(arg_2)\ldots(arg_n) \\ &amp;= arg_1 \Rightarrow \{f(arg_2)\ldots(arg_n)\} \\ &amp;= arg_1 \Rightarrow \{arg_2 \Rightarrow \{f(arg_3)\ldots(arg_n)\}\} \\ &amp;= \cdots \\ &amp;= arg_1 \Rightarrow arg_2 \Rightarrow arg_3 \Rightarrow \ldots \Rightarrow f \end{align} 4.2 æ˜¾å¼æŸ¯é‡ŒåŒ–sum å‡½æ•°å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•è¿›è¡Œé‡å†™ï¼š1234567def sum(f: Int =&gt; Int): (Int, Int) =&gt; Int = &#123; def sumF(a: Int, b: Int) = &#123; if(a &gt; b) 0 else f(a) + sumF(a + 1, b) &#125; sumF&#125;ä¸Šé¢çš„å†™æ³•è¢«ç§°ä½œ æ˜¾å¼æŸ¯é‡ŒåŒ–ï¼Œå°±æ˜¯å°†ä¸€ä¸ªæŽ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°é€šè¿‡æ˜¾å¼ç¼–å†™ä¸€ä¸ªå†…éƒ¨çš„åµŒå¥—å‡½æ•°ï¼Œå¹¶è¿”å›žè¿™ä¸ªå‡½æ•°æ¥è¾¾åˆ°æŸ¯é‡ŒåŒ–ã€‚åœ¨è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥å¦‚ä¸‹è°ƒç”¨ï¼š1sum(x =&gt; x * x) (1, 10) // 1^2 + 2^2 + ... + 10^2ç¬¬ä¸€ä¸ªæ‹¬å·ï¼Œè°ƒç”¨äº†å¤–éƒ¨å‡½æ•°ï¼Œè¿”å›žå€¼æ˜¯å†…éƒ¨çš„ sumF å‡½æ•°ï¼›è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ ç»§ç»­ä½¿ç”¨æ‹¬å· è¿›è¡Œ sumF çš„è°ƒç”¨ 4.3 éšå¼æŸ¯é‡ŒåŒ–è®¸å¤šå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€éƒ½æä¾›æŸ¯é‡ŒåŒ–çš„è¯­æ³•ç³–ï¼Œè¿™è¢«ç§°ä½œ éšå¼æŸ¯é‡ŒåŒ–ï¼›Scala ä¹Ÿæä¾›äº†è¿™æ ·çš„è¯­æ³•ç³–ï¼š123def sum(f: Int =&gt; Int)(a: Int, b: Int) = if (a &gt; b) 0 else f(a) + sum(f)(a + 1, b)é€šè¿‡ä½¿ç”¨ä¸¤ä¸ªæ‹¬å·ï¼Œå°±å¯ä»¥ç›´æŽ¥å®šä¹‰æœ€å†…éƒ¨çš„å‡½æ•°ä½“ï¼Œè€Œä¸éœ€è¦å†å®šä¹‰ä¸€ä¸ªå†…éƒ¨çš„åµŒå¥—å‡½æ•°ï¼›è¿™å¯ä»¥è®©æˆ‘ä»¬åƒè¿›è¡ŒæŸ¯é‡ŒåŒ–å‡½æ•°è°ƒç”¨ä¸€æ ·ï¼Œå®šä¹‰æŸ¯é‡ŒåŒ–å‡½æ•° 4.4 æŸ¯é‡ŒåŒ–çš„ç›®çš„æŸ¯é‡ŒåŒ–ç›¸æ¯”æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå¤šå‚æ•°å‡½æ•°æ¥è¯´ï¼Œè¦ç¨æ˜¾å¤æ‚ï¼›é‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç›´æŽ¥å®šä¹‰ä¸€ä¸ªå¤šå‚æ•°å‡½æ•°å‘¢ï¼Ÿå®žé™…ä¸Šï¼Œä½¿ç”¨æŸ¯é‡ŒåŒ–çš„ç›®çš„åœ¨äºŽå¯ä»¥åŠ¨æ€ç¡®å®šå‚æ•°ï¼›å½“å‡½æ•°çš„æŸäº›å‚æ•°ä¸ç¡®å®šæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä¿å­˜ä¸€ä¸ªå­˜æ ¹ï¼›å‰©ä½™çš„å‚æ•°ç¡®å®šä¹‹åŽï¼Œå¯ä»¥é€šè¿‡å­˜æ ¹ç›´æŽ¥è°ƒç”¨å‰©ä¸‹çš„å‚æ•°ã€‚æŸ¯é‡ŒåŒ–çš„å¦ä¸€ä¸ªç”¨å¤„ç±»ä¼¼å»ºé€ è€…æ¨¡å¼(Builder Pattern)ï¼Œå¯ä»¥é€šè¿‡æŸ¯é‡ŒåŒ–æ¥å‡å°‘å‚æ•°å’Œå‡½æ•°é‡è½½çš„çˆ†ç‚¸ã€‚ 5. éƒ¨åˆ†åº”ç”¨(partially application)éƒ¨åˆ†åº”ç”¨æŒ‡çš„æ˜¯ï¼Œ å›ºå®š å‡½æ•°çš„æŸäº›å‚æ•°ï¼Œå¯ä»¥èŽ·å–ä¸€ä¸ªæŽ¥å—å‰©ä¸‹å‚æ•°çš„å‡½æ•°ï¼›æœ‰ç‚¹ç±»ä¼¼äºŽåœ¨è¿è¡Œæ—¶ç»™äºˆå‡½æ•°é»˜è®¤å€¼ã€‚Scala çš„éƒ¨åˆ†åº”ç”¨å†™æ³•å¦‚ä¸‹ï¼š12345def add(a: Int, b: Int, c: Int) = a + b + cdef addA5 = add(5, _:Int, _:Int)addA5(2, 3) // 5 + 2 + 3å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡å°†å‚æ•° a çš„å€¼å›ºå®šä¸º 5 å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼›å®ƒæŽ¥å— b å’Œ cï¼Œè¿”å›ž 5 + b + c 6. æŸ¯é‡ŒåŒ–å’Œéƒ¨åˆ†åº”ç”¨çš„åŒºåˆ«è¿™ä¸¤ä¸ªæ¦‚å¿µç»å¸¸è¢«æ··æ·†ï¼Œä½†æ˜¯å®žé™…ä¸Šæœ‰ç€ä¸€äº›å·®åˆ«ï¼šæŸ¯é‡ŒåŒ–æŒ‡çš„æ˜¯å°†å¤šå‚æ•°å‡½æ•° åˆ†è§£ä¸º å¤šä¸ªå•å‚æ•°ï¼ˆç»„ï¼‰å‡½æ•°çš„ç‰¹æ€§éƒ¨åˆ†åº”ç”¨æŒ‡çš„æ˜¯é€šè¿‡ å›ºå®š æŸä¸ªå‚æ•°ï¼Œå¾—åˆ°æŽ¥å—å‰©ä½™å‚æ•°å‡½æ•°çš„ç‰¹æ€§è™½ç„¶å®ƒä»¬è°ƒç”¨çš„æ•ˆæžœéƒ½æ˜¯è¿”å›žä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯ï¼Œä¸¤è€…ä¸€æ¬¡è°ƒç”¨è¿”å›žçš„å‡½æ•°å…·æœ‰æ˜¾è‘—çš„ä¸åŒï¼šæŸ¯é‡ŒåŒ–è¿”å›žçš„å‡½æ•°åªæŽ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆç»„ï¼‰ç”±äºŽè¿”å›žçš„æ˜¯å±‚å±‚åµŒå¥—çš„å‡½æ•°ï¼Œæ‰€ä»¥ä¼šå‡ºçŽ°å‡½æ•°çš„è¿žç»­è°ƒç”¨add(1)(1)(1)(1)(1) ä¸­ï¼Œå¯¹äºŽä¸€ä¸ª (1)ï¼Œè¿”å›žçš„å‡½æ•°æ˜¯æŽ¥å—å¦ä¸€ä¸ª 1ï¼ŒåŒæ—¶å°†å‰©ä¸‹çš„å†…éƒ¨åµŒå¥—é—­åŒ…è¿”å›žéƒ¨åˆ†åº”ç”¨è¿”å›žçš„å‡½æ•°å¯ä»¥æŽ¥å—å¤šä¸ªå‚æ•°ç›¸æ¯”æŸ¯é‡ŒåŒ–ï¼Œéƒ¨åˆ†åº”ç”¨è¿”å›žçš„å‡½æ•°å¯ä»¥ç›´æŽ¥æŽ¥å—å¤šä¸ªå‚æ•°ï¼Œå¦‚add_1(1,1,1,1)å›ºå®šäº†ç¬¬ä¸€ä¸ª 1 ä¹‹åŽï¼Œå‰©ä¸‹çš„ 1 å¯ä»¥ç›´æŽ¥ä¼ å…¥ï¼Œè€Œä¸éœ€è¦è¿žç»­è°ƒç”¨æŸ¯é‡ŒåŒ–é€šè¿‡å°†å‡½æ•°åˆ†è§£åµŒå¥—æ¥å‡å°‘å‡½æ•°çš„å‚æ•°ï¼›å‡½æ•°çš„éƒ¨åˆ†åº”ç”¨é€šè¿‡ç»™äºˆå‚æ•°é»˜è®¤å€¼æ¥å‡å°‘å‡½æ•°çš„å‚æ•°ã€‚æŸ¯é‡ŒåŒ–å‡½æ•°çš„è°ƒç”¨æ˜¯å‡½æ•°çš„è¿žç»­è°ƒç”¨ï¼Œè€Œå‡½æ•°çš„éƒ¨åˆ†åº”ç”¨æ˜¯å‡½æ•°çš„ä¸€æ¬¡è°ƒç”¨ã€‚]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®žçŽ°é˜¶æ®µ]]></title>
    <url>%2F%2FReviews%2FTSPi%2F%E5%AE%9E%E7%8E%B0%E9%98%B6%E6%AE%B5%2F</url>
    <content type="text"><![CDATA[1. å®žçŽ°æ ‡å‡†æ‰©å±•äº†è®¾è®¡æ ‡å‡†Standards Reviewå®¡æŸ¥äº†ä¸–ç•Œæ ‡å‡†Naming, interfae and message standardsCoding Standardsç¼–ç è§„èŒƒSize Standards 2. è¡¨æ ¼INSLOGTLOGD 3. ç­–ç•¥å¤æŸ¥å¤ç”¨æµ‹è¯•]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>SPI</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>SPI</tag>
        <tag>TSPI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡é˜¶æ®µ]]></title>
    <url>%2F%2FReviews%2FTSPi%2F%E8%AE%BE%E8%AE%A1%E9%98%B6%E6%AE%B5%2F</url>
    <content type="text"><![CDATA[1. HLD(ä½œä¸š)è®¾è®¡é˜¶æ®µè¦å®Œæˆé«˜å±‚è®¾è®¡ï¼Œå‡º SDSï¼Œè½¯ä»¶è®¾è®¡è§„æ ¼è¯´æ˜Žï¼ˆä½“ç³»ç»“æž„æ–‡æ¡£ï¼‰åŒ…å«ï¼šè½¯ä»¶å±‚æ¬¡æž¶æž„è®¾è®¡åŠŸèƒ½æ¨¡å—è®¾è®¡è¦æ ¹æ®éœ€æ±‚åˆ†æžä¹¦æ¥æ•°æ®åº“è®¾è®¡å°±æ˜¯æ•°æ®åº“è®¾è®¡ï¼ŒåŒ…æ‹¬ E-R å›¾å’Œæ•°æ®åº“è¡¨è®¾è®¡æŽ¥å£å’Œç•Œé¢è®¾è®¡ 2. è®¾è®¡æ ‡å‡†Naming Conventionså‘½åå…¬çº¦ï¼Œå„é¡¹å‘½åçš„è§„å®šInterface formatså†…éƒ¨çš„ API æŽ¥å£è®¾è®¡å’Œå¤–éƒ¨çš„ UI è®¾è®¡ç•Œé¢è®¾è®¡çº¿å›¾ï¼ˆç•Œé¢åŒºåŸŸåˆ’åˆ†ï¼‰System and Error Messageså°±æ˜¯ LOG å’Œ Exception ç•Œé¢Defect Standarsç¼ºé™·æ ‡å‡†ï¼Œä½¿ç”¨ PSPi çš„å°±è¡ŒLOC countingåªè®¡ç®—æ–°å¢žçš„å’Œä¿®æ”¹è¿‡çš„ä»£ç Design Representation Standardså°±æ˜¯ SDS çš„å†…å®¹ 3. è®¾è®¡å¤ç”¨åº“å¤ç”¨çš„æŽ¥å£æ ‡å‡†å¤ç”¨çš„æ–‡æ¡£æ ‡å‡†å¤ç”¨éƒ¨åˆ†çš„è´¨é‡æ ‡å‡†åº”ç”¨å¤ç”¨åº“çš„æŠ€æœ¯æ”¯æŒ]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>SPI</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>SPI</tag>
        <tag>TSPI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘½ä»¤æ¨¡å¼]]></title>
    <url>%2F%2FDesignPattern%2F%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°å‘½ä»¤æ¨¡å¼å°†ã€Žè¯·æ±‚ã€å°è£…æˆå¯¹è±¡ï¼Œä»¥ä¾¿ä½¿ç”¨ä¸åŒçš„è¯·æ±‚ï¼Œé˜Ÿåˆ—æˆ–è€…æ—¥å¿—ç³»ç»Ÿã€‚å‘½ä»¤æ¨¡å¼ä¹Ÿå¯ä»¥æ”¯æŒå¯æ’¤é”€å’Œå›žæ»šæ“ä½œã€‚å‘½ä»¤æ¨¡å¼é€šè¿‡å°†è¯·æ±‚è¿›è¡Œå°è£…ï¼ŒæˆåŠŸåœ°å°†å®¢æˆ·å’Œå…·ä½“çš„ä½Žå±‚ç»„ä»¶è¿›è¡Œè§£è€¦ï¼›å®¢æˆ·åªéœ€è¦çŸ¥é“è¦åŠ è½½å‘½ä»¤ï¼Œè€Œä¸éœ€è¦çŸ¥é“å¦‚ä½•è¿›è¡Œå‘½ä»¤çš„å…·ä½“æ‰§è¡Œæ“ä½œã€‚ 2. ç±»å›¾ç»“æž„å¯ä»¥çœ‹åˆ°ï¼ŒClient å¤„äºŽæœ€é«˜å±‚ï¼Œå®ƒä¸éœ€è¦çŸ¥é“ Command çš„æ‰§è¡Œè¿‡ç¨‹ï¼›è¿™å°±è¾¾åˆ°äº†å®¢æˆ·å’Œä½Žå±‚ç»„ä»¶çš„è§£è€¦ç›®çš„ã€‚ 3. å°è£…è¯·æ±‚è°ƒç”¨è€…ä¸€ä¸ªå¾ˆé‡è¦çš„åœ°æ–¹å°±æ˜¯æˆ‘ä»¬çš„è¯·æ±‚æŽ¥æ”¶è€… Receiver å’Œæˆ‘ä»¬çš„å‘½ä»¤å¯¹è±¡ Command æ˜¯ç»„åˆå…³ç³»ä¹Ÿå°±æ˜¯è¯´ï¼ŒCommand å…·æœ‰ä¸€ä¸ªæŽ¥æ”¶è€…çš„å†…éƒ¨å¯¹è±¡ï¼›å¦åˆ™ï¼Œå®ƒæ— æ³•çœŸæ­£åœ°æˆä¸ºä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„å‘½ä»¤ã€‚123456789101112131415161718public interface Command &#123; void execute(); void undo();&#125;public class ConcreteCommand implements Command &#123; private Receiver receiver; public ConcreteCommand(Receiver receiver) &#123; this.receiver = receiver; &#125; @Override public void execute() &#123; receiver.action(); &#125;&#125; 4. æ”¯æŒæ’¤é”€å’Œå›žæ»šé€šå¸¸çš„å‘½ä»¤éƒ½ä¼šå…·æœ‰å¯æ’¤é”€çš„å±žæ€§è¦æ±‚ï¼›é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å®žçŽ°è¿™ä¸ªå¯æ’¤é”€çš„éœ€æ±‚å‘¢ï¼Ÿæ’¤é”€å®žé™…ä¸Šå°±æ˜¯è¿”å›žåˆ°å‘½ä»¤æ‰§è¡Œå‰çš„ä¸€ä¸ªçŠ¶æ€ä¸­ï¼›æ‰€ä»¥åœ¨å®žé™…çš„å‘½ä»¤å¯¹è±¡ç±»ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è®°ä½ ä¸Šä¸€ä¸ª å‘½ä»¤æ—¶çš„çŠ¶æ€ï¼Œå°±èƒ½å®žçŽ°æ’¤é”€åŠŸèƒ½ã€‚123456789101112131415161718192021222324252627public class CeilingFanHighCommand implements Command &#123; CeilingFan ceilingFan; int prevSpeed; // å‰ä¸€ä¸ªå‘½ä»¤åŽé£Žæ‰‡çš„è½¬é€Ÿ public CeilingFanHighCommand(CeilingFan ceilingFan) &#123; this.ceilingFan = ceilingFan; &#125; public void execute() &#123; prevSpeed = ceilingFan.getSpeed(); &#125; public void undo() &#123; if (prevSpeed == CeilingFan.HIGH) &#123; ceilingFan.high(); &#125; else if (prevSpeed == CeilingFan.MEDIUM) &#123; ceilingFan.medium(); &#125; else if (prevSpeed == CeilingFan.LOW) &#123; ceilingFan.low(); &#125; else if (prevSpeed == CeilingFan.OFF) &#123; ceilingFan.off(); &#125; &#125;&#125; 5. ä½¿ç”¨ç©ºå¯¹è±¡æ›¿ä»£ nullå¯¹äºŽå‘½ä»¤æ¨¡å¼æ¥è¯´ï¼Œå®ƒçš„å®¢æˆ·ç±»è¿˜æ˜¯æœ‰ä¸€äº›ç»†å¾®çš„è¦æ±‚ï¼›æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æˆ–è€…æ•°ç»„æ¥ä»£è¡¨éœ€è¦æ‰§è¡Œçš„å‘½ä»¤æ’æ§½ï¼›å½“æ’æ§½æ²¡æœ‰åŠ è½½å‘½ä»¤æ—¶å€™ï¼Œæˆ‘ä»¬æ™®é€šçš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ª null æ¥è¿›è¡Œæ›¿ä»£ï¼›ä½†æ˜¯ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦å¯¹å‘½ä»¤å¯¹è±¡è¿›è¡Œç©ºæ£€æµ‹ï¼š12345public void onButtonWasPushed(int slot) &#123; if (onCommand[slot] != null) &#123; onCommand[slot].execute(); &#125;&#125;å¯¹æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª NoCommand å¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‘½ä»¤å¯¹è±¡ï¼Œåªä¸è¿‡ä»€ä¹ˆéƒ½ä¸åšï¼›è¿™æ ·ï¼Œå³ä½¿æ’æ§½æ²¡æœ‰åŠ è½½å‘½ä»¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æŽ¥ä½¿ç”¨ NoCommand æ¥æ›¿ä»£ï¼Œè¿™æ ·å°±ä¸éœ€è¦è¿›è¡Œç©ºæ£€æµ‹äº†ï¼š123456Command noCommand = new NoCommand();for (int i = 0; i &lt; 7; i++) &#123; onCommands[i] = noCommand; offCommands[i] = noCommand;&#125; 6. å®å‘½ä»¤å‘½ä»¤æ¨¡å¼çš„ä¸€ä¸ªæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯èƒ½ä½¿ç”¨å®å‘½ä»¤ï¼›ä¹Ÿå°±æ˜¯ä¸€æ¬¡è°ƒç”¨ï¼Œæ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼›å®žé™…ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å°†å‘½ä»¤å¯¹è±¡ä¸­åŒ…è£…çš„æŽ¥æ”¶è€…å˜æˆå‘½ä»¤å¯¹è±¡æ•°ç»„å³å¯ï¼š12345678910111213public clas MacroCommand implements Command &#123; Command[] commands; public MacroCommand(Command[] commands) &#123; this.commands = commands; &#125; public void execute() &#123; for (int i = 0; i &lt; commands.length; i++) &#123; commands[i].execute(); &#125; &#125;&#125; 7. é˜Ÿåˆ—è¯·æ±‚é™¤æ­¤ä¹‹å¤–ï¼Œå‘½ä»¤æ¨¡å¼è¿˜å¯ä»¥ä½¿ç”¨äºŽå·¥ä½œé˜Ÿåˆ—ï¼›ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥æž„å»ºä¸€ä¸ªæŽ¥å—å‘½ä»¤å¯¹è±¡çš„é˜Ÿåˆ—ï¼Œå®ƒåªæ˜¯æŒ‰ç…§é¡ºåºè¿›è¡Œå‘½ä»¤çš„æ‰§è¡Œæ“ä½œï¼›å½“çº¿ç¨‹å¯ç”¨æ—¶ï¼Œå®ƒå°±ä¼šå°†å‘½ä»¤åˆ†é…ç»™çº¿ç¨‹ï¼Œç„¶åŽæ‰§è¡Œ execute()ï¼›é˜Ÿåˆ—å¹¶ä¸éœ€è¦å…³å¿ƒå‘½ä»¤ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œæ˜¯å¦‚ä½•å®Œæˆçš„ï¼Œåªéœ€è¦å¯¹å‘½ä»¤è¿›è¡Œè°ƒåº¦å³å¯ã€‚ 8. æ—¥å¿—å’Œæ¢å¤é™¤äº†é˜Ÿåˆ—ä»¥å¤–ï¼Œæˆ‘ä»¬å¦ä¸€ä¸ªåº”ç”¨èŒƒå›´å°±æ˜¯æ—¥å¿—ç³»ç»Ÿå’Œå´©æºƒæ¢å¤ï¼›ä¸ºäº†å®Œæˆè¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤æŽ¥å£ä¸­æ·»åŠ  store() å’Œ load() æ–¹æ³•ï¼›å½“è°ƒç”¨è€…è°ƒç”¨å‘½ä»¤æ—¶å€™ï¼ŒåŒæ—¶è°ƒç”¨ store() å°†å‘½ä»¤å¯¹è±¡åºåˆ—åŒ–åˆ°æœåŠ¡å™¨ä¸­è¿›è¡Œå­˜å‚¨ï¼›å½“å´©æºƒå‘ç”Ÿï¼Œéœ€è¦æ¢å¤æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å­˜å‚¨æœåŠ¡å™¨ä¸­çš„å‘½ä»¤å¯¹è±¡è¿›è¡Œååºåˆ—åŒ–ï¼Œç„¶åŽè°ƒç”¨ load() æ–¹æ³•ï¼› 9. ä¼˜ç¼ºç‚¹å‘½ä»¤æ¨¡å¼çš„ä¼˜ç‚¹éžå¸¸æ˜Žæ˜¾ï¼Œå°±æ˜¯å¯ä»¥å®Œå…¨å®žçŽ°å®¢æˆ·ç±»å’Œä½Žå±‚ç»„ä»¶çš„è§£è€¦ï¼›é«˜å±‚çš„è°ƒç”¨è€…ä¸éœ€è¦çŸ¥é“å‘½ä»¤æ‰§è¡Œçš„å…·ä½“ç»†èŠ‚ï¼Œåªéœ€è¦è°ƒç”¨æŽ¥å£çš„æ–¹æ³•å°±å¯ä»¥æ‰§è¡Œå‘½ä»¤çš„è°ƒç”¨ã€‚ä½†æ˜¯ç¼ºç‚¹æ˜¯å®ƒéœ€è¦åˆ›å»ºä¸åŒçš„å‘½ä»¤å¯¹è±¡æ¥è¿›è¡Œä¸åŒçš„å‘½ä»¤æŽ¥æ”¶è€…çš„åŒ…è£…ï¼›è¿™å°±ä¼šè®©æˆ‘ä»¬çš„ä»£ç ä¸­å‡ºçŽ°å¾ˆå¤šçš„å°åž‹ç±»ã€‚]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scala å‡½æ•°è§£æž]]></title>
    <url>%2F%2FScala%2FScala%20%E5%87%BD%E6%95%B0%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[1. ä»£æ¢æ¨¡åž‹Scala ä½¿ç”¨ä»£æ¢æ¨¡åž‹å¯¹å‡½æ•°å’Œè¡¨è¾¾å¼è¿›è¡Œè§£æžå·¥ä½œï¼›æ‰€è°“çš„ä»£æ¢æ¨¡åž‹å°±æ˜¯ç±»ä¼¼å¹³å¸¸ç®—æœ¯çš„è¿‡ç¨‹ï¼›ä»Žå·¦åˆ°å³åœ°å°†å‡½æ•°å’Œè¡¨è¾¾å¼ä¸€æ­¥ä¸€æ­¥è½¬æ¢ï¼Œæœ€ç»ˆè½¬æ¢æˆå€¼ã€‚ä¾‹å¦‚ï¼š1(2 * 2) + (4 * 5)å¯¹äºŽä¸Šé¢çš„å¼å­ Scala æ˜¯å¦‚ä½•è§£æžçš„å‘¢ï¼Ÿæˆ‘ä»¬ä»Žå·¦åˆ°å³åœ°è§£æžï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬è§£æž (2 * 2) çš„å†…å®¹ï¼Œå°†å…¶æ›¿æ¢æˆå€¼ 4ï¼›æ­¤æ—¶ï¼Œå¼å­å˜ä¸ºï¼š14 + (4 * 5)ç”±äºŽæœ‰æ‹¬å·ï¼Œå’Œä¹˜æ³•çš„ç®—æœ¯ç­‰çº§è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æŽ¥ä¸‹æ¥å¯¹ (4 * 5) è¿›è¡Œè§£æžï¼›æ­¤æ—¶ï¼Œå¼å­å˜ä¸ºï¼š14 + 20æ­¤æ—¶ï¼Œæˆ‘ä»¬è®¡ç®—ä¸Šé¢çš„å€¼ï¼Œæœ€åŽå¾—åˆ° 24ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒScala çš„è§£æžæ˜¯ç¬¦åˆæˆ‘ä»¬é€šå¸¸çš„ç®—æœ¯è§£æžè§„å¾‹çš„ã€‚ 2. ä»£æ¢æ¨¡åž‹çš„ç¼ºé™·ä½¿ç”¨ä»£æ¢æ¨¡åž‹æœ€é‡è¦çš„ä¸€ä¸ªè¦æ±‚å°±æ˜¯ï¼Œæˆ‘ä»¬çš„è¡¨è¾¾å¼æœ€ç»ˆ èƒ½å¤Ÿ è§„çº¦åˆ°ä¸€ä¸ª å€¼ï¼›å¦‚æžœå®ƒæœ€ç»ˆä¸èƒ½å¤Ÿè§„çº¦åˆ°ä¸€ä¸ªå€¼(æ— é™å¾ªçŽ¯ï¼ŒNon-Terminate)ï¼›æˆ–è€…è¡¨è¾¾å¼å¯¹å…¶å¤–éƒ¨çš„å˜é‡äº§ç”Ÿäº†å½±å“(å‰¯ä½œç”¨)ï¼›éƒ½ä¼šå¯¹ä»£æ¢æ¨¡åž‹é€ æˆæ±¡æŸ“ã€‚ 3. å‰¯ä½œç”¨æ‰€è°“çš„å‰¯ä½œç”¨å°±æ˜¯æŒ‡çš„æ˜¯ï¼Œå‡½æ•°å’Œè¡¨è¾¾å¼çš„æ‰§è¡Œè¿‡ç¨‹ä¿®æ”¹äº†å¤–éƒ¨çš„å˜é‡ã€‚ä¾‹å¦‚ï¼Œc++ è¿™ä¸ªè¡¨è¾¾å¼å°±å…·æœ‰å¾ˆæ˜Žæ˜¾çš„å‰¯ä½œç”¨ï¼›å› ä¸ºæˆ‘ä»¬ä¸èƒ½å¤Ÿç›´æŽ¥å°†è¿™ä¸ªè¡¨è¾¾å¼è§„çº¦ä¸ºä¸€ä¸ªå€¼ï¼›åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ c è¿™ä¸ªå¤–éƒ¨ä¼ å…¥çš„å˜é‡è¿›è¡Œä¿®æ”¹ï¼›è¿™å°±è®©è¿™ä¸ªè¡¨è¾¾å¼æ˜¾å¾—ä¸å¤Ÿçº¯ç²¹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±è¯´å®ƒå…·æœ‰ å‰¯ä½œç”¨ 4. ä¸èƒ½ç»ˆç»“çš„è§£æžæ‰€è°“çš„ä¸èƒ½ç»ˆç»“çš„è§£æžå°±æ˜¯æŒ‡çš„ä¸€ä¸ªå‡½æ•°è¿”å›žå®ƒè‡ªèº«ï¼›ä¾‹å¦‚ï¼š1def loop(x: Int) = loopè¿™ä¸ªå‡½æ•°çš„è§£æžæ°¸è¿œä¹Ÿä¸ä¼šå®Œæˆï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¦‚æžœä½¿ç”¨ä»£æ¢æ¨¡åž‹å¯¹å…¶è¿›è¡Œè§£æžçš„è¯ï¼Œä¼šå‘çŽ°ï¼Œå®ƒçš„è§£æžç»“æžœä¸€ç›´æ˜¯å…¶è‡ªèº«ï¼›æ‰€ä»¥ï¼Œå¯¹å®ƒçš„è§£æžä¼šä¸€ç›´è¿›è¡Œä¸‹åŽ»ï¼Œæ— æ³•å®Œæˆã€‚ 5. å‚æ•°è§£æžScala æœ‰ä¸¤ç§å‚æ•°è§£æžæ–¹å¼ï¼Œä¸åƒå…¶ä»–çš„æŒ‡ä»¤æ€§è¯­è¨€åªæœ‰ä¸€ç§è§£æžæ–¹å¼ï¼›å…¶ä¸­çš„ä¸€ç§å«ä¼ å€¼è°ƒç”¨(call-by-value)ï¼Œå¦ä¸€ç§å«ä¼ åè°ƒç”¨(call-by-name)ã€‚ 5.1 ä¼ å€¼è°ƒç”¨(call-by-value)è¿™æ˜¯ Scala çš„é»˜è®¤çš„å‚æ•°è§£æžæ–¹å¼ï¼Œä¹Ÿæ˜¯å…¶ä»–æŒ‡ä»¤æ€§è¯­è¨€å¸¸ç”¨çš„å‚æ•°è§£æžæ–¹å¼ã€‚ä¸»è¦çš„è§£æžæ­¥éª¤å¦‚ä¸‹ï¼šå°†ä¼ å…¥å‚æ•°çš„è¡¨è¾¾å¼è§£æžä¸ºå€¼å°†å‡½æ•°ä½¿ç”¨å‡½æ•°ä½“è¿›è¡Œæ›¿æ¢å°†å‡½æ•°çš„å½¢å‚æ›¿æ¢ä¸ºç¬¬ä¸€æ­¥ä¸­å¾—åˆ°çš„å®žå‚ä¾‹å¦‚ï¼š123def square(x: Int) = x * xsquare(2 + 2)å¯¹äºŽä¸Šé¢çš„ä»£ç ï¼Œè§£æžæ­¥éª¤å¦‚ä¸‹ï¼šå°† 2 + 2 è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°å®ƒçš„å€¼ 4å°† square ä½¿ç”¨å®ƒçš„å‡½æ•°ä½“è¿›è¡Œæ›¿æ¢ï¼Œå¾—åˆ° x * xå°† x ä»£æ¢ä¸º 4è®¡ç®—å‡ºç»“æžœ 16 5.2 ä¼ åè°ƒç”¨(call-by-name)è¿™æ˜¯ Scala çš„å¦ä¸€ç§å‚æ•°è§£æžæ–¹å¼ï¼Œä¹Ÿæ˜¯å…¶ä»–æŒ‡ä»¤æ€§è¯­è¨€ä¸å…·å¤‡çš„ã€‚åªè¦åœ¨å®šä¹‰å‚æ•°æ—¶ï¼Œä½¿ç”¨ =&gt; å°±å¯ä»¥å®šä¹‰ä¼ åè°ƒç”¨çš„å‚æ•°1def square(x: =&gt; Int) = x * xä¸»è¦çš„è§£æžæ­¥éª¤å¦‚ä¸‹ï¼šå°†å‡½æ•°åæ›¿æ¢ä¸ºå‡½æ•°ä½“ç›´æŽ¥å°†å‚æ•°çš„è¡¨è¾¾å¼ä»£å…¥å½¢å‚å¯¹å¾—åˆ°çš„è¡¨è¾¾å¼è¿›è¡Œè§£æžå’Œè®¡ç®—ï¼Œå¾—å‡ºç»“æžœè¿˜æ˜¯ä½¿ç”¨ä¸Šé¢çš„ä¾‹å­ï¼Œè§£æžæ­¥éª¤å¦‚ä¸‹ï¼šå°† square æ›¿æ¢ä¸º x * xå°† 2 + 2 ä»£å…¥ x ä¸­å¯¹å¾—åˆ°çš„å¼å­ (2 + 2) * (2 + 2) è¿›è¡Œä»£æ¢æ¨¡åž‹çš„è®¡ç®—å¾—åˆ°ç»“æžœ 16 5.3 åŒºåˆ«é‚£ä¹ˆè¿™ä¸¤ç§è®¡ç®—ç»“æžœæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿé¦–å…ˆï¼Œä¼ åè°ƒç”¨å…·æœ‰æ‡’åŠ è½½çš„åŠŸèƒ½ï¼Œç›´åˆ°å‚æ•° è¢«ä½¿ç”¨ çš„æ—¶å€™ï¼Œæ‰è¿›è¡Œå‚æ•°è¡¨è¾¾å¼çš„è§£æžï¼›ä¾‹å¦‚ï¼š12345def first(x: Int, y: Int) = xdef first(x: =&gt; Int, y: =&gt; Int) = xfirst(2 * 2, 4 * 4)æ­¤æ—¶ï¼Œæˆ‘ä»¬å¿½ç•¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯¹äºŽä¼ åè°ƒç”¨æ¥è¯´ï¼Œå®ƒä¸éœ€è¦è§£æž y è¿™ä¸ªå‚æ•°ï¼Œåªéœ€è¦å°†å®ƒä¼ å…¥å‡½æ•°ä½“å³å¯ï¼›è€Œå¯¹äºŽä¼ å€¼è°ƒç”¨ï¼Œåˆ™éœ€è¦å…ˆè§£æžå‡º x å’Œ y çš„å€¼ï¼Œå³ä½¿ y çš„å€¼ä¸ä¼šåœ¨å‡½æ•°ä½“å†…ä½¿ç”¨åˆ°ã€‚å…¶æ¬¡ï¼Œä¼ åè°ƒç”¨å¯ä»¥é¿å…æ— é™å¾ªçŽ¯é—®é¢˜ï¼›å¯¹äºŽä¸Šé¢çš„ä¾‹å­æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆè°ƒç”¨ï¼š1first(1, loop)å¯¹äºŽä¼ åè°ƒç”¨æ¥è¯´ï¼Œç”±äºŽå®ƒæ˜¯ç›´æŽ¥ä¼ å…¥å‡½æ•°ä½“ï¼Œç„¶åŽï¼Œå‡½æ•°ä½“å¹¶æ²¡æœ‰ä½¿ç”¨ y è¿™ä¸ªå‚æ•°ï¼›æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±é¿å…äº†å¯¹ loop çš„è§£æžå·¥ä½œï¼›ä½†æ˜¯å¯¹äºŽä¼ å€¼è°ƒç”¨åˆ™ä¸ç„¶ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å¯¹ loop è¿›è¡Œè§£æžï¼Œä»Žè€Œå‡ºçŽ°æ— é™å¾ªçŽ¯é—®é¢˜ã€‚ 5.4 é»˜è®¤ä¼ å€¼è°ƒç”¨çš„åŽŸå› æ—¢ç„¶ä¼ åè°ƒç”¨å…·æœ‰é‚£ä¹ˆå¤šçš„å¥½å¤„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜è¦é»˜è®¤ä½¿ç”¨ä¼ å€¼è°ƒç”¨å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºä¼ å€¼è°ƒç”¨åœ¨å…·ä½“å®žè·µè¿‡ç¨‹ä¸­ï¼Œæ¯”ä¼ åè°ƒç”¨çš„æ‰§è¡Œè¦å¿«ï¼›å…¶æ¬¡ï¼Œç”±äºŽ Scala å¹¶ä¸æ˜¯çº¯å‡½æ•°å¼è¯­è¨€ï¼Œå®žé™…ä¸Šï¼Œå®ƒçš„å‡½æ•°è¿˜æ˜¯å…è®¸æœ‰å‰¯ä½œç”¨çš„ï¼›å¹¶ä¸”åŒæ—¶è¿˜è¦æ”¯æŒå’Œ Java çš„äº’è°ƒç”¨ï¼Œè€Œ Java æ˜¯æŒ‡ä»¤å¼è¯­è¨€ï¼Œé‡‡ç”¨ä¼ å€¼è°ƒç”¨æ˜¾ç„¶ä¼šæ›´å¥½äº›ã€‚]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è£…é¥°è€…æ¨¡å¼(Decorator Pattern)]]></title>
    <url>%2F%2FDesignPattern%2F%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F(Decorator%20Pattern)%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°è£…é¥°è€…æ¨¡å¼ åŠ¨æ€çš„ å°†è´£ä»»é™„åŠ åˆ°å¯¹è±¡ä¸Šã€‚è‹¥è¦æ‰©å±•åŠŸèƒ½ï¼Œè£…é¥°è€…æä¾›äº†æ¯”ç»§æ‰¿æ›´æœ‰å¼¹æ€§çš„è§£å†³æ–¹æ¡ˆ 2. æ–°çš„è®¾è®¡åŽŸåˆ™ç±»åº”å½“å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­è¿™ä¹çœ‹ä¸ŠåŽ»å¾ˆçŸ›ç›¾ï¼Œå¦‚ä½•åšåˆ°â€œæ—¢å¼€æ”¾åˆå…³é—­â€ å‘¢ï¼Ÿå®žé™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ ç»„åˆ å’Œ å§”æ‰˜ æ¥è¾¾åˆ°æ‰©å±•çš„ç›®çš„ï¼›è€Œ é¿å…å› ä¸ºæ‰©å±•è€Œéœ€è¦ä¿®æ”¹ä»£ç Bug æ€»æ˜¯åœ¨ä¿®æ”¹ã€æ–°å¢žä»£ç æ—¶å¼•å…¥çš„ï¼›å¦‚æžœèƒ½å¤Ÿå°½é‡å‡å°‘å¯¹ä»£ç çš„åå¤æ›´æ”¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ›´æœ‰æ•ˆçš„å‡å°‘å’Œé¿å… Bugè£…é¥°è€…æ¨¡å¼å°±å¾ˆå¥½çš„ä½“çŽ°äº† â€œå¼€æ”¾â€”â€”å…³é—­â€ åŽŸåˆ™ã€‚ 3. åŽŸç†ä½¿ç”¨ä¸åŒçš„ è£…é¥°è€…å¯¹è±¡ æ¥å¯¹ ä¸»ä½“å¯¹è±¡ è¿›è¡Œè£…é¥°ï¼›é€šè¿‡ å§”æ‰˜ æ¥è¿›è¡Œç»„åˆå·¥ä½œã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åœ°æ–¹å°±æ˜¯ï¼Œä¸ºä»€ä¹ˆèƒ½å®žçŽ°ä¸Šé¢å›¾ç¤ºçš„ åŒ…è£… å’Œ æ–¹æ³•å§”æ‰˜å…¶ä½¿ç”¨åˆ°çš„æŠ€å·§å°±æ˜¯ï¼Œ è£…é¥°è€…å¯¹è±¡å®žé™…ä¸Šä¹Ÿæ˜¯ä¸»ä½“å¯¹è±¡ï¼Œå³å®ƒä»¬æœ‰ç›¸åŒçš„è¶…ç±»ã€‚å¦‚æžœä¸å…·å¤‡ç›¸åŒè¶…ç±»çš„è¯ï¼Œæœ€å¤šåªèƒ½åšåˆ°ä¸€å±‚åŒ…è£…ï¼Œè€Œæ— æ³•åšåˆ°åŠ¨æ€çš„ï¼Œå¤šå±‚åŒ…è£…ã€‚æ³¨æ„ï¼Œè¿™é‡Œé‡‡ç”¨ç›¸åŒçš„è¶…ç±»ï¼Œå®žé™…ä¸Šåªæ˜¯ä¸ºäº†åšåˆ° ç±»åž‹åŒ¹é…ï¼Œè€Œè£…é¥°è€…å¹¶æ²¡æœ‰ä»Žè¶…ç±»ä¸­ç»§æ‰¿å®ƒçš„ è¡Œä¸ºã€‚ç»§æ‰¿çš„åŽŸç½ªåœ¨äºŽï¼Œ åœ¨è¿è¡Œæ—¶ï¼Œè¡Œä¸ºéœ€è¦æ”¹å˜ï¼ å¦‚æžœè¡Œä¸ºä»Žç»§æ‰¿ä¸­å¾—åˆ°ï¼Œé‚£ä¹ˆå®ƒåœ¨ç¼–è¯‘æ—¶å°±ä¼šè¢«ç¡®å®šï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ ä¸Žå…·ä½“å®žçŽ°ç»‘å®šã€‚ä½†æ˜¯ï¼Œå¦‚æžœè¡Œä¸ºä¸ä»Žç»§æ‰¿ä¸­å¾—åˆ°ï¼Œé‚£ä¹ˆç»§æ‰¿åè€Œæˆäº†ä¼˜ç‚¹ï¼Œå› ä¸ºç»§æ‰¿å¯ä»¥å®žçŽ°å¤šæ€ï¼Œä¸ºæˆ‘ä»¬çš„åŠ¨æ€æ‰©å±•æä¾›åˆé€‚çš„æ¡ä»¶ 4. ç‰¹ç‚¹è£…é¥°è€…å’Œè¢«è£…é¥°å¯¹è±¡æœ‰ ç›¸åŒçš„è¶…ç±»åž‹å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–è€… å¤šä¸ª è£…é¥°è€…æ¥åŒ…è£…å¯¹è±¡ç”±äºŽæœ‰ç›¸åŒçš„è¶…ç±»åž‹ï¼Œæ‰€ä»¥åœ¨éœ€è¦è¢«è£…é¥°å¯¹è±¡çš„åœºåˆæ—¶ï¼Œå¯ä»¥ä½¿ç”¨è£…é¥°è¿‡åŽçš„å¯¹è±¡æ¥æ›¿ä»£è£…é¥°è€…å¯ä»¥åœ¨æ‰€å§”æ‰˜è¢«è£…é¥°è€…çš„è¡Œä¸ºä¹‹å‰ã€ä¹‹åŽï¼ŒåŠ ä¸Šè‡ªå·±çš„è¡Œä¸ºï¼Œä»¥è¾¾åˆ°ç‰¹å®šçš„ç›®çš„å¯¹è±¡å¯ä»¥åœ¨ä»»ä½•æ—¶å€™è¢«è£…é¥°ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶ï¼ŒåŠ¨æ€åœ°ã€ä¸é™é‡åœ°å¯¹å¯¹è±¡è¿›è¡Œè£…é¥° 5. UML å›¾è§£å¯ä»¥çœ‹åˆ°ï¼Œè£…é¥°è€…å’Œä¸»ä½“å¯¹è±¡æœ‰ä¸€ä¸ª å…±åŒçš„è¶…ç±»åŒæ—¶ï¼Œ Decorator å’Œ Component éƒ½æ˜¯ æŠ½è±¡ç±»å¯¹äºŽå®žé™…çš„è£…é¥°è€…ï¼Œä»–ä»¬éƒ½åŒ…å«äº†ä¸€ä¸ª Component å®žä¾‹ï¼Œè¿™å°±æ˜¯è¢«å…¶è£…é¥°çš„å¯¹è±¡ï¼Œé€šè¿‡å¤šæ€æ¥è¿›è¡Œæ–¹æ³•å§”æ‰˜ã€‚å›¾ä¸­çš„ wrappedObject éœ€è¦ä»Žå¤–éƒ¨èŽ·å¾—ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ˜¯é€šè¿‡ æž„é€ å‡½æ•° ä¼ å…¥çš„ã€‚ 6. ä¾‹å­å›¾è§£ 7. çœŸå®žçš„è£…é¥°è€…æ¨¡å¼â€”â€”Java IOJava IO åº“ä¸­å¤§é‡ä½¿ç”¨äº†è£…é¥°è€…æ¨¡å¼ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆä¼šå‡ºçŽ°å¦‚ä¸‹çš„ä»£ç ï¼š12InputStream in = new BufferdInpuStream(new FileInputSteram());å¯ä»¥çœ‹åˆ° FileInputSteram æ˜¯è¢«è£…é¥°çš„ä¸»ä½“å¯¹è±¡ï¼Œè€Œ BufferdInpuStream æ˜¯è£…é¥°å¯¹è±¡ã€‚ 8. ç¼ºé™·è£…é¥°è€…å¯¹è±¡çš„ç¼ºé™·å¾ˆæ˜Žæ˜¾ï¼Œå°±æ˜¯ä¼š å¢žåŠ å¤§é‡çš„å°å¯¹è±¡ã€‚åŒæ—¶ï¼Œç”±äºŽè£…é¥°è€…æ¨¡å¼æ˜¯é€šè¿‡ å±‚å±‚å§”æ‰˜ æ¥å®žçŽ°æ‰©å±•çš„ï¼›æ‰€ä»¥ï¼Œå½“è£…é¥°è€…éœ€è¦æ”¹å˜çš„æ—¶å€™ï¼Œå°±éœ€è¦å°†æ”¹å˜åº”ç”¨åˆ° æ‰€æœ‰çš„è£…é¥°è€…ï¼›æ­¤æ—¶ï¼Œå½“è£…é¥°è€…æ•°é‡è¾ƒå¤šæ—¶ï¼Œæ›´æ”¹éš¾åº¦å¤§ã€‚]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin ä½¿ç”¨ Gradle]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E4%BD%BF%E7%94%A8%20Gradle%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ä¸€èˆ¬æ¥è¯´ï¼ŒIntilliJ ä¼šè‡ªåŠ¨çš„ç»™æˆ‘ä»¬é…ç½® Kotlin çš„ Gradle è®¾ç½®ï¼›ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¹Ÿæƒ³è‡ªå·±è¿›è¡Œä¸€äº›è‡ªå®šä¹‰çš„ Gradle é…ç½®ï¼›ä¸‹é¢å°±æ¥æ€»ç»“å‡ ä¸ªå¸¸ç”¨çš„é…ç½®æ–¹æ³• 2. åŽ»é™¤ src ä¸­çš„ java ç›®å½•è™½ç„¶è¯´ Kotlin ç»å¸¸å’Œ Java æ··ç€å†™ï¼Œä½†æ˜¯ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬æƒ³å†™ä¸€ä¸ªçº¯ Kotlin ç¨‹åºçš„æ—¶å€™ï¼Œå´å‘çŽ° src ç›®å½•ä¸­ä¸€ç›´å­˜åœ¨ç€ä¸€ä¸ª java ç›®å½•ï¼›è¿™ç€å®žæ¿€èµ·äº†æˆ‘çš„å¼ºè¿«ç—‡ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š1234sourceSets &#123; main.java.srcDirs = ['src/main/kotlin'] test.java.srcDirs = ['src/test/kotlin']&#125;è¿™æ˜¯ gradle java æ’ä»¶ä¸­å¸¸ç”¨çš„æŒ‡å®šæºæ–‡ä»¶ä½ç½®çš„æ–¹æ³•ï¼›ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ kotlin æ’ä»¶ï¼Œä¹Ÿè¦ä½¿ç”¨ main.javaï¼›è€Œä¸èƒ½ä½¿ç”¨ main.kotlinè¿™åº”è¯¥æ˜¯å› ä¸º kotlin æ’ä»¶ç»§æ‰¿äº† java æ’ä»¶çš„æºæ–‡ä»¶ä½ç½®è®¾å®šçš„ç»“æžœã€‚ 2. æŒ‡å®šå­—èŠ‚ç ç‰ˆæœ¬æœ‰æ—¶å€™æˆ‘ä»¬æƒ³ä½¿ç”¨ä¸€äº›é«˜çº§çš„è¯­è¨€ç‰¹æ€§ï¼Œä¸æƒ³ä¸ºä½Žçº§çš„ JVM ç¼–å†™ä»£ç ï¼›è¿™ä¸ªæ—¶å€™å°±éœ€è¦æŒ‡å®šå­—èŠ‚ç ç‰ˆæœ¬ï¼›åœ¨ java æ’ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ sourceCompatibility å’Œ targetCompatibility æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼›ä¸è¿‡åœ¨ Kotlin ä¸­ï¼Œæˆ‘ä»¬è¿˜æœ‰å¯¹åº”çš„ JVM ç‰ˆæœ¬å’Œè¯­è¨€å’Œ API ç‰ˆæœ¬å¯ä»¥è®¾å®šï¼ˆæ³¨æ„ï¼Œä»…åœ¨ Kotlin 1.1 ä¹‹åŽå¯ä»¥ä½¿ç”¨ï¼‰ï¼›12345678910compileKotlin &#123; sourceCompatibility = JavaVersion.VERSION_1_8 targetCompatibility = JavaVersion.VERSION_1_8 kotlinOptions &#123; jvmTarget = "1.8" apiVersion = "1.1" languageVersion = "1.1" &#125;&#125;æ³¨æ„ä¸€å®šè¦åœ¨ compileKotiln ä¸­ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯ç¼–è¯‘ Kotlin æ—¶å€™çš„é€‰é¡¹ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java to Kotlin]]></title>
    <url>%2F%2FKotlin%2FJava%20to%20Kotlin%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ä¸‹é¢æ€»ç»“ä¸€äº›ä»£ç æ®µï¼Œç”¨äºŽå¸®åŠ©ä»Ž Java è¿ç§»åˆ° Kotlin 2. Lazy Initialization123456789101112131415// Javaprivate A a = null;public A getA() &#123; if (a == null) &#123; a = initA(); &#125; return a;&#125;private A initA() &#123; // ...&#125;1234567// Kotlinval a: A by lazy &#123; initA() &#125;private fun initA(): A &#123; // ...&#125; 3. App.getContext()12345678910111213141516// Javaclass App extends Application &#123; private Context context = null; @Override public void onCreate() &#123; super.onCreate(); context = getAppContext(); &#125; public Context getContext() &#123; retrun context; &#125;&#125;123456789101112// Kotlinclass App : Application() &#123; conpanion object &#123; lateinit var context: Context private set &#125; override fun onCreate() &#123; context = applicationContext &#125;&#125;æˆ–è€…ä¹Ÿå¯ä»¥ç›´æŽ¥æ‰©å±• Context ç±»12val Context.myApp: MyApp get() = applicationContext as MyApp 4. it in lambdaå½“å®žçŽ°çš„æŽ¥å£æ˜¯å•æ–¹æ³•æŽ¥å£æ—¶ï¼ŒKotlin ä¼šè‡ªåŠ¨ä½¿ç”¨ lambda æ¥ä»£æ›¿ï¼›è¿™æ—¶å€™å¾ˆå®¹æ˜“å‡ºçŽ°ä¸çŸ¥é“æ€Žä¹ˆå†™çš„é—®é¢˜ã€‚æ­¤æ—¶ï¼Œæ”¾å¿ƒå¤§èƒ†çš„ç”¨ it è¿™ä¸ªå†…ç½®çš„ lambda è¡¨è¾¾å¼å‚æ•°ã€‚12345678// Javabutton.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View view) &#123; // Perform action on click &#125;&#125;);12345// Kotlinbutton.setOnClickListener &#123; it -&gt; // it is a view // Perform action on click&#125;éœ€è¦æ³¨æ„çš„æ˜¯ lambda æ˜¯è¡¨è¾¾å¼ï¼Œé»˜è®¤è¿”å›žå€¼ä¸ºæœ€åŽæ‰§è¡Œå‡½æ•°çš„è¿”å›žå€¼æˆ–è€…å­—é¢é‡ï¼›ä¸éœ€è¦ return å…³é”®å­—ã€‚ 5. Functional Read From StdIn12345fun main(args: Array&lt;String&gt;) &#123; val reader = BufferedReader(InputStreamReader(System.`in`)) reader.lines().forEach(::println)&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin Android Extension]]></title>
    <url>%2F%2FKotlin%2FKotlin%20Android%20Extension%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Kotlin å¯¹äºŽ Android å¼€å‘ï¼Œè¿˜æä¾›äº†ä¸€äº›æ‰©å±•ç‰¹æ€§ï¼Œæœ‰åŠ©äºŽæé«˜ Android å¼€å‘çš„æ•ˆçŽ‡ã€‚ 2. findViewByIdä»»ä½•ä¸€ä¸ª Android å¼€å‘è€…éƒ½ä¼šå¯¹è¿™ä¸ªæ–¹æ³•éžå¸¸ç†Ÿæ‚‰ï¼Œæˆ‘ä»¬é€šè¿‡å®ƒæ¥èŽ·å–è§†å›¾ä¸­ç»„ä»¶çš„å¯¹è±¡å®žä¾‹ï¼ŒéšåŽè¿›è¡Œæ“ä½œã€‚å½“ç„¶ï¼Œä¸€å † findViewById() åŠ¿å¿…é™ä½Žäº†ä»£ç å¯è¯»æ€§ï¼Œæ‰€ä»¥ä¹Ÿå‡ºçŽ°äº†ä¸€äº›åº“ï¼ˆå¦‚ ButterKnifeï¼‰ç”¨äºŽç®€åŒ–è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨å’Œé€ åž‹ï¼Œä½†ç”±äºŽå®ƒä»¬éƒ½æ˜¯è¿è¡ŒæœŸé—´çš„åº“ï¼Œæ‰€ä»¥ä¹Ÿå°±è¦æ±‚ä½¿ç”¨æ³¨è§£ï¼Œè¿™å®žé™…ä¸Šå¹¶æ²¡æœ‰æ ¹æœ¬è§£å†³é—®é¢˜ã€‚Kotlin åˆ™å°†ç®€åŒ–ä¸€æ­¥åˆ°ä½ï¼Œåªéœ€è¦ import è§†å›¾å¯¹åº”çš„åŒ…ï¼Œä½ å°±å¯ä»¥ç®€å•è½»æ¾çš„èŽ·å–åˆ°å¯¹è±¡çš„å®žä¾‹ã€‚123456789101112// Using R.layout.activity_main from the main source setimport kotlinx.android.synthetic.main.activity_main.*class MyActivity : Activity() &#123; override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) textView.setText("Hello, world!") // Instead of findView(R.id.textView) as TextView // The name of instance is the name of its id &#125;&#125; 3. å¦‚ä½•ä½¿ç”¨å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ app/build.gradle æ–‡ä»¶æ·»åŠ ä¸Šä¸‹é¢è¿™ä¸€è¡Œå³å¯ï¼š1apply plugin: 'kotlin-android-extensions' 4. ä½¿ç”¨åœºæ™¯é…ç½®å¥½ Kotlin Android Extension ä¹‹åŽï¼Œå°±å¯ä»¥ä½¿ç”¨ import è¯­å¥æ¥å¯¼å…¥å¯¹åº”çš„ xml è§†å›¾ç»„ä»¶äº†ã€‚1kotlinx.android.synthetic.main.activity_main.*è¿™æ ·ä½ å°±èƒ½åœ¨ Activity ä¸­ç›´æŽ¥é€šè¿‡ id æ¥ä½¿ç”¨è¿™äº›ç»„ä»¶äº†ã€‚å‡å¦‚ä½ éœ€è¦åœ¨ Fragment ä¸­ä½¿ç”¨è¿™äº›ç»„ä»¶æ€Žä¹ˆåŠžå‘¢ï¼ŸFragment ä¸åƒ Activity æ‹¥æœ‰è‡ªå¸¦çš„ findViewById() æ–¹æ³•ï¼Œå®ƒé€šå¸¸è¦ä½¿ç”¨ä¸€ä¸ª rootView æ¥è¿›è¡Œç»„ä»¶èŽ·å–ã€‚å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ä¸Šé¢çš„åŸºç¡€ä¸ŠåŠ ä¸€ä¸ª view å³å¯ã€‚1kotlinx.android.synthetic.main.activity_main.view.*è¿™ä¸ªåŠŸèƒ½ä¹Ÿå¯ä»¥ç”¨åœ¨ Adapter ä¸Šï¼›å¦‚æžœå¼•å…¥äº†è¿™ä¸ªè¯­å¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­æ³•æ¥è¿›è¡Œç»„ä»¶èŽ·å–å’Œè°ƒç”¨ï¼š123456&lt;TextView android:id="@+id/hello" android:layout_width="fill_parent" android:layout_height="wrap_content" android:text="Hello World, MyActivity" /&gt;1activity.hello.setText("Hi!") 5. Android Flavorsæœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬çš„ APP ä¼šè¢«åˆ†æˆä»˜è´¹ç‰ˆå’Œå…è´¹ç‰ˆï¼›è¿™ä¸ªç‰¹æ€§é€šå¸¸æ˜¯é€šè¿‡åœ¨ build.gradle åˆ’å®š Android Flavors æ¥å®žçŽ°çš„ã€‚é‚£ä¹ˆå¯¹äºŽä¸åŒçš„ Flavorï¼Œæˆ‘ä»¬éœ€è¦ä¸åŒçš„å¸ƒå±€ç»„ä»¶æ€Žä¹ˆåŠžå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦æŠŠä¸Šé¢çš„ main æ”¹æˆç›¸åº”çš„åŒ…åå°±è¡Œäº†ï¼›å¯¹äºŽ free/res/layout/activity_free.xmlï¼Œæˆ‘ä»¬å¯ä»¥å†™å¦‚ä¸‹è¯­å¥1import kotlinx.android.synthetic.free.activity_free.* 6. å®žçŽ°åŽŸç†é€šè¿‡æ‰©å±•æ–¹æ³•ï¼Œæ¥ç»™æ¯ä¸ªç±»æä¾›ç›¸åº”çš„æ‰©å±•å±žæ€§å’Œæ‰©å±•æ–¹æ³•ï¼›ç„¶åŽé€šè¿‡ä¸åŒçš„åŒ…æ¥å¼•å…¥è¿™äº›æ‰©å±•ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin åŸºæœ¬ç±»åž‹]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[Kotlin ä¸­ï¼Œä»»ä½•äº‹ç‰©éƒ½æ˜¯å¯¹è±¡ã€‚ 1. æ•°å­—ç±»åž‹Kotlin ä¸­çš„æ•°å­—ç±»åž‹æœ‰ Doubleã€Floatã€Longã€Intã€Shortã€Byte 1.1 ä½å®½TypeBitWidthDouble64Float32Long64Int32Short16Byte8æ³¨æ„ï¼Œåœ¨ Kotlin ä¸­ï¼Œå­—ç¬¦ä¸æ˜¯ä¸€ç§æ•°å­—ç±»åž‹ 1.2 å­—é¢å¸¸é‡æ•°å­—ç±»åž‹å¯ä»¥æœ‰å¤šç§å­—é¢è¡¨ç¤ºå½¢å¼ã€‚æ•´æ•°åè¿›åˆ¶æ•°å­— 123Long ç±»åž‹é€šè¿‡åŠ  L åŽç¼€å®žçŽ°: 123Låå…­è¿›åˆ¶ 0x0FäºŒè¿›åˆ¶ 0b00001011æµ®ç‚¹æ•°é»˜è®¤ä¸º Double ç±»åž‹: 123.5, 123.5e10ä½¿ç”¨ f æˆ–è€… F åŽç¼€æ¥è¡¨ç¤º Float: 123.5f 1.3 è¡¨ç¤ºæ³•Kotlin ä¸­ï¼Œä»»ä½•æ•°å­—éƒ½ä¼šè¢«è‡ªåŠ¨è£…ç®±123456val a: Int = 10000print(a === a) // trueval boxedA: Int? = a // åœ¨ç±»åž‹åŽåŠ  ? è¡¨ç¤ºä¸€ä¸ª Nullable å¯¹è±¡val anotherBoxedA: Int? = aprint(boxedA === anotherBoxedA) // falseprint(boxedA == anotherBoxedA) // trueä¸Šé¢æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œç”±äºŽæ‰€æœ‰çš„æ•°å­—éƒ½ä¼šè¢«è‡ªåŠ¨è£…ç®±ï¼Œæ‰€ä»¥ boxedA ä¸Ž anotherBoxedA ä¸ä¸€è‡´ã€‚ä½†æ˜¯ç”±äºŽä¸¤è€…å‡æŒ‡å‘ aï¼Œæ‰€ä»¥ä¿æŒäº†ç›¸ç­‰æ€§ã€‚è¿™é‡Œçš„ Int ä¸Ž Java çš„ Integer ç›¸åŒ 1.4 è½¬æ¢Kotlin çš„åŽŸåˆ™ä¹‹ä¸€å°±æ˜¯å°½é‡è®©äº‹åŠ¡æ˜Žæ˜¾åŒ–ã€‚æ‰€ä»¥ï¼ŒKotlin ç¦æ­¢éšå¼è½¬æ¢ï¼Œå°±ç®—æ˜¯éšå¼å‘ä¸Šè½¬æ¢ä¹Ÿæ˜¯ä¸å…è®¸çš„ã€‚123val a: Int? = 1val b: Long? = aprint(a == b) // falseç”±äºŽ Int ä¸æ˜¯ Long çš„å­ç±»ï¼Œè€Œä¸”ç¦æ­¢éšå¼è½¬æ¢ï¼Œæ‰€ä»¥å³ä½¿ b æŒ‡å‘äº† aï¼Œå®ƒä»¬ä¹Ÿä¸ç›¸ç­‰ã€‚12val b: Byte = 1 // OKval i: Int = b // ERRORå­—é¢å€¼ä¼šç»ç¼–è¯‘å™¨é™æ€æ£€æŸ¥èµ‹å€¼ç»™æ•´æ•°å½¢å¼çš„å˜é‡ï¼Œä½†æ˜¯ç”±äºŽç¦æ­¢éšå¼è½¬æ¢ï¼Œç¬¬äºŒä¸ªè¯­å¥ä¼šäº§ç”Ÿ ERRORã€‚éœ€è¦è½¬æ¢æ—¶ï¼Œåº”é‡‡ç”¨å†…ç½®çš„è½¬æ¢æ–¹æ³•toByte()toShort()toInt()toLong()toFloat()toDouble()toChar() 1.5 ä½è¿ç®—ç¬¦Kotlin æ”¯æŒå…¨å¥— Java çš„æ™®é€šæ•°å­—è¿ç®—ç¬¦ã€‚ä½†å…³äºŽä½è¿ç®—ç¬¦åˆ™ç¨æœ‰ä¸åŒï¼ŒKotlin é‡‡ç”¨å•è¯åž‹è€Œéž Java çš„ç¬¦å·åž‹ä½è¿ç®—ç¬¦ã€‚ä¸‹é¢æ˜¯ Kotlin çš„ä½è¿ç®—ç¬¦åˆ—è¡¨shl(bits) =&gt; ä½å·¦ç§»ï¼Œç›¸å½“äºŽ Java çš„ &lt;&lt;shr(bits) =&gt; ä½å³ç§»ï¼Œç›¸å½“äºŽ Java çš„ &gt;&gt;ushr(bits) =&gt; æ— ç¬¦å·æ•°å³ç§»ï¼Œç›¸å½“äºŽ Java çš„ &gt;&gt;&gt;and(bits) =&gt; æŒ‰ä½å–ä¸Žæ“ä½œï¼Œç›¸å½“äºŽ Java çš„ &amp;or(bits) =&gt; æŒ‰ä½å–æˆ–æ“ä½œï¼Œç›¸å½“äºŽ Java çš„ |xor(bits) =&gt; æŒ‰ä½å–å¼‚æˆ–æ“ä½œï¼Œç›¸å½“äºŽ Java çš„ ^inv() =&gt; æŒ‰ä½å–åæ“ä½œï¼Œç›¸å½“äºŽ Java çš„ ~ 2. å­—ç¬¦ç±»åž‹å­—ç¬¦ç±»åž‹ä½¿ç”¨ Char æ¥è¡¨ç¤ºï¼Œå­—ç¬¦ä¸æ˜¯æ•°å­—ã€‚123fun check(c: Char) &#123; if (c == 1) // ERROR&#125;å­—ç¬¦ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥'1'ï¼Œåæ–œæ  \ è¡¨ç¤ºè½¬ä¹‰ï¼Œè½¬ä¹‰å­—ç¬¦å’Œ Java ç›¸åŒã€‚å’Œæ•°å­—ç±»åž‹ä¸€æ ·ï¼Œå­—ç¬¦ç±»åž‹ä¹Ÿè¢«è‡ªåŠ¨è£…ç®±ï¼Œä¿æŒç›¸ç­‰æ€§ï¼Œè€Œä¸ä¿æŒä¸€è‡´æ€§ã€‚ 3. å¸ƒå°”ç±»åž‹ä½¿ç”¨ Boolean æ¥è¡¨ç¤ºå¸ƒå°”ç±»åž‹ï¼Œå¸ƒå°”ç±»åž‹æœ‰ä¸¤ä¸ªå€¼ï¼Œtrue å’Œ falseã€‚å†…ç½®çš„é€»è¾‘å¸ƒå°”æ“ä½œä¸Ž Java ç›¸åŒã€‚ 4. æ•°ç»„ä½¿ç”¨ Array è¡¨ç¤ºæ•°ç»„ï¼Œè¿™æ˜¯ä¸€ä¸ªæ³›åž‹ç±»ï¼Œç±»ä¼¼äºŽ Java ä¸­çš„ ArrayList&lt;T&gt;ï¼Œä½†å¹¶ä¸å®Œå…¨ç›¸åŒã€‚æ•°ç»„æ˜¯ invariant çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½æŠŠ Array&lt;String&gt; çš„æ•°ç»„èµ‹äºˆ Array&lt;Any&gt; çš„å®žä¾‹ï¼Œè¿™ä¼šäº§ç”Ÿä¸€ä¸ªruntime failureKotlin åŒæ ·æ‹¥æœ‰ List å’Œ ArrayList ç±»åž‹ï¼Œåœ¨ JVM ä¸Šï¼ŒArray ä¼šè¢«æ›¿æ¢æˆ Java arrayã€‚æ‰€ä»¥ï¼Œäº‹å®žä¸Š Array åªæ˜¯ 4.1 åˆ›å»ºæ•°ç»„ä½¿ç”¨ arrayOf() åˆ›å»ºæ•°ç»„ã€‚12val array = arrayOf(1, 2, 3)val nullArray = arrayOfNulls(5) // Array with 5 null elementsæ³¨æ„å˜é‡å…·æœ‰è‡ªåŠ¨æŽ¨æ–­åŠŸèƒ½ï¼Œç±»ä¼¼ C++ ä¸­çš„ autoä¹Ÿå¯ä»¥ä½¿ç”¨ Array() åˆ›å»ºæ•°ç»„ã€‚123// Crates an Array&lt;String&gt; with values// ["0", "1", "4", "9", "16"]val asc = Array(5, &#123;i -&gt; (i * i).toString()&#125;)Kotlin å†…ç½®äº†ä¸€äº›ç‰¹å®šçš„æ•°ç»„ç±»åž‹ï¼Œå¦‚ IntArray, ByteArray ç­‰ã€‚1val x: IntArray = intArrayOf(1, 2, 3) 4.2 è®¿é—®æ•°ç»„Array å†…ç½®äº† get() å’Œ set() æ–¹æ³•å’Œ size å±žæ€§ã€‚ä½†æ˜¯ä¹Ÿæ”¯æŒä½¿ç”¨æ–¹æ‹¬å·è¿›è¡Œè®¿é—®çš„æ“ä½œ [] 4.3 å¤šç»´æ•°ç»„12val int2d: Array&lt;IntArray&gt;int2d = arrayOf(intArrayOf(1, 2, 3), intArrayOf(4, 5, 6), intArrayOf(7, 8, 9)) 5. å­—ç¬¦ä¸²ä½¿ç”¨ String æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚ä¸Ž Java ä¸€æ ·ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªä¸å¯å˜å¯¹è±¡ã€‚ 5.1 ç›¸å¯¹ Java å¢žåŠ çš„æ–°ç‰¹æ€§ä¸Ž Java ä¸åŒçš„æ˜¯ï¼ŒKotlin æ”¯æŒä½¿ç”¨æ–¹æ‹¬å· [] æ¥èŽ·å–å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒå¯¹å­—ç¬¦ä¸²å­—ç¬¦è¿›è¡ŒéåŽ†ã€‚123for (c in str) &#123; println(c)&#125; 5.2 raw stringæ­¤å¤–ï¼ŒKotlin è¿˜å¸æ”¶äº† Python çš„å¤šè¡Œå­—ç¬¦ä¸²ç‰¹æ€§ï¼Œä½¿ç”¨ä¸‰ä¸ªåŒå¼•å·æ¥è¡¨ç¤ºä¸€ä¸ª raw stringï¼Œraw string ä¸æŽ¥å—è½¬ä¹‰ï¼Œå…¶ä¸­ä»»ä½•çš„å­—ç¬¦éƒ½æ˜¯å­—é¢å­—ç¬¦ã€‚12345val rawString = """ This is a raw string. \n and \t will be displayed as its literal stirng.""" 5.3 å­—ç¬¦ä¸²æ¨¡æ¿Kotlin å­—ç¬¦ä¸²å…·æœ‰æ¨¡æ¿åŠŸèƒ½ï¼Œä½¿ç”¨ $ æ¥æŒ‡å®šå‚æ•°ä¾‹å¦‚ï¼š12val i = 10val s = "i = $i" // evaluates to "i = 10"ä¹Ÿå¯ä»¥ä½¿ç”¨èŠ±æ‹¬å· {} æ¥èŽ·å–å¯¹è±¡çš„å±žæ€§å¡«å……åˆ°å­—ç¬¦ä¸²ä¸­ã€‚ä¾‹å¦‚ï¼š12val s = "abc"val str = "$s.lenth is $&#123;s.lenth&#125;" // evaluates to "abc.length is 3"éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­—ç¬¦ä¸²çš„æ¨¡æ¿åŠŸèƒ½ä¸ä»…å¯ä»¥åœ¨æ™®é€šå­—ç¬¦ä¸²ä¸­ä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨ raw string ä¸­ä½¿ç”¨ã€‚æ­¤æ—¶ï¼Œå¦‚æžœéœ€è¦è¡¨ç¤º $ ç¾Žå…ƒç¬¦å·ï¼Œå¿…é¡»ä½¿ç”¨ä»¥ä¸‹è¡¨è¾¾å¼ï¼š123var price = """$&#123;'$'&#125;9.99"""è¿™é‡Œä½¿ç”¨åŒå¼•å·${&quot;$&quot;}ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ¨¡æ¿å¼•ç”¨ä¸€ä¸ªå­—é¢é‡æ—¶ï¼Œç»“æžœå°±æ˜¯å®ƒæœ¬èº«ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin åŸºç¡€]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[1. åŸºæœ¬è¯­æ³• 1.1 å˜é‡å®šä¹‰ä½¿ç”¨ val å®šä¹‰å¸¸é‡ï¼ˆåªè¯»ï¼‰1234val a: Int = 1val b = 1 // ç±»åž‹å¯ä»¥è¢«è‡ªåŠ¨æŽ¨æ–­val c: Int // å¦‚æžœæ²¡æœ‰è¿›è¡Œå˜é‡åˆå§‹åŒ–ï¼Œåˆ™éœ€è¦æŒ‡å®šå˜é‡ç±»åž‹c = 1æ³¨æ„ï¼Œkotlin å–æ¶ˆäº†åˆ†å·ä½¿ç”¨ var å®šä¹‰å˜é‡12var x = 5x += 1 1.2 æ³¨é‡Šä¸Ž Java ç›¸åŒï¼Œå•è¡Œæ³¨é‡Šä½¿ç”¨ // ï¼Œå¤šè¡Œæ³¨é‡Šä½¿ç”¨ /* */ä¸åŒçš„æ˜¯ï¼Œkotlin ä¸­å…è®¸æ³¨é‡Šå—åµŒå¥—ã€‚ 2. ç¼–ç è§„èŒƒ 2.1 å‘½åé£Žæ ¼å‘½åé£Žæ ¼å’Œ Java ç›¸åŒã€‚ç±»åé‡‡ç”¨å¤§é©¼å³°å‡½æ•°ã€æ–¹æ³•ã€å˜é‡é‡‡ç”¨å°é©¼å³°ä½¿ç”¨ 4 ç©ºæ ¼ç¼©è¿›å…¬æœ‰æ–¹æ³•å’Œå‡½æ•°å¿…é¡»åŠ ä¸Š KDoc 2.2 å…³äºŽå†’å·å†’å·åœ¨åˆ†éš”ä¸¤ä¸ªç±»åž‹çš„æ—¶å€™ï¼Œå‰åŽéƒ½è¦æœ‰ç©ºæ ¼å…¶ä½™æƒ…å†µï¼Œåªéœ€åŽæœ‰ç©ºæ ¼å³å¯ã€‚123interface Foo&lt;out T : Any&gt; : Bar &#123; fun foo(a: Int): T&#125; 2.3 Lambda è¡¨è¾¾å¼åœ¨ä½¿ç”¨ lambda è¡¨è¾¾å¼æ—¶ï¼Œlambda è¡¨è¾¾å¼åº”ä¸ŽèŠ±æ‹¬å·æœ‰ç©ºæ ¼åˆ†éš”ã€‚lambda è¡¨è¾¾å¼åº”å°½é‡çš„çŸ­ã€‚1list.filter &#123; it &gt; 10 &#125;.map &#123; element -&gt; element * 2 &#125; 2.4 å…³äºŽ Unitå½“ä¸€ä¸ªå‡½æ•°è¿”å›ž Unit ç±»åž‹æ—¶ï¼Œåº”å°†å…¶çœç•¥ã€‚ç±»ä¼¼äºŽ Java ä¸­çš„è¿”å›žå€¼ä¸º void 3. åŒ…å’Œå¯¼å…¥Kotlin ä¸­çš„åŒ…å’Œå¯¼å…¥ä¸Ž Java åŒºåˆ«ä¸å¤§ã€‚å¦å¤–å¢žåŠ äº† as å…³é”®å­—ç”¨äºŽèµ‹äºˆåˆ«åç»™ç±»å’Œå‡½æ•°ï¼Œä»¥é˜²å‡ºçŽ°åç§°å†²çªã€‚åŒæ—¶ï¼ŒKotlin ä¸­æ²¡æœ‰ Java ä¸­çš„ import static è¯­å¥ï¼Œæ‰€æœ‰çš„å¯¼å…¥å‡ä½¿ç”¨ import è¿›è¡Œã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin å¯¹è±¡]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Kotlin æä¾›äº†ä¸€ä¸ª Object å±žæ€§ç”¨æ¥å®žçŽ°åœ¨ Java ä¸­å¾ˆå¸¸è§çš„ä¸‰ä¸ªåŠŸèƒ½ï¼šåŒ¿åç±»å¯¹è±¡å•ä¾‹æ¨¡å¼(Singleton)é™æ€ç±»æˆå‘˜å®ƒä»¬åˆ†åˆ«è¢«ç§°ä¸º å¯¹è±¡è¡¨è¾¾å¼ï¼Œå¯¹è±¡å£°æ˜Žï¼Œcompanion object 2. å¯¹è±¡è¡¨è¾¾å¼Kotlin ä½¿ç”¨ å¯¹è±¡è¡¨è¾¾å¼ æ¥å®žçŽ° Java ä¸­å¸¸ç”¨çš„åŒ¿åç±»å¯¹è±¡åŠŸèƒ½ã€‚123456789window.addMouseListener(object : MouseAdapter() &#123; override fun mouseClicked(e: MouseEvent) &#123; // ... &#125; override fun mouseEntered(e: MouseEvent) &#123; // ... &#125;&#125;)å¦‚æžœç±»æ‹¥æœ‰ä¸€ä¸ªæž„é€ å™¨ï¼Œé‚£ä¹ˆå°±å¿…é¡»ä¼ å…¥ç›¸åº”çš„å‚æ•°123456789open class A(x: Int) &#123; public open val y: Int = x&#125;interface B &#123;...&#125;val ab: A = object : A(1), B &#123; override val y = 15&#125;å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åªå£°æ˜Žä¸€ä¸ª object12345val adHoc = object &#123; var x: Int = 0 var y: Int = 0&#125;print(adHoc.x + adHoc.y)å’Œ Java çš„åŒ¿åç±»ä¸€æ ·ï¼Œå¯¹è±¡è¡¨è¾¾å¼ ä¹Ÿå¯ä»¥è®¿é—®å¤–éƒ¨çš„å˜é‡ï¼Œä½†å’Œ Java ä¸åŒçš„æ˜¯ï¼Œå˜é‡å¹¶æ²¡æœ‰è¦æ±‚å¿…é¡»æ˜¯ final123456789101112131415fun countClicks(window: JComponent) &#123; var clickCount = 0 var enterCount = 0 window.addMouseListener(object : MouseAdapter() &#123; override fun mouseClicked(e: MouseEvent) &#123; clickCount++ &#125; override fun mouseEntered(e: MouseEvent) &#123; enterCount++ &#125; &#125;) // ...&#125; 3. å¯¹è±¡å£°æ˜ŽKotlin ä½¿ç”¨ å¯¹è±¡å£°æ˜Ž æ¥å®žçŽ° Java ä¸­å¸¸ç”¨çš„å•ä¾‹æ¨¡å¼12345678object DataProviderManager &#123; fun registerDataProvider(provider: DataProvider) &#123; // ... &#125; val allDataProviders: Collection&lt;DataProvider&gt; get() = // ...&#125;è¿™è™½ç„¶å’Œ å¯¹è±¡è¡¨è¾¾å¼ å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ object å…³é”®å­—åŽé¢è·Ÿä¸€ä¸ªåå­—åŽï¼Œæˆ‘ä»¬ä¸èƒ½å†å«å®ƒè¡¨è¾¾å¼ï¼Œä¹Ÿä¸èƒ½ç»™ä»–èµ‹å€¼ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å®ƒçš„åå­—è®¿é—®å®ƒã€‚è°ƒç”¨ object1DataProviderManager.registerDataProvider(...)å¯¹è±¡å£°æ˜Ž å¯ä»¥æ‹¥æœ‰è¶…ç±»ã€‚123456789object DefaultListener : MouseAdapter() &#123; override fun mouseClicked(e: MouseEvent) &#123; // ... &#125; override fun mouseEntered(e: MouseEvent) &#123; // ... &#125;&#125;åŒæ—¶ï¼Œ å¯¹è±¡å£°æ˜Ž ä¸èƒ½æ˜¯å±€éƒ¨å˜é‡ï¼Œæ¯”å¦‚ç›´æŽ¥åµŒå¥—åœ¨ä¸€ä¸ªæ–¹æ³•é‡Œï¼Œä½†æ˜¯å¯ä»¥åµŒå¥—åœ¨å…¶ä»–çš„å¯¹è±¡å£°æ˜Žæˆ–è€…éžå†…éƒ¨ç±»é‡Œé¢ã€‚ 4. ä¼´ç”Ÿå¯¹è±¡(companion object)è¿™ä¸ªåœ¨ç±»çš„ç« èŠ‚ä¸­ä¹Ÿæœ‰æ‰€ä»‹ç»ï¼Œç”¨äºŽå®žçŽ° Java çš„é™æ€æˆå‘˜åŠŸèƒ½ã€‚ä½¿ç”¨ companion å…³é”®å­—æ¥å£°æ˜Žä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡12345class MyClass &#123; companion object Factory &#123; fun create(): MyClass = MyClass() &#125;&#125;ä¼´ç”Ÿå¯¹è±¡çš„æˆå‘˜å¯ä»¥ç›´æŽ¥ä½¿ç”¨å…¶åå­—æ¥è°ƒç”¨1val instance = MyClass.create()æˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨ä¼´ç”Ÿå¯¹è±¡æœ¬èº«ï¼Œé€šè¿‡ä½¿ç”¨ Companion1val x = MyClass.Companionç”±äºŽæ²¡æœ‰åå­—åŒºåˆ†ï¼Œä¸€ä¸ªç±»åªèƒ½æ‹¥æœ‰ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡è™½ç„¶è¯´ä¼´ç”Ÿå¯¹è±¡çœ‹èµ·æ¥æ˜¯é™æ€çš„ï¼Œä½†æ˜¯åœ¨å®žé™…æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå®ƒä¾æ—§ä¼šå®žä¾‹åŒ–ï¼Œæ‰€ä»¥å®ƒä¹Ÿå¯ä»¥æ‹¥æœ‰è¶…ç±»å’Œé‡è½½æ–¹æ³•ã€‚12345678910interface Factory&lt;T&gt; &#123; fun create(): T&#125;class MyClass &#123; companion object : Factory&lt;MyClass&gt; &#123; override fun create(): MyClass = MyClass() &#125;&#125;å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è®© JVM å°†ä¼´ç”Ÿå¯¹è±¡çœŸæ­£çš„é™æ€åŒ–ï¼Œä½¿ç”¨ @JvmStatic æ³¨è§£å³å¯ã€‚ 5. å¯¹è±¡è¡¨è¾¾å¼ å’Œ å¯¹è±¡å£°æ˜Ž çš„ä¸åŒç‚¹å½“ å¯¹è±¡è¡¨è¾¾å¼ è¢«å£°æ˜Žæ—¶ï¼Œå®ƒå°†ä¼šè¢«ç«‹å³æ‰§è¡Œã€‚è€Œ å¯¹è±¡å£°æ˜Ž ä¼šè¢«å»¶è¿Ÿåˆå§‹åŒ–ï¼Œå®ƒå°†ä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨å®ƒçš„æ—¶å€™è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯å£°æ˜Žå®ƒçš„æ—¶å€™ã€‚ä¼´ç”Ÿå¯¹è±¡ä¼šåœ¨å¯¹åº”çš„ç±»ç¬¬ä¸€æ¬¡è¢«åŠ è½½ä¹‹åŽä½¿ç”¨ java çš„é™æ€åˆå§‹åŒ–å™¨ç”Ÿæˆ]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin æŽ¥å£]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E6%8E%A5%E5%8F%A3%2F</url>
    <content type="text"><![CDATA[1. åŸºæœ¬å½¢å¼Kotlin çš„æŽ¥å£å’Œ Java 8 ä¸­å¾ˆç›¸ä¼¼ã€‚123456interface MyInterface &#123; fun bar() fun foo() &#123; // optional body &#125;&#125; 2. å®žçŽ°æŽ¥å£å’Œç±»ç»§æ‰¿ä¸€æ ·ï¼Œä½¿ç”¨åŒæ ·çš„è¯­æ³•è¿›è¡ŒæŽ¥å£çš„å®žçŽ°12345class Child : MyInterface &#123; override fun bar() &#123; // body &#125;&#125; 3. å£°æ˜Žå±žæ€§åœ¨æŽ¥å£ä¸­å¯ä»¥å£°æ˜Žå±žæ€§ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæŽ¥å£ä¸­çš„å±žæ€§ä¸å…·å¤‡ backing fieldï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡Œåˆå§‹åŒ–ã€‚æŽ¥å£ä¸­çš„å±žæ€§å¯ä»¥æ˜¯ abstract çš„ï¼Œæˆ–è€…æä¾›ä¸€ä¸ªè‡ªå®šä¹‰ getterã€‚1234567891011121314interface MyInterface &#123; val property: Int // abstract val propertyWithImplementation: String get() = "foo" fun foo() &#123; print(property) &#125;&#125;class Child : MyInterface &#123; override val property: Int = 29&#125; 4. è§£å†³å†²çªå’Œç±»ç»§æ‰¿ä¸€æ ·ï¼Œå¦‚æžœå®žçŽ°çš„å¤šä¸ªæŽ¥å£æ–¹æ³•å‡ºçŽ°å†²çªï¼Œå°±å¿…é¡»èµ‹äºˆ override å±žæ€§è¿›è¡Œé‡è½½ã€‚1234567891011121314151617181920interface A &#123; fun foo() &#123; print("A") &#125; fun bar()&#125;interface B &#123; fun foo() &#123; print("B") &#125; fun bar() &#123; print("bar") &#125;&#125;class C : A &#123; override fun bar() &#123; print("bar") &#125;&#125;class D : A, B &#123; override fun foo() &#123; super&lt;A&gt;.foo() super&lt;B&gt;.foo() &#125;&#125;åœ¨è¿™é‡Œï¼ŒD ä¸éœ€è¦ override bar()ï¼Œè¿™æ˜¯å› ä¸º D åŒæ—¶å®žçŽ°äº† Aï¼ŒBï¼Œè€Œ B ä¸­å¯¹ bar() æ–¹æ³•è¿›è¡Œäº†å®žçŽ°ï¼ŒåŒæ—¶ bar() çš„å®žçŽ°ä¸­æ²¡æœ‰å†²çªã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin æŽ§åˆ¶æµç¨‹]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E6%8E%A7%E5%88%B6%E6%B5%81%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[1. IfKotlin ä¸­ if è¯­å¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæœ‰è¿”å›žå€¼ï¼ŒåŠŸèƒ½å’Œ C++ å’Œ Java ä¸­çš„æ¡ä»¶è¡¨è¾¾å¼ç›¸åŒã€‚æ‰€ä»¥ï¼ŒKotlin ä¸­ä¸æ”¯æŒæ¡ä»¶è¡¨è¾¾å¼ï¼Œå› ä¸º if è¯­å¥å·²ç»å…·å¤‡äº†è¿™ä¸ªåŠŸèƒ½ã€‚12345678910// Traditional usagevar max = a if (a &lt; b)max = b// With elsevar max: Int if (a &gt; b)max = aelsemax = b// As expressionval max = if (a &gt; b) a else båŒæ—¶ï¼Œif è¡¨è¾¾å¼ä¹Ÿæ”¯æŒè¯­å¥å—ï¼Œè¯­å¥å—ä¸­çš„æœ€åŽä¸€ä¸ªå˜é‡æˆ–å¸¸é‡çš„å€¼å°±æ˜¯è¯­å¥å—çš„è¿”å›žå€¼ã€‚12345val max = if (a &gt; b) &#123; print("Choose a") a&#125;else &#123; print("Choose b")b &#125;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœ if ä½œä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆéœ€è¦å…¶è¿”å›žå€¼ï¼‰ï¼Œé‚£ä¹ˆ else è¯­å¥å°±å¿…é¡»å­˜åœ¨ã€‚ 2. WhenKotlin ç”¨ when è¡¨è¾¾å¼æ›¿ä»£äº† Java å’Œ C++ ä¸­çš„ switch è¯­å¥çš„åŠŸèƒ½ã€‚ä¸€ä¸ªç®€å•çš„ when è¯­å¥å¦‚ä¸‹ï¼š1234567when (x) &#123;1 -&gt; print("x == 1")2 -&gt; print("x == 2")else -&gt; &#123; // Note the block print("x is neither 1 nor 2") &#125;&#125;ä¸Ž if è¯­å¥ä¸€æ ·ï¼Œwhen è¯­å¥ä¹Ÿå¯ä»¥ä½œä¸ºè¡¨è¾¾å¼ï¼›å½“ when ä½œä¸ºè¡¨è¾¾å¼æ—¶ï¼Œå®ƒçš„è¿”å›žå€¼æ˜¯ä¸Žå…¶ case ç›¸ç¬¦çš„å€¼ã€‚åŒæ ·ï¼Œwhen ä½œä¸ºè¡¨è¾¾å¼æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å—è¯­å¥ã€‚ä¸Ž Java ä¸åŒçš„æ˜¯ï¼Œwhen è¯­å¥å¯ä»¥å¯¹äºŽä¸€äº›ä¸åŒçš„ case è¿›è¡Œä¸€äº›ç›¸åŒçš„ç›¸åº”ï¼Œè€Œä½¿ç”¨è¾ƒå°‘çš„ä»£ç é‡ã€‚1234when (x) &#123; 0, 1 -&gt; print("x == 0 or x == 1") else -&gt; print("otherwise")&#125;åŒæ—¶ï¼Œ when è¯­å¥çš„ case å¯ä»¥ä½¿ç”¨éšæ„çš„è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯ Java ä¸­çš„ä»…èƒ½ä½¿ç”¨å¸¸é‡ã€‚1234when (x) &#123; parseInt(s) -&gt; print("s encodes x") else -&gt; print("s does not encode x")&#125;æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ inã€!inã€isã€!is è¿›è¡ŒèŒƒå›´å’Œç±»åž‹æ£€æµ‹ã€‚123456when (x) &#123; in 1..10 -&gt; print("x is in the range") in validNumbers -&gt; print("x is valid") !in 10..20 -&gt; print("x is outside the range") else -&gt; print("none of the above")&#125;1234val hasPrefix = when(x) &#123; is String -&gt; x.startsWith("prefix") else -&gt; false&#125;Kotlin åœ¨è¿™é‡Œæ‹¥æœ‰ä¸€ä¸ªéžå¸¸å¥½çš„ç‰¹æ€§å« smart castsï¼Œå½“ä¸€ä¸ª is è¡¨è¾¾å¼æ»¡è¶³æ—¶ï¼Œå˜é‡ x å°†è¢«**è‡ªåŠ¨ cast åˆ°ç›¸åº”çš„ç±»åž‹ï¼Œ**è°ƒç”¨ç›¸åº”ç±»åž‹çš„æ–¹æ³•ã€‚æœ€åŽï¼Œwhen ä¹Ÿå¯ä»¥ä¸æŽ¥å—å‚æ•°ä½¿ç”¨ï¼Œæ­¤æ—¶ï¼Œwhen çš„å„ä¸ªåˆ†æ”¯æ¡ä»¶å°±å˜æˆäº†ç®€å•çš„å¸ƒå°”è¡¨è¾¾å¼ï¼Œå¯ä»¥ç”¨äºŽæ›¿ä»£ if-else-if ç»“æž„ã€‚12345when &#123; x.isOdd() -&gt; print("x is odd") x.isEven() -&gt; print("x is even") else -&gt; print("x is funny")&#125; 3. ForKotlin ä¸­çš„ for ç±»ä¼¼ Python å’Œ Java ä¸­çš„ for-each ç»“æž„ï¼Œä½¿ç”¨ in æ ‡è¯†ç¬¦æ¥åˆ†éš” item å’Œ collectionã€‚123for (item in collection) [&#125; print(item)&#125;å¦‚æžœéœ€è¦ä½¿ç”¨ä¸€ä¸ªç´¢å¼•å€¼ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ indicesï¼Œå®ƒå†…ç½®åœ¨ Kotlin ä¸­çš„æ‰€æœ‰ collection ä¸­ã€‚12for (i in array.indices) print(array[i]);åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨ withIndex() æ–¹æ³•ã€‚12for ((index, value) in array.withIndex()) print("$index, $value") 4. While å’Œ do-whileè¿™ä¸¤è€…å’Œ Java æ²¡æœ‰åŒºåˆ«ã€‚ 5. è·³è½¬Kotlin æ”¯æŒä¸‰ç§å½¢å¼çš„è·³è½¬ï¼šreturnï¼šåœ¨æœ€è¿‘çš„å‡½æ•°ï¼ˆåŒ…æ‹¬åŒ¿åå‡½æ•°ï¼‰è¿”å›žbreakï¼šè·³å‡ºå½“å‰æœ€è¿‘çš„å¾ªçŽ¯continueï¼šç»“æŸå½“å‰æœ€è¿‘å¾ªçŽ¯å†…å·¥ä½œï¼Œå¹¶ä»Žä¸‹ä¸€æ¬¡æœ€è¿‘å¾ªçŽ¯å¼€å§‹ä¸Ž Java ä¸€æ ·ï¼ŒKotlin ä¹Ÿæ”¯æŒå¸¦æ ‡ç­¾çš„è·³è½¬ï¼Œæ ‡ç­¾ä½¿ç”¨ @ ç¬¦å·æ¥æŒ‡å®šã€‚12345loop@ for (i in 1..100) &#123; for (j in 1..100) &#123; if (...) break@loop &#125;&#125;å¸¦æ ‡ç­¾çš„ break ç”¨äºŽè·³å‡ºæŒ‡å®šçš„å¾ªçŽ¯ç»“æž„ï¼Œè€Œå¸¦æ ‡ç­¾çš„ continue åˆ™ç”¨äºŽå¼€å§‹ä¸‹ä¸€æ¬¡æŒ‡å®šçš„å¾ªçŽ¯ã€‚ 6. å¸¦æ ‡ç­¾çš„ returnä¸ä»…å¦‚æ­¤ï¼ŒKotlin è¿˜æ”¯æŒå¸¦æ ‡ç­¾çš„ returnï¼Œè¿™ä¸»è¦æ˜¯å› ä¸º Kotlin å…è®¸å‡½æ•°çš„åµŒå¥—ã€‚ä¸€ä¸ªæ¯”è¾ƒæ™®éçš„ä½¿ç”¨åœºæ™¯æ˜¯åœ¨ Lamda è¡¨è¾¾å¼ä¸Šã€‚123456fun foo() &#123; ints.forEach &#123; if (it == 0) return print(it) &#125;&#125;ç±»ä¼¼å¦‚ä¸Šçš„è¯­å¥ï¼Œreturn çš„ä½œç”¨å¯¹è±¡æ˜¯å…¶æœ€è¿‘çš„å‡½æ•°ï¼Œåœ¨è¿™é‡Œæ˜¯ foo()ã€‚ä½†æ˜¯å¦‚æžœæˆ‘ä»¬è¦åªä»Ž Lambda å‡½æ•°ä¸­è¿”å›ž(forEach)ï¼Œåˆ™éœ€è¦æŒ‡å®šä¸€ä¸ªæ ‡ç­¾ã€‚123456fun foo() &#123; ints.forEach lit@ &#123; if (it == 0) re turn@lit print(it) &#125;&#125;ä¸€ä¸ªæ›´ä¸ºå¸¸ç”¨çš„å½¢å¼æ˜¯ç›´æŽ¥ä½¿ç”¨ Lambda è¡¨è¾¾å¼çš„åå­—ã€‚123456fun foo() &#123; ints.forEach &#123; if (it == 0) return@forEach print(it) &#125;&#125;å¦å¤–çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„åŒ¿åå‡½æ•°ï¼Œæ¥å®žçŽ°è¿™ä¸ªåŠŸèƒ½ã€‚123456fun foo() &#123; ints.forEach(fun(value: Int) &#123; if (value == 0) return print(value) &#125;)&#125;å½“éœ€è¦è¿”å›žæŸä¸ªå€¼æ—¶ï¼Œæ ‡ç­¾çš„è§£æžå…·æœ‰æ›´é«˜ä¼˜å…ˆæƒã€‚ä¾‹å¦‚ï¼š1return@a 1è¡¨ç¤ºåœ¨ a æ ‡ç­¾ä¸­è¿”å›ž 1ï¼Œè€Œä¸æ˜¯è¿”å›ž @a 1]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin ç©ºå®‰å…¨]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E7%A9%BA%E5%AE%89%E5%85%A8%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Kotlin å¯¹äºŽ Java çš„ä¸€ä¸ªå¾ˆå¤§çš„æ”¹è¿›åœ¨äºŽï¼ŒKotlin çš„ç±»åž‹ç³»ç»Ÿç›®æ ‡åœ¨äºŽè¦**æ¶ˆé™¤ NullPointerException**æˆ–è€… NPEã€‚æ‰€ä»¥ Kotlin æä¾›äº†ä¸€ä¸ªå¥å£®çš„ Null æ£€æŸ¥ç³»ç»Ÿã€‚ 2. äº§ç”Ÿ NPE çš„åŽŸå› å¯èƒ½äº§ç”Ÿ NPE çš„åŽŸå› å¦‚ä¸‹ï¼šæ˜¾å¼è°ƒç”¨ throw NullPointerException()ä½¿ç”¨ !! æ“ä½œç¬¦Java ä»£ç é€ æˆçš„ä¸€äº›å‰åŽçŸ›ç›¾çš„åˆå§‹åŒ–ï¼ˆåœ¨æž„é€ å‡½æ•°ä¸­æ²¡æœ‰åˆå§‹åŒ–çš„ this åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ï¼‰ 3. Kotlin ç±»åž‹ç³»ç»Ÿåœ¨ Kotlin ä¸­ï¼Œç±»åž‹ç³»ç»Ÿå°†å˜é‡å¼•ç”¨åˆ†æˆäº†ä¸¤ç§ç±»åž‹ï¼šå¯ä»¥ä¸º null çš„ç±»åž‹ï¼ˆnullableï¼‰ï¼Œå’Œä¸èƒ½ä¸º null çš„ç±»åž‹ï¼ˆnon-nullï¼‰12var a: String = "abc"a = null // compilation erroråœ¨ç±»åž‹åŽæ·»åŠ ä¸€ä¸ªé—®å·(?)æ¥è¡¨æ˜Žå®ƒæ˜¯å¯ä»¥ä¸ºç©ºçš„ã€‚12var b: String? = "abc"b = null // okæ­¤æ—¶ï¼Œå¯¹äºŽ aï¼Œç”±äºŽå®ƒä¸ä¼šäº§ç”Ÿ NPEï¼Œä½ å¯ä»¥å®‰å…¨çš„è®¿é—®å®ƒçš„æˆå‘˜ã€‚1val l = a.lengthä½†æ˜¯å¯¹äºŽ bï¼Œç”±äºŽå®ƒå¯èƒ½ä¸ºç©ºï¼Œæ‰€ä»¥ç›´æŽ¥è®¿é—®å®ƒï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™1val l = b.length // error: variable 'b' can be nullä½†æ˜¯æˆ‘ä»¬ä¾æ—§éœ€è¦è®¿é—® b å•Šï¼ 4. è®¿é—®å¯èƒ½ä¸ºç©ºå˜é‡çš„æ–¹æ³•ä¸‹é¢å°±ä»‹ç»å‡ ç§æ–¹æ³•æ¥è¿›è¡Œ b çš„å®‰å…¨è®¿é—®ã€‚ 4.1 æ˜¾å¼æ£€æŸ¥é¦–å…ˆä½ å¯ä»¥ç›´æŽ¥å¯¹ b è¿›è¡Œç©ºæ£€æŸ¥1val l = if (b != null) b.length else -1ç”±äºŽ Kotlin å…·æœ‰æ™ºèƒ½é€ åž‹ç‰¹æ€§ï¼Œè¿˜å¯ä»¥ç›´æŽ¥åœ¨ if è¯­å¥ä¸­è®¿é—® b çš„æˆå‘˜ã€‚1234if (b != null &amp;&amp; b.length &gt; 0) print("String of length $&#123;b.length&#125;")else print("Empty string")å½“ç„¶ï¼Œè¿™åªé€‚ç”¨äºŽå½“ b ç¬¦åˆæ™ºèƒ½é€ åž‹æ¡ä»¶çš„æƒ…æ™¯ï¼Œå¦åˆ™ï¼Œb æœ‰å¯èƒ½åœ¨æ£€æŸ¥ä¹‹åŽå†æ¬¡å˜ä¸ºç©ºã€‚ 4.2 ä½¿ç”¨å®‰å…¨è®¿é—®ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯é‡‡ç”¨å®‰å…¨è®¿é—®æ“ä½œç¬¦(?.)ï¼Œå³åœ¨ç‚¹å·(.)å‰åŠ ä¸€ä¸ªé—®å·(?)1b?.lengthè¿™ä¸ªè¡¨è¾¾å¼å½“ b ä¸ä¸ºç©ºæ—¶è¿”å›ž b.lengthï¼›å½“ b ä¸ºç©ºæ—¶ï¼Œè¿”å›ž nullã€‚è¡¨è¾¾å¼çš„è¿”å›žç»“æžœæ˜¯ Int?å®‰å…¨è®¿é—®åœ¨é“¾å¼æ“ä½œä¸­å¾ˆæœ‰ç”¨ã€‚æ¯”å¦‚è¯´ï¼Œbob æ˜¯ä¸€ä¸ª Employeeï¼Œä»–æœ‰å¯èƒ½è¢«æ´¾å¾€ä¸€ä¸ª Departmentï¼Œè¿™ä¸ªéƒ¨é—¨ä¹Ÿè®¸ä¼šå­˜åœ¨ä¸€ä¸ªä¸»ç®¡ã€‚é‚£ä¹ˆæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹è°ƒç”¨é“¾æ¥èŽ·å– bob æ‰€åœ¨éƒ¨é—¨ä¸»ç®¡çš„åå­—ã€‚1bob?.department?.head?.nameå½“è°ƒç”¨é“¾ä¸Šçš„ä»»ä½•ä¸€ä¸ªå€¼ä¸º null æ—¶ï¼Œè¡¨è¾¾å¼çš„è¿”å›žå€¼éƒ½ä¸º nullã€‚å¦‚æžœä½ æƒ³å¯¹é›†åˆä¸­çš„éžç©ºå…ƒç´ è¿›è¡ŒæŸç§æ“ä½œï¼Œå¯ä»¥ç»“åˆå®‰å…¨è®¿é—®å’Œ let()1234val listWithNulls: List&lt;String?&gt; = listOf("A", null)for (item in listWithNulls) &#123; item?.let &#123; println(it) &#125; // prints A and ignores null&#125;let æ“ä½œæŽ¥å—ä¸€ä¸ª lambda è¡¨è¾¾å¼ï¼Œå¹¶è¿”å›ž lambda è¡¨è¾¾å¼çš„å€¼ã€‚æºä»£ç  4.3 Elvis è¡¨è¾¾å¼å¦‚æžœå¯¹äºŽä¸€ä¸ªå¼•ç”¨ rï¼Œæˆ‘ä»¬éœ€è¦ï¼šå½“ r ä¸ä¸ºç©ºæ—¶ï¼Œä½¿ç”¨å®ƒï¼›å¦åˆ™æˆ‘ä»¬å°±ä½¿ç”¨ä¸€ä¸ªå…¶ä»–çš„å€¼(x)æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„è¯­å¥ï¼š1val l: Int = if (b != null) b.length else -1ä¸€ä¸ªæ›´ä¸ºç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Elvis è¡¨è¾¾å¼(?:)1val l = b?.length ?: -1å¦‚æžœåœ¨ ?: çš„å·¦è¾¹çš„å€¼ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆ Elvis æ“ä½œç¬¦å°±è¿”å›žè¿™ä¸ªå€¼ï¼Œå¦åˆ™å°±è¿”å›žå³è¾¹çš„å€¼ã€‚ä¸Ž Java ä¸­çš„æ¡ä»¶æ“ä½œç¬¦ä¸åŒçš„æ˜¯ï¼Œåªæœ‰å½“ ?: çš„å·¦è¾¹çš„å€¼ä¸ºç©ºæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå³è¾¹çš„è¯­å¥ï¼›æ‰€ä»¥è¿™ä¸ªæ“ä½œç¬¦ä¸èƒ½åƒæ¡ä»¶æ“ä½œç¬¦ä¸€æ ·æ‰§è¡Œä¸€èˆ¬çš„åˆ¤æ–­ã€‚æƒ³è¦å®žçŽ°æ¡ä»¶æ“ä½œç¬¦çš„åŠŸèƒ½ï¼Œè¯·ä½¿ç”¨å•è¡Œçš„ if-else è¡¨è¾¾å¼ã€‚ 4.4 !! æ“ä½œç¬¦ç¬¬ä¸‰ä¸ªæ–¹æ³•æ˜¯ç»™ NPE çˆ±å¥½è€…ä»¬ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ b!!ï¼Œä½¿ç”¨å®ƒæ¥è¿›è¡Œè°ƒç”¨ï¼Œç»“æžœå°±ä¼šå’Œ Java ä¸€æ ·ï¼Œä¼šæŠ›å‡º NPEã€‚1val l = b!!.lengthä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœä½ éœ€è¦ NPEï¼Œå°±ä½¿ç”¨è¿™ä¸ªæ“ä½œç¬¦ã€‚ 5. å®‰å…¨çš„é€ åž‹ä¸€èˆ¬çš„é€ åž‹ as åœ¨å¯¹è±¡ä¸ç›¸ç¬¦çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿä¸€ä¸ª ClassCastExceptionã€‚ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©æ˜¯ä½¿ç”¨ as?ï¼Œä¸€ç§æ›´ä¸ºå®‰å…¨çš„é€ åž‹ï¼Œå½“é€ åž‹å¤±è´¥æ—¶ï¼Œå°†ä¼šè¿”å›ž null1val aInt: Int? = a as? Int // return null if failure 6. ç©ºç±»åž‹çš„é›†åˆå¦‚æžœä½ æ‹¥æœ‰ä¸€ä¸ªå¯ç©ºç±»åž‹çš„é›†åˆï¼Œæƒ³è¦è¿‡æ»¤å‡ºéžç©ºç±»åž‹ã€‚åªéœ€è¦å†™å¦‚ä¸‹è¯­å¥ï¼š12val nullableList: List&lt;Int?&gt; = listOf(1, 2, null, 4)val intList: List&lt;Int&gt; = nullableList.filterNotNull() // non-null]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin ç±»åŸºç¡€]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E7%B1%BB%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[1. å£°æ˜Žä½¿ç”¨ class æ¥å£°æ˜Žä¸€ä¸ªç±»ã€‚12class Invoice &#123;&#125;å¦‚æžœä¸€ä¸ªç±»æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆå¤§æ‹¬å·å¯ä»¥çœç•¥ã€‚1class Empty 2. åˆ›å»ºKotlin ç±»ä½¿ç”¨ constructor æ¥æŒ‡å®šæž„å»ºæ–¹æ³•ã€‚ 2.1 primary constructorä¸€ä¸ªç±»å¿…é¡»æ‹¥æœ‰ä¸€ä¸ª primary constructorã€‚primary constructor æ˜¯ç±»å¤´çš„ä¸€éƒ¨åˆ†ã€‚12class Person constructor(name: String) &#123;&#125;å¦‚æžœä¸€ä¸ª primary constructor æ²¡æœ‰ä»»ä½•çš„å¯è§æ€§æˆ–è€…æ³¨è§£æ¥ä¿®é¥°ï¼Œåˆ™ constructor å¯ä»¥çœç•¥ã€‚12class Person(name: String) &#123;&#125;ä¸€ä¸ª primary constructor ä¸èƒ½åŒ…å«ä»»ä½•ä»£ç ï¼Œå¯¹åº”çš„ï¼Œä½¿ç”¨ init å—æ¥è¿›è¡Œåˆå§‹åŒ–æž„å»ºã€‚12345class Person(name: String) &#123; init &#123; logger.info("Person construction.") &#125;&#125;ç±»å¤´çš„å‚æ•°å¯ä»¥åœ¨ init å—ä¸­ä½¿ç”¨ï¼Œè€Œä¸”ï¼Œä¹Ÿå¯ä»¥åœ¨å£°æ˜Žç±»åŸŸæ—¶ä½¿ç”¨ã€‚123class Customer(name: String) &#123; val customerKey = name.toUpperCase()&#125;å®žé™…ä¸Šï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥åœ¨ primary constructor ä¸­è¿›è¡Œç±»åŸŸçš„åˆå§‹åŒ–ã€‚123class Person(val firstName: String, val lastName: String, var age: Int) &#123;// ...&#125;é€šè¿‡æ·»åŠ  val æˆ–è€… varï¼Œprimary constructor ä¸­çš„å‚æ•°å°±å¯ä»¥è‡ªåŠ¨æˆä¸ºç±»çš„åŸŸã€‚å½“å¦‚æžœ primary constructor ä¸­å­˜åœ¨å¯è§æ€§ä¿®é¥°ç¬¦æˆ–è€…æ³¨è§£æ—¶ï¼Œconstructor æ ‡è¯†ç¬¦å¿…é¡»å­˜åœ¨ã€‚1class Customer public @Inject constructor(name: String) &#123; ... &#125; 2.2 secondary constructorç±»ä¹Ÿå¯ä»¥å£°æ˜Žä¸€ä¸ªæ¬¡è¦çš„æž„é€ å™¨ï¼Œç›¸å½“äºŽ Java çš„é‡è½½æž„é€ å‡½æ•°ã€‚12345class Person &#123; constructor(parent: Person) &#123; parent.children.add(this) &#125;&#125;å¦‚æžœä¸€ä¸ªç±»æ‹¥æœ‰ primary constructorï¼Œåˆ™æ¯ä¸€ä¸ª secondary éƒ½éœ€è¦åŒ…å« primary constructor çš„å‚æ•°ã€‚è¯­æ³•ç±»ä¼¼äºŽ C++ çš„ super ç»§æ‰¿ï¼Œä½¿ç”¨ thisï¼Œé€šè¿‡å‚æ•°æ¥è¡¨ç¤ºä¸åŒçš„æ‰€ç»§æ‰¿çš„ constructorã€‚123456789class Person(firstName: String) &#123; constructor(firstName: String,lastName: String) : this(firstName) &#123; &#125; constructor(firstName: String, lastName: String, middleName: String) : this(firstName, lastName) &#123; &#125;&#125;æ³¨æ„ï¼Œä¸æ˜¯æ¯ä¸ª constructor éƒ½è¦ç›´æŽ¥ç»§æ‰¿ primary constructorï¼Œåªéœ€è¦åŒ…å«å…¶å‚æ•°å³å¯ã€‚ 2.3 é»˜è®¤å‚æ•°ä¸€ä¸ªç±»çš„æž„é€ å™¨å¯ä»¥æ‹¥æœ‰é»˜è®¤å‚æ•°ï¼Œé»˜è®¤å‚æ•°ä½¿ç”¨ = æ¥æŒ‡å®šã€‚12class Customer(name: String = "") &#123;&#125;å½“ primary constructor ä¸­çš„å‚æ•°éƒ½æœ‰é»˜è®¤å€¼åŽï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„ constructorã€‚ 3. å®žä¾‹åŒ–å°†ä¸€ä¸ªç±»å®žä¾‹åŒ–å¾ˆç®€å•ï¼Œåªéœ€è¦åƒä¸€ä¸ªæ–¹æ³•åŽ»è°ƒç”¨å³å¯ã€‚1val customer = Customer("hehe")æ³¨æ„ï¼ŒKotlin ä¸­æ²¡æœ‰ new æ ‡è¯†ç¬¦ã€‚ 4. ç»§æ‰¿ä»»ä½•çš„ç±»éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„è¶…ç±» Anyï¼Œä½† Any ä¸æ˜¯ Java ä¸­çš„ java.lang.Objectã€‚å®žé™…ä¸Šï¼ŒAny åªå«æœ‰ Object ä¸­çš„ equals() toString() hashCode() æ–¹æ³•ã€‚ 4.1 å£°æ˜Žè¶…ç±»Kotlin ä¸­ä½¿ç”¨å†’å·ç”¨äºŽå£°æ˜Žè¶…ç±»123open class Base(p: Int)class Derived(p: Int) : Base(p)å¦‚æžœå­ç±»æ‹¥æœ‰ primary constructorï¼Œé‚£ä¹ˆè¶…ç±»å°±å¿…é¡»åœ¨ primary constructor ä¸­ç«‹å³è¿›è¡Œå®žä¾‹åŒ–ã€‚æ‰€è°“çš„ç«‹å³å®žä¾‹åŒ–å°±æ˜¯åœ¨å†’å·ä¹‹åŽæž„å»ºå‡ºåŸºç±»çš„å®žä¾‹å¦‚æžœå­ç±»ä¸­æ²¡æœ‰ primary constructorï¼Œé‚£ä¹ˆéœ€è¦åœ¨å…¶ä»– constructor ä¸­ä½¿ç”¨ super å…³é”®å­—è¿›è¡ŒåŸºç±»æž„å»ºã€‚1234567class MyView : View &#123; constructor(ctx: Context) : super(ctx) &#123; &#125; constructor(ctx: Context, attrs: AttributeSet) : super(ctx, attrs) &#123; &#125;&#125;æ³¨æ„åˆ°ï¼Œå¯¹äºŽä¸åŒçš„ constructorï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„åŸºç±» constructor è¿›è¡Œæž„å»ºã€‚æ³¨æ„åˆ°ï¼ŒKotlin åœ¨åŸºç±»å‰ä½¿ç”¨äº† open å…³é”®å­—ï¼Œè¿™æ˜¯ç”¨æ¥æŒ‡æ˜Ž Base ç±»æ˜¯å¯ä»¥è¢«ç»§æ‰¿çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒKotlin ä¸­çš„ç±»å…¨éƒ¨éƒ½æ˜¯ final ç±»ï¼Œä¸å…è®¸è¢«ç»§æ‰¿ã€‚éœ€è¦è¢«ç»§æ‰¿çš„ç±»ä½¿ç”¨ open æ¥æŒ‡å®šã€‚è¿™ä¸»è¦åŸºäºŽ ã€ŠEffective Javaã€‹ä¸­çš„ç¬¬ 17 æ¡ï¼šè®¾è®¡å¹¶ä¸ºä½ çš„ç»§æ‰¿å†™æ–‡æ¡£ï¼Œå¦åˆ™å°±ç¦æ­¢å®ƒã€‚ 4.2 Override æˆå‘˜Kotlin çš„ä¸€ä¸ªä¸»è¦åŽŸåˆ™æ˜¯å°½é‡å°†æ“ä½œæ˜¾å¼åŒ–ã€‚æ‰€ä»¥ï¼Œå¦‚æžœä¸€ä¸ªæˆå‘˜æ˜¯ override åŸºç±»æˆå‘˜è€Œæ¥çš„ï¼Œåˆ™éœ€è¦æ˜¾å¼æŒ‡æ˜Ž override ã€‚1234567open class Base &#123; open fun v() &#123;&#125; fun nv() &#123;&#125;&#125;class Derived() : Base() &#123; override fun v() &#123;&#125;&#125;æ³¨æ„ï¼Œä¸ä»…ç±»æ˜¯ final çš„ï¼Œæˆå‘˜ä¹Ÿæ˜¯ final çš„ã€‚è¢« override æˆå‘˜åœ¨åŸºç±»ä¸­çš„ open å’Œåœ¨å­ç±»ä¸­çš„ override æ ‡è¯†ç¬¦**ç¼ºä¸€ä¸å¯**å¦‚æžœä¸€ä¸ªæˆå‘˜è¢«æŒ‡å®šäº† overrideï¼Œé‚£ä¹ˆå®ƒ**é»˜è®¤ä¸å†å¸¦æœ‰ final å±žæ€§ã€‚**å¦‚æžœä¸å…è®¸å†æ¬¡ overrideï¼Œé‚£ä¹ˆå°±éœ€è¦ç»™å®ƒæŒ‡å®š final123open class AnotherDerived() : Base() &#123; final override fun v() &#123;&#125;&#125;Override ä¸€ä¸ªå˜é‡å’Œ override æ–¹æ³•ä¸€æ ·ï¼Œä¸è¿‡æ¯”è¾ƒæœ‰è¶£çš„æ˜¯ï¼Œä½ å¯ä»¥åœ¨ primary constructor ä¸­ä½¿ç”¨ override å…³é”®å­—ã€‚1234567open class Foo &#123; open val x: Int get &#123; ... &#125;&#125;class Bar1(override val x: Int) : Foo() &#123;&#125;æ³¨æ„ï¼Œå¯ä»¥å°† val å¸¸é‡ä½¿ç”¨ var è¿›è¡Œ overrideï¼Œä½†åä¹‹ä¸è¡Œã€‚è¿™ä¸»è¦æ˜¯å› ä¸º val åªæ‹¥æœ‰ getterï¼Œå½“ä½¿ç”¨ var æ—¶ï¼Œç›¸å½“äºŽç»™å®ƒèµ‹ä¸Šäº† setterï¼Œä½†æ˜¯åè¿‡æ¥åˆ™ä¸è¡Œäº†ï¼Œval ä¸å…·å¤‡ setterã€‚ 4.3 å…³äºŽ override çš„è§„åˆ™å¦‚æžœä¸€ä¸ªç±»ç»§æ‰¿äº†å…·æœ‰åŒä¸€ä¸ªåŸŸçš„ä¸åŒåŸºç±»å’ŒæŽ¥å£ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªç±»å°±å¿…é¡» override è¿™ä¸ªåŸŸã€‚åŸŸæŒ‡çš„æ˜¯å˜é‡ã€å¸¸é‡ã€æ–¹æ³•ç­‰ç±»æˆå‘˜1234567891011121314151617open class A &#123; open fun f() &#123; print("A") &#125; fun a() &#123; print("a") &#125;&#125;interface B &#123; fun f() &#123; print("B") &#125; // interface members are 'open' by default fun b() &#123; print("b") &#125;&#125;class C() : A(), B &#123; // The compiler requires f() to be overridden: override fun f() &#123; super&lt;A&gt;.f() // call to A.f() super&lt;B&gt;.f() // call to B.f() &#125;&#125; 5. æŠ½è±¡ç±»ä¸€ä¸ªå£°æ˜Žäº† abstract çš„ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå…¶æœ¬èº«å’Œå…¶æ‰€æœ‰çš„æ–¹æ³•éƒ½å¿…é¡»å£°æ˜Ž abstractabstract ç±»ä¸­ä¸å…è®¸å­˜åœ¨æ²¡æœ‰å£°æ˜Ž abstract çš„æ–¹æ³•ã€‚å£°æ˜Žäº† abstract çš„æ–¹æ³•ä¸èƒ½å­˜åœ¨äºŽæ²¡æœ‰å£°æ˜Ž abstract çš„ç±»ä¸­ã€‚1234567open class Base &#123; open fun f() &#123;&#125;&#125;abstract class Derived : Base() &#123; override abstract fun f()&#125; 6. ä¼´ç”Ÿå¯¹è±¡(Companion Objects)Kotlin ä¸åƒ Javaï¼Œæ²¡æœ‰é™æ€æˆå‘˜å¯¹è±¡ã€‚Kotlin æŽ¨èä½¿ç”¨åŒ…çº§åˆ«çš„å‡½æ•°æ¥å®žçŽ°å·¥å…·ç±»ã€‚ä½†æ˜¯ï¼Œç¼ºå°‘é™æ€æˆå‘˜ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå…¶ä¸€å°±æ˜¯æ— æ³•å®žçŽ°é™æ€å·¥åŽ‚ã€‚ä¸ºäº†å®žçŽ°è¿™ä¸€ç‰¹æ€§ï¼ŒKotlin é€šè¿‡æ‰€è°“çš„ä¼´ç”Ÿå¯¹è±¡(Companion Objects)æ¥å®žçŽ°ã€‚12345class MyClass &#123; companion object Factory &#123; fun create(): MyClass = MyClass() &#125;&#125;ä¼´ç”Ÿå¯¹è±¡æ˜¯å¯¹è±¡å£°æ˜Žçš„ä¸€ç§ï¼Œåœ¨å¦ä¸€ç¯‡æ–‡ç« ä¼šæœ‰æ‰€ä»‹ç»ã€‚ 7. å°é—­ç±»(Sealed Class)å°é—­ç±»(Sealed class)ç”¨æ¥è¡¨ç¤ºå¯¹ç±»é˜¶å±‚çš„é™åˆ¶, å¯ä»¥é™å®šä¸€ä¸ªå€¼åªå…è®¸æ˜¯æŸäº›æŒ‡å®šçš„ç±»åž‹ä¹‹ä¸€, è€Œä¸å…è®¸æ˜¯å…¶ä»–ç±»åž‹. æ„Ÿè§‰ä¸Š, å°é—­ç±»æ˜¯æžšä¸¾ç±»(enum class)çš„ä¸€ç§æ‰©å±•: æžšä¸¾ç±»çš„å€¼ä¹Ÿæ˜¯æœ‰é™çš„, ä½†æ¯ä¸€ä¸ªæžšä¸¾å€¼å¸¸æ•°éƒ½åªå­˜åœ¨å”¯ä¸€çš„ä¸€ä¸ªå®žä¾‹, å°é—­ç±»åˆ™ä¸åŒ, å®ƒå…è®¸çš„å­ç±»ç±»åž‹æ˜¯æœ‰é™çš„, ä½†å­ç±»å¯ä»¥æœ‰å¤šä¸ªå®žä¾‹, æ¯ä¸ªå®žä¾‹éƒ½å¯ä»¥åŒ…å«å®ƒè‡ªå·±çš„çŠ¶æ€æ•°æ®.è¦å£°æ˜Žä¸€ä¸ªå°é—­ç±», éœ€è¦å°† sealed ä¿®é¥°ç¬¦æ”¾åœ¨ç±»åä¹‹å‰. å°é—­ç±»å¯ä»¥æœ‰å­ç±», ä½†æ‰€æœ‰çš„å­ç±»å£°æ˜Žéƒ½å¿…é¡»åµŒå¥—åœ¨å°é—­ç±»çš„å£°æ˜Žéƒ¨åˆ†ä¹‹å†….12345sealed class Expr &#123; class Const(val number: Double) : Expr() class Sum(val e1: Expr, val e2: Expr) : Expr() object NotANumber : Expr()&#125;æ³¨ï¼šä»Žå°é—­ç±»çš„å­ç±»å†ç»§æ‰¿çš„å­ç±»(é—´æŽ¥ç»§æ‰¿è€…)å¯ä»¥æ”¾åœ¨ä»»ä½•åœ°æ–¹, ä¸å¿…åœ¨å°é—­ç±»çš„å£°æ˜Žéƒ¨åˆ†ä¹‹å†….ä½¿ç”¨å°é—­ç±»çš„ä¸»è¦å¥½å¤„åœ¨äºŽ, å½“ä½¿ç”¨ when expression æ—¶, å¯ä»¥éªŒè¯åˆ†æ”¯è¯­å¥è¦†ç›–äº†æ‰€æœ‰çš„å¯èƒ½æƒ…å†µ, å› æ­¤å°±ä¸å¿…é€šè¿‡ else åˆ†æ”¯æ¥å¤„ç†ä¾‹å¤–æƒ…å†µ.123456fun eval(expr: Expr): Double = when(expr) &#123; is Expr.Const -&gt; expr.number is Expr.Sum -&gt; eval(expr.e1) + eval(expr.e2) Expr.NotANumber -&gt; Double.NaN // ä¸éœ€è¦ `else` åˆ†æ”¯, å› ä¸ºæˆ‘ä»¬å·²ç»è¦†ç›–äº†æ‰€æœ‰çš„å¯èƒ½æƒ…å†µ&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin ç±»å±žæ€§å’ŒåŸŸ]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[1. å£°æ˜Žå’Œè°ƒç”¨å£°æ˜Žç±»ä¸­çš„å±žæ€§å’Œå€¼å¾ˆç®€å•ï¼Œç±»ä¼¼ Javaï¼Œä½¿ç”¨ var å£°æ˜Žå˜é‡ï¼Œä½¿ç”¨ val å£°æ˜Žå¸¸é‡ã€‚1234567public class Address &#123; public var name: String = ... public var street: String = ... public var city: String = ... public var state: String? = ... public var zip: String = ...&#125;æ³¨æ„ï¼Œå˜é‡é»˜è®¤ä¸º public å±žæ€§ã€‚ç”±äºŽå˜é‡é»˜è®¤ä¸º publicï¼Œæ‰€ä»¥ç›´æŽ¥ä½¿ç”¨ç±»æˆå‘˜è¿ç®—ç¬¦(.)ï¼Œå³å¯è°ƒç”¨å…¶å±žæ€§å’Œæ–¹æ³•ã€‚1234567fun copyAddress(address: Address): Address &#123; val result = Address() // there's no 'new' keyword in Kotlin result.name = address.name // accessors are called result.street = address.street // ... return result&#125;éœ€è¦è¯´æ˜Žçš„æ˜¯ï¼Œåœ¨ç¼–è¯‘æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤çš„ Getter å’Œ Setterã€‚ä¸‹é¢çš„å†™æ³•123class Foo &#123; var bar: Int = 1;&#125;å’Œä»¥ä¸‹ Java ä»£ç æ˜¯ç­‰åŒçš„ã€‚1234567891011class Foo &#123; private int bar = 1; public int getBar() &#123; return bar; &#125; public void setBar(int value) &#123; this.bar = value; &#125;&#125;åŒæ—¶ï¼Œåœ¨è®¿é—®å’Œä¿®æ”¹æ—¶ï¼Œç³»ç»Ÿä¼šè°ƒç”¨å˜é‡çš„ getter å’Œ setter æ¥è¿›è¡Œï¼Œè€Œä¸æ˜¯ç›´æŽ¥å–å€¼å’Œæ”¹å€¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒKotlin çš„å˜é‡åœ¨ä½¿ç”¨å‰å¿…é¡»è¢«åˆå§‹åŒ–ï¼Œå¦åˆ™ç¼–è¯‘å™¨å°†æŠ¥é”™ã€‚ 2. Getter å’Œ Setterå®šä¹‰ä¸€ä¸ªç±»å±žæ€§çš„å®Œæ•´è¯­æ³•å¦‚ä¸‹ï¼š123var &lt;propertyName&gt;: &lt;PropertyType&gt; [= &lt;property_initializer&gt;] [&lt;getter&gt;] [&lt;setter&gt;]å¯ä»¥çœ‹åˆ°ï¼Œåˆå§‹åŒ–ï¼ŒGetter å’Œ Setter éƒ½æ˜¯å¯é€‰é¡¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶åœ¨è¿™é‡Œï¼Œåˆå§‹åŒ–æ˜¯å¯é€‰é¡¹ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€å˜é‡ä¸éœ€è¦è¢«åˆå§‹åŒ–ã€‚å®žé™…ä¸Šï¼ŒKotlin ä¸­çš„å˜é‡åœ¨è¢«ä½¿ç”¨å‰å¿…é¡»è¢«åˆå§‹åŒ–ï¼ç‰¹åˆ«çš„ï¼Œä¸€ä¸ªç±»ä¸­çš„å±žæ€§æ— è®ºä½•æ—¶éƒ½è¦è¢«åˆå§‹åŒ–ã€‚è¿™å®žé™…ä¸Šæ˜¯ Kotlin çš„ä¸»æ—¨ä¹‹ä¸€ï¼Œå³ï¼Œå°½é‡ä½¿å¾—è¿‡ç¨‹æ˜¾å¼åŒ–ã€‚12var allByDefault: Int? // error: explicit initializer required, default getter and setter impliedvar initialized = 1 // has type Int, default getter and setter 2.1 æ”¹å˜ Getter å’Œ Setter çš„å¯è§æ€§å¦‚æžœåªéœ€è¦æ”¹å˜å¯è§æ€§è€Œä¸éœ€è¦æ”¹å˜é»˜è®¤çš„ getter å’Œ setterï¼Œåªéœ€è¦åœ¨ get æˆ–è€… set ä¹‹å‰åŠ ä¸Šå¯è§æ€§ä¿®é¥°ç¬¦å³å¯ï¼Œè€Œä¸éœ€è¦å®šä¹‰å…¶ä¸»ä½“ã€‚12345var setterVisibility: String = "abc" private set // the setter is private and has the default implementationvar setterWithAnnotation: Any? = null @Inject set // annotate the setter with Inject 2.2 è‡ªå®šä¹‰ Getter å’Œ Setterè‡ªå®šä¹‰ getter å’Œ setter å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨å˜é‡ä¸‹æ–¹ä½¿ç”¨ get å’Œ set å³å¯ã€‚12345var stringRepresentation: String get() = this.toString() set(value) &#123; setDataFromString(value) // parses the string and assigns values to other properties &#125;äº‹å®žä¸Šï¼Œ Kotlin æ²¡æœ‰åŸŸè¿™ä¸€å±žæ€§ï¼Œå³ä¸å…è®¸ç›´æŽ¥å–å€¼å’Œèµ‹å€¼ã€‚ä½†ä¸ºäº†è‡ªå®šä¹‰ getter å’Œ setterï¼Œåˆå¿…é¡»æä¾›ä¸€ä¸ªç›´æŽ¥çš„å–å€¼å’Œèµ‹å€¼çš„é€”å¾„ï¼Œå¯¹æ­¤ï¼ŒKotlin é‡‡ç”¨äº†ä¸€ä¸ªåä¸º backing field çš„ç‰¹æ€§ï¼Œå³ï¼Œåªå…è®¸åœ¨ getter å’Œ setter ä¸­ä½¿ç”¨ field è¿™ä¸€å˜é‡ä½œä¸ºç›´æŽ¥å–å€¼å’Œèµ‹å€¼çš„é€”å¾„ã€‚backing field ä¼šåœ¨å¦‚ä¸‹æ¡ä»¶ä¸‹ç”Ÿæˆï¼šå˜é‡è¿›è¡Œäº†åˆå§‹åŒ–ä½¿ç”¨äº† field å˜é‡12345var counter = 0 // the initializer value is written directly to the backing field set(value) &#123; if (value &gt;= 0) field = value &#125;å¦‚æžœ backing field ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼ŒKotlin è¿˜æä¾›äº† backing property ç‰¹æ€§ã€‚1234567private var _table: Map&lt;String, Int&gt;? = nullpublic val table: Map&lt;String, Int&gt; get() &#123; if (_table == null) _table = HashMap() // Type parameters are inferred return _table ?: throw AssertionError("Set to null by another thread") &#125;å®žé™…ä¸Šå°±æ˜¯ä½¿ç”¨å¦ä¸€ä¸ª private å˜é‡æ¥å¸®åŠ©å®žçŽ°è‡ªå®šä¹‰çš„ getter å’Œ setterã€‚ 3. ç¼–è¯‘æ—¶å¸¸é‡ç¼–è¯‘æ—¶å¸¸é‡æŒ‡çš„æ˜¯ï¼Œåœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šçš„å¸¸é‡ï¼Œä¹Ÿå°±æ˜¯ä¸éœ€è¦ä¾èµ–å…¶ä»–ç±»çš„å¸¸é‡ä»¥Javaä¸ºä¾‹ï¼Œ static final int a = 1 å°†æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼Œç¼–è¯‘åŽçš„ç¬¦å·è¡¨ä¸­å°†æ‰¾ä¸åˆ° a ï¼Œæ‰€æœ‰å¯¹ açš„å¼•ç”¨éƒ½è¢«æ›¿æ¢æˆäº† 1ã€‚è€Œ static final int b = &quot;test&quot;.length() å°†æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶å¸¸é‡ã€‚Kotlin ä¸­ä½¿ç”¨ const æ ‡è¯†ç¬¦æ¥æŒ‡å®šç¼–è¯‘æ—¶å¸¸é‡ï¼ŒJVM å°†å¯¹è¿™äº›å˜é‡è¿›è¡Œä¼˜åŒ–ï¼Œæé«˜å®ƒä»¬çš„è¿è¡Œé€Ÿåº¦ã€‚ç¼–è¯‘æ—¶å¸¸é‡å¿…é¡»æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼šå£°æ˜Žåœ¨ Top-levelï¼Œæˆ–è€…æ˜¯ä¸€ä¸ª object çš„æˆå‘˜ä½¿ç”¨åŽŸå§‹ç±»åž‹æˆ–è€… String è¿›è¡Œåˆå§‹åŒ–æ²¡æœ‰è‡ªå®šä¹‰çš„ getterç¼–è¯‘æ—¶å¸¸é‡å¯ä»¥ä½¿ç”¨åœ¨æ³¨è§£ä¸­ã€‚123const val SUBSYSTEM_DEPRECATED: String = "This subsystem is deprecated"@Deprecated(SUBSYSTEM_DEPRECATED) fun foo() &#123; ... &#125; 4. å»¶è¿Ÿåˆå§‹åŒ–ä¸€èˆ¬æ¥è¯´ï¼Œç±»ä¸­çš„å±žæ€§å¿…é¡»è¢«åˆå§‹åŒ–ï¼Œä½†æ˜¯ä¹Ÿæœ‰æ—¶éœ€è¦é€šè¿‡æ³¨å…¥æˆ–è€… @SetUp åœ¨ JUnit ä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚å¯¹æ­¤ Kotlin æä¾›ä¸€ç§ç‰¹æ€§ç§°ä½œå»¶è¿Ÿåˆå§‹åŒ–ï¼Œä½¿ç”¨ lateinit æ ‡è¯†ç¬¦å¯ä»¥æŒ‡æ˜Žä¸€ä¸ªå˜é‡éœ€è¦å»¶è¿Ÿåˆå§‹åŒ–ã€‚1234567891011public class MyTest &#123; lateinit var subject: TestSubject @SetUp fun setup() &#123; subject = TestSubject() &#125; @Test fun test() &#123; subject.method() // dereference directly &#125;&#125;å»¶è¿Ÿåˆå§‹åŒ–åªèƒ½åº”ç”¨åœ¨ var ä¸­ï¼ˆè€Œä¸èƒ½åœ¨ primary constructor ä¸­ï¼‰ã€‚å»¶è¿Ÿåˆå§‹åŒ–çš„å˜é‡ä¸èƒ½æ‹¥æœ‰è‡ªå®šä¹‰çš„ getter å’Œ setterï¼ŒåŒæ—¶ï¼Œå®ƒçš„ç±»åž‹ä¹Ÿä¸èƒ½æ˜¯åŽŸå§‹ç±»åž‹ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android è¯­è¨€å’Œæœ¬åœ°åŒ–]]></title>
    <url>%2F%2FAndroid%2FAndroid%20%E8%AF%AD%E8%A8%80%E5%92%8C%E6%9C%AC%E5%9C%B0%E5%8C%96%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°è™½ç„¶ Android å·²ç»å†…ç½®äº† string.xml æ¥è¿›è¡Œæœ¬åœ°åŒ–å’Œå›½é™…åŒ–çš„åŠŸèƒ½ï¼›ä½†æ˜¯ï¼Œç”±äºŽåœ¨ 7.0 ä»¥å‰ï¼Œstring.xml çš„ fallback å­˜åœ¨è¾ƒå¤§é—®é¢˜ï¼›æ‰€ä»¥ï¼Œå³ä½¿æ‹¥æœ‰äº†ä¸€ä¸ª i18n çš„æœºåˆ¶ï¼Œä¹Ÿè¿˜æ˜¯éœ€è¦è°¨æ…Žè§„åˆ’ Locale çš„ fallback é—®é¢˜ã€‚æœ¬æ–‡å°±æ¥æå‡ºä¸€äº›æœ€ä½³å®žè·µã€‚ 2. é»˜è®¤ string.xml è®¾ç½®ä¸ºè‹±è¯­è‹±è¯­ä½œä¸ºä¸–ç•Œä½¿ç”¨èŒƒå›´æœ€å¹¿çš„è¯­è¨€ï¼Œæ˜¯åå‰¯å…¶å®žçš„é€šç”¨è¯­ã€‚å½“åº”ç”¨æ²¡æœ‰ä¸ºåœ°åŒºæä¾›æœ¬åœ°åŒ–å†…å®¹æ—¶ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨ fallback åˆ°é»˜è®¤çš„ string.xmlï¼›åªè¦æœ‰äº›æ–‡åŒ–çš„äººå°±èƒ½çœ‹æ‡‚å¤§éƒ¨åˆ†çš„è‹±è¯­ï¼›æ‰€ä»¥ï¼Œstring.xml è®¾ç½®ä¸ºè‹±è¯­æ˜¯æœ€ä¸ºå¦¥å½“çš„ã€‚ 3. åœ°åŒºè¯­è¨€-é»˜è®¤è¦†ç›–èŒƒå›´æœ€å¹¿çš„è¯­ç§å¯¹äºŽåœ°åŒºè¯­è¨€ï¼Œåˆ™åº”è¯¥ä½¿ç”¨è¦†ç›–èŒƒå›´æœ€å¹¿çš„è¯­ç§ä½œä¸ºæ­¤ Language çš„é»˜è®¤æœ¬åœ°åŒ–å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽä¸­æ–‡åœ°åŒº(zh)ï¼Œé¦™æ¸¯ã€æ¾³é—¨ã€å°æ¹¾é‡‡ç”¨ç¹ä½“ä¸­æ–‡ï¼Œä¸­å›½å’Œæ–°åŠ å¡é‡‡ç”¨ç®€ä½“ä¸­æ–‡ï¼›é‚£ä¹ˆï¼Œå°±åº”è¯¥é‡‡ç”¨è¦†ç›–èŒƒå›´æœ€å¹¿çš„ ç¹ä½“ä¸­æ–‡ ä½œä¸ºåœ°åŒºé»˜è®¤è¯­è¨€ï¼›è€Œ å•ç‹¬ ç»™ ä¸­å›½å’Œæ–°åŠ å¡ è®¾ç½®ç®€ä½“ä¸­æ–‡å†…å®¹ã€‚æ•´ä½“è®¾ç½®å¦‚ä¸‹ï¼š123res/value-zh: ç¹ä½“ä¸­æ–‡res/value-zh-rCN: ç®€ä½“ä¸­æ–‡res/value-zh-rSG: ç®€ä½“ä¸­æ–‡åŽŸå› è‡ªç„¶æ˜¯ Android çš„ Buggy è¯­è¨€ fallback æœºåˆ¶ï¼›åœ¨ 7.0 ä»¥å‰ï¼Œå¦‚æžœç”¨æˆ·è¯­è¨€åŒºåŸŸå’Œå†…ç½®çš„æœ¬åœ°åŒ–å†…å®¹åŒ¹é…å¤±è´¥ï¼›é‚£ä¹ˆå°±ä¼šç›´æŽ¥ fallback åˆ° é»˜è®¤é…ç½®(/res/value/string.xml)ï¼›å¦‚æžœæˆ‘ä»¬ä¸Šé¢åªæä¾› zh-rCN çš„è¯ï¼Œé‚£ä¹ˆæ¸¯æ¾³å°åœ°åŒºçš„åŒèƒžå°±åªèƒ½çœ‹è‹±è¯­ç•Œé¢äº†ã€‚7.0 ä»¥åŽï¼ŒAndroid ä¿®å¤äº†è¿™ä¸€é—®é¢˜ï¼›API 24 ä¹‹åŽå¯ä»¥åŒ¹é…åˆ°å’Œè¯­è¨€æœ€ä¸ºæŽ¥è¿‘çš„æœ¬åœ°åŒ–å†…å®¹ï¼›ä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œåœ¨æ²¡æœ‰ç¹ä½“çš„åº”ç”¨ï¼Œåœ¨ 7.0 ä¸Šï¼Œæ¸¯æ¾³å°åœ°åŒºå°±å¯ä»¥çœ‹åˆ°ç®€ä½“ä¸­æ–‡ã€‚ä½†æ˜¯ç”±äºŽ 7.0 ç›®å‰ä½¿ç”¨äººæ•°è¿‡äºŽä½Žä¸‹ï¼Œè¿˜æ˜¯å¾—è¿›è¡Œä¸Šé¢æ‰€è®²çš„ workaround 4. Android Studio è®¾ç½®è¯­è¨€åœ°åŒºè™½ç„¶ç›®å‰ Android Studio ä¸­å†…ç½®äº† Translation Editorï¼›ä½†æ˜¯ï¼Œç›®å‰è¿™ä¸ªå¥½ç”¨çš„å·¥å…·è¿˜ä¸èƒ½å®žçŽ°å¯¹è¯­è¨€åœ°åŒº(region) çš„è®¾å®šã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽä¸­æ–‡ï¼Œæœ‰ç®€ä½“ä¸­æ–‡(zh-CN) å’Œ ç¹ä½“ä¸­æ–‡(zh-{HK, TW})ï¼›ä½†æ˜¯ï¼Œ Translation Editor ç›®å‰å¹¶ä¸èƒ½æŒ‡å®šè¯­è¨€çš„ Regionï¼›åªèƒ½é€‰æ‹©é»˜è®¤çš„ value-zhã€‚å¯¹äºŽè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸å¾—ä¸æš‚æ—¶æŠ›å¼ƒè¿™ä¸ªå¥½ç”¨çš„å·¥å…·ï¼›è‡ªè¡Œåœ¨ Project Window (å°±æ˜¯æœ€å·¦è¾¹çš„çª—å£):New -&gt; Value Resource -&gt; Choose Locale -&gt; Select Regionï¼›ä¾‹å¦‚é€‰æ‹© zhï¼Œç„¶åŽåœ°åŒºé€‰æ‹© CNï¼Œåˆ›å»º strings.xmlï¼›æ­¤æ—¶ï¼ŒAndroid Studio å°±åˆ›å»ºäº† value-zh-rCN/strings.xmlï¼›ç„¶åŽï¼Œæˆ‘ä»¬æŠŠé»˜è®¤çš„ string.xml å¤åˆ¶åˆ° string.xml(zh-rCN) ä¸­ï¼›è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿåœ¨ Translation Editor ä¸­ç¼–è¾‘ç®€ä½“ä¸­æ–‡äº†ã€‚ 5. èŽ·å–å½“å‰ä½¿ç”¨çš„è¯­è¨€ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªéœ€æ±‚å¯ä»¥é€šè¿‡ç›´æŽ¥å– Preference çš„å€¼æ¥å®žçŽ°ï¼›ä½†æ˜¯ï¼Œå¯¹äºŽåº”ç”¨ç¬¬ä¸€æ¬¡å®‰è£…æ—¶ï¼Œåˆ™ä¸èƒ½é€šè¿‡ç›´æŽ¥å– Preferenceï¼›å› ä¸ºåº”ç”¨å¯èƒ½ä¼šåœ¨å¤šä¸ªå›½å®¶å’Œåœ°åŒºä½¿ç”¨ï¼Œåœ¨æä¾›äº†æœ¬åœ°åŒ–èµ„æºçš„æƒ…å†µä¸‹ï¼ŒAndroid ä¼šè‡ªåŠ¨åŒ¹é…åˆ°è¿™äº›æœ¬åœ°åŒ–èµ„æºï¼›é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•èƒ½ç¡®ä¿è®¾ç½®é‡Œé¢çš„è¯­è¨€å’Œåº”ç”¨ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶é»˜è®¤æ˜¾ç¤ºçš„è¯­è¨€æ˜¯ä¸€è‡´çš„å‘¢ï¼Ÿé¦–å…ˆï¼Œä¸èƒ½é€šè¿‡ Configuration å–åˆ°çš„ Locale æ¥å®žçŽ°ï¼›åº”ç”¨å¯ä»¥é€šè¿‡ Resource.getConfiguration() æ¥èŽ·å–åˆ° Configurationï¼›åœ¨è¿™é‡Œå°±å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹åº”ç”¨çš„å„é¡¹è®¾ç½®ï¼ŒåŒ…æ‹¬ LocaleåŽŸå› æœ‰ä¸¤ä¸ªï¼šä¸é€‚ç”¨äºŽå¤šåœ°åŒºï¼Œå°‘è¯­è¨€çš„æƒ…å†µä¾‹å¦‚å¤§é™†å’Œæ–°åŠ å¡ä½¿ç”¨ç®€ä½“ä¸­æ–‡ï¼Œæ¸¯æ¾³å°ä½¿ç”¨ç¹ä½“ä¸­æ–‡ï¼›ä½¿ç”¨ getDisplayLanguageTag() åˆ™ä¼šå¾—åˆ° ã€Žä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰ã€ã€ã€Žä¸­æ–‡ï¼ˆå°æ¹¾ï¼‰ã€ä¹‹ç±»çš„å†…å®¹ï¼›ä½†æ˜¯ï¼Œæˆ‘ä»¬åªéœ€è¦æä¾› ä¸¤é—¨è¯­è¨€é€‰é¡¹ å°±è¶³å¤Ÿäº†getDisplayLanguageTag() åœ¨ API 24 (6.0) ä»¥ä¸Šæ‰è¢«å¼•å…¥ï¼Œä¸èƒ½å…¼å®¹è€ç‰ˆæœ¬çœŸæ­£çš„åšæ³•ï¼Œæ˜¯åœ¨æ¯ä¸ªæœ¬åœ°åŒ–èµ„æº strings.xml é‡Œé¢ï¼Œå†™ä¸Šè¯¥èµ„æºçš„ locale_codeï¼Œå¦‚ï¼š123456&lt;!-- filename: value-zh-rCN/strings.xml --&gt;&lt;resource&gt; &lt;string name="locale_code"&gt;zh-CN&lt;/string&gt; &lt;!-- å‰©ä¸‹çš„èµ„æº --&gt;&lt;/resource&gt;é€šè¿‡åˆ©ç”¨ Android è‡ªèº«çš„é€‚é…æœºåˆ¶ï¼ŒèŽ·å–åˆ° çœŸæ­£æ˜¾ç¤ºçš„ è¯­è¨€ç±»åž‹ã€‚1String localeCode = getString(R.string.locale_code);ä¹Ÿå°±æ˜¯è¯´ï¼Œlocale_code å®žé™…ä¸Šå°± å¯¹åº”äº† è¯­è¨€ç±»åž‹ï¼›è¿™æ ·ï¼Œæˆ‘ä»¬åªè¦åœ¨ zh-HK å’Œ zh-TW éƒ½å†™å…¥åŒä¸€ä¸ª locale-codeï¼›ç„¶åŽé€šè¿‡ locale-code æ¥è¿›è¡Œè®¾ç½®é¡µé¢çš„è¯­è¨€ç±»åž‹æ˜¾ç¤ºï¼›è¿™æ ·å°±å®žçŽ°äº†æ˜¾ç¤ºè¯­è¨€å’Œè®¾ç½®ä¸­çš„è¯­è¨€çš„åŒæ­¥ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java åŸºç¡€]]></title>
    <url>%2F%2FJava%2FJava%20%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[1. å˜é‡å’Œæ•°æ®ç±»åž‹booleanã€Javaã€‘ = boolã€C ++ã€‘æ‰€æœ‰çš„å˜é‡éƒ½è¦è¢«åˆå§‹åŒ–ï¼Œæœ€å¥½åœ¨å£°æ˜Žçš„æ—¶å€™å°±å¯¹å…¶èµ‹å€¼1double n = 0.0; //Recommendedä½¿ç”¨ final å…³é”®å­—æŒ‡å®šå¸¸é‡Java æœ‰ åŽŸå§‹ç±»åž‹ å’Œ å¼•ç”¨ç±»åž‹åŽŸå§‹ç±»åž‹ä¿å­˜çš„æ˜¯å€¼ï¼Œè€Œå¼•ç”¨ç±»åž‹å®žé™…ä¸Šæ˜¯æŒ‡å‘å†…å­˜å—çš„æŒ‡é’ˆæ•°ç»„å’Œå¯¹è±¡åéƒ½æ˜¯å¯¹äºŽçœŸæ­£çš„æ•°ç»„æˆ–è€…å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å…¶è‡ªèº«ã€è¿™é‡Œçš„â€œå¼•ç”¨â€ç±»ä¼¼äºŽæŒ‡é’ˆï¼Œè€Œä¸æ˜¯å¯¹è±¡çš„åˆ«åã€‘æ•°ç»„å’Œå¯¹è±¡éƒ½è¦ä½¿ç”¨newæ¥å£°æ˜Žæž„å»ºï¼ŒJavaä¼šè‡ªåŠ¨è¿›è¡Œåžƒåœ¾å¤„ç†ï¼Œå› è€Œä¸éœ€è¦æ˜¾å¼deleteæ•°ç»„çš„å£°æ˜Žï¼šint[] a = new int[100];ç±»çš„æž„å»ºï¼šClass a = new Class(...);æ³¨æ„åªæœ‰ä½¿ç”¨äº† new æ‰ä¼šåˆ†é…ç©ºé—´å’Œæž„å»ºå¯¹è±¡ï¼Œå•çº¯çš„å£°æ˜Ž int[] aç±»ä¼¼äºŽå£°æ˜Žä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆJavaå¯¹äºŽå¤§åž‹æ•°æ®ç±»åž‹åªæœ‰é€šè¿‡ new æ¥æž„å»ºï¼Œint a [100] è¿™ç§è¯­æ³•å°†ä¸è¢«æŽ¥å—ï¼Œå¯¹äºŽæ•°ç»„è¿˜å¯ä»¥ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–çš„è¯­æ³•int[] a = {1,2,3,4,6};Javaå…è®¸æ•°ç»„é•¿åº¦ä¸º0 ï¼ˆæ³¨æ„è¿™é‡Œå’Œnullå¹¶ä¸åŒï¼‰ 2. ä½œç”¨åŸŸJavaä¸å…è®¸åœ¨åµŒå¥—çš„ä»£ç å—å†…å£°æ˜ŽåŒåå˜é‡æ‰€ä»¥å°½é‡ä¿è¯å˜é‡çš„åç§°ä¸é‡å¤ã€åœ¨åŒä¸€ä¸ªåŒ…(package)å†…ã€‘ 3. æŽ§åˆ¶æµç¨‹forå¾ªçŽ¯ä¸­ï¼ŒJavaè¦æ±‚åœ¨ä¸‰ä¸ªéƒ¨åˆ†å¯¹åŒä¸€è®¡æ•°å™¨å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œæ£€æµ‹å’Œæ›´æ–°å¯ä»¥ä½¿ç”¨break labelçš„å½¢å¼æ¥è·³å‡ºå¤šé‡åµŒå¥—å¾ªçŽ¯123456789101112131415161718//ä¾‹å¦‚label:for()&#123; for() &#123; for() &#123; if() &#123; break label; &#125; &#125; &#125;&#125;//breakè¯­å¥ä½¿å¾—ç¨‹åºè·³è½¬åˆ°å¸¦æ ‡ç­¾çš„è¯­å¥å—æœ«å°¾//å³æœ€å¤–å±‚çš„forå¾ªçŽ¯çš„æœ«å°¾for eachå¾ªçŽ¯ï¼Œå¯ä»¥ä¾æ­¤å¤„ç†æ•°ç»„ï¼ˆæˆ–å…¶ä»–å½¢å¼çš„é›†åˆï¼‰çš„æ¯ä¸ªå…ƒç´ ï¼Œè€Œä¸éœ€è¦åœ¨æ„ä¸‹æ ‡å€¼12345678910111213 //è¯­æ³• for(variable : colletion) &#123; //statement &#125; //ä¾æ¬¡æ‰“å°æ•°ç»„å†…å­—ç¬¦ a[] = new int [100]; .... for(int element : a) &#123; System.out.println(element);&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java å¤šçº¿ç¨‹åŒæ­¥]]></title>
    <url>%2F%2FJava%2FJava%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ç”±äºŽæ¯å¥ä»£ç åªèƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå½“å¤šä¸ªçº¿ç¨‹è¯•å›¾è®¿é—®åŒä¸€ä¸ªå¯¹è±¡åŸŸæ—¶ï¼Œå°±ä¼šå‡ºçŽ°ç«žäº‰ï¼Œå¯¼è‡´å¯¹è±¡çš„æ•°æ®æœ€ç»ˆå‡ºçŽ°é”™è¯¯ã€‚ç‰¹åˆ«æ˜¯å½“çº¿ç¨‹ä¸­çš„æ“ä½œä¸æ˜¯åŽŸå­æ“ä½œçš„æ—¶å€™ï¼Œå½“çº¿ç¨‹åˆ‡æ¢çš„æ—¶å€™ã€‚ä¸ºäº†æ¶ˆé™¤ç«žäº‰çš„å±å®³ï¼Œå¯¹äºŽå¤šä¸ªçº¿ç¨‹æœ‰å¯èƒ½åŒæ—¶æ“ä½œåŒä¸€ä¸ªå¯¹è±¡çš„æƒ…å†µï¼Œæˆ‘ä»¬å°±è¦å®žçŽ°çº¿ç¨‹åŒæ­¥å®žçŽ°çº¿ç¨‹åŒæ­¥çš„æ–¹æ³•ä¸»è¦æœ‰ä¸‰ç§ï¼šä½¿ç”¨ Lock/Condition å³æ˜¾å¼çš„é”ä½¿ç”¨ synchronized å…³é”®å­—ä½¿ç”¨å¹¶å‘åº“å’Œé˜»å¡žç±»æ¥å®žçŽ°çº¿ç¨‹ç®¡ç†Executor å’Œ Task ä¼˜å…ˆäºŽçº¿ç¨‹å¹¶å‘å·¥å…·ä¼˜å…ˆäºŽ wait() å’Œ notify()â€”â€” Effective Java Second Editionæ³¨æ„ï¼Œçº¿ç¨‹åŒæ­¥ä¸ä»…è¦æ±‚äº’æ–¥æ€§ï¼Œä¹Ÿè¦æ±‚å¯è§æ€§ï¼Œå³åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¯¹åŒæ­¥ä»£ç å—è¿›è¡Œæ“ä½œï¼ŒåŒæ—¶ï¼Œè¯¥ä»£ç å—å¯¹æ‰€æœ‰çº¿ç¨‹åº”æ˜¯å¯è§çš„ 2. ä½¿ç”¨ ReentrantLock å®žçŽ°åŒæ­¥ 2.1 é”çš„åˆçº§ä½¿ç”¨ReentrantLock æ˜¯ä¸€ä¸ªé”å¯¹è±¡ï¼Œåœ¨æœ‰å¯èƒ½å‡ºçŽ°ç«žäº‰çš„æ–¹æ³•ä¸­ä½¿ç”¨é”ï¼Œå°±å¯ä»¥ä¿æŠ¤ä¸€æ®µä»£ç å—åŒä¸€æ—¶é—´åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œè¯»å†™æ“ä½œä¾‹å¦‚ï¼š1234567891011121314public class Bank &#123; private ReentrantLock myLock; public void transfer() &#123; myLock.lock(); // ----------- ä¸´ç•ŒåŒº try &#123; // some works &#125; finally &#123; myLock.unlock(); &#125; // ---------- ä¸´ç•ŒåŒº &#125;&#125;åœ¨ä¸´ç•ŒåŒºä¹‹é—´çš„ä»£ç æ˜¯å—é”å¯¹è±¡ä¿æŠ¤çš„ï¼Œå½“å…¶ä»–çº¿ç¨‹è¯•å›¾æ‰§è¡Œä¸´ç•ŒåŒºä»£ç ï¼ˆè¯•å›¾èŽ·å–é”ï¼‰æ—¶ï¼Œå°±ä¼šå¯¼è‡´çº¿ç¨‹é˜»å¡žï¼Œç›´åˆ°å½“å‰æ‰§è¡Œçš„çº¿ç¨‹è§£å¼€é”ä¸ºæ­¢ã€‚æ³¨æ„è¦å°†è§£é”ä»£ç æ”¾ç½®åœ¨ finally ä¸­ï¼Œå¦åˆ™å¯èƒ½ä¼šç”±äºŽå¼‚å¸¸çš„æŠ›å‡ºè€Œæ— æ³•è§£é”ã€‚æ­¤æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å¸¦èµ„æºçš„tryå—ã€‚å› ä¸ºè¦åœ¨ finally ä¸­é‡Šæ”¾é”ï¼Œè€Œé‡Šæ”¾é”çš„æ–¹æ³•ä¸æ˜¯ close()é”æ˜¯å¯é‡å…¥çš„ï¼Œé”å¯¹è±¡è‡ªèº«ç»´æŠ¤ä¸€ä¸ªæŒæœ‰è®¡æ•°ï¼Œå¦‚æžœåœ¨ä¸´ç•ŒåŒºä¸­è°ƒç”¨äº†å¦ä¸€ä¸ªè¢«é”ä¿æŠ¤çš„æ–¹æ³•ï¼Œé‚£ä¹ˆï¼Œè®¡æ•°å™¨å¢žåŠ ï¼Œè§£é”åŽï¼Œè®¡æ•°å™¨å‡å°‘ï¼Œç›´åˆ°æŒæœ‰è®¡æ•°ä¸º 0 æ—¶ï¼Œçº¿ç¨‹æ‰ä¼šé‡Šæ”¾é”ã€‚å½“ç”±äºŽå¼‚å¸¸è€Œè·³å‡ºä¸´ç•ŒåŒºæ—¶ï¼Œåº”è¿›è¡Œç›¸åº”çš„æ¸…ç†æ“ä½œï¼Œä¿è¯å¯¹è±¡çš„å®Œæ•´æ€§ã€‚å› ä¸ºåœ¨ finally ä¸­ï¼Œé”ä¼šè¢«é‡Šæ”¾ã€‚ 2.2 å…¬å¹³é”ä½¿ç”¨ ReentrantLock(boolean fair) å¯ä»¥æŒ‡å®šæž„é€ ä¸€ä¸ªå…¬å¹³é”ã€‚å®ƒå€¾å‘äºŽè®©é˜»å¡žé˜Ÿåˆ—ä¸­ç­‰å¾…æ—¶é—´æœ€é•¿çš„çº¿ç¨‹èŽ·å–åˆ°é”ï¼Œä½†æ˜¯é¢å¤–çš„æ£€æµ‹æˆæœ¬å¯èƒ½ä¼šé€ æˆæ€§èƒ½æŸå¤±ã€‚ 2.3 æ¡ä»¶å¯¹è±¡æ¡ä»¶å¯¹è±¡ Condition ç”¨äºŽç¡®ä¿ä¸´ç•ŒåŒºä¸­çš„ä»£ç ç¬¦åˆæ‰§è¡Œæ¡ä»¶ã€‚ 2.3.1 ä½¿ç”¨æ¡ä»¶å¯¹è±¡çš„åŽŸå› ä¸èƒ½ä½¿ç”¨ä¸€èˆ¬çš„ if è¯­å¥è¿›è¡Œæ£€æŸ¥å› ä¸º if æ˜¯éžåŽŸå­æ€§çš„ï¼Œçº¿ç¨‹å¯èƒ½åœ¨é€šè¿‡æ£€æŸ¥ä¹‹åŽè¢«å‰¥å¤ºï¼Œå†æ¬¡è¿›å…¥æ—¶å´åˆä¸æ»¡è¶³æ‰§è¡Œæ¡ä»¶ã€‚12345// DON'T DO THAT!!if (bank.getBalance(form) &gt;= amount) &#123; // transfer() was protected by Lock object. bank.transfer(from, to, amount)&#125;ä¸èƒ½åœ¨ä¸´ç•ŒåŒºå†…æ£€æŸ¥æ¡ä»¶æœ‰å¯èƒ½åœ¨æ¡ä»¶ä¸æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œéœ€è¦å…¶ä»–çº¿ç¨‹çš„ååŠ©æ‰èƒ½æ»¡è¶³æ¡ä»¶ã€‚ä¾‹å¦‚ï¼Œå½“å‰çº¿ç¨‹æ“ä½œçš„è´¦æˆ·å¯¹è±¡ä¸æ»¡è¶³è½¬å‡ºä½™é¢ï¼Œé‚£ä¹ˆå°±éœ€è¦ç­‰å¾…å¦ä¸€çº¿ç¨‹å‘å½“å‰è´¦æˆ·æ³¨èµ„ã€‚æ­¤æ—¶ï¼Œç”±äºŽå½“å‰çº¿ç¨‹å æœ‰é”ï¼Œå…¶ä»–çº¿ç¨‹æ— æ³•æ“ä½œè¿™ä¸€è´¦æˆ·ã€‚ 2.3.2 ä½¿ç”¨æ¡ä»¶å¯¹è±¡é€šè¿‡é”å¯¹è±¡çš„ newCondition() æ¥èŽ·å¾—ä¸€ä¸ªæ¡ä»¶å¯¹è±¡ã€‚å½“æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œ è°ƒç”¨æ¡ä»¶å¯¹è±¡çš„ await() æ–¹æ³•è¯¥æ–¹æ³•ä¼šä½¿å½“å‰çº¿ç¨‹é˜»å¡žï¼ŒåŠ å…¥æ¡ä»¶å¯¹è±¡ç­‰å¾…é˜Ÿåˆ—ï¼Œå¹¶æ”¾å¼ƒé”å½“æ¡ä»¶æœ‰å¯èƒ½æ»¡è¶³æ—¶ï¼Œè°ƒç”¨æ¡ä»¶å¯¹è±¡çš„ singalAll() æ–¹æ³•è¿™ä¸€æ–¹æ³•ä¼šæ¿€æ´»æ‰€æœ‰çš„ç­‰å¾…è¯¥æ¡ä»¶å¯¹è±¡çš„çº¿ç¨‹ï¼Œå¹¶å°è¯•é‡æ–°èŽ·å–é”ï¼Œä»Žè¢«é˜»å¡žçš„åœ°æ–¹ç»§ç»­æ‰§è¡Œæ­¤æ—¶ï¼Œçº¿ç¨‹åº”å†æ¬¡æµ‹è¯•æ¡ä»¶ï¼Œå› ä¸ºæ­¤æ—¶æ— æ³•ç¡®ä¿æ¡ä»¶æ˜¯å¦è¢«æ»¡è¶³ã€‚ä¹‹æ‰€ä»¥ä¸èƒ½ç¡®ä¿ï¼Œæ˜¯å› ä¸ºçº¿ç¨‹åœ¨ await() ä¹‹åŽï¼Œä¸å…·å¤‡å°†è‡ªå·±å”¤é†’çš„èƒ½åŠ›ï¼Œå¿…é¡»ç”±å¦ä¸€çº¿ç¨‹æ‰§è¡Œ singalAll() æ–¹æ³•ã€‚å¦‚æžœæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿè°ƒç”¨ singnalï¼Œé‚£ä¹ˆæ­¤æ—¶ç³»ç»Ÿå°±æ­»é”äº†ã€‚æ‰€ä»¥å°±åº”åœ¨å¯¹è±¡çš„çŠ¶æ€æœ‰åˆ©äºŽç­‰å¾…çº¿ç¨‹çš„æ”¹å˜æ—¶è°ƒç”¨ singalAll() æ–¹æ³•ã€‚å¦å¤–ï¼Œä¹Ÿæœ‰ä¸€ä¸ª singal() æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªç­‰å¾…çº¿ç¨‹è¿›è¡Œå”¤é†’ã€‚ç»¼ä¸Šï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨æ¡ä»¶å¯¹è±¡çš„åŸºæœ¬æ¡†æž¶ï¼š123456789101112131415161718192021222324252627282930313233class Bank &#123; private Condition sufficientFunds; private ReentrantLock bankLock; .... public Bank() &#123; ... // Using the Lock object to // get the condition object reference sufficientFunds = bankLock.newCondition(); &#125; ... public void transfer(int from, int to, int amount) &#123; // Lock the code bankLock.lock(); try &#123; while(accounts[from] &lt; amount) &#123; // Don't have sufficient funds, await sufficientFunds.await(); &#125; // Have sufficient funds // Transfer funds.. ... // Transfer complete, singnal all sufficientFund.singnalAll(); &#125; finally &#123; // Unlock the code bankLock.unlock(); &#125; &#125;&#125; 3. synchronized å…³é”®å­— 3.1 å†…éƒ¨é”è¿™é‡Œæ¯” 8.5.1 æ›´ â€œé«˜çº§â€ å’Œå‚»ç“œæ€§äº†ï¼›å…¶å®žä»Ž jdk 1.0 å¼€å§‹ï¼Œä»»ä½• Java å¯¹è±¡éƒ½æ‹¥æœ‰ä¸€ä¸ªå†…éƒ¨é”ï¼›æˆ‘ä»¬ä¸éœ€è¦å†æ˜¾å¼å®žçŽ°ä¸€ä¸ªé”å’Œæ¡ä»¶å¯¹è±¡çš„æž¶æž„äº†ã€‚å¦‚æžœä¸€ä¸ªæ–¹æ³•ç”¨ synchronized å£°æ˜Žï¼Œé‚£ä¹ˆå¯¹è±¡çš„é”å°†ä¿æŠ¤æ•´ä¸ªæ–¹æ³•;ä¹Ÿå°±æ˜¯è¯´ï¼š123456789101112131415// Both of these method is equivalentpublic synchronized void method() &#123; // method body&#125;public void method() &#123; this.intrinsicLock.lock(); try &#123; // method body &#125; finally &#123; this.intrinsicLock.unlock(); &#125;&#125; 3.2 å”¯ä¸€çš„æ¡ä»¶å¯¹è±¡å¯¹è±¡çš„å†…éƒ¨é”æ‹¥æœ‰å”¯ä¸€ä¸€ä¸ªæ¡ä»¶å¯¹è±¡ï¼›é€šè¿‡ wait() æ–¹æ³•å°†çº¿ç¨‹æ·»åŠ åˆ°æ¡ä»¶çš„ç­‰å¾…é˜Ÿåˆ—ï¼›é€šè¿‡ notifyAll() notify() æ–¹æ³•è§£é™¤ç­‰å¾…çº¿ç¨‹çš„é˜»å¡žä¹Ÿå°±æ˜¯è¯´ï¼š12wait(); == intrinsicCondition.await();notify()All == intrinsicCondition.singnalAll(); 3.3 ä¾‹å­ä½¿ç”¨ synchronized é‡å†™çš„ Bank ç±»123456789101112131415161718192021class Bank &#123; private double[] accounts; public synchronized void transfer(int form, int to, int amount) throws InterruptedException &#123; while (accounts[from] &lt; amount) &#123; // Do not have suffient funds // Using wait() method instead of await() wait(); &#125; // Do have suffient funds // Transfering.. accounts[from] -= amount; accounts[to] += amount; // Transfer done // Using notifyAll() method instead of singnalAll() notifyAll(); &#125; public synchronized double getTotalBalance() &#123;...&#125;&#125; 3.4 å±€é™æ€§å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ synchronized å…³é”®å­—å¤§å¤§å‡å°‘äº†ä»£ç é‡ï¼Œä½¿ä»£ç æ›´ä¸ºæ•´æ´ï¼›ä½†æ˜¯å¯¹åº”çš„ï¼Œä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼šä¸èƒ½ä¸­æ–­ä¸€ä¸ªæ­£åœ¨è¯•å›¾èŽ·å¾—é”çš„è¿›ç¨‹å› ä¸ºé”åœ¨å¯¹è±¡å†…éƒ¨ï¼Œå¼€å‘è€…æ— æ³•æ“ä½œï¼Œ2 åŒè¯•å›¾èŽ·å¾—é”æ—¶ï¼Œä¸èƒ½è®¾å®šè¶…æ—¶æ¯ä¸ªé”ä»…æœ‰å•ä¸€çš„æ¡ä»¶ï¼Œå¯èƒ½æ˜¯ä¸å¤Ÿçš„ 3.5 æ€»ç»“é‚£ä¹ˆï¼Œç©¶ç«Ÿæ˜¯ä½¿ç”¨ synchronized å…³é”®å­—è¿˜æ˜¯ Lock/Condition æœºåˆ¶å‘¢ï¼Ÿæœ€å¥½ä¸¤è€…éƒ½ä¸ä½¿ç”¨ï¼Œä½¿ç”¨ Java è‡ªå¸¦æˆ–ä¸€äº›ç¬¬ä¸‰æ–¹çš„å¹¶å‘å·¥å…·æ¥å¤„ç†åŒæ­¥é—®é¢˜ã€‚Effective Java ä¸­æåˆ° â€œå¹¶å‘å·¥å…·ä¼˜å…ˆâ€ çš„æ¦‚å¿µï¼Œå³ï¼Œæˆå¥—çš„å¹¶å‘åº“å’Œå¹¶å‘å·¥å…·ï¼Œè¦ä¼˜å…ˆäºŽä½¿ç”¨ wait(), notify() æ–¹æ³•å¦‚æžœä¸æƒ³é‡‡ç”¨å¹¶å‘åº“ï¼Œå¹¶ä¸” synchronized çš„ç¼ºç‚¹å¹¶æ²¡æœ‰å¯¹ç¨‹åºé€ æˆå½±å“ï¼Œé‚£ä¹ˆå°½é‡ä½¿ç”¨å®ƒè¿™æ ·å¯ä»¥å‡å°‘ç¼–å†™çš„ä»£ç ï¼Œå‡å°‘å‡ºé”™çš„å‡ çŽ‡å¦‚æžœç‰¹åˆ«éœ€è¦ Lock/Condition çš„ç‹¬æœ‰ç‰¹æ€§æ—¶ï¼Œé‚£ä¹ˆæ‰ä½¿ç”¨ Lock/Conditionæ¯”å¦‚è¯´å³æ—¶ä¸­æ–­ï¼Œç‰¹å®šçš„ç­‰å¾…è¶…æ—¶ç­‰ã€‚ 4. åŒæ­¥é˜»å¡žåŒæ­¥é˜»å¡žå…è®¸å®¢æˆ·ä½¿ç”¨123synchronized(lock) &#123; // method body&#125;èŽ·å–åˆ°å†…éƒ¨çš„é”è¿™ä¹Ÿå«åšå®¢æˆ·ç«¯é”å®šï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å¾ˆè„†å¼±çš„ï¼Œé€šå¸¸ä¸æŽ¨èä½¿ç”¨ 5. ç›‘è§†å™¨ç›‘è§†å™¨æ˜¯ Per Brinch Hansen æå‡ºçš„é¢å‘å¯¹è±¡çš„çº¿ç¨‹å®‰å…¨å®žçŽ°æ–¹å¼ã€‚ä½¿ç”¨ Java è¯­è¨€æ¥è¡¨è¿°å°±æ˜¯ï¼šç›‘è§†å™¨æ˜¯åªåŒ…å«ç§æœ‰åŸŸçš„ç±»æ¯ä¸ªç›‘è§†å™¨ç±»çš„å¯¹è±¡æœ‰ä¸€ä¸ªç›¸å…³çš„é”ä½¿ç”¨è¯¥é”å¯¹æ‰€æœ‰çš„æ–¹æ³•è¿›è¡ŒåŠ é”è¯¥é”å¯ä»¥æœ‰ä»»æ„å¤šä¸ªç›¸å…³æ¡ä»¶Java çš„ synchronized å…³é”®å­—ä½¿ç”¨ä¸€ç§ä¸ä¸¥è°¨çš„æ–¹æ³•å®žçŽ°äº†ç›‘è§†å™¨ä½†æ˜¯è¿™ä¹Ÿå¯¼è‡´äº† Per Brinch Hansen æœ¬äººçš„æ‰¹è¯„ 6. Volatile åŸŸvolatile å¯ä»¥è¢«çœ‹åšæ˜¯ä¸€ç§ ç¨‹åº¦è¾ƒè½»çš„ synchronized;å®ƒåªå…·æœ‰ synchronized æä¾›çš„å¯è§æ€§ï¼Œè€Œä¸å…·å¤‡åŽŸå­æ€§åŒæ—¶ï¼Œ volatile å˜é‡ä¸ä¼šé€ æˆé˜»å¡žè¿™è¯´æ˜Žäº†ï¼Œå½“æˆ‘ä»¬éœ€è¦åŒæ­¥çš„å†™å…¥æ“ä½œæ—¶ï¼Œvolatile å°±ä¸é€‚ç”¨äº†ï¼›ä½†æ˜¯å¦‚æžœè¯¥å˜é‡ä»…ç”¨äºŽè¯»å–ï¼Œé‚£ä¹ˆ volatile èƒ½æä¾›ä¼˜äºŽ synchronized çš„æ€§èƒ½ã€‚ 6.1 æ­£ç¡®ä½¿ç”¨ volatile å˜é‡çš„æ¡ä»¶å¯¹è¯¥å˜é‡çš„å†™æ“ä½œä¸ä¾èµ–äºŽå½“å‰å€¼æ¯”å¦‚è¯´ï¼Œç”¨ volatile å˜é‡åšè®¡æ•°å™¨æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºè®¡æ•°å™¨çš„å¢žåŠ è¦å…ˆè¯»å–å½“å‰å€¼è¯¥å˜é‡æ²¡æœ‰åŒ…å«åœ¨å…·æœ‰å…¶ä»–å˜é‡çš„ä¸å˜å¼ä¸­å¤§å¤šæ•°çš„ç¼–ç¨‹æƒ…å½¢éƒ½ä¼šå’Œè¿™ä¸¤ä¸ªæ¡ä»¶çš„å…¶ä¸­ä¹‹ä¸€å†²çªï¼Œä½¿å¾— volatile ä¸èƒ½å¦‚ synchronized ä¸€æ ·æ™®éå®žçŽ°çº¿ç¨‹å®‰å…¨ 6.2 æ€§èƒ½è€ƒè™‘ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ volatile çš„æ€§èƒ½è¦æ¯”ä½¿ç”¨ synchronized è¦é«˜ï¼›æ‰€ä»¥åœ¨ç¬¦åˆä½¿ç”¨ volatile çš„æƒ…å½¢ä¸‹åº”è¯¥å°½é‡ä½¿ç”¨ã€‚ 6.3 æ­£ç¡®ä½¿ç”¨çš„æƒ…å½¢çŠ¶æ€æ ‡å¿—è¿™æ˜¯ volatile çš„æœ€å¸¸ä½¿ç”¨æƒ…å½¢ï¼Œä½œä¸ºä¸€ä¸ªå¸ƒå°”çŠ¶æ€æ ‡å¿—ï¼Œç”¨äºŽæŒ‡ç¤ºå‘ç”Ÿäº†ä¸€ä¸ªé‡è¦çš„ä¸€æ¬¡æ€§äº‹ä»¶ï¼Œæˆ–ç›‘è§†çº¿ç¨‹çŠ¶æ€ï¼ˆæ˜¯å¦è¢«ç»ˆæ­¢ï¼‰1234567891011volatile boolean shutdownRequested;...public void shutdown() &#123; shutdownRequested = true; &#125;public void doWork() &#123; while (!shutdownRequested) &#123; // do stuff &#125;&#125;æ­¤æ—¶ï¼Œå¾ˆå¯èƒ½éœ€è¦ä»Žå¤–éƒ¨ï¼ˆå¦ä¸€çº¿ç¨‹ï¼‰è°ƒç”¨ shutdown() æ–¹æ³•ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¿è¯ shutdownRequested çš„å¯è§æ€§ã€‚æ­¤æ—¶ï¼Œæ˜¾ç„¶ä½¿ç”¨ volatile å…³é”®å­—ä¼šæ›´å¥½ä¸€æ¬¡æ€§å®‰å…¨å‘å¸ƒå½“ç¼ºä¹åŒæ­¥å¯è§æ€§æ—¶ï¼Œå¯èƒ½ä¼šå‡ºçŽ°ä¸€ä¸ªçº¿ç¨‹èŽ·å–åˆ°äº†ä¸€ä¸ªä¸å®Œå…¨æž„å»ºçš„å¯¹è±¡ï¼Œä»Žè€Œå‡ºçŽ°æ›´æ–°å€¼å’Œæ—§å€¼åŒæ—¶å­˜åœ¨ã€‚æ­¤æ—¶ï¼Œå¯ä»¥å°†è¯¥å¯¹è±¡çš„å¼•ç”¨å®šä¹‰ä¸º volatile ç±»åž‹ï¼Œç„¶åŽåœ¨ä½¿ç”¨å‰é€šè¿‡æ£€æŸ¥è¯¥å¼•ç”¨å°±å¯ä»¥çŸ¥é“å¯¹è±¡æ˜¯å¦å®‰å…¨å‘å¸ƒäº†ã€‚12345678910111213141516171819public class BackgroundFloobleLoader &#123; public volatile Flooble theFlooble; public void initInBackground() &#123; // do lots of stuff theFlooble = new Flooble(); // this is the only write to theFlooble &#125;&#125;public class SomeOtherClass &#123; public void doWork() &#123; while (true) &#123; // do some stuff... // use the Flooble, but only if it is ready if (floobleLoader.theFlooble != null) doSomething(floobleLoader.theFlooble); &#125; &#125;&#125;æ³¨æ„ä½¿ç”¨çš„æ¡ä»¶åœ¨äºŽï¼Œè¯¥å¯¹è±¡ä¸€ç»å‘å¸ƒå°±ä¸å¯ä¿®æ”¹ï¼Œæˆ–è€…æ˜¯çº¿ç¨‹å®‰å…¨å¯¹è±¡å¦‚æžœéœ€è¦å¯¹è¯¥å¯¹è±¡è¿›è¡Œå¼‚æ­¥æ›´æ”¹ï¼Œé‚£ä¹ˆå°±éœ€è¦ synchronized ç­‰è¿›è¡Œé¢å¤–çš„åŒæ­¥æ“ä½œã€‚ç‹¬ç«‹è§‚å¯Ÿvolatile å˜é‡å¯ä»¥å®šæœŸçš„å‘å¸ƒä¸€äº›è§‚å¯Ÿç»“æžœä¾›ç¨‹åºå†…éƒ¨ä½¿ç”¨ï¼Œæˆ–è€…æ”¶é›†å¿…è¦çš„ç»Ÿè®¡ä¿¡æ¯1234567891011121314// Record the last login user's accountpublic class UserManager &#123; public volatile String lastUser; public boolean authenticate(String user, String password) &#123; boolean valid = passwordIsValid(user, password); if (valid) &#123; User u = new User(); activeUsers.add(u); lastUser = user; &#125; return valid; &#125;&#125;è¿™ä¸ªæ¨¡å¼å’Œä¸Šè¿°çš„æ¨¡å¼ç¨æœ‰ä¸åŒï¼Œä½¿ç”¨è¯¥å€¼çš„ä»£ç éœ€è¦æ¸…é™¤è¯¥å€¼å¯èƒ½ä¼šéšæ—¶å˜åŒ–ã€‚volatile bean æ¨¡å¼è¿™æ˜¯ Java Bean æ¨¡å¼çš„ä¸€ç§ã€‚å®ƒè¦æ±‚ï¼Œæ‰€æœ‰çš„æ•°æ®æˆå‘˜éƒ½æ˜¯ volatile çš„ï¼ŒåŒæ—¶ï¼Œ getter &amp; setter å¿…é¡»éžå¸¸ç®€å•ï¼Œä¸åŒ…å«å…¶ä»–å¤æ‚ä»£ç è¯¥æ¨¡å¼ä¸ºä¸€äº›æ˜“å˜æ•°æ®æä¾›äº†å®¹å™¨ï¼Œä½†æ˜¯è¦æ±‚æ”¾å…¥è¿™äº›å®¹å™¨çš„å¯¹è±¡å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„12345678910111213141516171819202122 @ThreadSafe public class Person &#123; private volatile String firstName; private volatile String lastName; private volatile int age; public String getFirstName() &#123; return firstName; &#125; public String getLastName() &#123; return lastName; &#125; public int getAge() &#123; return age; &#125; public void setFirstName(String firstName) &#123; this.firstName = firstName; &#125; public void setLastName(String lastName) &#123; this.lastName = lastName; &#125; public void setAge(int age) &#123; this.age = age; &#125;&#125;é«˜çº§åº”ç”¨â€”â€”å¼€é”€è¾ƒä½Žçš„è¯»â€”â€”å†™é”ç­–ç•¥å½“å¯¹äºŽä¸€ä¸ªå˜é‡çš„è¯»æ“ä½œè¿œè¿œè¶…è¿‡å†™æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ volatile å…³é”®å­—ä¿®é¥°è¯¥å˜é‡ï¼Œç”¨äºŽä¿è¯å¯è§æ€§ï¼ŒåŒæ—¶å¯¹ setter æ–¹æ³•é‡‡å– synchronized ä¿®é¥°ä¿è¯åŒæ­¥æ€§ï¼Œå®žçŽ°è¾ƒä½Žå¼€é”€çš„è¯»å’Œå†™é”123456789101112@ThreadSafepublic class CheesyCounter &#123; // Employs the cheap read-write lock trick // All mutative operations MUST be done with the 'this' lock held @GuardedBy("this") private volatile int value; public int getValue() &#123; return value; &#125; public synchronized int increment() &#123; return value++; &#125;&#125; 7. final å˜é‡å¦‚æžœä¸€ä¸ªåŸŸè¢«å£°æ˜Žä¸º finalï¼Œé‚£ä¹ˆå¯¹äºŽè¯¥å˜é‡å°†ä¸ä¼šå‡ºçŽ°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å…¶ä»–çº¿ç¨‹å°†åœ¨ final å˜é‡è¢«èµ‹å€¼æˆåŠŸåŽæ‰èƒ½è§åˆ°æ­¤å˜é‡ã€‚æ³¨æ„ï¼Œåªæœ‰å˜é‡æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå…¶æŒ‡å‘çš„æ•°ç»„ã€å¯¹è±¡ç­‰ä»ç„¶éœ€è¦åŒæ­¥æ“ä½œã€‚ 8. æ­»é”Java å¹¶ä¸èƒ½åœ¨è¯­è¨€å±‚æ¬¡ä¸Šé¿å…æˆ–æ‰“ç ´æ­»é”çš„å‘ç”Ÿï¼Œè¿™æ˜¯ç¨‹åºè®¾è®¡çš„å·¥ä½œã€‚ 9. çº¿ç¨‹å±€éƒ¨å˜é‡å¦‚æžœè¦é¿å…çº¿ç¨‹é—´å…±äº«å˜é‡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ ThreadLocal è¾…åŠ©ç±»ä¸ºå„ä¸ªçº¿ç¨‹æä¾›å„è‡ªçš„å®žä¾‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœè¦è®©æ¯ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±çš„ SimpleDateFormat å˜é‡ï¼Œé‚£ä¹ˆåªéœ€è¦123456public static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;() &#123; protected SimpleDateFormat initalValue() &#123; return new SimpleDateFormat("yyyy-MM-dd"); &#125; &#125;;å¦‚æžœè¦è®¿é—®å…·ä½“çº¿ç¨‹çš„æ ¼å¼åŒ–æ–¹æ³•ï¼Œå¯ä»¥è°ƒç”¨1String dateStamp = dateFormat.get().format(new Date());åœ¨ä¸€ä¸ªç»™å®šçº¿ç¨‹ä¸­é¦–æ¬¡è°ƒç”¨ get() æ–¹æ³•æ—¶ï¼Œä¼šè°ƒç”¨ initialValue() æ–¹æ³•ã€‚åœ¨æ­¤ä¹‹åŽï¼Œ get() ä¼šè¿”å›žå±žäºŽå½“å‰çº¿ç¨‹çš„é‚£ä¸ªå®žä¾‹Î”\DeltaÎ” å¯¹äºŽéšæœºæ•°ç”Ÿæˆå™¨ï¼Œå¦‚æžœéœ€è¦çº¿ç¨‹ç‹¬äº«çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨1int random = ThreadLocalRandom.current().nextInt(upperBound);current() ä¼šè¿”å›žç‰¹å®šäºŽå½“å‰çº¿ç¨‹çš„ Random ç±»å®žä¾‹ã€‚å¦å¤–è¿˜æœ‰ä¸ª set() å’Œ remove() æ–¹æ³•ï¼Œåˆ†åˆ«ç”¨äºŽä¸ºå½“å‰çº¿ç¨‹è®¾ç½®æ–°å€¼å’Œåˆ é™¤å½“å‰çº¿ç¨‹çš„å€¼ã€‚ 10. é”æµ‹è¯•ä¸Žè¶…æ—¶å¦‚æžœè¦ä½¿ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œå°±è¦ä½¿ç”¨ Lock/Condition æž¶æž„ã€‚ç”±äºŽå°è¯•èŽ·å–é”ä¼šå¯¼è‡´é˜»å¡žï¼Œä½¿ç”¨ tryLock å¯ä»¥è¯•å›¾ç”³è¯·ä¸€ä¸ªé”ï¼ŒæˆåŠŸåˆ™è¿”å›ž true, å¤±è´¥è¿”å›ž falseï¼ŒåŒæ—¶ï¼Œçº¿ç¨‹å¯ä»¥ç«‹å³ç¦»å¼€åšå…¶ä»–äº‹æƒ…12345678910if (myLock.tryLock()) &#123; // now the thread owns the lock try &#123;...&#125; finally &#123; myLock.unlock(); &#125;&#125;else &#123; // Do something else&#125;åŒæ—¶ï¼Œè¿˜å¯ä»¥è®¾ç½®è¶…æ—¶å‚æ•°1if (myLock.tryLock(100, TimeUnit.MILLSECONDS));æ³¨æ„ï¼Œ tryLock() ä¼šå¿½ç•¥é”çš„å…¬å¹³æ€§lock() æ–¹æ³•ä¸èƒ½è¢«ä¸­æ–­ï¼Œå¦‚æžœä¸€ä¸ªçº¿ç¨‹åœ¨ç­‰å¾…èŽ·å–é”æ—¶è¢«ä¸­æ–­ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½ä¼šé€ æˆæ­»é”ä½†æ˜¯ï¼Œå¦‚æžœé‡‡ç”¨ tryLock()ï¼Œå¦‚æžœçº¿ç¨‹åœ¨ç­‰å¾…æœŸé—´è¢«ä¸­æ–­ï¼Œå°†æŠ›å‡º InterruptedException ï¼Œæ­¤æ—¶å°±å¯ä»¥ç”¨è¿™ä¸ªç‰¹æ€§æ¥è·³å‡ºæ­»é”é—®é¢˜ã€‚åŒæ—¶ï¼Œawait() æ–¹æ³•ä¹Ÿå¯ä»¥è®¾å®šè¶…æ—¶ã€‚ 11. è¯»/å†™é”å¦‚æžœå¾ˆå¤šçº¿ç¨‹ä»Žä¸€ä¸ªæ•°æ®ç»“æž„è¯»å–æ•°æ®è€Œå¾ˆå°‘ä¿®æ”¹å…¶ä¸­æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨å¦ä¸€ç§é” ReentrantReadWriteLock æ¥æé«˜æ€§èƒ½æ­¤æ—¶ï¼Œå…è®¸è¯»çº¿ç¨‹å…±äº«è®¿é—®ï¼Œå†™çº¿ç¨‹ä¸ºäº’æ–¥è®¿é—®è¿™é‡Œæœ‰ç‚¹åƒ volatile çš„é«˜çº§åº”ç”¨ï¼›ä¸åŒçš„ç‚¹åœ¨äºŽï¼Œvolatile ç”¨äºŽä¸€ä¸ªå˜é‡ï¼Œè€Œ ReentrantReadWriteLock ç”¨äºŽä¸€ä¸ªæ•°æ®ç»“æž„ 11.1 ä½¿ç”¨æ­¥éª¤æž„å»º ReentrantReadWriteLock å¯¹è±¡1private ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();æŠ½å–è¯»é”å’Œå†™é”12private Lock readLock = rwl.readLock();private Lock writeLock = rwl.writeLock();1å¯¹æ‰€æœ‰çš„ getter åŠ è¯»é”1234567public double getTotalBalance() &#123; readLock.lock(); try &#123;...&#125; finally &#123; readLock.unlock(); &#125;&#125;å¯¹æ‰€æœ‰ setter åŠ å†™é”1234567public void transfer(...) &#123; writeLock.lock(); try &#123;...&#125; finally &#123; writeLock.unlock(); &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java å¤šçº¿ç¨‹åŸºç¡€]]></title>
    <url>%2F%2FJava%2FJava%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[1. åˆ›å»ºçº¿ç¨‹ 1.1 é€šè¿‡ Runnable æŽ¥å£åˆ›å»ºå®žçŽ° Runnable æŽ¥å£123class Myrunnable implement Runnable &#123;run();&#125;åˆ›å»º Runnable å¯¹è±¡1Runnable r = new Myrunnable();ç”± Runnable å¯¹è±¡åˆ›å»º Thread å¯¹è±¡1Thread t = new Thread(r);å¯åŠ¨çº¿ç¨‹1t.start();ä¸èƒ½ç›´æŽ¥è°ƒç”¨ run() æ–¹æ³•ï¼Œåº”è°ƒç”¨ Thread.start() æ–¹æ³•æ¥é—´æŽ¥è°ƒç”¨ run æ–¹æ³• 1.2 é€šè¿‡ç»§æ‰¿ Thread ç±»å®žçŽ°å®žçŽ°ç»§æ‰¿ç±»12345public class MyThread extends Thread &#123; public void run() &#123; // Do works &#125;&#125;æž„é€ ç±»å®žä¾‹1234public void static main(Sting [] args) &#123; MyThread my = new MyThread(); Thread t = new Thread(my);&#125;é€šè¿‡ start() æ–¹æ³•å¼€å¯çº¿ç¨‹1t.start(); 2. ä¸­æ–­çº¿ç¨‹Java ä½¿ç”¨ä¸­æ–­æ¥æ‰§è¡Œç»ˆæ­¢çº¿ç¨‹çš„ä½œç”¨ï¼›ä½†æ˜¯ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹æŽ¥æ”¶åˆ°ç»ˆæ­¢ä¿¡å·æ—¶ï¼Œå®ƒå¯ä»¥é€‰æ‹©å¯¹äºŽä¸­æ–­ä¿¡å·çš„å“åº”æ–¹å¼ï¼Œè¿™å°±å¸¦æ¥äº†å¾ˆå¥½çš„æ‰©å±•æ€§ã€‚ä½†åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€äº›ç–‘æƒ‘çš„åœ°æ–¹ã€‚ 2.1 ä¸­æ–­ç½®ä½å’Œæ£€æµ‹ä½¿ç”¨ Thread.currentThread() æ–¹æ³•èŽ·å–åˆ°å½“å‰è¿è¡Œçš„çº¿ç¨‹å…³äºŽ Thread.currentThread() æ–¹æ³•ï¼šæ­¤æ–¹æ³•çš„å®˜æ–¹è§£é‡Šæ˜¯ï¼šReturn the current executing Thread reference.æ‰€è°“çš„å½“å‰çº¿ç¨‹æŒ‡çš„æ˜¯ï¼šè¿è¡Œå½“å‰ä»£ç æ®µçš„çº¿ç¨‹ï¼Œç”±äºŽä¸€æ®µä»£ç åªèƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œï¼Œå¦‚æžœä½¿ç”¨å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡ŒåŒä¸€æ®µä»£ç æ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•èŽ·å–åˆ°çš„å°±æ˜¯æ‰§è¡Œå½“å‰ä»£ç æ®µçš„çº¿ç¨‹ï¼Œå«åšå½“å‰çº¿ç¨‹ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•å¦‚æžœä¸åœ¨å­çº¿ç¨‹ä¸­ï¼ˆå³ run() æ–¹æ³•ä¸­ï¼‰ï¼Œé‚£ä¹ˆèŽ·å–åˆ°çš„å°±ä¸€ç›´æ˜¯ä¸»çº¿ç¨‹ï¼ˆmainï¼‰éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œä¸åŒçº¿ç¨‹ä¸å…è®¸è®¿é—®åŒä¸€ä¸ªå˜é‡ï¼Œå¦åˆ™ä¼šå¼•èµ·ç«žäº‰å†’é™©ä½¿ç”¨ interrupt() å°†ä¸­æ–­å¸ƒå°”å€¼ç½®ä¸º trueJava çš„ä¸­æ–­çº¿ç¨‹å®žé™…ä¸Šæ˜¯å°†çº¿ç¨‹å†…ç½®çš„ä¸€ä¸ª boolean å€¼ç½®ä¸º trueï¼Œä»¥æ­¤æ¥è¡¨ç¤ºè¯¥çº¿ç¨‹å·²è¢«ä¸­æ–­ã€‚å½“æˆ‘ä»¬éœ€è¦ä¸­æ–­ä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œå°±è°ƒç”¨è¯¥æ–¹æ³•å°†çº¿ç¨‹å†…éƒ¨çš„ä¸­æ–­å¸ƒå°”å€¼ç½®ä¸º trueã€‚çº¿ç¨‹ä¼šåœ¨é€‚å½“æ—¶å€™è½®è¯¢è¿™ä¸ªå¸ƒå°”å€¼ï¼ŒåŒæ—¶å“åº”ä¸­æ–­æ“ä½œã€‚æ³¨æ„è¿™ä¸ªåŠ¨ä½œæ˜¯ Thread å®˜æ–¹ç±»åº“ä¸­è‡ªå¸¦çš„ã€‚ä½¿ç”¨ isInterrupted() æ¥æŸ¥è¯¢å½“å‰çº¿ç¨‹çš„ä¸­æ–­å¸ƒå°”å€¼ä¸€ä¸ªå¥½çš„ run() æ–¹æ³•åº”è¯¥åŒ…å«å¯¹ä¸­æ–­çš„æ£€æµ‹ï¼Œå¦‚æžœæ£€æµ‹åˆ°ä¸­æ–­ï¼Œé‚£ä¹ˆå°±åº”è¯¥è¿›è¡Œå“åº”ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåº”è¯¥æ”¾å¼ƒå½“å‰æ­£åœ¨è¿›è¡Œçš„å·¥ä½œï¼Œè¿›è¡Œæ¸…ç†åŽå°†çº¿ç¨‹ç»ˆæ­¢ã€‚ä½†æ˜¯å¦‚æžœéœ€è¦åœ¨ run() ä¸­æ‰§è¡Œ sleep() æ–¹æ³•ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦æ£€æµ‹ä¸­æ–­çŠ¶æ€ï¼Œå› ä¸º sleep() æ–¹æ³•åœ¨è¢«ä¸­æ–­æ—¶ï¼Œä¼šæŠ›å‡º InterruptedExceptionï¼Œé‚£ä¹ˆåªéœ€æ•èŽ·è¿™ä¸ªå¼‚å¸¸è¿›è¡Œå¤„ç†å³å¯ã€‚å…³äºŽ interrupted() å’Œ isInterrupted()isInterrupted() æ–¹æ³•æ£€æµ‹ä¸­æ–­çŠ¶æ€ï¼Œä½†æ˜¯ä¸ä¼šå½±å“ä¸­æ–­çŠ¶æ€çš„å€¼ã€‚interrupted() æ–¹æ³•æ£€æµ‹ä¸­æ–­çŠ¶æ€ï¼ŒåŒæ—¶å°†ä¸­æ–­çŠ¶æ€æ¸…é™¤ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsleep() wait() æ–¹æ³•åœ¨æŠ›å‡º InterruptedException ä¹‹åŽï¼Œéƒ½ä¼šå°†ä¸­æ–­çŠ¶æ€æ¸…é™¤ã€‚å¯¹äºŽè¿™ç§çŠ¶å†µï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹å…¶è¿›è¡Œä¸€äº›å¤„ç†ã€‚ 2.2 å…³äºŽ InterruptedException å¼‚å¸¸ 2.2.1 æŠ›å‡ºæ—¶æœºå½“çº¿ç¨‹åŒæ—¶ä½äºŽé˜»å¡žå’Œä¸­æ–­çŠ¶æ€æ—¶ï¼ŒæŠ›å‡ºã€‚å³ï¼Œå½“çº¿ç¨‹è°ƒç”¨ sleep() wait() join() ç­‰æ–¹æ³•æ—¶è¢«ä¸­æ–­ï¼Œé‚£ä¹ˆæŠ›å‡ºå¼‚å¸¸ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æžœä¸€ä¸ªæ–¹æ³•å¯ä»¥æŠ›å‡º InterruptedExceptionï¼Œé‚£ä¹ˆè¯´æ˜Žè¿™ä¸ªæ–¹æ³•çš„å½“å‰çº¿ç¨‹æ˜¯å¯ä»¥è¢«ä¸­æ–­ï¼ˆå–æ¶ˆï¼‰çš„ã€‚ 2.2.2 InterruptedException çš„å¤„ç†ä¸æ•æ‰è¯¥å¼‚å¸¸ï¼Œæ”¹ä¸ºå‘ä¸Šå±‚æŠ›å‡ºã€‚è¿™åœ¨å¾ˆå¤šåŸºç¡€ç±»åº“çš„æ–¹æ³•ä¸­å¾ˆå¸¸è§ï¼Œæ¯”å¦‚ sleep().é€šè¿‡å°†è¿™ä¸ªæ–¹æ³•ä¼ é€ç»™æ›´é«˜çº§çš„è°ƒç”¨è€…ï¼Œè®©é«˜å±‚é¢çš„è°ƒç”¨æ–¹æ³•å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚123public void putTask(Task r) throws InterruptedException &#123; queue.put(r);&#125;æ‰§è¡Œæ¸…ç†åŽï¼Œå°†è¯¥å¼‚å¸¸æŠ›å‡ºã€‚è¿™ç§é€»è¾‘å¸¸å¸¸åœ¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„å¹¶å‘åº“ä¸­ï¼Œä¸ºäº†é¿å…ç”±äºŽå¼‚å¸¸å¯¼è‡´çš„æ•°æ®ç¼ºå¤±ï¼Œè¿›è¡Œä¸€äº›å¿…è¦çš„æ¸…ç†ã€ä¿å­˜æ“ä½œåŽï¼Œå°†å¼‚å¸¸ä¼ ç»™è°ƒç”¨è€…ã€‚12345678910111213141516171819public void matchPlayers() throws InterruptedException &#123; try &#123; Player playerOne, playerTwo; while (true) &#123; playerOne = playerTwo = null; // Wait for two players to arrive and start a new game playerOne = players.waitForPlayer(); // could throw IE playerTwo = players.waitForPlayer(); // could throw IE startNewGame(playerOne, playerTwo); &#125; &#125; catch (InterruptedException e) &#123; // If we got one player and were interrupted, put that player back if (playerOne != null) players.addFirst(playerOne); // Then propagate the exception throw e; &#125;&#125;æ•æ‰ä¸­æ–­åŽï¼Œé‡æ–°å°†ä¸­æ–­ç½®ä½å½“ä¸ä¾¿æŠ›å‡ºä¸­æ–­æ—¶ï¼Œæ¯”å¦‚é€šè¿‡å®žçŽ° Runnable æŽ¥å£å®šä¹‰çš„ä»»åŠ¡ã€‚æ­¤æ—¶ï¼Œå°±è¦é‡æ–°å°†ä¸­æ–­ç½®ä½ï¼Œä»¥ä¾¿é«˜å±‚ä»£ç èƒ½äº†è§£åˆ°ä¸­æ–­çš„å‘ç”Ÿã€‚1234567891011121314151617181920public class TaskRunner implements Runnable &#123; private BlockingQueue&lt;Task&gt; queue; public TaskRunner(BlockingQueue&lt;Task&gt; queue) &#123; this.queue = queue; &#125; public void run() &#123; try &#123; while (true) &#123; Task task = queue.take(10, TimeUnit.SECONDS); task.execute(); &#125; &#125; catch (InterruptedException e) &#123; // Restore the interrupted status Thread.currentThread().interrupt(); &#125; &#125;&#125;å½“ä¸”ä»…å½“å·²çŸ¥çº¿ç¨‹å³å°†é€€å‡ºæ—¶ï¼Œæ‰èƒ½ç”Ÿåžçº¿ç¨‹è¿™ç§çº¿ç¨‹é¦–å…ˆå¿…é¡»æ˜¯ç”±ç»§æ‰¿ Thread å®žçŽ°çš„ï¼Œè€Œä¸æ˜¯ Runnable å®žçŽ°çš„ï¼Œæˆ–è€…å…¶ä»–é€šç”¨ä»£ç åº“ä¸­çš„æ–¹æ³•ã€‚åº”åœ¨ä¸¤å¤„è½®è¯¢ä¸­æ–­çŠ¶æ€ï¼Œç¡®ä¿å…¶ä¸€å®šä¼šé€€å‡º1234567891011121314151617181920public class PrimeProducer extends Thread &#123; private final BlockingQueue&lt;BigInteger&gt; queue; PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) &#123; this.queue = queue; &#125; public void run() &#123; try &#123; BigInteger p = BigInteger.ONE; // ä¸¤å¤„è½®è¯¢ä¸­æ–­çŠ¶æ€ while (!Thread.currentThread().isInterrupted()) queue.put(p = p.nextProbablePrime()); &#125; catch (InterruptedException consumed) &#123; /* Allow thread to exit */ &#125; &#125; public void cancel() &#123; interrupt(); &#125;&#125; 3. çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ–°å»ºå½“çº¿ç¨‹è¢« new çš„æ—¶å€™å¯è¿è¡Œå½“è°ƒç”¨ start() æ–¹æ³•åŽï¼Œè¿›å…¥å¯è¿è¡ŒçŠ¶æ€è¿è¡Œå½“çº¿ç¨‹ç»è°ƒåº¦å™¨èŽ·å¾—èµ„æºæ—¶ï¼Œè¿›å…¥è¿è¡ŒçŠ¶æ€é˜»å¡žçŠ¶æ€å½“ sleep() wait() join() æ–¹æ³•è°ƒç”¨ï¼Œå’Œç­‰å¾…é”æˆ–è€…ç­‰å¾… IO è¾“å…¥ æ—¶ï¼Œè¿›å…¥é˜»å¡žçŠ¶æ€ã€‚æ³¨æ„ï¼Œjoin() æ–¹æ³•ä¼šå¯¼è‡´è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„çº¿ç¨‹é˜»å¡žï¼Œå¦‚æžœçº¿ç¨‹ t1 è°ƒç”¨ t2.join()ï¼Œé‚£ä¹ˆ t1 å°†è¿›å…¥é˜»å¡žçŠ¶æ€ï¼Œç›´åˆ° t2 æ‰§è¡Œå®Œæ¯•ã€‚ä½¿ç”¨ yeild() æ–¹æ³•ä¸ä¼šä½¿çº¿ç¨‹è¢«é˜»å¡žï¼Œå®ƒåªæ˜¯è®©å½“å‰è¿è¡Œçš„çº¿ç¨‹æ”¾å¼ƒèµ„æºï¼Œé‡æ–°è¿›å…¥å¯è¿è¡ŒçŠ¶æ€ï¼ŒæŽ¥å—è°ƒåº¦å™¨çš„é‡æ–°è°ƒåº¦ã€‚ç»ˆæ­¢çŠ¶æ€ä»…æœ‰ä¸¤ç§æƒ…å†µä¼šä½¿å¾—çº¿ç¨‹ç»ˆæ­¢ã€‚ä¸€æ˜¯ run() æ–¹æ³•æ‰§è¡Œå®Œæ¯•ã€‚ä¸€æ˜¯ç”±äºŽæœªæ•èŽ·çš„å¼‚å¸¸é€ æˆçš„çº¿ç¨‹ç»ˆæ­¢ã€‚ 3.1 Java å¦‚ä½•ç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹å¯¹äºŽä¼šå¼•èµ· InterruptedException çš„æ–¹æ³•å¯¹äºŽè¿™ç§æ–¹æ³•ï¼Œç›´æŽ¥å¯¹ InterruptedException è¿›è¡Œæ•èŽ·å³å¯ã€‚æ³¨æ„å¦‚æžœäº§ç”Ÿå¼‚å¸¸çš„æ–¹æ³•åœ¨ä¸€ä¸ªå¾ªçŽ¯ä¹‹ä¸­ï¼Œé‚£ä¹ˆå°±è¦ break å‡ºæ¥ã€‚æ³¨æ„è¦å°†ä¸­æ–­çŠ¶æ€å†æ¬¡ç½®ä½ï¼Œå¦åˆ™å¦‚æžœåœ¨ä¸€ä¸ªåµŒå¥—å¾ªçŽ¯é‡Œé¢å‘ç”Ÿä¸­æ–­çš„è¯ï¼Œé‚£ä¹ˆå°†å¾—ä¸åˆ°æ­£ç¡®å¤„ç†ã€‚å¯¹äºŽä¸ä¼šå¼•èµ· InterruptedException çš„æ–¹æ³•å¯¹äºŽè¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨æ‰§è¡ŒçœŸæ­£çš„å·¥ä½œå‰ï¼Œå…ˆè½®è¯¢ä¸­æ–­çŠ¶æ€çš„å¸ƒå°”å˜é‡ã€‚å¦‚æžœä¸­æ–­çŠ¶æ€å·²ç»è¢«ç½®ä½äº†ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œé€€å‡ºã€‚ä½†æ˜¯è¿™æ ·ä¼šé€ æˆä¸€å®šç¨‹åº¦çš„å»¶æ—¶æ€§ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯é€šè¿‡å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ï¼š1234567891011public void run() &#123; try &#123; while(!Thread.currentThread().isInterrupted()) &#123; // ... &#125; &#125; catch (InterruptedException consumed) &#123; /* Allow thread to exit */ &#125;&#125;public void cancel() &#123; interrupt(); &#125;å¯¹äºŽè¢« IO é˜»å¡žçš„æ–¹æ³•å¯¹äºŽè¿™ç§æ–¹æ³•ï¼Œå½“ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿ InterruptedIOExceptionã€‚é€šè¿‡ç±»ä¼¼æ•èŽ· InterruptedException çš„æ–¹æ³•æ¥æ•èŽ· InterruptedIOExceptionã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œç”±äºŽä¸­æ–­çš„å‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶å…³é—­è¿™ä¸ªçº¿ç¨‹æ‰€å æœ‰çš„ IO æµï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬è¦é‡è½½ interrupt() æ–¹æ³•ï¼Œä½¿å…¶èƒ½å¤Ÿå…³é—­ IO æµï¼ŒåŒæ—¶å¼•èµ· IOException çš„å‘ç”Ÿã€‚æ‰€ä»¥å¯¹äºŽ IOExceptionï¼Œæˆ‘ä»¬å°±éœ€è¦åˆ¤æ–­æ˜¯å¦æ˜¯ç”±äºŽä¸­æ–­å¼•èµ·çš„ IOException123456789101112131415161718192021222324252627282930313233343536 import java.io.IOException; import java.io.InputStream; import java.io.InterruptedIOException; public class BlockedOnIO extends Thread &#123; private final InputStream in; public BlockedOnIO(InputStream in) &#123; this.in = in; &#125; @Override public void interrupt() &#123; super.interrupt(); try &#123; in.close(); &#125; catch (IOException e) &#123;&#125; // quietly close &#125; public void run() &#123; try &#123; System.out.println("Reading from input stream"); in.read(); System.out.println("Finished reading"); &#125; catch (InterruptedIOException e) &#123; Thread.currentThread().interrupt(); System.out.println("Interrupted via InterruptedIOException"); &#125; catch (IOException e) &#123; if (!isInterrupted()) &#123; e.printStackTrace(); &#125; else &#123; System.out.println("Interrupted"); &#125; &#125; System.out.println("Shutting down thread"); &#125;&#125; 4. çº¿ç¨‹å±žæ€§ 4.1 ä¼˜å…ˆçº§ç³»ç»Ÿä¼šä¼˜å…ˆè°ƒç”¨é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹çº¿ç¨‹ä¼˜å…ˆçº§é«˜åº¦ä¾èµ–ç³»ç»Ÿå®žçŽ°ï¼Œç”±ç³»ç»Ÿçº¿ç¨‹ä¼˜å…ˆçº§æ˜ å°„åˆ° Java è™šæ‹Ÿæœºä¸Š 4.2 å®ˆæŠ¤çº¿ç¨‹å®ˆæŠ¤çº¿ç¨‹ç”¨äºŽç»™å…¶ä»–çº¿ç¨‹æä¾›æœåŠ¡ï¼Œä¾‹å¦‚å‘é€å®šæ—¶ä¿¡å·ç­‰ã€‚å®ˆæŠ¤çº¿ç¨‹ç”±äºŽå¾ˆå®¹æ˜“ä¸­æ–­ï¼Œä¸åº”è®¿é—®å›ºæœ‰èµ„æºï¼ˆä¾‹å¦‚æ–‡ä»¶ã€æ•°æ®åº“ç­‰ï¼‰setDaemon() æ–¹æ³•å¿…é¡»åœ¨çº¿ç¨‹å¼€å§‹å‰è°ƒç”¨å½“ç¨‹åºä¸­åªå­˜åœ¨å®ˆæŠ¤çº¿ç¨‹æ—¶ï¼ŒJVM é€€å‡ºï¼Œå®ˆæŠ¤çº¿ç¨‹ä¸€å¹¶ç»ˆæ­¢å…¸åž‹åº”ç”¨ï¼šGCï¼ˆåžƒåœ¾å›žæ”¶ï¼‰ï¼Œä¿æŒé•¿è¿žæŽ¥ç­‰ã€‚ 4.3 uncaughtExceptionHandlerçº¿ç¨‹çš„ run() æ–¹æ³•ä¸èƒ½æŠ›å‡ºä»»ä½•è¢«æ£€æµ‹çš„å¼‚å¸¸æœªæ•èŽ·çš„å¼‚å¸¸ä¼šè¢« uncaughtExceptionHandler æ•èŽ·å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„æ–¹æ³•è®¾ç½®å¤„ç†å™¨ï¼Œå¦‚æžœæœªè®¾ç½®ï¼Œåˆ™ä¸ºç©ºä»»ä½•çº¿ç¨‹é»˜è®¤æƒ…å†µåŒå±žäºŽä¸€ä¸ªçº¿ç¨‹ç»„çº¿ç¨‹ç»„ï¼ˆThreadGroupï¼‰é»˜è®¤å®žçŽ°äº†ä¸€ä¸ªå¤„ç†å™¨ï¼Œå…¶å¯¹åº”æ–¹æ³•æŒ‰ç…§å¦‚ä¸‹é€»è¾‘è¿›è¡Œå·¥ä½œå¦‚æžœæœ‰çˆ¶çº¿ç¨‹ç»„ï¼Œé‚£ä¹ˆå°±é‡‡ç”¨çˆ¶çº¿ç¨‹ç»„çš„å¤„ç†å™¨å¦åˆ™ï¼Œå¦‚æžœ getDefaultExceptionHandler() æ–¹æ³•éƒ¨ä½ç©ºï¼Œé‚£ä¹ˆåˆ™è°ƒç”¨è¯¥å¤„ç†å™¨ã€‚å¦åˆ™ï¼Œå¦‚æžœçº¿ç¨‹å·²ç»æ­»äº¡ï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸åšå¦åˆ™ï¼Œå°†çº¿ç¨‹çš„åå­—å’Œå¯¹åº”çš„æ ˆè½¨è¿¹è¾“å‡ºåˆ° System.err ä¸Šã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬é€šå¸¸è§åˆ°çš„æƒ…æ™¯ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java å¤šçº¿ç¨‹å·¥å…·]]></title>
    <url>%2F%2FJava%2FJava%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[1. å¹¶å‘å·¥å…·å¯¹äºŽå¾ˆå¤šçš„å¤šçº¿ç¨‹é—®é¢˜ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†åŽ»å®žçŽ°ä¸€éåº•å±‚çš„é”å’ŒåŒæ­¥æœºåˆ¶äº†ã€‚å¯¹äºŽä¸€èˆ¬çš„åº”ç”¨å‘é—®é¢˜ï¼Œåº”ä¼˜å…ˆé‡‡ç”¨å¹¶å‘å·¥å…·Executor å’Œ Task ä¼˜å…ˆäºŽçº¿ç¨‹(Runnable)å¹¶å‘å·¥å…·ä¼˜å…ˆäºŽ wait() å’Œ notify()â€”â€” Effective Java Second Edition 1.1 é˜»å¡žé˜Ÿåˆ—å¯¹äºŽè®¸å¤šçº¿ç¨‹é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªé˜Ÿåˆ—æ¥å°†å…¶å½¢å¼åŒ–ã€‚å¯ä»¥é€šè¿‡ Producesor å°†ä»»åŠ¡åŠ å…¥é˜Ÿåˆ—ï¼Œç„¶åŽç”± Comsumor æ¥å°†ä»»åŠ¡å–å‡ºç„¶åŽè¿›è¡Œå¤„ç†çš„æ–¹å¼æ¥å®žçŽ°ã€‚Java çš„é˜»å¡žé˜Ÿåˆ—è‡ªå¸¦äº†é˜»å¡žç‰¹æ€§ï¼Œä¸å†éœ€è¦æ˜¾å¼çš„åŒæ­¥ 1.1.1 APIè¿™é‡Œåªä»‹ç»é˜»å¡žé˜Ÿåˆ—çš„é˜»å¡žæ–¹æ³•ï¼Œå®žé™…ä¸Šé˜»å¡žé˜Ÿåˆ—ä¹ŸåŒ…å«ä¸€äº›éžé˜»å¡žçš„æ–¹æ³•æ–¹æ³•æ­£å¸¸åŠ¨ä½œç‰¹æ®Šæƒ…å†µä¸‹çš„åŠ¨ä½œputæ·»åŠ ä¸€ä¸ªå…ƒç´ å¦‚æžœé˜Ÿåˆ—æ»¡ï¼Œåˆ™é˜»å¡žtakeç§»å‡ºå¹¶è¿”å›žå¤´å…ƒç´ å¦‚æžœé˜Ÿåˆ—ç©ºï¼Œåˆ™é˜»å¡žofferæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ž trueå¦‚æžœé˜Ÿåˆ—æ»¡ï¼Œåˆ™è¿”å›ž falsepollç§»å‡ºå¹¶è¿”å›žé˜Ÿåˆ—çš„å¤´å…ƒç´ å¦‚æžœé˜Ÿåˆ—ç©ºï¼Œåˆ™è¿”å›ž nullpeekè¿”å›žé˜Ÿåˆ—çš„å¤´å…ƒç´ ï¼ˆä¸ç§»å‡ºï¼‰å¦‚æžœé˜Ÿåˆ—ç©ºï¼Œåˆ™è¿”å›ž nullæ³¨æ„ï¼šoffer ã€peekã€poll åœ¨ç‰¹æ®Šæƒ…å†µä¸‹å¹¶ä¸é˜»å¡žï¼Œä½†æ˜¯å®ƒä»¬æœ‰å¯¹åº”çš„è¶…æ—¶ç‰ˆæœ¬ç”±äºŽ peak poll å¸¦æœ‰ è¿”å›ž null çš„å±žæ€§ï¼Œæ‰€ä»¥ä¸èƒ½å¾€è¿™æ ·çš„é˜Ÿåˆ—æ’å…¥ null å€¼è¿™ä¸ªé˜Ÿåˆ—è¿˜å…·æœ‰ add() å’Œ remove æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä»¬åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€ä»¥åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ä¸è¦ä½¿ç”¨è¿™æ ·çš„æ–¹æ³•ã€‚Java å‡†å¤‡äº†å¤šç§å®žçŽ°å½¢å¼çš„é˜»å¡žé˜Ÿåˆ—ï¼ŒåŒ…æ‹¬é“¾è¡¨ã€åŒç«¯é“¾è¡¨ã€æ•°ç»„ç­‰å®žçŽ°ï¼Œç”šè‡³åŒ…æ‹¬ä¼˜å…ˆé˜Ÿåˆ—ã€‚åŒæ—¶ï¼ŒJava 1.7 è¿˜æä¾›äº† TransferQueue æŽ¥å£ï¼Œè¿™ä¸ªæŽ¥å£å…è®¸ç”Ÿäº§è€…çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°æ¶ˆè´¹è€…çº¿ç¨‹å‡†å¤‡å°±ç»ªã€‚ 1.1.2 ä¾‹å­ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨é˜»å¡žé˜Ÿåˆ—æ¥ç®¡ç†å¤šçº¿ç¨‹å…³ç³»çš„ä¾‹å­ï¼šå³ï¼Œç”Ÿäº§è€…çº¿ç¨‹å°†å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹å°†å…ƒç´ å–å‡ºè¿›è¡Œå¤„ç†123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081public class BlockingQueueExample &#123; public static void main(String[] args) throws Exception &#123; BlockingQueue bq = new ArrayBlockingQueue(1000); Producer producer = new Producer(bq); Consumer consumer = new Consumer(bq); new Thread(producer).start(); new Thread(consumer).start(); Thread.sleep(4000); &#125;&#125;/*** Producer generate the sum.* And add it into the queue*/public class Producer implements Runnable &#123; private BlockingQueue bq = null; public Producer(BlockingQueue queue) &#123; this.setBlockingQueue(queue); &#125; // The blocking queue has a internal synchronize // The delay of each end of the addition will show this public void run() &#123; Random rand = new Random(); int res = 0; try &#123; res = Addition(rand.nextInt(100), rand.nextInt(50)); System.out.println("Produced: " + res); bq.put(res); Thread.sleep(1000); res = Addition(rand.nextInt(100), rand.nextInt(50)); System.out.println("Produced: " + res); bq.put(res); Thread.sleep(1000); res = Addition(rand.nextInt(100), rand.nextInt(50)); System.out.println("Produced: " + res); bq.put(res); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; public void setBlockingQueue(BlockingQueue bq) &#123; this.bq = bq; &#125; public int Addition(int x, int y) &#123; int result = 0; result = x + y; return result; &#125;&#125;/*** Comsumer take the result from the queue.* And print it out to the output*/public class Consumer implements Runnable &#123; protected BlockingQueue queue = null; public Consumer(BlockingQueue queue) &#123; this.queue = queue; &#125; public void run() &#123; try &#123; System.out.println("Consumed: " + queue.take()); System.out.println("Consumed: " + queue.take()); System.out.println("Consumed: " + queue.take()); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125;The output:123456Produced: 93Consumed: 93Produced: 69Consumed: 69Produced: 76Consumed: 76 1.2 çº¿ç¨‹å®‰å…¨çš„é›†åˆåœ¨ java.util.concurrent åŒ…æä¾›äº†è®¸å¤šçº¿ç¨‹å®‰å…¨çš„é›†åˆã€‚ä¸»è¦ç”¨äºŽå¤šçº¿ç¨‹å¹¶å‘ä¿®æ”¹ä¸€ä¸ªæ•°æ®ç»“æž„çš„å¹¶å‘é—®é¢˜ã€‚åŒ…æ‹¬ å“ˆå¸Œè¡¨ã€æœ‰åºé›†å’Œé˜Ÿåˆ—ç­‰ä¸€èˆ¬æ¥è¯´ï¼Œçº¿ç¨‹å®‰å…¨çš„é›†åˆè¦æ¯”ä¸€èˆ¬çš„é›†åˆæ›´é«˜æ•ˆåœ¨è¾ƒæ—©çš„ Java ç‰ˆæœ¬ï¼Œæ›¾æœ‰â€œåŒæ­¥åŒ…è£…å™¨â€ä½¿å¾—ä¸€èˆ¬çš„é›†åˆç±»åž‹å˜ä¸ºåŒæ­¥çš„ï¼Œä½†æ˜¯çŽ°åœ¨å·²ç»ä¸æŽ¨èä½¿ç”¨äº†ï¼Œæœ€å¥½ä½¿ç”¨ java.util.concurrent åŒ…ä¸­çš„é›†åˆ 2. Callable å’Œ Future 2.1 CallableCallable æ˜¯ä¸€ä¸ªå¸¦è¿”å›žå€¼çš„ Runnableï¼Œå…·æœ‰æ³›åž‹ç‰¹æ€§ã€‚ä¾‹å¦‚ Callable&lt;Integer&gt; è¡¨ç¤ºä¸€ä¸ªæœ€ç»ˆè¿”å›ž Interger çš„å¼‚æ­¥è®¡ç®— 2.2 FutureFuture ä¿å­˜å¼‚æ­¥ä»»åŠ¡çš„ç»“æžœï¼Œå¯ä»¥å°†å…¶å¯åŠ¨ç„¶åŽäº¤ç»™ä¸€ä¸ªçº¿ç¨‹ã€‚æ‰€æœ‰è€…åœ¨ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åŽï¼Œå¯ä»¥é€šè¿‡ get() æ–¹æ³•èŽ·å¾—ç»“æžœã€‚Future å…·æœ‰ä»¥ä¸‹æ–¹æ³•1234567public interface Future&lt;V&gt; &#123; V get() throws ...; V get(long timeout, TimeUnit unit) throws ...; void cancel(boolean mayInterrupt); boolean isCancelled(); boolean isDone();&#125;ç¬¬ä¸€ä¸ª get() è°ƒç”¨ç›´åˆ°è®¡ç®—å®Œæˆå‰ä¼šè¢«é˜»å¡žï¼›å¦‚æžœä»»åŠ¡å®Œæˆå‰ç¬¬äºŒä¸ª get() è¶…æ—¶ï¼Œåˆ™æŠ›å‡º TimeoutExceptionå¦‚æžœçº¿ç¨‹è¢«ä¸­æ–­ï¼Œåˆ™éƒ½æŠ›å‡º InterruptedExceptionå¦‚æžœä»»åŠ¡å·²ç»å®Œæˆï¼Œé‚£ä¹ˆ get() ç«‹å³è¿”å›žå¯ä»¥ä½¿ç”¨ cancel() æ–¹æ³•æ¥ä¸­æ–­ä»»åŠ¡ï¼Œå¦‚æžœä»»åŠ¡æ²¡æœ‰å¼€å§‹ï¼Œåˆ™å®ƒå°†è¢«å–æ¶ˆè€Œä¸ä¼šå†è¿è¡Œï¼Œå¦‚æžœä»»åŠ¡å·²ç»åœ¨è¿è¡Œï¼Œé‚£ä¹ˆåˆ™ç”± mayInterrupt å‚æ•°æ¥å†³å®šæ˜¯å¦ä¸­æ–­ä»»åŠ¡å¦‚æžœä»»åŠ¡å·²ç»è¢«å–æ¶ˆæˆ–è€…å·²ç»å®Œæˆï¼Œé‚£ä¹ˆè¿”å›ž falseï¼Œå…¶ä»–æƒ…å†µè¿”å›ž trueæ³¨æ„ï¼Œæ­¤æ–¹æ³•ä¸€æ—¦è¿”å›žï¼Œåˆ™ isDone() æ°¸è¿œè¿”å›ž true 2.3 FutureTaskJava å®žçŽ°äº† FutureTask åŒ…è£…å™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ï¼ŒåŒæ—¶å®žçŽ°äº† Runnable å’Œ Future æŽ¥å£å®ƒæŽ¥å—ä¸€ä¸ª Callable æŽ¥å£ä½œä¸ºæž„å»ºå™¨å‚æ•°ï¼Œä¸»è¦ç”¨äºŽå°† Callable è½¬æ¢ä¸º Runnalbe å’Œ Futureå¯ä»¥å¦‚ä¸‹ä½¿ç”¨123456Callable&lt;Integer&gt; myComputation = ...;FutureTask&lt;Integer&gt; task = new FutureTask&lt;Integer&gt;(myComputation);Thread t = new Thread(task) // It's a Runnalet.start();...Integer result = task.get(); // It's a Future 3. æ‰§è¡Œå™¨(Executor)å¦‚æžœä½ éœ€è¦åšä¸€äº›é‡å¤æ€§è¾ƒé«˜çš„å¼‚æ­¥ä»»åŠ¡ï¼Œæˆ–è€…åˆ›å»ºå¤§é‡çš„ç”Ÿå‘½æœŸå¾ˆçŸ­çš„çº¿ç¨‹ï¼Œé‚£ä¹ˆå°±åº”è¯¥ç”¨çº¿ç¨‹æ± æ¥ç®¡ç†ã€‚å®žé™…ä¸Šï¼Œä¸ºäº†æé«˜æ•ˆçŽ‡ï¼Œæ‰§è¡Œä»»ä½•çš„å¹¶å‘ä»»åŠ¡ï¼Œéƒ½åº”è¯¥ä¼˜å…ˆè€ƒè™‘ Execulator å’Œ TaskExeculator å’Œ Task ä¼˜å…ˆäºŽçº¿ç¨‹(Thread)â€”â€” Effective Java Second Editionåœ¨è¿™é‡Œï¼Œå¹¶å‘çš„æœ€å°å•ä½å‡çº§ä¸º Executor å’Œ Taskã€‚æ‰€è°“çš„ Task å°±æ˜¯ç”¨æˆ·æž„å»ºçš„ Runnable æˆ–è€… Callable å¯¹è±¡ï¼›è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦ä¼˜å…ˆé‡‡ç”¨ Runnable çš„åŽŸå›  3.1 åŸºæœ¬ä½¿ç”¨åŸºæœ¬çš„ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼šä½¿ç”¨ Executors çš„é™æ€æ–¹æ³•æž„å»ºçº¿ç¨‹æ± ï¼Œæˆ–è€…å« ExecutorServiceè°ƒç”¨ execute() æˆ– submit() æäº¤ Runnable æˆ– Callable å¯¹è±¡å½“ä¸åœ¨æäº¤ä»»åŠ¡æ—¶ï¼Œè°ƒç”¨ shutdown()æ³¨æ„ï¼Œè¿˜æœ‰ä¸€ä¸ª execute() æ–¹æ³•æ‰§è¡Œ submit() çš„æ•ˆæžœã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºŽï¼Œexecute() ä¼šè§¦å‘æœªæ•èŽ·å¤„ç†å™¨ï¼Œä»Žè€Œå‘ System.err è¾“å‡ºé”™è¯¯ä¿¡æ¯;submit() ä¼šæŠ›å‡º ExecutionExceptionï¼Œå¯ä»¥ä½¿ç”¨ getCause() èŽ·å–å‡ºé”™ä¿¡æ¯å¦å¤–ï¼Œ submit() è¿”å›žçš„æ˜¯ Future å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å®ƒå–æ¶ˆç‰¹å®šä»»åŠ¡ã€‚ç”±æ­¤ï¼Œå¦‚æžœä½¿ç”¨ Callable é‚£ä¹ˆä½¿ç”¨ submit()ï¼›å¦‚æžœä½¿ç”¨ Runnable é‚£ä¹ˆä½¿ç”¨ execute()ä¾‹å­ï¼š123456789ExecutorService executorService = Executors.newFixedThreadPool(10);executorService.execute(new Runnable() &#123; public void run() &#123; System.out.println("Asynchronous task"); &#125;&#125;);executorService.shutdown(); 3.2 ScheduledExecutorService é¢„å®šæ‰§è¡Œè¯¥ç±»æ˜¯ ExecutorService çš„å­ç±»ï¼Œç”¨äºŽæž„å»ºé¢„è®¢æ€§å’Œé‡å¤æ€§ã€å‘¨æœŸæ€§ çš„ä»»åŠ¡å¯ä»¥æŒ‡å®šä»»åŠ¡åªè¿è¡Œä¸€æ¬¡ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä»»åŠ¡çš„è¿è¡Œå‘¨æœŸ 3.3 æŽ§åˆ¶ä»»åŠ¡ç»„ä½¿ç”¨ ExecutorService çš„å¦ä¸€ä¸ªé‡è¦åŽŸå› å°±æ˜¯å¯ä»¥å®žçŽ°æŽ§åˆ¶ä¸€ç»„ç›¸å…³ä»»åŠ¡ã€‚ç‰¹åˆ«æ˜¯åœ¨é‡‡ç”¨åˆ†æ²»ç­–ç•¥çš„ç®—æ³•ä¸­å¸¸å¸¸èƒ½ç”¨åˆ°ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å¯¹ä¸€ä¸ªå¤§æ•´æ•°è¿›è¡Œå› å¼åˆ†è§£ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†æ•´ä¸ªè¿‡ç¨‹åˆ†æˆå¾ˆå¤šå¾ˆå°çš„è¿‡ç¨‹ï¼Œå½“å°ä»»åŠ¡å…¨éƒ¨è§£å†³å®Œæ¯•æ—¶ï¼Œæ•´æ•°çš„å› å¼åˆ†è§£ä¹Ÿå°±å®Œæ¯•äº†ã€‚æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æäº¤å¾ˆå¤šå¯¹äºŽåŒä¸€ä¸ªé—®é¢˜çš„ä¸åŒè§£å†³æ–¹æ¡ˆï¼Œå¦‚æžœæœ‰ä»»ä½•ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå¾—å‡ºç­”æ¡ˆï¼Œé‚£æ•´ä¸ªä»»åŠ¡å°±å¯ä»¥åœæ­¢äº†ã€‚å¯¹äºŽä»¥ä¸Šä¸¤ç§æƒ…å†µï¼Œä½¿ç”¨ ExecutorService åˆ†åˆ«æœ‰ä¸¤ç§æ–¹æ³•è¿›è¡Œå¯¹åº”ï¼šinvokeAll()ï¼Œè¿™ä¸ªæ–¹æ³•æäº¤æ‰€æœ‰çš„ Callable åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œå¹¶è¿”å›žä¸€ä¸ª Future å¯¹è±¡ï¼Œä»£è¡¨æ‰€æœ‰ä»»åŠ¡è§£å†³ç»“æžœinvokeAny()ï¼Œè¿™ä¸ªæ–¹æ³•æäº¤æ‰€æœ‰çš„ Callable åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œå¹¶è¿”å›žä¸€ä¸ª Future å¯¹è±¡ï¼Œä»£è¡¨æŸä¸€ä¸ªä»»åŠ¡çš„è§£å†³ç»“æžœä¾‹å­ï¼š123456// invokeAll -- Return a List of FutureList&lt;Callable&lt;T&gt;&gt; task = ...;List&lt;Future&lt;T&gt;&gt; results = executor.invokeAll(task);// invokeAny -- Return only one FutureFuture&lt;T&gt; resultOfInvokeAny = executor.invokeAny(task);å¯ä»¥ä½¿ç”¨ ExecutorCompletionService æ¥å¯¹ invokeAll() å¾—åˆ°çš„ç»“æžœé›†è¿›è¡ŒæŽ’åˆ—å¤„ç†12345678910// executor is a ExecutorServiceExecutorCompletionService service = new ExecutroCompletionService(executor);for (Callable&lt;T&gt; task : tasks) &#123; service.submit(task);&#125;for (int i = 0; i &lt; tasks.size(); i++) &#123; processFurther(service.take().get());&#125; 3.4 Fork-Join æ¡†æž¶å¯¹äºŽå¤šçº¿ç¨‹å¤„ç†çš„åˆ†æ²»ç­–ç•¥çš„ä»»åŠ¡ï¼Œ Java å®žçŽ°äº†ä¸€ç§ Fork-Join æ¡†æž¶æ¥æ›´å¥½çš„å®žçŽ°è¿™ç§ä»»åŠ¡æµç¨‹ã€‚åˆ†æ²»çš„å¾ˆå¸¸è§çš„å®žçŽ°æ–¹å¼æ˜¯é€’å½’å®žçŽ°ï¼Œè¿™ä¸ªæ¡†æž¶ä¹Ÿä½¿ç”¨äº†é€’å½’çš„æ€è·¯ä½¿ç”¨æ­¥éª¤ï¼šæä¾›ä¸€ä¸ªæ‰©å±•äº† RecursiveTask&lt;T&gt; æˆ–è€… RecursiveAction çš„ç±»Override compute() æ–¹æ³•ï¼Œåœ¨å…¶ä¸­è°ƒç”¨å­ä»»åŠ¡å¹¶å°†å…¶åˆå¹¶ä¾‹å­ï¼š123456789101112131415161718class Counter extends RecursiveTask&lt;Integer&gt; &#123; ... @Override protected Integer computer() &#123; if (to - from &lt; THRESHOLD) &#123; // solve problem directly &#125; else &#123; int mid = from + (to - from) / 2; // Recursive solve left Counter first = new Counter(values, form, mid, filter); // Recursive solve right Counter second = new Counter(values, mid, to, filter); invokeAll(first, second); // Add both to executor return first.join() + second.join(); // bind the solution &#125; &#125;&#125; 4. åŒæ­¥å™¨(Synchronizer)åŒæ­¥å™¨æ˜¯å¹¶å‘å·¥å…·çš„ä¸€ç§ï¼Œä¸€äº›ä½¿çº¿ç¨‹èƒ½å¤Ÿç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹çš„å¯¹è±¡ï¼Œå…è®¸å®ƒä»¬åè°ƒåŠ¨ä½œã€‚åŒæ­¥å™¨ç±»ä½œç”¨ä½•æ—¶ä½¿ç”¨CyclicBarrier (ä¸å¸¸ç”¨)å…è®¸çº¿ç¨‹é›†ç­‰å¾…ç›´åˆ°å…¶ä¸­é¢„å®šæ•°ç›®çš„çº¿ç¨‹åˆ°è¾¾ä¸€ä¸ªå…¬å…±éšœæ …(barrier)ï¼Œç„¶åŽå¯ä»¥é€‰æ‹©æ‰§è¡Œä¸€ä¸ªå¤„ç† barrier çš„åŠ¨ä½œå½“å¤§é‡çš„çº¿ç¨‹éœ€è¦åœ¨å®ƒä»¬çš„ç»“æžœå¯ç”¨ä¹‹å‰å®Œæˆæ—¶CountDownLatch (å¸¸ç”¨)å…è®¸çº¿ç¨‹é›†ç­‰å¾…ç›´åˆ°è®¡æ•°å™¨ä¸º 0å½“çº¿ç¨‹éœ€è¦ç­‰å¾…äº‹ä»¶å‘ç”Ÿï¼ˆæ‰å…è®¸æ‰§è¡Œæ—¶ï¼‰Exchangerï¼ˆä¸å¸¸ç”¨ï¼‰å…è®¸ä¸¤ä¸ªçº¿ç¨‹åœ¨è¦äº¤æ¢çš„å¯¹è±¡å‡†å¤‡å¥½æ—¶äº¤æ¢å¯¹è±¡å½“ä¸¤ä¸ªçº¿ç¨‹å·¥ä½œåœ¨åŒä¸€ä¸ªæ•°æ®ç»“æž„çš„ä¸¤ä¸ªå®žä¾‹ä¸Šæ—¶Semaphoreï¼ˆå¸¸ç”¨ï¼‰å…è®¸çº¿ç¨‹é›†ç­‰å¾…çŸ¥é“å®ƒè¢«å…è®¸ç»§ç»­æ‰§è¡Œä¸ºæ­¢é™åˆ¶è®¿é—®èµ„æºçš„çº¿ç¨‹æ€»æ•°SynchronousQueueå…è®¸ä¸€ä¸ªçº¿ç¨‹å°†å¯¹è±¡äº¤ç»™å¦ä¸€ä¸ªçº¿ç¨‹åœ¨æ²¡æœ‰æ˜¾å¼åŒæ­¥çš„æƒ…å†µä¸‹ï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹å‡†å¤‡å¥½å°†ä¸€ä¸ªå¯¹è±¡ä¼ é€’åˆ°å¦ä¸€ä¸ªæ—¶æ³¨æ„ CountDownLatchï¼Œè¿™ä¸ªç±»ç”¨äºŽè®©æŸäº›çº¿ç¨‹ç­‰å¾…å…¶ä»–çº¿ç¨‹ã€‚å®ƒæ˜¯å”¯ä¸€ä¸€ä¸ªå¸¦æœ‰ int æž„é€ å‚æ•°çš„åŒæ­¥å™¨ï¼Œç”¨äºŽæŒ‡å®šç­‰å¾…çš„å¹¶å‘çº¿ç¨‹çš„ä¸ªæ•°å½¢è±¡æ¥è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªçº¢ç»¿ç¯ï¼Œç›´åˆ°å€’è®¡æ—¶å®Œæ¯•ï¼Œçº¿ç¨‹æ‰å¯ä»¥è¿è¡Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å¤šçº¿ç¨‹è®¡æ—¶çš„ä¾‹å­1234567891011121314151617181920212223242526272829303132333435363738/*** A simple timing concurrent execution.* The timer will not start until all the worker thread are ready.* And when the last worker thread done, the timer stop*/public static long time(Executor executor, int concurrency, final Runnalbe action) throws InterruptedException &#123; final CountDownLatch ready = new CounDownLatch(concurrency); final CountDownLatch start = new CounDownLatch(1); final CountDownLatch done = new CounDownLatch(concurrency); for (int i = 0; i &lt; concurrency; i++) &#123; executor.execute(new Runnable() &#123; // This is the worker thread public void run() &#123; ready.countDown(); // Tell the timer worker is ready try &#123; start.await(); // Worker stuck at start point // Because of blocking, // this statement will not run // until the start count down reach 0 action.run(); &#125; catch (InterruptedException) &#123; Thread.currentThread().interrupt(); &#125; finally &#123; done.countDown(); // Tell the timer worker is done &#125; &#125; &#125;); &#125; // This is the timer thread ready.await(); // Wait for all the workers are done long startNanos = System.nanoTime(); start.countDown(); // Let worker thread off!! done.await(); // Wait for worker done. return System.nanoTime() - startNanos;&#125;åœ¨çº¿ç¨‹ä¸­è°ƒç”¨é”å­˜å™¨çš„ await() æ–¹æ³•å¯ä»¥é˜»å¡žå½“å‰çº¿ç¨‹å½“é”å­˜å™¨çš„è®¡æ•°å™¨ä¸º 0 æ—¶ï¼Œæ‰€æœ‰çš„è¢«è¯¥é”å­˜å™¨é˜»å¡žçš„çº¿ç¨‹å³åˆ»æ‰§è¡Œé”å­˜å™¨æ˜¯å…±äº«çš„ï¼Œåœ¨ä»»ä½•çº¿ç¨‹ä¸­éƒ½å¯è¢«æ›´æ”¹ä¸€æ—¦å½’ 0ï¼Œéšœç¢å³åˆ»è¢«æ”¾å¼ƒ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java å¼‚å¸¸]]></title>
    <url>%2F%2FJava%2FJava%20%E5%BC%82%E5%B8%B8%2F</url>
    <content type="text"><![CDATA[1. å¼‚å¸¸åˆ†ç±»â€»å…·ä½“çš„ç»“æž„å±‚æ¬¡å¦‚å›¾ThrowableErrorâ€»Javaè¿è¡Œæ—¶ç³»ç»Ÿçš„å†…éƒ¨é”™è¯¯å’Œèµ„æºè€—å°½é”™è¯¯ï¼Œåº”ç”¨ç¨‹åºä¸è¯¥æŠ›å‡ºè¿™ç±»å¼‚å¸¸;è¯¥å¼‚å¸¸å‡ºçŽ°æ—¶ï¼Œåªèƒ½ç»ˆæ­¢ç¨‹åºExceptionIOException åŠå…¶ä»–â€»åŒ…å«è¯•å›¾åœ¨æ–‡ä»¶å°¾éƒ¨åŽé¢è¯»å–æ•°æ®ï¼ˆIOï¼‰è¯•å›¾æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ï¼ˆIOï¼‰è¯•å›¾æ ¹æ®ç»™å®šçš„å­—ç¬¦ä¸²æŸ¥æ‰¾Classï¼Œè€Œè¿™ä¸ªç±»å¹¶ä¸å­˜åœ¨Runtime Exceptionâ€»åŒ…å«é”™è¯¯çš„ç±»åž‹è½¬æ¢æ•°ç»„è®¿é—®è¶Šç•Œè®¿é—®ç©ºæŒ‡é’ˆæ³¨æ„è¦ç‚¹å¦‚æžœå‡ºçŽ° RuntimeExceptionï¼Œé‚£ä¹ˆå°±ä¸€å®šæ˜¯ä½ çš„é—®é¢˜ï¼Œéœ€è¦ä»Žç¨‹åºè®¾è®¡æ–¹é¢è¿›è¡Œæ”¹è¿›æ‰€æœ‰æ´¾ç”ŸäºŽ Error å’Œ RuntimeException çš„å¼‚å¸¸ç§°ä¸ºæœªæ£€æŸ¥å¼‚å¸¸æ³¨æ„ IOException å¹¶ä¸åŒ…å«ç”¨æˆ·è¾“å…¥çš„éƒ¨åˆ†ï¼Œæ­¤ç±»é€šè¿‡ä¸€èˆ¬æ£€æŸ¥å¯ä»¥é¿å…çš„å¼‚å¸¸ä¸åº”ä½œä¸ºå¼‚å¸¸æŠ›å‡ºå¹¶å¤„ç†ï¼Œåº”è¯¥ç”±æµç¨‹æŽ§åˆ¶è¯­å¥ï¼ˆif else while continueï¼‰å¤„ç† 2. å£°æ˜Žå¼‚å¸¸ç±»ä¼¼äºŽC++98çš„å¼‚å¸¸è§„èŒƒåœ¨æ–¹æ³•çš„é¦–éƒ¨å£°æ˜Ž1public FileInputStream(String name) throws FileNotFoundExceptionå£°æ˜Žå¤šä¸ªæ—¶ ï¼Œä½¿ç”¨é€—å·éš”å¼€å¿…é¡»å£°æ˜Žæ‰€æœ‰å¯èƒ½æŠ›å‡ºçš„å·²æ£€æŸ¥å¼‚å¸¸å¦‚æžœæœªå£°æ˜Žï¼Œåˆ™è¡¨æ˜Žæ–¹æ³•ä¸ä¼šæŠ›å‡ºï¼ˆå·²æ£€æŸ¥ï¼‰å¼‚å¸¸ä¸å¿…å£°æ˜Žæœªæ£€æŸ¥å¼‚å¸¸å­ç±»æ–¹æ³•çš„å£°æ˜Žå¼‚å¸¸ä¸èƒ½æ¯”è¶…ç±»æ–¹æ³•æ›´ä¸ºé€šç”¨å³å­ç±»å£°æ˜Žçš„å¼‚å¸¸å±‚æ¬¡ä¸èƒ½é«˜äºŽè¶…ç±»æ–¹æ³•è¶…ç±»æ²¡æœ‰å£°æ˜Žå¼‚å¸¸æ—¶ï¼Œå­ç±»ä¹Ÿä¸èƒ½å£°æ˜Žå¼‚å¸¸ 3.æŠ›å‡ºå¼‚å¸¸ä½¿ç”¨ throw å…³é”®å­—è¡¨æ˜ŽæŠ›å‡ºå¼‚å¸¸æ³¨æ„ä¸Žå£°æ˜Žå¼‚å¸¸çš„å…³é”®å­—ï¼ˆthrowsï¼‰åŒºåˆ†å¼€åªèƒ½æŠ›å‡º Throwable å­ç±»çš„å¯¹è±¡è€Œ C++ èƒ½æŠ›å‡ºä»»ä½•ç±»åž‹çš„å€¼æŠ›å‡ºå¼‚å¸¸ä¸Žæ•èŽ·å¼‚å¸¸ä¸åŒï¼Œå¦‚æžœæ²¡æœ‰å¼‚å¸¸å¤„ç†å™¨ï¼ˆtry catchï¼‰æ•èŽ·å¼‚å¸¸ï¼Œåˆ™ç¨‹åºå°†ä¼šç»ˆæ­¢è‡ªå®šä¹‰å¼‚å¸¸é€šå¸¸åŒ…å«ä¸€ä¸ªé»˜è®¤æž„é€ å™¨å’Œä¸€ä¸ªå¸¦æœ‰è¯¦ç»†æè¿°ä¿¡æ¯çš„æž„é€ å™¨å¿…é¡»æ´¾ç”ŸäºŽ Exception åŠå…¶å­ç±» 4.æ•èŽ·å¼‚å¸¸ 4.1 ä½¿ç”¨try/catchè¯­å¥å—æ¥æ•èŽ·å¼‚å¸¸å¦‚æžœè°ƒç”¨ä¸€ä¸ªæŠ›å‡ºå·²æ£€æŸ¥å¼‚å¸¸çš„æ–¹æ³•ï¼Œåˆ™å¿…é¡»å¯¹å…¶å¤„ç†ï¼ˆtry/catchï¼‰ï¼Œæˆ–ç»§ç»­å°†å…¶ä¼ é€’ï¼ˆthrowsï¼‰ä¸€ä¸ªcatchè¯­å¥é‡Œé¢å¯ä»¥æ•èŽ·å¤šä¸ªå¼‚å¸¸ç±»åž‹ï¼Œä½¿ç”¨ | é—´éš”å¼€æ­¤æ—¶ï¼Œå¼‚å¸¸å˜é‡ä¸º finalå¯ä»¥åœ¨ catch è¯­å¥ä¸­å†æ¬¡æŠ›å‡ºå¼‚å¸¸ä¸Ž C++ ä¸åŒçš„æ˜¯ï¼Œä¸èƒ½åªå†™ throw å…³é”®å­—ï¼Œè€Œéœ€è¦å°†æ•´ä¸ªæŠ›å‡ºå¼‚å¸¸éƒ½å†™ä¸Š 4.2 finally å­å¥123456789101112try&#123; ...&#125;catch(...)&#123; ...&#125;finally&#123; ...&#125; 4.2.1 æ¦‚è¿°ä¸ç®¡æ˜¯å¦æœ‰å¼‚å¸¸è¢«æ•èŽ·ï¼Œfinally å­å¥éƒ½å°†è¢«æ‰§è¡ŒæŠ›å‡ºå¼‚å¸¸å¹¶è¢«æ•èŽ·æ—¶ï¼Œå…ˆæ‰§è¡Œ catch è¯­å¥ï¼ŒåŽæ‰§è¡Œ finally è¯­å¥æŠ›å‡ºå¼‚å¸¸æœªè¢«æ•èŽ·æ—¶ï¼Œå…ˆæ‰§è¡Œ finally è¯­å¥ï¼ŒåŽå°†å¼‚å¸¸è¿”å›žç»™è°ƒç”¨è€…try å¯ä»¥åªæœ‰ finallyï¼Œè€Œæ²¡æœ‰catchå½“finallyè¯­å¥æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œä¼šè¦†ç›–æŽ‰åŽŸæœ‰å¼‚å¸¸ï¼ˆæ­¤æ—¶å»ºè®®ä½¿ç”¨å¸¦èµ„æºçš„tryè¯­å¥ï¼‰â€»å¦‚æžœæ­¤å¼‚å¸¸å¿…é¡»è¿”å›žç»™è°ƒç”¨è€…çš„è¯ï¼Œåˆ™éœ€è¦è¿›è¡Œä¸€äº›å¤„ç†æ‰èƒ½è¿”å›žç»™è°ƒç”¨è€…â€»å¦‚æžœåŽŸå¼‚å¸¸å…·æœ‰å¼‚å¸¸å¤„ç†å™¨ï¼ˆè¢«æ•èŽ·ï¼‰åˆ™ä¸éœ€è¦è¿™ç§è§£å†³åŠžæ³•å¸¸è§„è§£å†³åŠžæ³•12345678910111213141516171819202122232425InputStream in = ....;Excepiton ex = null;try&#123; try &#123; ... &#125; catch(Exception e) &#123; ex = e; throw e; //è¿™é‡Œé‡æ–°æŠ›å‡ºäº†eï¼Œä¸ºçš„å°±æ˜¯å°†è¿™ä¸ªå¼‚å¸¸è¿”å›žç»™è°ƒç”¨è€… &#125;&#125;finally&#123; try &#123; in.close(); &#125; catch(Exception e) //åœ¨è¿™é‡Œæ•èŽ·ï¼ˆæŠ‘åˆ¶ï¼‰äº†closeæ–¹æ³•çš„å¼‚å¸¸ï¼Œ &#123; if(ex == null) throw e; &#125;&#125; 4.2.2 å¸¦èµ„æºçš„tryè¯­å¥åªè¦éœ€è¦å…³é—­èµ„æºï¼Œå°±è¦å°½å¯èƒ½ä½¿ç”¨å¸¦èµ„æºçš„tryè¯­å¥èµ„æºå¿…é¡»å±žäºŽä¸€ä¸ªå®žçŽ°äº†AutoCloseableçš„ç±»ï¼Œå¦åˆ™åº”ä½¿ç”¨å¸¸è§„æ–¹æ³•1234try(Resource res = ...)&#123; ....&#125;èµ„æºï¼šç‰¹æŒ‡æ–‡ä»¶å’Œè¾“å…¥è¾“å‡ºæµç­‰ï¼Œå’Œç”³è¯·çš„å†…å­˜æ— å…³å½“ try å—é€€å‡ºæ—¶ï¼Œå°†ä¼šè‡ªåŠ¨è°ƒç”¨ res.close()å¯ä»¥æŒ‡å®šå¤šä¸ªèµ„æºå½“å‡ºçŽ°å¼‚å¸¸æ—¶ï¼Œclose å¼‚å¸¸ä¼šè¢«è‡ªåŠ¨æ•èŽ·ï¼ˆæŠ‘åˆ¶ï¼‰ï¼ŒåŽŸæœ‰å¼‚å¸¸å°†ä¼šé‡æ–°æŠ›å‡ºclose çš„å¼‚å¸¸å°†ä¼šè¢«å¢žåŠ åˆ°åŽŸæœ‰å¼‚å¸¸ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ getSuppressed æ–¹æ³•èŽ·å–åˆ°è¢«æŠ‘åˆ¶çš„å¼‚å¸¸åˆ—è¡¨æ­¤ try å—ä¹Ÿå¯ä»¥æœ‰ catch å’Œ finally å­å¥ï¼Œä¼šåœ¨å…³é—­èµ„æºä¹‹åŽæ‰§è¡Œ 5. ä½¿ç”¨å¼‚å¸¸çš„æŠ€å·§ 5.1 å¼‚å¸¸å¤„ç†ä¸èƒ½ä»£æ›¿ç®€å•çš„æµ‹è¯•å¼‚å¸¸å¤„ç†ä¼šæ¯”ç®€å•çš„æµ‹è¯•èŠ±è´¹æ›´å¤šçš„æ—¶é—´åº”è¯¥ä»…åœ¨å¼‚å¸¸çŠ¶å†µä¸‹ä½¿ç”¨å¼‚å¸¸æœºåˆ¶èµ„æºçš„IOé”™è¯¯ï¼Œè®¾å¤‡é”™è¯¯ï¼Œç‰©ç†é™åˆ¶ç­‰ç­‰è€Œå¯¹äºŽç”¨æˆ·çš„è¾“å…¥é”™è¯¯ï¼Œåº”è¯¥ä½¿ç”¨æµç¨‹æŽ§åˆ¶æ¥è¿›è¡Œå¤„ç† 5.2 ä¸è¦è¿‡åˆ†ç»†åŒ–å¼‚å¸¸åº”è¯¥å°†æ•´ä¸ªä»»åŠ¡åŒ…è£…åœ¨ä¸€ä¸ªtryè¯­å¥å†… 5.3 åˆ©ç”¨å¼‚å¸¸å±‚æ¬¡ç»“æž„â€»åº”è¯¥å°½é‡çš„æŠ›å‡ºæ›´ä¸ºæ°å½“çš„å­ç±»ï¼Œè€Œä¸æ˜¯ä»…ä»…æŠ›å‡ºè¾ƒä¸ºé«˜å±‚æ¬¡çš„å¼‚å¸¸ç±»å¯¹è±¡â€»æ•èŽ·æ—¶åŒç† 5.4 åº”è¯¥å…³é—­ä¸é‡è¦çš„å¼‚å¸¸â€»åœ¨æ–¹æ³•å¤šé‡è°ƒç”¨æ—¶ä½¿ç”¨ 5.5 æ—©æŠ›å‡ºï¼Œæ™šæ•èŽ· 6. æ–­è¨€æ–­è¨€å°±æ˜¯å¢žåŠ ä¸€ä¸ªç¼–è¯‘æ£€æŸ¥é¡¹ï¼Œå¦‚æžœç»“æžœä¸Žæ–­è¨€ä¸ç¬¦ï¼Œé‚£ä¹ˆå°±æŠ›å‡ºå¼‚å¸¸]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java æŽ¥å£å’Œå†…éƒ¨ç±»]]></title>
    <url>%2F%2FJava%2FJava%20%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%86%85%E9%83%A8%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[1. æŽ¥å£è¿™æ˜¯ Java ä¸­çš„ä¸“æœ‰åè¯ï¼ŒæŒ‡ä»£çš„æ˜¯ interface å…³é”®å­— 1.1 æŽ¥å£1public interface Comparable &#123;...&#125;æŽ¥å£ä¸æ˜¯ç±»ï¼Œè€Œæ˜¯å¯¹ç±»çš„ä¸€ç»„éœ€æ±‚æè¿°æŽ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•è‡ªåŠ¨ä¸ºpublicå®žçŽ°æŽ¥å£å°†ç±»å£°æ˜Žä¸ºå®žçŽ°ç»™å®šçš„æŽ¥å£1class Employee implements Comparable &#123;....&#125;å¯¹æŽ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå®šä¹‰æŽ¥å£å®žçŽ°å¿…é¡»å£°æ˜Žä¸ºpublicç‰¹æ€§ä¸æ˜¯ç±»ï¼Œä¸èƒ½ä½¿ç”¨newæ¥å®žä¾‹åŒ–ä¸èƒ½åŒ…å«å®žä¾‹åŸŸå’Œé™æ€æ–¹æ³•å¯ä»¥åŒ…å«å¸¸é‡ï¼ŒæŽ¥å£ä¸­çš„åŸŸè¢«è‡ªåŠ¨è®¾ä¸ºpublic static finalå¯ä»¥å£°æ˜ŽæŽ¥å£çš„å˜é‡1Comparable x;å¿…é¡»å¼•ç”¨å®žçŽ°äº†æŽ¥å£çš„ç±»å¯¹è±¡1x = new Employee();å¯ä»¥ä½¿ç”¨instanceofæ¥æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å®žçŽ°äº†æŸä¸ªç‰¹å®šæŽ¥å£1if(anObject instanceof Comparable)å¯ä»¥æ‰©å±•ï¼ˆç»§æ‰¿ï¼‰1public interface Powered extends Moveableæ¯ä¸ªç±»åªèƒ½æ‹¥æœ‰ä¸€ä¸ªè¶…ç±»ï¼Œä½†æ˜¯å¯ä»¥å®žçŽ°å¤šä¸ªæŽ¥å£123class Employee extends Persons implements Comparable &#123; ...&#125; 1.2 å¯¹è±¡å…‹éš†é»˜è®¤å…‹éš†ï¼ˆObject.clone()ï¼‰æµ…æ‹·è´protectedæ–¹æ³•å®žçŽ°å…‹éš†å¿…é¡»å®žçŽ° Cloneable æŽ¥å£ä½¿ç”¨ public é‡æ–°å®šä¹‰ clone() æ–¹æ³•å³ä½¿æµ…æ‹·è´èƒ½æ»¡è¶³è¦æ±‚ï¼Œä¹Ÿè¦è¿›è¡Œä¸Šè¿°ä¸¤æ¡æ“ä½œéœ€è¦å£°æ˜Ž CloneNotSupportedException å¼‚å¸¸ 2. å†…éƒ¨ç±»1234567class TalkingClock&#123; public class TimePrinter implements ActionListenner &#123; ... &#125;&#125; 2.1 æ¦‚è¿°åœ¨ç±»çš„å†…éƒ¨ç›´æŽ¥å®šä¹‰ï¼Œç±»ä¼¼äºŽC++çš„åµŒå¥—ç±»å¯ä»¥è®¿é—®ä½œç”¨åŸŸå†…çš„æ•°æ®ï¼ŒåŒ…æ‹¬ç§æœ‰çš„å¯ä»¥éšè—å†…éƒ¨ç±»å¯ä»¥ä¾¿æ·å®žçŽ°å›žè°ƒ 2.2 æ™®é€šå†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–å›´ç±»å¯¹è±¡æ•°æ®ï¼ˆåŒ…æ‹¬ç§æœ‰çš„ï¼‰é€šè¿‡ OuterClass.this è®¿é—®å¤–å›´ç±»åœ¨å¤–å›´ç±»çš„ä½œç”¨åŸŸä¹‹å¤–ï¼Œä½¿ç”¨ OuterClass.InnerClass å¼•ç”¨å†…éƒ¨ç±» 2.3 å±€éƒ¨å†…éƒ¨ç±»ç®€ç§°å±€éƒ¨ç±»ï¼Œåœ¨ä¸€ä¸ªæ–¹æ³•å†…è¿›è¡Œå®šä¹‰1234567public void start()&#123; class TinmePrinter implements ActionListenner &#123; ... &#125;&#125;å±€éƒ¨ç±»å¯ä»¥è®¿é—®å±€éƒ¨å˜é‡ï¼ˆå¿…é¡»å£°æ˜Žä¸º finalï¼‰æ›´æ–°å°é—­ä½œç”¨åŸŸå†…çš„è®¡æ•°å™¨æ—¶ï¼Œä½¿ç”¨ final çš„é•¿åº¦ä¸º 1 çš„æ•°ç»„ 2.4 åŒ¿åå†…éƒ¨ç±»12345new SuperType(cosntruction parameters) &#123; ... &#125;// å¦‚æžœåªåˆ›å»ºå±€éƒ¨ç±»çš„ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™æ‰ä½¿ç”¨SuperTypeå¯ä»¥æ˜¯ç±»æˆ–è€…æŽ¥å£å¦‚æžœç”¨äºŽå®žçŽ°æŽ¥å£æ—¶ï¼Œä¸èƒ½æœ‰ä»»ä½•æž„é€ å‚æ•°1234new InterfaceType() &#123; ... &#125; 2.5 é™æ€å†…éƒ¨ç±»ç”¨äºŽå°†ä¸€ä¸ªç±»éšè—åœ¨å¦ä¸€ä¸ªç±»ä¹‹ä¸­ï¼Œé€šå¸¸ç”¨äºŽé˜²æ­¢åç§°çš„å†²çªåªæœ‰å†…éƒ¨ç±»å¯ä»¥å£°æ˜Žä¸º staticç‰¹åˆ«çš„ï¼Œé€šè¿‡é™æ€æ–¹æ³•æž„é€ çš„å†…éƒ¨ç±»å¿…é¡»å£°æ˜Žä¸º static]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java æ³›åž‹é€šé…ç¬¦å’Œç±»åž‹é™å®š]]></title>
    <url>%2F%2FJava%2FJava%20%E6%B3%9B%E5%9E%8B%E9%80%9A%E9%85%8D%E7%AC%A6%E5%92%8C%E7%B1%BB%E5%9E%8B%E9%99%90%E5%AE%9A%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°å¯¹äºŽæ³›åž‹ç³»ç»Ÿè€Œè¨€ï¼Œæœ€é‡è¦çš„å°±æ˜¯èƒ½å¤Ÿé¢†è¿‡çš„ä½¿ç”¨ï¼›æ‰€ä»¥ï¼ŒJava å¢žåŠ äº† ç±»åž‹é€šé…ç¬¦(?)ï¼›ä½¿ç”¨ ? æ¥è¡¨ç¤º ä»»ä½•ç±»åž‹ï¼›ä¾‹å¦‚ï¼š1Pair&lt;? extends Employee&gt;è¡¨ç¤º ä»»ä½• æ˜¯ Empolyee çš„å­ç±»ï¼› 2. ä¸Žç±»åž‹å‚æ•° T çš„ä¸åŒç±»åž‹å‚æ•° T å’Œ é€šé…ç¬¦ ? ä¼¼ä¹Žéƒ½æ˜¯ç”¨äºŽå®žçŽ°æ³›åž‹çµæ´»æ€§çš„å·¥å…·ï¼›ä½†æ˜¯ï¼Œå®žé™…ä¸Šå®ƒä»¬æœ‰ç€å¾ˆå¤§çš„ä¸åŒ 2.1 ä½¿ç”¨ä½ç½®ä¸åŒåœ¨æ³›åž‹ä¸­ï¼Œç±»åž‹å‚æ•° T æ˜¯ä¸€ä¸ª ç¡®å®šçš„ ç±»åž‹ï¼Œé€šå¸¸ç”¨äºŽæ³›åž‹ç±»å’Œæ³›åž‹æ–¹æ³•çš„ å®šä¹‰ï¼Œä¸èƒ½ç”¨äºŽè°ƒç”¨ä»£ç ã€‚12public static &lt;T extends Number&gt; voidcopy(List&lt;T&gt; dest, List&lt;T&gt; src)è€Œé€šé…ç¬¦æ˜¯ä¸€ä¸ª ä¸ç¡®å®š çš„ç±»åž‹ï¼Œé€šå¸¸ç”¨äºŽæ³›åž‹æ–¹æ³•çš„ è°ƒç”¨ä»£ç  å’Œå½¢å‚ï¼Œä¸èƒ½ç”¨äºŽå®šä¹‰ç±»å’Œæ³›åž‹æ–¹æ³•1Pair&lt;? Empolyee&gt; wildcardBuddies = managerBuddies; 2.2 ç±»åž‹å‚æ•°ä¿è¯å½¢å‚ä¸€è‡´æ€§åŸºäºŽ T æ˜¯ä¸€ä¸ªç¡®å®šçš„ç±»åž‹ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ T æ¥ ç¡®ä¿ æ³›åž‹å‚æ•°çš„ä¸€è‡´æ€§ï¼›ä¾‹å¦‚ä¸Šé¢çš„ copy() æ–¹æ³•ï¼Œä½¿ç”¨æ³›åž‹å‚æ•° T å°± ç¡®ä¿äº† ä¸¤ä¸ª List çš„å…ƒç´ ç±»åž‹æ˜¯ ä¸€è‡´çš„ï¼›ä½†æ˜¯ï¼Œå¦‚æžœä½¿ç”¨å¦‚ä¸‹çš„ä»£ç ï¼š12public static voidcopy(List&lt;? extends Number&gt; dest, List&lt;? extends Number&gt; src)ç”±äºŽé€šé…ç¬¦æ˜¯ ä¸ç¡®å®šçš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•ä¸èƒ½ä¿è¯ä¸¤ä¸ª List å…·æœ‰ç›¸åŒçš„å…ƒç´ ç±»åž‹ 2.3 ç±»åž‹å‚æ•°å¯ä»¥å¤šé‡é™å®šè€Œé€šé…ç¬¦ä¸è¡Œç±»åž‹å‚æ•° T å¯ä»¥è¿›è¡Œå¤šé‡é™å®šï¼Œå¦‚ï¼š1T extends A &amp; B &amp; Cä½†æ˜¯é€šé…ç¬¦ä¸èƒ½è¿›è¡Œå¤šé‡é™å®šï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªç¡®å®šçš„ç±»åž‹ã€‚ 2.4 é€šé…ç¬¦å¯ä»¥ä½¿ç”¨è¶…ç±»é™å®šè€Œç±»åž‹å‚æ•°ä¸è¡Œç±»åž‹å‚æ•° T åªå…·æœ‰ ä¸€ç§ ç±»åž‹é™å®šæ–¹å¼ï¼š1T extends Aä½†æ˜¯é€šé…ç¬¦ ? å¯ä»¥è¿›è¡Œ ä¸¤ç§é™å®šï¼š12? extends A? super A 3. é€šé…ç¬¦ç±»åž‹é™å®šå’Œç»§æ‰¿å¯¹äºŽæ³›åž‹æ¥è¯´ï¼Œå³ä½¿å®ƒçš„ç±»åž‹å‚æ•°å…·æœ‰ç»§æ‰¿å…³ç³»ï¼Œæ³›åž‹ç±»ä¹‹é—´ä¹Ÿæ˜¯ æ²¡æœ‰ ä»»ä½•å…³è”çš„ï¼›ä½†æ˜¯ï¼Œé€šè¿‡é€šé…ç¬¦çš„é™å®šï¼Œå°±è®©æ³›åž‹ç±»ä¹‹é—´å…·æœ‰äº†å…¬æœ‰çš„çˆ¶ç±»ï¼›ä¾‹å¦‚ï¼šPair&lt;? extends Empolyee&gt; æ˜¯ Pair&lt;Manager&gt; å’Œ Pair&lt;Empolyee&gt; çš„ å…¬å…±è¶…ç±»ï¼›äº‹å®žä¸Šï¼Œ Pair&lt;? extends Empolyee&gt; æ˜¯ Pair&lt;Empolyee&gt; å’Œæ‰€æœ‰ä»¥ Empolyee å­ç±» ä¸ºç±»åž‹å‚æ•°çš„æ³›åž‹ç±»çš„è¶…ç±»ã€‚å¯¹äºŽè¶…ç±»åž‹é™å®šï¼ŒåŒç†ï¼›1? super Empolyeeè¡¨ç¤ºç±»åž‹å‚æ•°å¯èƒ½æ˜¯ Empolyee çš„ æŸä¸ªè¶…ç±»ï¼›å’Œå­ç±»åž‹é™å®šåŒç†ï¼Œè¶…ç±»åž‹é™å®šä¹Ÿå¯ä»¥ä¸ºæ³›åž‹ç±»å»ºç«‹è”ç³»ï¼šå¦‚ä¸Šï¼ŒPair&lt;? super Manager&gt; æ˜¯ Pair&lt;Empolyee&gt; å’Œ Pair&lt;Object&gt; çš„å…±åŒè¶…ç±»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ Pair&lt;? super Manager&gt; ä¹‹ä¸Šï¼Œè¿˜æœ‰ä¸€ä¸ª æ— é™å®šé€šé…ç¬¦ï¼ŒæŒ‡ä»£ä»»ä½•çš„ç±»åž‹ã€‚ 4. PECS åŽŸåˆ™PECS åŽŸåˆ™ï¼ŒæŒ‡çš„å°±æ˜¯ Producer Extends Consumer Superæ„æ€å°±æ˜¯ï¼Œå¯¹äºŽç”Ÿäº§è€…ï¼Œé‡‡ç”¨ ? extendsï¼›å¯¹äºŽæ¶ˆè´¹è€…ï¼Œé‡‡ç”¨ ? superï¼›å¯¹äºŽæ—¢å¯èƒ½æ˜¯ç”Ÿäº§è€…æœ‰å¯èƒ½æ˜¯æ¶ˆè´¹è€…çš„å¯¹è±¡ï¼Œåˆ™ ä¸åšç±»åž‹é™å®šã€‚é¦–å…ˆè¯´æ˜Žæ‰€è°“çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„ä¸»è¯­éƒ½æ˜¯ æ•°æ®ç»“æž„ï¼›ä¾‹å¦‚ï¼š1List&lt;? extends Number&gt; producer;é‚£ä¹ˆï¼ŒList å°±æ˜¯ ç”Ÿäº§è€…ï¼Œæä¾›æ•°æ®ï¼Œè°ƒç”¨ get() æ–¹æ³•ï¼Œå¤–éƒ¨ä½¿ç”¨è€…æå–å…¶å†…éƒ¨æ•°æ®ã€‚åè¿‡æ¥ï¼Œå¯¹äºŽ1List&lt;? super Number&gt; consumer;é‚£ä¹ˆæ­¤æ—¶ï¼ŒList å°±æ˜¯ æ¶ˆè´¹è€…ï¼ŒæŽ¥æ”¶æ•°æ®ï¼Œè°ƒç”¨ add() æ–¹æ³•ï¼Œå¤–éƒ¨ä½¿ç”¨è€…å°†æ•°æ®æ³¨å…¥ç»“æž„ä¸­ã€‚å®žé™…ä¸Šï¼Œè¿™ä¸ªåŽŸåˆ™æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨æ³›åž‹ä¸­æä¾›å°½å¯èƒ½çš„ç±»åž‹å®‰å…¨çš„å†™æ³•ã€‚ 4.1 ç”Ÿäº§è€…çš„è¯»æ–¹æ³•1List&lt;? extends Number&gt; numbers;è¿™ä¸ªå°±æ˜¯å¾ˆå…¸åž‹çš„ç”Ÿäº§è€…ï¼›ç”±äºŽä½¿ç”¨äº†ä¸Šç•Œé™å®šï¼Œé‚£ä¹ˆå®ƒ ä¿è¯ å…¶ä¸­çš„å…ƒç´  ä¸€å®š æ˜¯ Numberï¼›æ‰€ä»¥å®ƒå¯ä»¥è°ƒç”¨ get() æ–¹æ³•ï¼› 4.2 ç”Ÿäº§è€…çš„å†™æ–¹æ³•ä½†æ˜¯æ­¤æ—¶ï¼Œç”Ÿäº§è€…ä¸å¯ä»¥ä½¿ç”¨å†™æ–¹æ³•ï¼›è¿™æ˜¯å› ä¸º ? extends Number åªæ˜¯é™å®šäº†ä¸Šç•Œï¼›æ¢å¥è¯è¯´ä¹Ÿå°±æ˜¯ Number çš„æŸä¸ª å­ç±»åž‹ï¼›ç”±äºŽä¸çŸ¥é“å…·ä½“æ˜¯ å“ªä¸ª å­ç±»åž‹ï¼Œæ‰€ä»¥ï¼Œä¹Ÿå°±æ— æ³•å¯¹å…¶è¿›è¡Œå†™å…¥ã€‚é‚£ä¹ˆæ˜¯å¦å¯ä»¥å†™å…¥ Number å¯¹è±¡å‘¢ï¼Ÿå¾ˆå¯æƒœï¼Œè¿™ä¹Ÿæ˜¯ä¸å¯ä»¥çš„ï¼Œå› ä¸º Number æ˜¯ä¸Šç•Œï¼Œå¾ˆå¯èƒ½ç”±äºŽå¤šæ€çš„åŽŸå› å˜æˆäº†å®ƒçš„æŸä¸ªå­ç±»ï¼›æ‰€ä»¥å¯¹äºŽ ? extends æ¥è¯´ï¼Œç¦æ­¢æ‰€æœ‰çš„å†™å…¥æ“ä½œã€‚ 4.3 æ¶ˆè´¹è€…çš„è¯»æ–¹æ³•æ ¹æ®åŽŸåˆ™ï¼Œå…·æœ‰ä¸‹é¢ç±»åž‹çš„æ˜¯æ¶ˆè´¹è€…ï¼š1List&lt;? super Number&gt; numbers;å¯¹äºŽæ¶ˆè´¹è€…æ¥è¯´ï¼Œå®ƒæŽ¥å—çš„æ˜¯ Number çš„æŸä¸ªè¶…ç±»åž‹ï¼›é‚£ä¹ˆï¼Œç”±äºŽä¸æ¸…æ¥šæ˜¯ å“ªä¸ª è¶…ç±»åž‹ï¼›æ‰€ä»¥ï¼Œå®žé™…ä¸Šè¿”å›žçš„æ˜¯æœ€ç»ˆçš„ Object å¯¹è±¡ï¼›è¿™æ˜¾ç„¶å¯¹äºŽè¯»å–æ²¡æœ‰ä»€ä¹ˆå¸®åŠ©ï¼Œå¦‚æžœè¯»åˆ°ä¸€ä¸ª Object ç±»åž‹ï¼Œç”¨æˆ·è¿˜éœ€è¦å°†å…¶è½¬åŒ–ä¸ºå¯¹åº”çš„å­ç±»åž‹ï¼›è¿™æ˜¾ç„¶æ˜¯å¤šæ­¤ä¸€ä¸¾çš„ã€‚æ³¨æ„ï¼Œæ¶ˆè´¹è€… å¹¶éžæ˜¯ç¦æ­¢ è¯»æ“ä½œçš„è®¿é—® 4.4 æ¶ˆè´¹è€…çš„å†™æ“ä½œé‚£ä¹ˆå¯¹äºŽå†™æ“ä½œå¦‚ä½•å‘¢ï¼Ÿ1List&lt;? super Integer&gt; numbers = new ArrayList&lt;Integer&gt;;æ­¤æ—¶ï¼Œå¯¹äºŽ numbers æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ add() æ–¹æ³•åŠ å…¥ Integerï¼›ä½†æ˜¯ï¼Œèƒ½å¦åŠ å…¥ Number å…ƒç´ å‘¢ï¼Ÿ(Number æ˜¯ Integer çš„è¶…ç±»)ï¼›å¾ˆé—æ†¾ï¼Œè¿™æ˜¯ ä¸è¡Œçš„ï¼ï¼›numbers ç›®å‰åªèƒ½å†™å…¥ Integer åŠå…¶å­ç±»ï¼›å› ä¸º Integer çš„å­ç±»ä¹Ÿæ˜¯ Integer ï¼Œæ•°æ®ç»“æž„å°†å­ç±»å½“æˆ Integer æ¥å¤„ç†å®žé™…ä¸Šï¼Œä½  æ— æ³•åŠ å…¥ä»»ä½•çš„è¶…ç±»ï¼å¦‚æžœå…è®¸åŠ å…¥ Number ç”šè‡³æ˜¯ Objectï¼Œé‚£ä¼šé€ æˆä»€ä¹ˆç»“æžœå‘¢ï¼Ÿå°±æ˜¯ä¸€ä¸ª Integer çš„åˆ—è¡¨ä¸­æ··å…¥äº† Objectï¼›æ˜¾ç„¶è¿™æ˜¯ä¸åˆç†çš„ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæœ‰å¿…è¦ä½¿ç”¨ ? super è¿™ç§å¤šæ­¤ä¸€ä¸¾çš„å£°æ˜Žå‘¢ï¼Ÿä»Žè¶…ç±»é™å®šçš„å…³ç³»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå®ƒåœ¨æ³›åž‹ç±»å…³ç³»ä¸­ï¼Œå¤„äºŽ è¶…ç±» çš„åœ°ä½ï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å®ƒæ‰€æä¾›çš„ å¤šæ€ï¼Œæ¥å°†æˆ‘ä»¬ç›®å‰å­˜å‚¨çš„æ•°æ®ï¼ŒåŠ å…¥åˆ°ä¸€ä¸ª æ›´æŠ½è±¡é€šç”¨çš„ æ•°æ®ç»“æž„ä¸­ã€‚ä¾‹å¦‚ï¼š123456789101112131415161718public static void count(Collection&lt;? super Integer&gt; ints, int n)&#123; for (int i = 0; i &lt; n; i++) ints.add(i);&#125;public static void main(String[] args) &#123; List&lt;Integer&gt;ints = new ArrayList&lt;&gt;(); count(ints, 5); assert ints.toString().equals("[0, 1, 2, 3, 4]"); List&lt;Number&gt;nums = new ArrayList&lt;&gt;(); count(nums, 5); nums.add(5.0); assert nums.toString().equals("[0, 1, 2, 3, 4, 5.0]"); List&lt;Object&gt;objs = new ArrayList&lt;&gt;(); count(objs, 5); objs.add("five"); assert objs.toString().equals("[0, 1, 2, 3, 4, five]");&#125;è™½ç„¶æˆ‘ä»¬çš„ count() æ–¹æ³• åªèƒ½ æä¾› Integer æ•°æ®ï¼›ä½†æ˜¯ï¼Œç”±äºŽä½¿ç”¨äº† &lt;? super Integer&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ•°æ®å¯ä»¥è¢«æ”¾å…¥åˆ° List&lt;Number&gt; å’Œ List&lt;Object&gt; ä¸­ã€‚ç”± ? super æä¾›çš„ å¤šæ€æ”¯æŒï¼Œæ­£æ˜¯æˆ‘ä»¬é‡‡ç”¨ Consumer Super çš„å…³é”®ã€‚ 4.5 ä¸åšé™å®šå½“ä¸€ä¸ªç±»æ—¢å¯èƒ½æ˜¯ç”Ÿäº§è€…ï¼Œåˆå¯èƒ½æ˜¯æ¶ˆè´¹è€…æ—¶ï¼›å°±ä¸å¯¹å®ƒçš„ç±»åž‹ä½œå‡ºé™å®šã€‚æ³¨æ„è¿™é‡Œæ‰€è¯´çš„ ä¸æ˜¯ æ— é™å®šçš„é€šé…ç¬¦ï¼Œè€Œæ˜¯æŒ‡çš„æ˜¯æ™®é€šçš„ç±»åž‹å‚æ•°å½¢å¼(T)ã€‚1public class Stack&lt;T&gt;&#123;&#125; 5. æ— é™å®šé€šé…ç¬¦æœ‰æ—¶å€™æˆ‘ä»¬ä¼šä½¿ç”¨æ— é™å®šçš„é€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼š1Pair&lt;?&gt;æ­¤æ—¶ï¼Œå®ƒçš„ get() è¿”å›žå€¼ç±»åž‹åªèƒ½æ˜¯ Objectï¼›åŒæ—¶ï¼Œ ä¸èƒ½ è°ƒç”¨ set()ï¼Œå³ä½¿é€šè¿‡ Object ä¹Ÿä¸èƒ½è°ƒç”¨ã€‚é‚£ä¹ˆè¿™æ—¶æœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨å®ƒå®žçŽ°ä¸€äº›ä¸Žç±»åž‹ æ— å…³ çš„æ“ä½œï¼›å¦‚123public static boolean hasNulls(Pair&lt;?&gt; piar) &#123; return p.getFirst() == null || p.getSecond() == null;&#125;å› ä¸º hasNulls() æ–¹æ³•ä¸éœ€è¦å…³å¿ƒç±»åž‹æ˜¯ä»€ä¹ˆï¼›è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ— é™å®šçš„é€šé…ç¬¦ã€‚ 6. é€šé…ç¬¦æ•èŽ·æœ‰æ—¶å€™ï¼Œå½“æˆ‘ä»¬éœ€è¦å®žçŽ°ä¸€ä¸ªæ— é™å®šé€šé…ç¬¦æ–¹æ³•çš„æ—¶å€™ï¼›æœ‰å¯èƒ½é‡åˆ°éœ€è¦ä½¿ç”¨ç±»åž‹å‚æ•°çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼š1public static void swap(Pair&lt;?&gt; pair)ä½†æ˜¯ï¼Œç”±äºŽ ? ä¸æ˜¯ç±»åž‹å‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æ–¹æ³•æ¥å®žçŽ°ã€‚12345public static &lt;T&gt; void swapHelper(Pair&lt;T&gt; pair) &#123; T t = pair.getFirst(); pair.setFirst(p.getSecond()); pair.setSecond(t);&#125;é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•å®žçŽ° swap() æ–¹æ³•ï¼š123public static void swap(Pair&lt;?&gt; pair) &#123; swapHelper(pair);&#125;ä½†æ˜¯ï¼Œå¯¹äºŽè¿™ä¸ªä¾‹å­æ¥è¯´ï¼Œå®žçŽ°ä¸€ä¸ªè¾…åŠ©æ–¹æ³•çš„ç¡®æ˜¯å¤šæ­¤ä¸€ä¸¾ï¼›æˆ‘ä»¬æœ¬æ¥å°±å¯ä»¥é€šè¿‡è¾…åŠ©æ–¹æ³•ç›´æŽ¥å®žçŽ°éœ€æ±‚ï¼›é‚£ä¹ˆä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæŠ€å·§å‘¢ï¼Ÿåœ¨ä½¿ç”¨äº†é€šé…ç¬¦çš„æ—¶å€™ï¼Œä¸å¯é¿å…çš„éœ€è¦ä½¿ç”¨åˆ°è¿™ä¸ªæŠ€å·§ï¼š123456public static voidmaxminBonus(Manager[] a, Pair&lt;? super Manager&gt; result)&#123; minmaxBonus(a, result); PairAlg.swap(result);&#125;ç”±äºŽä½¿ç”¨äº†é€šé…ç¬¦ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•èŽ·æŠ€å·§å°±ä¸å¯é¿å…çš„éœ€è¦äº†ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java ç±»åŸºç¡€]]></title>
    <url>%2F%2FJava%2FJava%20%E7%B1%BB%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°â–³Javaè¯­è¨€å°±æ˜¯åŸºäºŽç±»çš„è¯­è¨€ï¼Œè®¸å¤šæœ¯è¯­ä¸ŽC++ç¨æœ‰åŒºåˆ«C++Javaå‡½æ•°æ–¹æ³•æž„é€ å‡½æ•°æž„é€ å™¨æžæž„å‡½æ•°æžæž„å™¨ç±»ä¸­çš„æ•°æ®å®žä¾‹åŸŸé™æ€æ•°æ®é™æ€åŸŸä¾‹å¦‚ String a;C++ ç§° String ä¸ºç±»ï¼Œè€Œ a ä¸ºå¯¹è±¡ï¼ŒC++ åœ¨æ­¤æ—¶å°±åˆ†é…äº†å†…å­˜ï¼Œæž„å»ºäº†å¯¹è±¡Java ç§° String ä¸ºç±»ï¼Œa ä¸ºå¼•ç”¨ï¼Œè€Œå½“ä½¿ç”¨ new è¯·æ±‚ï¼Œåˆ†é…äº†ç©ºé—´ï¼Œæž„å»ºå‡ºçš„æ•°æ®å—ç§°ä¸ºå¯¹è±¡ç±»å¯¹è±¡å¿…é¡»ä½¿ç”¨newæ¥æž„å»ºï¼Œå•çº¯çš„å£°æ˜Žç±»ä»…ä»…åªæ˜¯å£°æ˜Žäº†ç±»çš„å¼•ç”¨ï¼Œå¹¶æ²¡æœ‰åˆ†é…ç©ºé—´ 2. è‡ªå®šä¹‰ç±»ä¸€ä¸ªæºæ–‡ä»¶åªèƒ½æ‹¥æœ‰ä¸€ä¸ª public ç±»ï¼Œä¸”å¿…é¡»ä¸Žæ–‡ä»¶åä¸€è‡´é€šè¿‡åœ¨ç±»çš„ class å‰ç¼€ä¸Š public èŽ·å¾—è¿™ä¸€ç‰¹æ€§åŒ…å« main() æ–¹æ³•çš„ç±»æ‰èƒ½æˆä¸ºå¯åŠ¨ç±»ï¼Œæ¯ä¸ªç±»éƒ½å¯ä»¥æ‹¥æœ‰ main()æ–¹æ³•é€šå¸¸ç”¨ä½œç±»çš„æ™®é€šæµ‹è¯•Javaä¸æ”¯æŒæžæž„å‡½æ•°ï¼Œåä¹‹ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œåžƒåœ¾å›žæ”¶æ‰€æœ‰çš„æ–¹æ³•éƒ½è¦åœ¨ç±»çš„å†…éƒ¨è¿›è¡Œå®šä¹‰å®žé™…ä¸Šï¼Œä»»ä½•ä¸€ä¸ªJavaç¨‹åºéƒ½æ˜¯ä»Žç±»å¼€å§‹çš„å¦‚æžœéœ€è¦è¿”å›žä¸€ä¸ªå¯å˜å¯¹è±¡çš„å¼•ç”¨ï¼Œåº”è¯¥å¯¹å…¶è¿›è¡Œå…‹éš†ï¼ˆcloneï¼‰â€»è¿™æ˜¯ç”±äºŽå˜é‡éƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„â€œç±»ä¼¼æŒ‡é’ˆçš„â€å¼•ç”¨ï¼Œæœ‰å¯èƒ½ä¼šä½¿å¾—æ•°æ®å°è£…æ€§é­åˆ°ç ´åfinal ä¿®é¥°ç¬¦åœ¨ä½¿ç”¨æ—¶å¤§å¤šåº”ç”¨äºŽä¸å¯ä¿®æ”¹çš„ç±»ï¼Œå½“åº”ç”¨åœ¨å¯å˜çš„ç±»çš„æ—¶å€™ï¼Œå¹¶ä¸æ„å‘³ç€ç±»çš„å†…å®¹ä¸å¯ä¿®æ”¹1234567891011class Employee&#123; private final String name; private final Date hiredate: 2017-03-16&#125;/*** æ­¤æ—¶ï¼Œnameå¼•ç”¨å’Œå¯¹è±¡éƒ½ä¸èƒ½è¢«ä¿®æ”¹ã€Stringç±»æ˜¯ä¸å¯å˜çš„ç±»ã€‘* hiredate: 2017-03-16* è¿™é‡Œçš„hiredate: 2017-03-16*/é€šè¿‡ static å£°æ˜Žé™æ€åŸŸå’Œé™æ€æ–¹æ³•é™æ€åŸŸå’Œ C++ ç±»ä¸­çš„é™æ€å˜é‡æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«é™æ€å…¬æœ‰å¸¸é‡å¯ä»¥é€šè¿‡ç±»åæ¥ç›´æŽ¥è°ƒç”¨ï¼Œç”±äºŽæœ‰ final é™åˆ¶ï¼Œæ‰€ä»¥ä¸ä¼šé€ æˆå°è£…æ€§ç ´åå¦‚Math.PIå°±æ˜¯ä¸€ä¸ªé™æ€å…¬æœ‰å˜é‡å…¶å®žä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡å¼•ç”¨æ¥è°ƒç”¨ï¼Œä¸è¿‡ä¸€èˆ¬é€šè¿‡ç±»åè°ƒç”¨ä½¿å¾—æ˜“è¯»æ€§æ›´å¼ºé™æ€æ–¹æ³•å¯ä»¥é€šè¿‡ç±»åå’Œå¯¹è±¡å¼•ç”¨ç›´æŽ¥è°ƒç”¨ï¼Œä½†ä¸€èˆ¬ä½¿ç”¨ç±»åè°ƒç”¨å¢žå¼ºæ˜“è¯»æ€§å¦‚ Math.pow(x,y)é™æ€æ–¹æ³•åªèƒ½å¯¹å¯¹è±¡é™æ€åŸŸå®žæ–½æ“ä½œï¼Œè€Œä¸èƒ½å¯¹å®žä¾‹åŸŸå®žæ–½æ“ä½œé€šå¸¸åªæœ‰åœ¨æŽ¥å—å¤–æ¥å‚æ•°å’Œè°ƒç”¨é™æ€åŸŸçš„æ—¶å€™æ‰ä½¿ç”¨é™æ€æ–¹æ³•å¯¹è±¡çš„æž„é€ å¯ä»¥ç›´æŽ¥åœ¨æž„é€ å™¨å†…åˆå§‹åŒ–å®žä¾‹åŸŸï¼Œå³ä½¿æ˜¯åŒ…å«å…³ç³»é€šè¿‡ä½¿ç”¨thisæ¥å®žçŽ°ä¼ å‚å’Œå®žä¾‹åŸŸåŒåï¼Œç”šè‡³è°ƒç”¨å¦ä¸€ä¸ªæž„é€ å™¨1234567891011public Class(String name, double salary)&#123; this.name = name; this.salary = salary;&#125;public Class(double s)&#123; this("Class * " + nextId, s); nextId++;&#125;é»˜è®¤å°†æ‰€æœ‰æ•°å€¼åˆå§‹åŒ–ä¸º0ï¼Œå¸ƒå°”å€¼åˆå§‹åŒ–ä¸ºfalseï¼Œå¼•ç”¨åˆå§‹åŒ–ä¸ºnullå¦‚æžœæ²¡æœ‰æä¾›æ˜¾å¼æž„é€ å™¨ï¼Œåˆ™ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆéšå¼ï¼ˆæ— å‚ï¼‰æž„é€ å™¨å®Œæˆä¸Šè¿°å·¥ä½œå¦‚æžœæä¾›äº†æ˜¾å¼æž„é€ å™¨ï¼Œåˆ™ç³»ç»Ÿå°†ä¸å†è‡ªåŠ¨ç”Ÿæˆæ— å‚æž„é€ å™¨ï¼Œä¸Šè¿°æ“ä½œå°†è¢«è§†ä¸ºéžæ³•åˆå§‹åŒ–å—â€»è¿™ä¸ªä¸å¸¸ç”¨ï¼Œé€šå¸¸ä½¿ç”¨æž„é€ å™¨å®Œæˆå·¥ä½œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªä»£ç å—å¯¹å®žä¾‹åŸŸè¿›è¡Œåˆå§‹åŒ–æ“ä½œ12345678910class Class&#123; private int id; .... &#123; id = 1; &#125;&#125;åˆå§‹åŒ–å—åœ¨æ‰€æœ‰æž„é€ å™¨æ‰§è¡Œä¹‹å‰æ‰§è¡Œã€‚é€šè¿‡æ ‡è®°å…³é”®å­—staticå¯ä»¥å¯¹é™æ€åŸŸè¿›è¡Œåˆå§‹åŒ–å—æ“ä½œ1234static&#123; id = 1;&#125;ç±»çš„åŸºæœ¬ç»“æž„æ•°æ®åŸŸæž„é€ å™¨ï¼ˆconstructorï¼‰è®¿é—®å™¨ï¼ˆgetterï¼‰æ›´æ”¹å™¨ï¼ˆsetterï¼‰ 3. æ–¹æ³•å‚æ•°Javaæ€»æ˜¯æŒ‰å€¼ä¼ å‚ï¼Œå¯¹è±¡å¼•ç”¨ä¹Ÿæ˜¯ä¸€ä¸ªå€¼æ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¼ é€’ç»™å®ƒçš„å®žå‚æ–¹æ³•å¯ä»¥é€šè¿‡è°ƒç”¨ä¼ å…¥å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡çš„æ–¹æ³•ï¼Œå®žçŽ°å¯¹å¯¹è±¡çš„ä¿®æ”¹æ–¹æ³•ä¸èƒ½è®©å¯¹è±¡å‚æ•°å¼•ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡æ–¹æ³•èƒ½å¤Ÿç›´æŽ¥è®¿é—®å’Œä¿®æ”¹ç›¸åŒç±»ä½œä¸ºå‚æ•°çš„å¯¹è±¡å®žä¾‹çš„ç§æœ‰åŸŸ1234567class Foo &#123; private String text; public void doStuff(Foo f) &#123; System.out.println(f.text); &#125;&#125; 4. åŒ…ï¼ˆpackageï¼‰â€»ç±»ä¼¼äºŽC++çš„åç§°ç©ºé—´é€šè¿‡importè¯­å¥æ¥å¯¼å…¥JavaåŒ…æ·»åŠ staticæŒ‡ä»¤å¯ä»¥ç›´æŽ¥å¯¼å…¥é™æ€æ–¹æ³•å’Œé™æ€åŸŸï¼Œä½¿ç”¨çš„æ—¶å€™å°±æ— éœ€ä½¿ç”¨ç±»åæ¥è°ƒç”¨ã€UnRecommendedã€‘é€šè¿‡ä½¿ç”¨åŒ…åæ¥å…·ä½“è®¿é—®ä¸€ä¸ªç±»é€šè¿‡packageè¯­å¥æ¥å°†ç±»æ”¾å…¥åŒ…ä¸­ï¼Œé€šå¸¸åœ¨å¼€å¤´åŠ å…¥1package com.myapp.corejava;æ³¨æ„åŒ…åçš„å‘½åè¦ä¸Žç›®å½•æ ‘ç›¸åŒ¹é…ï¼Œå³ä¸Šè¿°ç±»æ–‡ä»¶å¿…é¡»ä½äºŽ com/myapp/corejava ä¸­ï¼Œå¦åˆ™ï¼Œæœ€ç»ˆçš„ç¨‹åºå°†æ— æ³•è¿è¡ŒåŒ…ä½œç”¨åŸŸå¦‚æžœå®žä¾‹åŸŸæ²¡æœ‰æŒ‡å®šè®¿é—®æŽ§åˆ¶ç¬¦ï¼Œåˆ™è¿™ä¸€ä¸ªéƒ¨åˆ†å¯ä»¥è¢«åŒä¸€ä¸ªåŒ…çš„æ‰€æœ‰æ–¹æ³•è®¿é—®åœ¨ç¼–å†™ç±»çš„æ—¶å€™ï¼Œå¿…é¡»ä¸ºå®žä¾‹åŸŸæ·»åŠ ä¸Šè®¿é—®æŽ§åˆ¶ç¬¦ç±»è·¯å¾„ï¼ˆâ€»å¥½åƒåªæœ‰ä½¿ç”¨Shellç¼–è¯‘æ‰ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Ÿï¼‰javadocæ–‡æ¡£æ³¨é‡Šä»¥ /** å¼€å¤´ï¼Œä»¥ */ ç»“å°¾å¯ä»¥ä½¿ç”¨ HTML ä¿®é¥°ç¬¦è¿˜æœ‰å„ç§æ³¨é‡Šï¼Œè¿™é‡Œä¸ä¸€ä¸€è¯´æ˜Ž 5. ç±»è®¾è®¡æŠ€å·§ä¿è¯æ•°æ®ç§æœ‰ä¸€å®šè¦å¯¹æ•°æ®åˆå§‹åŒ–ï¼Œå¯ä»¥ç›´æŽ¥æä¾›é»˜è®¤å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨æž„é€ å™¨ä¸­æä¾›ä¸è¦åœ¨ç±»ä¸­ä½¿ç”¨è¿‡å¤šçš„åŸºæœ¬ç±»åž‹ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªå°è£…ç±»æ¥å‡å°‘ä½¿ç”¨123private String street;private String city;private String state;è¿™ä¸ªå¯ä»¥é€šè¿‡ä¸€ä¸ª Address ç±»æ¥è§£å†³å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦è®¿é—®å™¨å’Œæ›´æ”¹å™¨å°†èŒè´£è¿‡å¤šçš„ç±»è¿›è¡Œåˆ†è§£å¦‚æžœä¸€ä¸ªç±»èƒ½è¢«æ‹†åˆ†æˆä¸¤ä¸ªæˆ–è€…å¤šä¸ªç‹¬ç«‹çš„æ¦‚å¿µï¼Œé‚£å°±è¿›è¡Œæ‹†åˆ†æ³¨æ„è¿™é‡Œæ˜¯æ¦‚å¿µçš„æ‹†åˆ†ï¼Œè€Œä¸æ˜¯å•çº¯å°†æ–¹æ³•æ‹†åˆ†ç±»åå’Œæ–¹æ³•åè¦èƒ½å¤Ÿä½“çŽ°å®ƒä»¬çš„èŒè´£ç±»åå¸¸ç”¨ä¸€ä¸ªåè¯æˆ–è€…æœ‰å®šè¯­ä¿®é¥°çš„åè¯è®¿é—®å™¨ä½¿ç”¨å°å†™çš„getå¼€å¤´æ›´æ”¹å™¨ä½¿ç”¨å°å†™çš„setå¼€å¤´]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java ç±»ç»§æ‰¿]]></title>
    <url>%2F%2FJava%2FJava%20%E7%B1%BB%E7%BB%A7%E6%89%BF%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°C++JavaåŸºç±»çˆ¶ç±»ã€è¶…ç±»æ´¾ç”Ÿç±»å­ç±» 2. Java åªå…è®¸ä¸€é‡ç»§æ‰¿â€»å¯ä»¥æœ‰å¤šä¸ªç»§æ‰¿é“¾ï¼Œä½†æ˜¯ä¸èƒ½æœ‰å¤šä¸ªåŸºç±» 3. ä½¿ç”¨ extends æ¥è¡¨æ˜Žç»§æ‰¿å…³ç³»1234class Derived extends Base&#123; ....&#125;; 4. ä½¿ç”¨ super æ¥è°ƒç”¨è¶…ç±»æ–¹æ³•12345class Derived extends Base &#123; public Derived() &#123; super(); &#125;&#125; 5. æž„é€ å™¨å¯ä»¥ä½¿ç”¨ super å®žçŽ°å¯¹è¶…ç±»æž„é€ å™¨çš„è°ƒç”¨å¦‚æžœæ²¡æœ‰æ˜¾å¼è°ƒç”¨è¶…ç±»æž„é€ å™¨ï¼Œå°†è‡ªåŠ¨è°ƒç”¨è¶…ç±»æž„é€ å™¨çš„éšå¼ç‰ˆæœ¬;å¦‚æžœæ²¡æœ‰éšå¼ç‰ˆæœ¬ï¼ˆå³è¶…ç±»æž„é€ å™¨åªå®šä¹‰äº†æ˜¾ç¤ºç‰ˆæœ¬ï¼‰åˆ™æŠ¥é”™ 6. å¤šæ€å¯ä»¥å°†è¶…ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œä½†ä¸èƒ½åè¿‡æ¥åŸºç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡æ•°ç»„å¯ä»¥è¿›è¡Œç›¸åçš„èµ‹å€¼ï¼Œæ‰€ä»¥å¿…é¡»æ³¨æ„å…ƒç´ ç±»åž‹çš„ç›‘ç£public æ–¹æ³•é»˜è®¤ä¸ºåŠ¨æ€ç»‘å®šï¼Œæ— éœ€æ·»åŠ  vitual æˆ–è€…ç±»ä¼¼çš„å…³é”®å­—privateã€staticã€finalæ–¹æ³•ä¸ºé™æ€ç»‘å®šå­ç±»æ–¹æ³•è¦†ç›–è¶…ç±»æ–¹æ³•æ—¶ï¼Œå…¶è®¿é—®æƒé™ä¸èƒ½ä¸¥æ ¼äºŽè¶…ç±»æ–¹æ³•â€»æ³¨æ„ä¸è¦é—æ¼publicå…³é”®å­—ï¼Œå¦åˆ™å°†ä¼šè¢«è§£é‡Šæˆä¸ºæ›´ä¸¥æ ¼çš„è®¿é—®æƒé™è¦†ç›–å…è®¸è¿”å›žç±»åž‹åå˜ï¼ˆè¶…ç±»å¯ä»¥åå˜ä¸ºå­ç±»ï¼‰ 7. final é˜»æ­¢ç»§æ‰¿final ç±»123final class Excutive extends Manager &#123; ...&#125;è¿™ç§ç±»åž‹è¢«ç§°ä¸ºfinalç±»ï¼Œä¸å…è®¸å®šä¹‰å­ç±»ï¼Œå³æ— æ³•ç»§æ‰¿final æ–¹æ³•1public final String getName() &#123;...&#125;è¿™ç§æ–¹æ³•ç§°ä¸ºfinalæ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•ä¸å…è®¸å­ç±»è¦†ç›–å®ƒï¼Œç¡®ä¿å…¶ä¸ä¼šåœ¨å­ç±»ä¸­æ”¹å˜è¯­ä¹‰æ³¨æ„ final çš„ä½ç½®ä¸åŒå€¼å¾—æåˆ°çš„æ˜¯ï¼Œ Effective Java ä¸­æ˜Žç¡®æŒ‡ç¤ºï¼Œå¦‚æžœä¸äº‹å…ˆè®¾è®¡å¥½ä¸€ä¸ªè‰¯å¥½çš„ç»§æ‰¿ç»“æž„æ¨¡åž‹ï¼Œé‚£ä¹ˆå°± ç¦æ­¢ç»§æ‰¿ 8. å¼ºåˆ¶ç±»åž‹è½¬æ¢åœ¨ç»§æ‰¿é“¾ä¸Šä¸å…è®¸è¿›è¡Œç”±ä¸Šåˆ°ä¸‹çš„è½¬æ¢ï¼ˆè¶…ç±»ä¸èƒ½è½¬æ¢æˆå­ç±»ï¼‰ä½¿ç”¨ instanceof è¿›è¡Œè½¬æ¢æ£€æŸ¥ï¼Œè¿”å›žå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦èƒ½å¤ŸæˆåŠŸè½¬æ¢è¯­æ³•ï¼š(è¦è½¬æ¢çš„å¯¹è±¡) instanceof (è½¬æ¢ç›®æ ‡)å¼ºåˆ¶è½¬æ¢è¯­æ³•ç±»ä¼¼ C è¯­è¨€ï¼Œæ‰§è¡Œè¿‡ç¨‹ç±»ä¼¼ dynamic_cast æ“ä½œï¼Œä¸æˆåŠŸåˆ™æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè€Œä¸æ˜¯ç”Ÿæˆ null å¯¹è±¡ 9. æŠ½è±¡ç±»12abstract class Person &#123;...&#125; // æŠ½è±¡ç±»public abstract String getDescription(); // æŠ½è±¡æ–¹æ³•æŠ½è±¡ç±»ä¸ä¸€å®šè¦æœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯åŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»å£°æ˜Žä¸ºæŠ½è±¡ç±»æŠ½è±¡ç±»å¯ä»¥åŒ…å«å…·ä½“æ•°æ®å’Œå…·ä½“æ–¹æ³•æŠ½è±¡ç±»ä¸èƒ½è¢«å®žä¾‹åŒ–ï¼ˆå³ä¸èƒ½åˆ›å»ºå¯¹è±¡ï¼‰ 10. è°¨æ…Žçš„ä½¿ç”¨protectedprotected çš„å¯è§æ€§æ˜¯è¶…ç±»å’Œå­ç±»ä¹‹é—´ 11. Objectç±» 11.1 equals()æ–¹æ³•ç‰¹æ€§è‡ªåï¼šx.equals(x) return trueå¯¹ç§°ï¼šy.equals(x) = x.equals(y)ä¼ é€’ï¼šif (x.equals(y) &amp;&amp; y.equals(z)) then x.equals(z);ä¸€è‡´ï¼šThe return value of x.equals(y) should be stable;å¯¹äºŽéžç©ºå¼•ç”¨ x, x.equals(null) return false;Object ç±» equalsï¼šåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰ç›¸åŒçš„å¼•ç”¨ 11.2 equals() æ–¹æ³•çš„è®¾è®¡ç†å¿µæŽ¥å—ä¸€ä¸ªObjectç±»å‚æ•°ï¼ˆä¸ºäº†è¦†ç›–Objectç±»çš„equalsæ–¹æ³•ï¼‰æ£€æµ‹æ˜¯å¦ä¸ºè‡ªèº«this == otherObjectæ£€æµ‹ä¼ å‚æ˜¯å¦ä¸ºnullæ¯”è¾ƒæ˜¯å¦ä¸ºåŒä¸€ä¸ªç±»å¦‚æžœå­ç±»æœ‰ç‰¹æœ‰çš„equalsæ¦‚å¿µï¼Œåˆ™ä½¿ç”¨getClassæ–¹æ³•if(getClass() != otherObject.getClass()) return false;å¦‚æžœå­ç±»æ²¡æœ‰ç‰¹æœ‰çš„equalsæ¦‚å¿µï¼Œåˆ™ä½¿ç”¨instanceofæ–¹æ³•if(!(otherObject instanceof ClassName)) return false;è½¬æ¢ä¸ºç›¸åº”çš„ç±»å˜é‡ç”±äºŽæŽ¥å—çš„æ˜¯ä¸€ä¸ªObjectå˜é‡ï¼Œæ‰€ä»¥å¿…é¡»è¿›è¡Œå¼ºåˆ¶ç±»åž‹è½¬æ¢æ‰èƒ½è¿›è¡Œå…·ä½“å®žä¾‹åŸŸçš„ç›¸ç­‰åˆ¤å®šæ­¤æ—¶å·²ç»åˆ¤åˆ«ç±»åž‹ç›¸åŒäº†ï¼Œå¯ä»¥è¿›è¡Œè½¬æ¢åˆ¤åˆ«å®žä¾‹åŸŸå¦‚æžœåœ¨å­ç±»ä¸­é‡æ–°å®šä¹‰equalsï¼Œåˆ™å…ˆè°ƒç”¨è¶…ç±»çš„equals 11.2 hashCode() æ–¹æ³•å¦‚æžœé‡æ–°å®šä¹‰äº† equals() æ–¹æ³•ï¼Œåˆ™å¿…é¡»é‡æ–°å®šä¹‰ hashCode() æ–¹æ³•equals() ä¸Ž hashCode() çš„å®šä¹‰å¿…é¡»ä¸€è‡´ï¼›å¦‚æžœ x.equals(y) return true, åˆ™ï¼Œx.hashCode() å°±å¿…é¡»ä¸Ž y.hashCode() è¿”å›žä¸€æ ·çš„å€¼ 11.3 toString() æ–¹æ³•ä¸€èˆ¬å½¢å¼ï¼šç±»å + æ–¹æ‹¬å·æ‹¬èµ·æ¥çš„é˜ˆå€¼è°ƒç”¨ x.toString() å¯ä»¥ç”¨ &quot;&quot;+x ä»£æ›¿åº”è¯¥ä¸ºæ¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»æä¾› toString() æ–¹æ³•ã€‚ 12. æ³›åž‹æ•°ç»„åˆ—è¡¨ï¼ˆArrayList&lt;&gt;ï¼‰æž„é€ 1ArrayList&lt;ClassName&gt; staff = new ArrayList&lt;&gt;();ä¼˜ç‚¹ï¼šå¯ä»¥å®žçŽ°åŠ¨æ€æ›´æ”¹æ•°ç»„å¤§å°ä½¿ç”¨ add() æ–¹æ³•æ·»åŠ å…ƒç´ ï¼Œremove() æ–¹æ³•åˆ é™¤å…ƒç´ ä½¿ç”¨ get() æ–¹æ³•è®¿é—®å…ƒç´ ï¼Œset() æ–¹æ³•è®¾ç½®å…ƒç´ ã€è€Œä¸æ˜¯ä½¿ç”¨[]è¯­æ³•ã€‘ 13. å¯¹è±¡åŒ…è£…å™¨å’Œè‡ªåŠ¨è£…ç®±ä¸€èˆ¬ç”¨äºŽå°†åŸºæœ¬ç±»åž‹è½¬æ¢æˆç±»å¯¹è±¡é¦–å­—æ¯å¤§å†™å³ä¸ºç›¸åº”çš„åŒ…è£…å™¨åŒ…è£…å™¨çš„æ¯”è¾ƒåº”ä½¿ç”¨ equals()æ–¹æ³•ï¼Œè€Œä¸æ˜¯ ==åŒ…è£…å™¨ä¸º final ç±»ï¼Œä¸å¯ä»¥ç”¨æ¥ä¿®æ”¹åŸºæœ¬æ•°æ®ç±»åž‹çš„æ•°å€¼åº”ä½¿ç”¨ holder ç±»åž‹æ¥ä¿®æ”¹åŸºæœ¬æ•°æ®ç±»åž‹çš„å€¼ 14. ä¸å®šå‚æ•°1public static double max(double... values)å…¶ä¸­çš„ double... ç›¸åŒäºŽdouble[]ï¼Œå…¶å®žå°±æ˜¯æŽ¥å—äº†ä¸€ä¸ª double æ•°ç»„å¯ä»¥å°†æ•°ç»„ä¼ é€’ç»™å¯å˜å‚æ•°æ–¹æ³•çš„æœ€åŽä¸€ä¸ªå‚æ•°ã€‚ 15. æžšä¸¾ç±»è¿™é‡Œçš„æžšä¸¾ç±»æ˜¯ä¸€ä¸ªç±»å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸€ç§ç±»åž‹ 16. ç»§æ‰¿è®¾è®¡çš„æŠ€å·§å°†å…¬å…±æ“ä½œå’ŒåŸŸæ”¾åœ¨è¶…ç±»ä¸è¦ä½¿ç”¨å—ä¿æŠ¤çš„åŸŸä½¿ç”¨ç»§æ‰¿å®žçŽ° â€œis-aâ€ å…³ç³»è¦†ç›–æ–¹æ³•æ—¶ï¼Œä¸è¦æ”¹å˜é¢„æœŸçš„è¡Œä¸ºè¿™é‡Œè¯´çš„æ˜¯ä¸è¦åç¦»è®¾è®¡ï¼Œå¹¶ä¸æ˜¯ä¸èƒ½æ”¹å˜åŸºç±»æ–¹æ³•çš„æ“ä½œèƒ½ä½¿ç”¨å¤šæ€å°±ä½¿ç”¨å¤šæ€ä¸è¦è¿‡å¤šçš„ä½¿ç”¨åå°„]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java æ³›åž‹åŸºç¡€]]></title>
    <url>%2F%2FJava%2FJava%20%E6%B3%9B%E5%9E%8B%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°æ³›åž‹ç±»ä¼¼äºŽ C++ ä¸­çš„æ¨¡æ¿ï¼Œä½¿å¾—ç¼–å†™çš„ä»£ç å¯ä»¥è¢«å¤šç§ä¸åŒçš„å¯¹è±¡æ‰€ä½¿ç”¨ã€‚åœ¨ Java å¢žåŠ æ³›åž‹ç±»ä¹‹å‰ï¼Œæ³›åž‹å®žé™…ä¸Šæ˜¯ä»¥ç»§æ‰¿æ–¹å¼å®žçŽ°çš„æ³›åž‹ä½¿ç”¨ç±»åž‹å‚æ•°æ¥æŒ‡ç¤ºå…ƒç´ çš„ç±»åž‹1234ArrayList&lt;String&gt; files = new ArrayList&lt;String&gt;();// Java SE 7 ä¹‹åŽå¯ä»¥çœç•¥æž„é€ å‡½æ•°ä¸­çš„æ³›åž‹ç±»åž‹ArrayList&lt;String&gt; files = new ArrayList&lt;&gt;(); 2. æ³›åž‹ç±»å•ä¸ªå‚æ•°12// å…¶ä¸­ T ä¸ºç±»åž‹å‚æ•°public class Pair&lt;T&gt; &#123;&#125;å¤šä¸ªå‚æ•°12// å¤šä¸ªç±»åž‹å‚æ•°ç”¨é€—å·éš”å¼€public class Piar&lt;T, U&gt; &#123;&#125; 3. æ³›åž‹æ–¹æ³•æ³›åž‹æ–¹æ³•ä¸ä»…åªå­˜åœ¨äºŽæ³›åž‹ç±»ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨éžæ³›åž‹ç±»ä¸­å®šä¹‰æ³›åž‹æ–¹æ³•12345678class ArrarAlg &#123; /** * è¿™æ˜¯ä¸€ä¸ªæ³›åž‹æ–¹æ³•ï¼Œ * &lt;T&gt; è¡¨ç¤ºå…¶ä¸ºæ³›åž‹æ–¹æ³• */ public static &lt;T&gt; T getMiddle(T... a) &#123;&#125;&#125;è°ƒç”¨æ³›åž‹æ–¹æ³•æ—¶ï¼Œé€šè¿‡åœ¨æ–¹æ³•åå‰çš„å°–æ‹¬å·ä¸­æ”¾å…¥å…·ä½“çš„ç±»åž‹æ¥å°†å…¶å®žä¾‹åŒ–1String middle = ArrayAlg.&lt;String&gt;getMiddle("John", "Q.", "Public");å…¶å®žå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨éƒ½èƒ½æŽ¨æ–­å‡ºæ­£ç¡®çš„ç±»åž‹ï¼Œæ‰€ä»¥æ–¹æ‹¬å·å¯ä»¥çœç•¥ 4. ç±»åž‹å˜é‡çš„é™å®šæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹ç±»åž‹å˜é‡è¿›è¡Œä¸€å®šçš„çº¦æŸ:æ¯”å¦‚ï¼Œå½“æˆ‘ä»¬éœ€è¦å¯¹å˜é‡è¿›è¡Œæ¯”è¾ƒæ“ä½œæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å˜é‡éƒ½å®žçŽ°äº† Comparable æŽ¥å£ã€‚å¯¹äºŽç±»åž‹å˜é‡çš„é™å®šæœ‰ä¸¤ç§æ–¹å¼é™å®šä¸Šç•Œ1public static &lt;T extends Comarable&gt; T min(T[] a) ...è¿™é‡Œæˆ‘ä»¬é™å®šäº† T å¿…é¡»æ˜¯å®žçŽ°äº† Comarable æŽ¥å£çš„å˜é‡ã€‚å¦‚æžœ Comarable æ˜¯ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆ T å¿…é¡»æ˜¯å®ƒï¼Œæˆ–è€…å®ƒçš„å­ç±»é™å®šä¸‹ç•Œ1public static &lt;T super Child&gt; T doSomeThings(T[] a) ...è¿™é‡Œé™å®šäº† T å¿…é¡»æ˜¯ Child çš„è¶…ç±»ï¼Œæˆ–è€…å®ƒæœ¬èº«ã€‚ä½¿ç”¨ &amp; åˆ†éš”é™å®šç±»åž‹ï¼Œä½¿ç”¨é€—å·æ¥åˆ†éš” ç±»åž‹å‚æ•°1T extends Comparable &amp; Serializable 5.æ³›åž‹ç±»çš„å®žä¾‹åŒ– 5.1 ç±»åž‹æ“¦é™¤Java ä¸­çš„æ³›åž‹ç±»é‡‡ç”¨ ç±»åž‹æ“¦é™¤ æ–¹å¼æ¥è¿›è¡Œå®žä¾‹åŒ–ã€‚ç±»åž‹æ“¦é™¤å³ä¸ºï¼Œæ“¦é™¤ç±»åž‹å‚æ•°ï¼Œå¹¶å°†å…¶æ›¿æ¢ä¸ºé™å®šçš„ç±»åž‹ã€‚ä¾‹å¦‚ä¸Šé¢çš„ T extends Comparable åˆ™åœ¨ç±»ä¸­çš„ T ä¼šè¢«æ›¿æ¢ä¸º Comparableå¦‚æžœç±»åž‹æ²¡æœ‰è¢«é™å®šï¼Œåˆ™æ›¿æ¢ä¸º Objectéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™šæ‹Ÿæœºä¸­æ²¡æœ‰æ³›åž‹ç±»åž‹å˜é‡ï¼Œä»»ä½•çš„æ³›åž‹ç±»åœ¨éœ€è¦å®žä¾‹åŒ–çš„æ—¶å€™ï¼Œéƒ½ä¼šå…ˆè¿›è¡Œç±»åž‹æ“¦é™¤ï¼Œç„¶åŽæ›¿æ¢ä¸ºå®žä¾‹åŒ–çš„ç±»åž‹ã€‚ä¾‹å¦‚ï¼Œ Pair&lt;T&gt; çš„åŽŸå§‹ç±»åž‹å¦‚ä¸‹1234567891011121314151617public class Pair &#123; private Object first; private Object second; public Pair() &#123; first = null; second = null; &#125; public Object getFirst() &#123; return this.first; &#125; public Object getSecond() &#123; return this.second; &#125;&#125;é€šè¿‡ç±»åž‹æ“¦é™¤çš„æ–¹æ³•ï¼ŒJava ä½¿å¾—æ³›åž‹ç±»å°±å¥½åƒä¸€ä¸ªæ™®é€šçš„ç±»ï¼Œä»Žè€Œé¿å…äº† C++ æ¨¡æ¿å®žä¾‹åŒ–æ‰€é€ æˆçš„ä»£ç è†¨èƒ€ã€‚ 5.2 ç¿»è¯‘æ³›åž‹è¡¨è¾¾å¼å½“ç¨‹åºè°ƒç”¨æ³›åž‹æ–¹æ³•æ—¶ï¼Œ Java é‡‡ç”¨å¼ºåˆ¶ç±»åž‹è½¬æ¢ï¼ˆCastï¼‰æ¥è¿”å›žæˆ–è°ƒç”¨æ­£ç¡®çš„ç±»åž‹ä¾‹å¦‚12Pair&lt;Employee&gt; buddies = ...;Employee buddy = buddies.getFirst();æ­¤æ—¶ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨æ’å…¥å¼ºåˆ¶ç±»åž‹è½¬æ¢ä½¿å¾— getFirst() æ–¹æ³•è¿”å›ž Employee ç±»åž‹ 5.3 æ³›åž‹æ–¹æ³•çš„å®žä¾‹åŒ–å’Œæ¡¥æ–¹æ³•æ³›åž‹æ–¹æ³•åœ¨å®žä¾‹åŒ–è¿‡ç¨‹ä¸­ä¹Ÿä½¿ç”¨ ç±»åž‹æ“¦é™¤ä½†æ˜¯è¿™åœ¨ç»§æ‰¿ä¸­ä¼šå¯¼è‡´æ–¹æ³•çš„å†²çªã€‚ä¾‹å¦‚ï¼š12345678class DateInterval extends Pair&lt;Date&gt; &#123; public void setSecond(Date second) &#123; ... &#125;&#125;// ç»è¿‡ç±»åž‹æ“¦é™¤ä¹‹åŽclass DateInterval extends Pair &#123; public void setSecond(Date second) &#123; ... &#125;&#125;å½“ä½¿ç”¨åŸºç±»æŒ‡é’ˆå®žçŽ°å¤šæ€æ€§çš„æ—¶å€™12Pair&lt;Date&gt; pair = interval;pair.setSecond(aDate);æ­¤æ—¶ï¼Œå­˜åœ¨ä¸€ä¸ªä»Ž Pair ç»§æ‰¿è€Œæ¥çš„æ–¹æ³•1public void setSecond(Object second)ç”±äºŽå½¢å¼å‚æ•°çš„æ”¹å˜ï¼Œä½¿å¾—è¿™æ˜¯ä¸€ä¸ªä¸åŒçš„æ–¹æ³•ï¼›ä½†æ˜¯æˆ‘ä»¬å¯¹ pair çš„å¤šæ€æ€§æè¿°æ˜¾ç„¶æ˜¯è¦è°ƒç”¨ setSecond(Date second) æ–¹æ³•ï¼›æ­¤æ—¶ï¼Œç¼–è¯‘å™¨å°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ¡¥æ–¹æ³•ï¼Œç”¨æ¥ä¿è¯å¤šæ€çš„æ­£ç¡®ä½¿ç”¨ã€‚1234// æ¡¥æ–¹æ³•public void setSecond(Objedt second) &#123; setSecond((Date) second);&#125; 6. çº¦æŸå’Œå±€é™æ€§ 6.1 ä¸èƒ½ç”¨åŸºæœ¬ç±»åž‹å®žä¾‹åŒ–ç±»åž‹å‚æ•°ç”±äºŽæ³›åž‹ä½¿ç”¨ç±»åž‹æ“¦é™¤æ¥å®žçŽ°ï¼Œæ‰€æœ‰çš„æœªé™å®šç±»åž‹å‡ä¼šè¢«æ›¿æ¢æˆ Objectï¼›è€Œ Object ä¸èƒ½å‚¨å­˜åŸºæœ¬ç±»åž‹æ­¤æ—¶ä¸€èˆ¬ä½¿ç”¨å¯¹è±¡åŒ…è£…å™¨æ¥å®žçŽ°åŸºæœ¬ç±»åž‹çš„å®žä¾‹åŒ– 6.2 è¿è¡Œæ—¶çš„ç±»åž‹æŸ¥è¯¢åªé€‚ç”¨äºŽåŽŸå§‹ç±»åž‹ç”±äºŽä½¿ç”¨äº†ç±»åž‹æ“¦é™¤ï¼Œæ‰€æœ‰çš„ç±»åž‹æŸ¥è¯¢éƒ½åªå¯¹æ³›åž‹ç±»çš„åŽŸå§‹ç±»åž‹é€‚ç”¨ï¼Œè€Œå¯¹æ³›åž‹ç‰ˆæœ¬ä¸é€‚ç”¨ã€‚instanceof å’Œ getClass() è¿”å›žçš„éƒ½æ˜¯åŽŸå§‹ç±»åž‹ 6.3 ä¸èƒ½åˆ›å»ºå‚æ•°åŒ–ç±»åž‹çš„æ•°ç»„åˆ›å»ºæ³›åž‹ç±»çš„æ•°ç»„æ˜¯ä¸åˆæ³•çš„ã€‚ç”±äºŽç±»åž‹æ“¦é™¤çš„å­˜åœ¨ï¼Œæ‰€æœ‰çš„æœªé™å®šæ³›åž‹ç±»éƒ½ä¼šè¢«æ›¿æ¢æˆ Objectã€‚ä¾‹å¦‚123Pair&lt;String&gt;[] table = new Pair&lt;String&gt; [10]; // ERROR// After erasePair[] table = new Pair[10];æ­¤æ—¶ï¼Œå¦‚æžœæœ‰ä¸‹é¢çš„ä¸€æ¡è¯­å¥1234Object[] objects = table; // OK, Pair is a type of Object// But, if edit one of the elementsobjects[0] = "Hello"; // ERROR, because the objects[0] is Pair, not Stringå½“éœ€è¦æ”¶é›†å‚æ•°åŒ–ç±»åž‹å¯¹è±¡æ—¶ï¼Œä½¿ç”¨ ArrayList æ¥ä»£æ›¿æ•°ç»„å®žçŽ°å¦‚æžœå®žåœ¨éœ€è¦åˆ›å»ºæ³›åž‹ç±»çš„æ•°ç»„ï¼Œé‚£ä¹ˆå°±å¿…é¡»ä½¿ç”¨ å¼ºåˆ¶è½¬æ¢ã€‚1Pair&lt;String&gt; p = (Pair&lt;String&gt;[]) new Object[10]; 6.4 Varargs è­¦å‘Šå½“ä½¿ç”¨å¯å˜å‚æ•°çš„æ³›åž‹ç±»ä½œä¸ºå½¢å‚æ—¶ï¼Œç”±äºŽå¯å˜ç±»åž‹æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ­¤æ—¶è¿åäº†ä¸Šé¢ä¸€æ¡è§„åˆ™ã€‚ä½†æ˜¯å¯¹äºŽè¿™ç§æƒ…å†µï¼Œè§„åˆ™æœ‰æ‰€æ”¾æ¾ï¼Œä½¿ç”¨è¿™ä¸ªä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Šï¼Œå¯ä»¥ç”¨ @SafeVarargs æ³¨è§£æ¥åŽ‹åˆ¶è¿™ä¸ªè­¦å‘Š12@SafeVarargspublic static &lt;T&gt; void addAll(Collection&lt;T&gt; coll, T... ts) 6.5 ä¸èƒ½å®žä¾‹åŒ–ç±»åž‹å˜é‡æ‰€è°“çš„ç±»åž‹å˜é‡æŒ‡çš„æ˜¯ Tä¸èƒ½ä½¿ç”¨ new T(...) ç±»ä¼¼è¿™æ ·çš„è¡¨è¾¾å¼è€Œæ˜¯é€šè¿‡åå°„è°ƒç”¨ Class.newInstance æ¥æž„é€ æ–°çš„ T å¯¹è±¡ï¼›ä¸è¿‡ï¼Œå¾ˆé—æ†¾çš„æ˜¯ï¼Œä¸èƒ½é€šè¿‡ T.class.newInstance() æ¥å®žçŽ°ï¼›è°ƒç”¨ newInstance() çš„ Class å¯¹è±¡å¿…é¡»ç”± å¤–éƒ¨ä¼ å…¥ï¼š12345678public static &lt;T&gt; Pair&lt;T&gt; makePair(Class&lt;T&gt; clazz) &#123; try &#123; return new Pair&lt;&gt;(clazz.newInstance(), clazz.newInstance()); &#125; catch (Exception e) &#123; return null; &#125;&#125; 6.6 ä¸èƒ½æž„é€ æ³›åž‹æ•°ç»„æŒ‡çš„æ˜¯ä¸èƒ½æž„é€  T[]ï¼›1T[] array = new T[2]; // ERROR!å¦‚æžœä¸€å®šè¦ä½¿ç”¨æ•°ç»„ï¼Œåˆ™å¿…é¡»è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼š1T[] array = (T[]) new Object[2];éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ•°ç»„ä¸èƒ½ä½œä¸ºè¿”å›žå€¼ï¼š12345public static &lt;T&gt; T[] minmax(T... a) &#123; Object[] mm = new Object[2]; ... return (T[]) mm;&#125;åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šå‡ºçŽ° ClassCastExceptionï¼š12// Exceptionï¼String[] ss = minmax("Tom", "Dick", "Harry");è¿™æ˜¯å› ä¸ºç±»åž‹æ“¦é™¤çš„é—®é¢˜ï¼›å¯¹äºŽè™šæ‹Ÿæœºè€Œè¨€ï¼Œè™šæ‹ŸæœºçŸ¥é“æ¯ä¸ªå…ƒç´ çš„å…·ä½“ç±»åž‹ï¼Œæ‰€ä»¥åšå…ƒç´ å±‚æ¬¡çš„å¼ºåˆ¶è½¬æ¢æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼š1234public T get(int index) &#123; // T[] items return items[index]; // OK&#125;ä½†æ˜¯å¯¹äºŽæ•°ç»„æœ¬èº«è€Œè¨€ï¼Œç”±äºŽç±»åž‹æ“¦é™¤å¯¼è‡´å®žé™…ä¸Šçš„æ•°ç»„çš„ å£°æ˜Ž æ˜¯ Object[]ï¼Œå¯ä»¥æŽ¥å—ä»»ä½•çš„ç±»åž‹ï¼Œæ‰€ä»¥æ— æ³•å°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºç‰¹å®šç±»åž‹çš„æ•°ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºŽä¸€ä¸ª String æ•°ç»„ï¼Œå¯ä»¥å°†å…¶è½¬æ¢ä¸º Object æ•°ç»„å†è½¬æ¢å›žåŽ»ï¼›ä½†æ˜¯ç”±äºŽç±»åž‹æ“¦é™¤å¯¼è‡´ ä¸€å¼€å§‹ æ•°ç»„çš„å£°æ˜Žå°±æ˜¯ Object[]ï¼›æ‰€ä»¥æ— æ³•å°†å…¶è½¬æ¢ä¸ºç‰¹å®šç±»åž‹ã€‚å¯¹äºŽè¿™ç§æƒ…å†µï¼Œå°±éœ€è¦ä½¿ç”¨æ³›åž‹çš„ Array.newInstance()ï¼›é€šè¿‡ Class.getComponentType() æ¥èŽ·å–åˆ°å…ƒç´ çš„çœŸå®žç±»åž‹ã€‚123public static &lt;T&gt; T[] minmax(T... a) &#123; T[] mm = (T[]) Array.newInstance(a.getClass().getComponentType(), 2);&#125; 6.7 æ³›åž‹ç±»é™æ€æˆå‘˜ç±»åž‹å‚æ•°æ— æ•ˆåœ¨æ³›åž‹ç±»ä¸­ï¼Œä¸èƒ½åœ¨é™æ€åŸŸæˆ–è€…æ–¹æ³•ä¸­å¼•ç”¨ç±»åž‹å˜é‡ã€‚123public class Singleton&lt;T&gt; &#123; private static T singleInstance; // ERROR&#125;è¿™ä¹Ÿæ˜¯å› ä¸ºç±»åž‹æ“¦é™¤ï¼ŒSingleton&lt;String&gt; ä¼šæ¢å¤ä¸º Singletonï¼›è€Œå¯¹äºŽä¸€ä¸ªæ‰€æœ‰å®žä¾‹éƒ½å…±äº«çš„æ–¹æ³•æˆ–è€…åŸŸï¼Œå®ƒä¸èƒ½ä»…ä»…ä¾èµ–äºŽæŸä¸€ä¸ªç±»åž‹ã€‚ 6.8 ä¸èƒ½æŠ›å‡ºæˆ–æ•èŽ·æ³›åž‹ç±»å¯¹è±¡ä¸èƒ½æŠ›å‡ºå’Œæ•èŽ· æ³›åž‹ç±»ï¼ŒåŒæ—¶ï¼Œä¹Ÿä¸å…è®¸æ³›åž‹ç±»æ‰©å±• Throwableã€‚1234// ERRORpublic class Problem&lt;T&gt; extends Exception &#123; /* ... */&#125;åŒæ—¶ï¼Œcatch å—ä¸­ä¹Ÿä¸èƒ½ä½¿ç”¨ç±»åž‹å˜é‡ T123456try &#123; // do work&#125;catch(T e) &#123; // ERROR&#125;ä¸è¿‡å¯ä»¥åœ¨ throws ä¸­ä½¿ç”¨ç±»åž‹å˜é‡ T123456@SuppressWarnings("unchecked")public static &lt;T extends Throwable&gt; void throwAs(Throwable e)throws T&#123; throw (T) e&#125;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šè®¤ä¸º T æ˜¯ä¸€ä¸ª æœªæ£€æŸ¥å¼‚å¸¸ 6.9 æ³¨æ„æ“¦é™¤åŽçš„å†²çªç±»åž‹æ“¦é™¤å¾ˆå¯èƒ½ä¼šå¼•å‘å’Œè¶…ç±»åž‹çš„å†²çªï¼›ä¾‹å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•ï¼š12345public class Pair&lt;T&gt; &#123; public boolean equals(T value) &#123; return first.equals(value) &amp;&amp; second.equals(value); &#125;&#125;è¿™ä¸ªæ–¹æ³•åœ¨ç±»åž‹æ“¦é™¤ä¹‹åŽï¼Œä¼šå˜æˆï¼š1boolean equals(Object value)ç„¶è€Œï¼Œè¿™ä¸ªæ–¹æ³•å’Œè¶…ç±»ç»§æ‰¿è€Œæ¥çš„ï¼š12// Object ç»§æ‰¿è€Œæ¥çš„ï¼boolean equals(Object)å‡ºçŽ°å†²çªã€‚æ­¤æ—¶ï¼Œåªèƒ½æ”¹åè§£å†³ã€‚åŒæ—¶ï¼Œè¿˜å¿…é¡»æ³¨æ„ç±»å’Œå®ƒçš„å­ç±»ä¸èƒ½å®žçŽ°ä¸¤ä¸ªä¸åŒ ç±»åž‹å‚æ•° T çš„æŽ¥å£ï¼š12345class Calendar implements Comparable&lt;Calendar&gt; &#123;...&#125;class GregorianCalendar extends Calendarimplements Comparable&lt;CregorianCalendar&gt;&#123;...&#125;è¿™é‡Œï¼ŒCalendar ç±»å’Œå®ƒçš„å­ç±» GregorianCalendar å®žçŽ°äº†ä¸¤ä¸ªä¸åŒç±»åž‹å‚æ•°çš„æŽ¥å£ï¼›è¿™ä¼šå¯¼è‡´åˆæˆçš„æ¡¥æ–¹æ³•å‡ºçŽ°é”™è¯¯ï¼›å¯¹äºŽå®žçŽ°äº† Comparable&lt;X&gt; çš„ç±»ï¼Œå¯ä»¥èŽ·å¾—ä¸€ä¸ªæ¡¥æ–¹æ³•ï¼š123public int comparaTo(Object other) &#123; return compareTo((X) other);&#125;ä½†æ˜¯ï¼Œç”±äºŽ GregorianCalendar åŒæ—¶å®žçŽ°äº†ä¸¤ä¸ªç±»åž‹å‚æ•°ä¸åŒçš„åŒä¸€ä¸ªæ³›åž‹æŽ¥å£ï¼›æ‰€ä»¥å°±ä¼šæœ‰ä¸¤ä¸ª ç›¸åŒç­¾å çš„æ¡¥æ–¹æ³•ï¼Œè€Œè¿™æ˜¯ä¸å…è®¸çš„ã€‚ 7. æ³›åž‹ç±»çš„ç»§æ‰¿åœ¨ä½¿ç”¨æ³›åž‹ç±»æ—¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å®ƒçš„ç»§æ‰¿è§„åˆ™å’Œç›´è§‰ä¸åŒï¼›ä¾‹å¦‚ï¼Œ Employee å’Œ Manager æ˜¯çˆ¶ç±»å’Œå­ç±»ï¼›ä½†æ˜¯ Pair&lt;Manager&gt; ä¸æ˜¯ Pair&lt;Employee&gt; çš„å­ç±»è¿™é‡Œä½“çŽ°å‡ºæ¥æ³›åž‹å’Œæ•°ç»„çš„ä¸€ä¸ªé‡è¦åŒºåˆ«ï¼›å¯¹äºŽä¸€ä¸ªæ•°ç»„æ¥è¯´ï¼Œå¯ä»¥å°† Manager[] èµ‹ç»™ Employee[]ã€‚ä¸è¿‡å¦‚æžœå°è¯•å°†ä¸€ä¸ªä½Žçº§åˆ«çš„ Employee æ’å…¥åˆ°å¤šæ€çš„ Employee[] ä¸­ï¼Œåˆ™ä¼šæŠ›å‡º ArrayStoreException]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å•ä¾‹æ¨¡å¼]]></title>
    <url>%2F%2FDesignPattern%2F%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°å•ä¾‹æ¨¡å¼ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒå¯ä»¥ä¿è¯åœ¨ç³»ç»Ÿè¿è¡Œä¸­ï¼Œæ•´ä¸ªç³»ç»Ÿåªå­˜åœ¨æŸä¸ªç±»çš„ ä¸€ä¸ªå¯¹è±¡ï¼›è¯¥å¯¹è±¡åœ¨ç³»ç»Ÿä¸­æ˜¯ å”¯ä¸€çš„ 2. ç»å…¸å®žçŽ°éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶è¿™ä¸ªå®žçŽ°å¾ˆç»å…¸ï¼Œä½†æ˜¯å®ƒæ˜¯é”™è¯¯çš„ï¼Œåœ¨å®žé™…ä¸­ä¸åº”è¯¥ä½¿ç”¨ï¼›ä½†æ˜¯ï¼Œç”±äºŽå®ƒè¾ƒä¸ºç®€å•ï¼Œæ‰€ä»¥æ‹¿è¿™ç§å®žçŽ°æ¥è¯´æ˜Žå•ä¾‹çš„åŽŸç†ã€‚123456789101112131415public class Singleton &#123; // å­˜å‚¨è‡ªèº«çš„å¼•ç”¨ private static Singleton instance = null; private Singleton() &#123; // ä¸å…è®¸å¤–ç•Œé€šè¿‡æž„é€ å™¨æž„å»º &#125; private static Singleton getInstance() &#123; if (instance == null) &#123; instance = new Singleton(); &#125; return instance; &#125;&#125;è¯¥å®žçŽ°ä¸­ï¼Œæœ€ä¸ºæ ¸å¿ƒçš„å°±æ˜¯ getInstance() æ–¹æ³•ï¼›é€šè¿‡ if çš„åˆ¤æ–­ï¼Œå¦‚æžœå®žä¾‹ä¸ºç©ºï¼Œé‚£ä¹ˆè¿›è¡Œæž„é€ ï¼›å½“å®žä¾‹æž„é€ å®Œæ¯•åŽï¼Œinstance å°±ä¸ä¸ºç©ºäº†ï¼Œç›´æŽ¥è¿”å›žè‡ªèº«ã€‚è¿™æ ·å°±ä¿è¯äº†åœ¨æ™®é€šæƒ…å†µä¸‹ï¼Œå¯¹è±¡åªä¼šæœ‰ä¸€ä¸ªã€‚ä½†æ˜¯ï¼Œè¿™ç§å®žçŽ°åœ¨å¤šçº¿ç¨‹æ—¶ä¸æˆç«‹ï¼å½“æœ‰ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å°è¯•èŽ·å–å•ä¾‹å®žä¾‹æ—¶ï¼Œå°±ä¼šé€ æˆå¯¹è±¡çš„é‡å¤æž„å»ºï¼šè¿™æ˜¯ç”±äºŽä¸¤ä¸ªçº¿ç¨‹å¯èƒ½åŒæ—¶è¿›å…¥ if åŒºåŸŸä¸­ï¼Œå¯¼è‡´ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«æ‰§è¡Œå¯¹è±¡çš„æž„å»ºï¼Œæœ€åŽå°±ä¼šå‡ºçŽ°ä¸¤ä¸ªå•ä¾‹å¯¹è±¡ã€‚ 3. æ‡’æ±‰å¼ç”±äºŽç»å…¸å®žçŽ°çš„ç¼ºé™·æ˜¯å› ä¸ºå¤šçº¿ç¨‹å¯¼è‡´çš„ï¼›é‚£ä¹ˆæˆ‘ä»¬åªè¦æŠŠ getInstance() è®¾ç½®ä¸ºåŒæ­¥æ–¹æ³•ä¸å°±å®Œäº†å—ï¼Ÿ1234567private static synchronized Singleton getInstance() &#123; if (instance == null) &#123; instance = new Singleton(); &#125; return instance;&#125;ä½†æ˜¯ï¼Œè¿™ç§å®žçŽ°æ–¹æ³•å…·æœ‰å¾ˆä¸¥é‡çš„ æ€§èƒ½ç¼ºé™·ï¼›ç”±äºŽæ¯æ¬¡èŽ·å–å•ä¾‹å®žä¾‹éƒ½éœ€è¦å…ˆèŽ·å–é”ï¼Œå¯¼è‡´æ€§èƒ½ä½Žä¸‹ï¼›è€Œå®žé™…ä¸Šï¼Œåªéœ€è¦åœ¨å•ä¾‹çš„æž„å»ºè¿‡ç¨‹è¿›è¡ŒåŒæ­¥å³å¯ï¼›æ²¡æœ‰å¿…è¦åœ¨æ¯æ¬¡èŽ·å–å¯¹è±¡çš„æ—¶å€™éƒ½è¿›è¡ŒåŒæ­¥ã€‚ 4. é¥¿æ±‰å¼æ—¢ç„¶å¤šçº¿ç¨‹é€ æˆçš„é—®é¢˜æ˜¯åœ¨ getInstance() æ—¶å‘ç”Ÿçš„ï¼›è€Œä½¿ç”¨ synchronized å…³é”®å­—åˆå­˜åœ¨æ€§èƒ½ç¼ºé™·ï¼›é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸åœ¨ç±»åŠ è½½çš„ä¸€å¼€å§‹å°±è¿›è¡Œå®žä¾‹æž„å»ºå‘¢ï¼Ÿè¿™æ ·ï¼Œæ—¢é¿å…äº†å¤šçº¿ç¨‹é—®é¢˜ï¼Œåˆæ²¡æœ‰åŒæ­¥æŸå¤±ã€‚123456789101112public class Singleton &#123; private Singleton() &#123; &#125; private static final Singleton instance = new Singleton(); public static Singleton getInstance() &#123; return instance; &#125;&#125;è¿™æ ·è™½ç„¶è§£å†³äº†åŒæ­¥æŸå¤±ï¼Œä½†æ˜¯ï¼Œå•ä¾‹çš„æž„å»ºå¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªè€—æ—¶æ“ä½œï¼›å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªæ‡’åŠ è½½æ“ä½œï¼ŒåŒæ—¶ï¼Œå¦‚æžœå•ä¾‹çš„æž„å»ºéœ€è¦å¤–éƒ¨å‚æ•°çš„è¯ï¼Œè¿™ä¸ªæ–¹æ³•å°±ç”¨ä¸ä¸Šäº†ã€‚ 5. åŒæ£€é”å•ä¾‹è¿™ç§å•ä¾‹å®žçŽ°æ˜¯ç›®å‰ç”¨çš„æ¯”è¾ƒå¤šçš„å½¢å¼ï¼›æ—¢ç„¶å•ä¾‹çš„å¤šçº¿ç¨‹åŒæ­¥åªéœ€è¦åœ¨å¯¹è±¡æž„å»ºæ—¶è¿›è¡Œï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å¯¹ instance è¿›è¡Œä¸¤æ¬¡æ£€æŸ¥ã€‚12345678910111213private static Singleton getInstance() &#123; // æ£€æŸ¥å¯¹è±¡æ˜¯å¦å·²ç»æž„å»º if (instance == null) &#123; synchronized(Singleton.class) &#123; // é˜²æ­¢ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¿›å…¥ç¬¬ä¸€ä¸ª if é€ æˆçš„å¯¹è±¡é‡å¤æž„å»º if (instance == null) &#123; instance = new Singleton(); &#125; &#125; &#125; return instance;&#125;è¿™é‡Œç€é‡è§£é‡Šç¬¬äºŒä¸ªåˆ¤æ–­ï¼šå½“ä¸¤ä¸ªçº¿ç¨‹é€šè¿‡ç¬¬ä¸€ä¸ª if è¿›å…¥åŒæ­¥åŒºåŽï¼›çº¿ç¨‹ä¸€å…ˆèŽ·å–é”ï¼Œè¿›è¡Œå¯¹è±¡æž„å»ºï¼›çº¿ç¨‹ä¸€å®Œæ¯•åŽï¼Œçº¿ç¨‹äºŒè¿›å…¥åŒæ­¥åŒºï¼›å¦‚æžœæ­¤æ—¶æ²¡æœ‰ç¬¬äºŒä¸ª ifï¼Œé‚£ä¹ˆå¯¹è±¡å°±ä¼šè¿›è¡Œé‡å¤æž„å»ºã€‚å½“å¯¹è±¡æž„å»ºå®Œæ¯•åŽï¼Œå¤–éƒ¨çš„ if å°†ä¼šè·³è¿‡ï¼Œä¸ä¼šå†è¿›è¡ŒåŒæ­¥è¿‡ç¨‹ï¼›è¿™æ ·å°±è§£å†³äº†åŒæ­¥çš„æ€§èƒ½æŸå¤±ã€‚çœ‹èµ·æ¥è¿™ä¸ªå®žçŽ°å·²ç»å¾ˆå®Œç¾Žäº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰é—®é¢˜ï¼›é—®é¢˜å°±åœ¨äºŽï¼Œinstance = new Singleton() ä¸æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œè¿™ä¸ªæ“ä½œåˆ†ä¸ºä¸‰æ­¥ï¼šç»™ instance åˆ†é…å†…å­˜è°ƒç”¨ Singleton çš„æž„é€ å‡½æ•°è¿›è¡Œå¯¹è±¡æž„é€ å°† instance æŒ‡å‘åˆ†é…çš„å†…å­˜ç©ºé—´è€Œåœ¨ JIT å³æ—¶ç¼–è¯‘ä¼˜åŒ–ä¸­ï¼Œä¼šå‡ºçŽ°æŒ‡ä»¤é‡æŽ’ï¼›æœ€ç»ˆçš„æ‰§è¡Œé¡ºåºå¾ˆå¯èƒ½ä¸æ˜¯ 1-2-3 è€Œæ˜¯ 1-3-2ï¼›é‚£ä¹ˆåœ¨ 3 å®ŒæˆåŽï¼Œçº¿ç¨‹äºŒæŠ¢å é”ï¼Œæ­¤æ—¶ instance ä¸ä¸ºç©ºï¼ŒäºŽæ˜¯çº¿ç¨‹äºŒè¿”å›žï¼ŒæŠ¥é”™ã€‚ä¸€ä¸ªæ”¹è¿›åˆ™æ˜¯å¯¹äºŽ instance å˜é‡é‡‡ç”¨ volatile è¿›è¡Œä¿®é¥°ï¼Œé˜²æ­¢æŒ‡ä»¤é‡æŽ’ï¼›volatile å˜é‡åœ¨èµ‹å€¼æ“ä½œåŽä¼šå­˜åœ¨ å†…å­˜å±éšœï¼Œé˜²æ­¢è¯»æ“ä½œåœ¨èµ‹å€¼æ“ä½œä¹‹å‰è¿›è¡Œã€‚æ‰€ä»¥ï¼ŒåŒæ£€é”å•ä¾‹çš„æ­£ç¡®å®žçŽ°å½¢å¼å¦‚ä¸‹ï¼š12345678910111213141516171819public class Singleton &#123; private static volatile Singleton instance = null; private Singleton() &#123; &#125; public static Singleton getInstance() &#123; if (instance == null) &#123; synchronized(Singleton.class) &#123; if (instance == null) &#123; instance = new Singleton(); &#125; &#125; &#125; return instance; &#125;&#125; 6. é™æ€å†…éƒ¨ç±»å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„åŒæ£€é”å•ä¾‹çš„å®žçŽ°è¿‡äºŽç¹çï¼›æœ‰æ²¡æœ‰ä¸€ç§æ—¢çº¿ç¨‹å®‰å…¨ï¼Œåˆé‡‡ç”¨æ‡’åŠ è½½è€Œä¸”å®žçŽ°ç®€å•çš„å®žçŽ°æ–¹æ³•å‘¢ï¼Ÿæœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨é™æ€å†…éƒ¨ç±»æ¥å®žçŽ°å•ä¾‹ã€‚12345678910111213public class Singleton &#123; private Singleton() &#123; &#125; private static class SingletonHolder &#123; private static final Singleton INSTANCE = new Singleton(); &#125; public static Singleton getInstance() &#123; return SingletonHolder.INSTANCE; &#125;&#125;é¦–å…ˆçœ‹åˆ°ï¼Œæˆ‘ä»¬æŠŠå•ä¾‹çš„å®žä¾‹æ”¾å…¥äº†å®ƒçš„é™æ€å†…éƒ¨ç±»ä¸­ï¼›è¿™ç§å®žçŽ°æ–¹æ³•çš„éš¾åº¦æ¯”åŒæ£€é”å•ä¾‹ä¸‹é™äº†è®¸å¤šï¼›å…¶åŽŸç†åœ¨äºŽï¼Œæˆ‘ä»¬ä¸å† è‡ªè¡Œå®žçŽ° çº¿ç¨‹å®‰å…¨ï¼›é€šè¿‡å°†å®žä¾‹äº¤ç»™é™æ€å†…éƒ¨ç±»ï¼Œæˆ‘ä»¬å¯ä»¥è®© JVM ä¿è¯å¤©ç”Ÿçš„çº¿ç¨‹å®‰å…¨ã€‚å½“ Singleton è¢«åŠ è½½æ—¶ï¼Œå…¶å†…éƒ¨ç±»å¹¶ä¸ä¼šåˆå§‹åŒ–ï¼›è€Œå½“ getInstance() è°ƒç”¨æ—¶ï¼Œå…¶å†…éƒ¨ç±»è¢« åŠ è½½ å…¥å†…å­˜ä¸­ï¼›JVM ä¿è¯æ‰€æœ‰å¯¹ç±»çš„è¯»å†™æ“ä½œå‡åœ¨ç±»åŠ è½½ ä¹‹åŽ è¿›è¡Œï¼›è¿™æ ·ï¼Œå°±ä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼›åŒæ—¶ï¼Œç”±äºŽ getInstance() ä¸æ˜¯åŒæ­¥æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šæœ‰åŒæ­¥æŸå¤±ã€‚ 7. åºåˆ—åŒ–å’Œåå°„æ”»å‡»é‚£ä¹ˆï¼Œæˆ‘ä»¬çš„å•ä¾‹å®žçŽ°æ˜¯å¦å·²ç»æ²¡æœ‰é—®é¢˜äº†å‘¢ï¼Ÿå¹¶ä¸æ˜¯ï¼ç”±äºŽæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡è®¾å®š è®¿é—®ä¿®é¥°ç¬¦ æ¥è¾¾åˆ°å°†æž„é€ å‡½æ•°å°è£…çš„ç›®çš„ï¼›ä½†æ˜¯ï¼Œå½“å…¶ä»–ä½¿ç”¨è€…ä½¿ç”¨ åå°„ æ¥è¿›è¡Œå¯¹è±¡æž„å»ºæ—¶ï¼Œå•ä¾‹æ¨¡å¼å°±ä¼šè¢«ç ´åäº†ï¼12Constructor&lt;?&gt;[] cons = getDeclaredConstructors();cons. setAccessible(true);å…¶ä¸­ï¼Œä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜å°±æ˜¯å•ä¾‹çš„åºåˆ—åŒ–ï¼›å½“æˆ‘ä»¬é‡‡ç”¨ Serializable æŽ¥å£æ—¶ï¼›å¯¹è±¡åœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œä¼šä½¿ç”¨ åå°„ è°ƒç”¨æ— å‚æž„é€ æ–¹æ³•è¿›è¡Œå¯¹è±¡æž„é€ ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•é˜²æ­¢å¯¹è±¡è¢«åå°„æ”»å‡»å‘¢ï¼Ÿä¸€ç§æ–¹æ³•æ˜¯é‡‡ç”¨ flagï¼Œå¦‚æžœå¯¹è±¡è¢«åå°„æ”»å‡»ï¼Œé‚£ä¹ˆå°±æŠ›å‡ºå¼‚å¸¸ï¼›123456789101112public class Singleton &#123; private static boolean flag = false; private Singleton() &#123; if (Singleton.flag == false) &#123; Singleton.flag = true; &#125; else &#123; throw new RuntimeException("Reflect Attack!"); &#125; &#125;&#125;è€Œå¯¹äºŽåºåˆ—åŒ–é€ æˆçš„å¯¹è±¡çš„é‡å¤æž„å»ºï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨é‡è½½ readResolve() çš„æ–¹æ³•è¿›è¡Œã€‚123private Object readResolve() &#123; return INSTANCE;&#125; 8. æžšä¸¾å®žçŽ°(Best Practice)å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬æŠŠæ‰€æœ‰é—®é¢˜éƒ½è€ƒè™‘åˆ°ä¹‹åŽï¼Œå•ä¾‹çš„å®žçŽ°å·²ç»å˜å¾—éžå¸¸å¤æ‚äº†ã€‚æ‰€ä»¥æœ‰æ²¡æœ‰ä¸€ç§æ›´ä¸ºç®€å•çš„æ–¹æ³•èƒ½æ»¡è¶³ä¸Šé¢çš„æ‰€æœ‰è¦æ±‚å‘¢ï¼Ÿè¿™å°±æ˜¯æžšä¸¾å®žçŽ°ï¼š1234567public enum Singleton &#123; INSTANCE; public void doSomeThing() &#123; // operations &#125;&#125;ä½¿ç”¨ï¼š123public static void main(String[] args) &#123; Singleton.INSTANCE.doSomeThing();&#125;å®ƒæ»¡è¶³ï¼šçº¿ç¨‹å®‰å…¨æ— æ€§èƒ½æŸå¤±é˜²åå°„æ”»å‡»é˜²æ­¢åºåˆ—åŒ–é‡å¤æž„å»ºè€Œä¸”æ˜¯æœ€ä¸ºç®€å•çš„ä¸€ç§å•ä¾‹å®žçŽ°æ–¹æ³•ã€‚]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥åŽ‚æ¨¡å¼]]></title>
    <url>%2F%2FDesignPattern%2F%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°å·¥åŽ‚æ¨¡å¼ï¼Œæ˜¯å°†æž„é€ ç±»çš„è´£ä»»ä»Žç±»æˆ–è€…å­ç±»æœ¬èº«å§”æ‰˜åˆ°ä¸€ä¸ªæ–°çš„ç±»è¿›è¡Œçš„æ¨¡å¼ï¼›é€šè¿‡å°†ç±»çš„æž„å»ºè½¬ç§»åˆ°ä¸€ä¸ªæ–°çš„ç±»ï¼Œå‡å°‘äº†è€¦åˆåº¦ï¼Œåœ¨å…·ä½“çš„äº§å“éœ€è¦è¿›è¡Œä¿®æ”¹æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹è¯¥ç±»å³å¯ã€‚è¿™ä¸ªæ–°çš„ç±»è¢«ç§°ä¸ºå·¥åŽ‚ï¼Œæˆ–è€…åˆ›å»ºè€…(Creator)å®ƒåˆ†ä¸ºä¸‰ç§ï¼šç®€å•å·¥åŽ‚å·¥åŽ‚æ–¹æ³•æŠ½è±¡å·¥åŽ‚ 2. ç®€å•å·¥åŽ‚ç®€å•å·¥åŽ‚ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ ç®€å•åœ° å°†æž„å»ºäº§å“çš„æ­¥éª¤æ¬åˆ°å¦ä¸€ä¸ªç±»ä¸­åŽ»ã€‚éœ€è¦è¯´æ˜Žçš„æ˜¯ï¼Œç®€å•å·¥åŽ‚åœ¨ GOF ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸­ä¸è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„è®¾è®¡æ¨¡å¼ï¼›ä½†æ˜¯ï¼Œç”±äºŽå®žé™…ç¼–ç¨‹ä¸­ååˆ†å¸¸ç”¨ï¼Œæ‰€ä»¥ä¾æ—§æœ‰éœ€è¦è¯´æ˜Žä¸€ä¸‹ï¼›ä¾‹å¦‚ï¼Œä¸€ä¸ªæ¯”è¨åº—ï¼ŒåŽŸæ¥éœ€è¦åšæ¯”è¨ï¼Œçƒ¤æ¯”è¨ï¼Œåˆ‡æ¯”è¨å’ŒåŒ…è£…æ¯”è¨ï¼š12345678910111213141516171819202122public class PizzaStore &#123; public Pizza orderPizza(String type) &#123; Pizza pizza; // åˆ›å»ºæ¯”è¨ if (type.equals("cheese")) &#123; pizza = new CheesePizza(); &#125; else if (type.equals("pepperoni")) &#123; pizza = new PepperoniPizza(); &#125; // å…¶ä½™å‰©ä¸‹å·¥ä½œ pizza.prepare(); pizza.bake(); pizza.cut(); pizza.box(); return pizza; &#125;&#125;çŽ°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•å·¥åŽ‚ï¼Œæ¥æ‰¿æŽ¥åˆ›å»ºæ¯”è¨çš„èŒèƒ½ï¼š123456789101112131415161718192021222324252627282930313233343536public class PizzaStore &#123; SimpleFactory simpleFactory; public PizzaStore(SimpleFactor simpleFactor) &#123; this.simpleFactor = simpleFactor; &#125; public Pizza orderPizza(String type) &#123; Pizza pizza; // é€šè¿‡å·¥åŽ‚åˆ›å»ºæ¯”è¨ pizza = simpleFactory.createPizza(type); pizza.prepare(); pizza.bake(); pizza.cut(); pizza.box(); return pizza; &#125;&#125;public class SimpleFactory &#123; public Pizza createPizza(String type) &#123; Pizza pizza = null; if (type.equals("cheese")) &#123; pizza = new CheesePizza(); &#125; else if (type.equals("pepperoni")) &#123; pizza = new PepperoniPizza(); &#125; return pizza; &#125;&#125; 3. é™æ€å·¥åŽ‚äº‹å®žä¸Šï¼Œå¦‚æžœå·¥åŽ‚æ–¹æ³•æ— éœ€æ”¹å˜ï¼›é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†å…¶è®¾ç½®ä¸ºé™æ€çš„ï¼š123456789101112131415public class Pizza&#123; public static Pizza createPizza(String type) &#123; Pizza pizza = null; if (type.equals("cheese")) &#123; pizza = new CheesePizza(); &#125; else if (type.equals("pepperoni")) &#123; pizza = new PepperoniPizza(); &#125; return pizza; &#125;&#125;å®žé™…ä¸Šï¼Œé™æ€å·¥åŽ‚æ˜¯ ã€ŠEffective Javaã€‹ä¸­æŽ¨èä½¿ç”¨çš„å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼›ç”±äºŽé™æ€å·¥åŽ‚æ‹¥æœ‰æ›´ä¸ºè¯­ä¹‰åŒ–çš„å‘½åæ–¹å¼ï¼›è€Œä¸”è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œé™æ€å·¥åŽ‚å¯ä»¥æ ¹æ®å‚æ•°ç”Ÿæˆç›¸åº”çš„å­ç±»ï¼›è€Œå¦‚æžœä½¿ç”¨ new å…³é”®å­—ï¼Œåˆ™ä¸èƒ½å®žä¾‹åŒ–å­ç±»ã€‚ 4. å·¥åŽ‚æ–¹æ³•ç®€å•å·¥åŽ‚è™½ç„¶å°†äº§å“çš„æž„å»ºè¿‡ç¨‹ä»Žå®¢æˆ·ä¸­åˆ†ç¦»äº†å‡ºåŽ»ï¼›ä½†æ˜¯ï¼Œå¹¶æ²¡æœ‰è§£å†³æ ¹æœ¬é—®é¢˜ï¼›æ¯”è¨åº—è¿˜æ˜¯ä¾èµ–äºŽå…·ä½“çš„æ¯”è¨ç±»ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¸åŒé£Žå‘³çš„æ¯”è¨æ—¶ï¼Œä¼šè®©æˆ‘ä»¬çš„ç®€å•å·¥åŽ‚è‡ƒè‚¿ä¸å ªï¼š123456789101112131415161718192021222324public class SimpleFactory &#123; public Pizza createPizza(String style, String type) &#123; Pizza pizza = null; if (style.equals("NewYork")) &#123; if (type.equals("cheese")) &#123; pizza = new NYCheesePizza(); &#125; else if (type.equals("pepperoni")) &#123; pizza = new NYPepperoniPizza(); &#125; &#125; else if (style.equals("Chicago")) &#123; if (type.equals("cheese")) &#123; pizza = new ChicagoCheesePizza(); &#125; else if (type.equals("pepperoni")) &#123; pizza = new ChicagoPepperoniPizza(); &#125; &#125; return pizza; &#125;&#125;ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•æ˜¯ï¼Œé€šè¿‡æ´¾ç”Ÿå‡ºä¸åŒçš„å·¥åŽ‚å­ç±»ï¼Œè®©å­ç±»æ¥å®žä¾‹åŒ–ç›¸åº”çš„äº§å“ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬å°† PizzaStore è®¾ç½®ä¸ºæŠ½è±¡çš„ï¼Œå¹¶å°† createPizza() è®¾ç½®ä¸ºæŠ½è±¡æ–¹æ³•ï¼š12345678910111213141516public abstract class PizzaStore &#123; public Pizza orderPizza(String type) &#123; Pizza pizza; pizza = createPizza(type); pizza.prepare(); pizza.bake(); pizza.cut(); pizza.box(); return pizza; &#125; abstract Pizza createPizza(String type);&#125;è¿™æ ·ï¼ŒPizzaStore ç±»å°±æˆä¸ºäº† æŠ½è±¡çš„ åˆ›é€ è€…ï¼›æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç»§æ‰¿ PizzaStore æ¥å®žçŽ°ä¸åŒçš„æ¯”è¨åˆ›å»ºæ–¹å¼ã€‚å·¥åŽ‚æ–¹æ³•æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æŽ¥å£ï¼Œç„¶åŽç”±å­ç±»æ¥å†³å®šè¦å®žä¾‹åŒ–çš„ç±»ã€‚å·¥åŽ‚æ–¹æ³•è®©ç±»æŠŠå®žä¾‹åŒ–æŽ¨è¿Ÿåˆ° å­ç±» 5. ä¾èµ–å€’ç½®åŽŸåˆ™å·¥åŽ‚æ–¹æ³•æ˜¾è‘—åœ°å‡å°‘äº†ä»£ç å¯¹äºŽå…·ä½“ç±»çš„ä¾èµ–ï¼›äº‹å®žä¸Šï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡å‡å°‘å¯¹å…·ä½“ç±»çš„ä¾èµ–ï¼Œç”±æ­¤å¾—åˆ°æ–°çš„è®¾è®¡åŽŸåˆ™ï¼šè¦ä¾èµ–æŠ½è±¡ï¼Œä¸è¦ä¾èµ–å…·ä½“ç±»è¿™ä¸ªåŽŸåˆ™å¬èµ·æ¥å¾ˆåƒ ã€Žé’ˆå¯¹æŽ¥å£ç¼–ç¨‹ã€ï¼Œä¸è¿‡ä¸Žä¹‹ä¸åŒçš„æ˜¯ï¼Œè¯¥åŽŸåˆ™æ›´å¼ºè°ƒ æŠ½è±¡ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½è®©é«˜å±‚ç»„ä»¶(æ¯”è¨åº—)ä¾èµ–äºŽä½Žå±‚ç»„ä»¶(å…·ä½“çš„æ¯”è¨)ï¼›è€Œæ˜¯è¦è®©é«˜å±‚ç»„ä»¶å’Œä½Žå±‚ç»„ä»¶ éƒ½ä¾èµ–äºŽæŠ½è±¡(æŠ½è±¡çš„ Pizza ç±»)è¿™é‡Œçš„ å€’ç½® æŒ‡çš„å°±æ˜¯é«˜å±‚å’Œä½Žå±‚ç»„ä»¶éƒ½ä¾èµ–äºŽä¸€ä¸ªæŠ½è±¡ç±»å½¢æˆçš„ä¾èµ–å›¾å€’ç½®æƒ…å†µã€‚å½“æˆ‘ä»¬è€ƒè™‘ç±»è®¾è®¡æ—¶ï¼Œå¯ä»¥å…ˆä»Žä½Žå±‚ç»„ä»¶å¼€å§‹è®¾è®¡ï¼Œç„¶åŽè€ƒè™‘æŠ½è±¡å±‚ï¼Œæœ€åŽå†è€ƒè™‘é«˜å±‚ç»„ä»¶ã€‚ç”±äºŽé«˜å±‚å’Œä½Žå±‚ç»„ä»¶éƒ½å…±åŒä¾èµ–äºŽä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ‰€ä»¥é«˜ä½Žå±‚ç»„ä»¶å¾—åˆ°äº†è§£è€¦ã€‚ 6. æ‰§è¡Œå€’ç½®åŽŸåˆ™çš„æ–¹é’ˆå˜é‡ä¸å¯ä»¥æŒæœ‰å…·ä½“ç±»çš„å¼•ç”¨ä½¿ç”¨å·¥åŽ‚æ¥ä»£æ›¿æŒæœ‰çš„å…·ä½“ç±»ä¸è¦è®©ç±»æ´¾ç”Ÿè‡ªå…·ä½“ç±»å¦‚æžœæ´¾ç”Ÿè‡ªå…·ä½“ç±»å°±ä¼šäº§ç”Ÿä¾èµ–è¯·æ´¾ç”Ÿè‡ªä¸€ä¸ªæŽ¥å£æˆ–è€…æŠ½è±¡ç±»ä¸è¦è¦†ç›–åŸºç±»ä¸­å·²ç»å®žçŽ°çš„æ–¹æ³•åŸºç±»çš„æ–¹æ³•æ˜¯æ‰€æœ‰å…·ä½“å­ç±»å…±äº«çš„ä¾‹å¤–ï¼šå¯¹äºŽ ä¸å¯å˜ç±»(immutable)ï¼Œå¯ä»¥ä½¿ç”¨ new æ¥è¿›è¡Œå…·ä½“ç±»çš„å®žä¾‹åŒ–ï¼›è¿™æ˜¯å› ä¸º ä¸å¯å˜ç±» ä¸å…·å¤‡æ”¹å˜çš„èƒ½åŠ›ã€‚ 7. æŠ½è±¡å·¥åŽ‚ 7.1 å®šä¹‰æŠ½è±¡å·¥åŽ‚æ¨¡å¼æä¾›ä¸€ä¸ª æŽ¥å£ï¼Œç”¨äºŽåˆ›å»ºç›¸å…³æˆ–ä¾èµ–å¯¹è±¡çš„ å®¶æ—ï¼Œè€Œä¸éœ€è¦æ˜Žç¡®æŒ‡æ˜Žå…·ä½“ç±»ã€‚ç®€å•çš„æ¥è¯´ï¼ŒæŠ½è±¡å·¥åŽ‚å°±æ˜¯ å·¥åŽ‚çš„å·¥åŽ‚ï¼›é€šè¿‡åˆ›é€ å…·ä½“çš„å·¥åŽ‚æ¥åˆ›å»ºä¸åŒçš„äº§å“å®¶æ—ï¼›ç„¶åŽå°†è¿™ä¸ªäº§å“å®¶æ—æä¾›ç»™å®¢æˆ·ä½¿ç”¨ã€‚ 7.2 äº§å“æ—äº§å“æ—æŒ‡çš„æ˜¯ä½äºŽä¸åŒçš„äº§å“ç­‰çº§ç»“æž„ä¸­ï¼Œ åŠŸèƒ½ç›¸å…³è” çš„äº§å“ç»„æˆçš„å®¶æ—ã€‚å°±æ¯”è¨åº—çš„è¿™é‡Œä¾‹å­æ¥è¯´ï¼Œæˆ‘ä»¬å…·æœ‰ é…±æ±ã€é¢å›¢ã€èŠå£«å’Œè›¤èœŠ å››ç§ä¸åŒçš„é…æ–™ï¼›è¿™ å››ç§ä¸åŒçš„é…æ–™ å…±åŒç»„æˆäº†é…æ–™äº§å“æ—ã€‚å¯¹äºŽæŸä¸€ç§é…æ–™æœ¬èº«ï¼Œæœ‰ä¸åŒçš„é£Žå‘³ï¼›å¦‚èŠåŠ å“¥é£Žå‘³å’Œçº½çº¦é£Žå‘³ 7.3 ä½¿ç”¨æ¡ä»¶ç³»ç»Ÿæˆ–è€…å®¢æˆ·ä¸€æ¬¡åªèƒ½ä½¿ç”¨ ä¸€ä¸ª äº§å“æ—ï¼›äº§å“ä¹‹é—´å…·æœ‰è‰¯å¥½çš„åˆ†çº§å’Œäº§å“æ—åˆ†ç±» 7.4 é‡å†™æ¯”è¨åº—äº‹å®žä¸Šï¼Œä¸åŒé£Žå‘³çš„æ¯”è¨åªæ˜¯ä½¿ç”¨äº†ä¸åŒçš„åŽŸæ–™ï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨æŸä¸€ä¸ªåœ°åŒºçš„åŽŸæ–™äº§å“æ—å°±å¯ä»¥åšå‡ºé‚£ä¸ªåœ°åŒºé£Žå‘³çš„æ¯”è¨ï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥åŽ‚é‡å†™æ¯”è¨åº—ã€‚é¦–å…ˆï¼Œé‡å†™ Pizza ç±»ï¼Œè®©å…¶é‡‡ç”¨åŽŸæ–™äº§å“æ—ã€‚1234567891011121314public abstract class Pizza &#123; String name; // åŽŸæ–™äº§å“æ— Dough dough; Sauce sauce; Veggies veggies[]; Cheese cheese; Peppperoni pepperoni; Clams clam; // ä¸åŒçš„æ¯”è¨å“ç§å…·æœ‰ä¸åŒçš„å‡†å¤‡æ–¹æ³• abstract void prepare();&#125;åœ¨å…·ä½“çš„æ¯”è¨ç±»ä¸­ï¼Œé‡‡ç”¨åŽŸæ–™å·¥åŽ‚ã€‚12345678910public class CheesePizza extends Pizza &#123; PizzaIngredientFactory ingredientFactory; @Override public void prepare() &#123; dough = ingredientFactory.createDough(); sauce = ingredientFactory.createSause(); cheese = ingredientFactory.createCheese(); &#125;&#125;åœ¨æ¯”è¨åº—å®¢æˆ·ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‡å®šæŸä¸ªåŽŸæ–™å·¥åŽ‚ï¼Œå³å¯åˆ¶é€ å‡ºä¸åŒé£Žå‘³çš„æ¯”è¨ã€‚12345678910111213141516public class NYPizzaStore extends PizzaStore &#123; protected Pizza createPizza(String item) &#123; Pizza pizza = null; PizzaIngredientFactory ingredientFactory = new NYPizzaIngredientFactory(); if (item.equals("cheese")) &#123; pizza = new CheesePizza(ingredientFactory); pizza.setName("New York Style Cheese Pizza"); &#125; else if (item.equals("veggie")) &#123; pizza = new VeggiePizza(ingredientFactory); pizza.setName("New York Style Veggie Pizza"); &#125; &#125;&#125; 8. æ€»ç»“å·¥åŽ‚æ¨¡å¼æ˜¯å¸¸ç”¨çš„å¯¹é«˜ä½Žå±‚å¹³è¡Œç»„ä»¶è¿›è¡Œè§£è€¦çš„è®¾è®¡æ¨¡å¼ï¼›é€šè¿‡ä½¿ç”¨ å·¥åŽ‚ å’Œ æŠ½è±¡äº§å“ï¼Œä½¿å¾—å®¢æˆ·ç±»ï¼ˆé«˜å±‚ç»„ä»¶ï¼‰ä¸å†éœ€è¦ä¾èµ–äºŽå…·ä½“çš„äº§å“ï¼ˆä½Žå±‚ç»„ä»¶ï¼‰ï¼Œè€Œä¾èµ–äºŽæŠ½è±¡äº§å“ï¼ˆæŠ½è±¡å±‚ï¼‰ï¼›åŒæ—¶ï¼Œä½Žå±‚ç»„ä»¶é€šè¿‡å·¥åŽ‚ï¼Œä¹Ÿä¾èµ–äºŽæŠ½è±¡äº§å“ï¼Œå®žçŽ°é«˜ä½Žå±‚ç»„ä»¶çš„è§£è€¦ã€‚å…¶ä¸­ï¼Œå·¥åŽ‚æ–¹æ³•æ˜¯é€šè¿‡å°† æ–¹æ³• è§†ä¸ºå·¥åŽ‚ï¼Œå°†å…·ä½“äº§å“çš„åˆ›å»ºèŒè´£äº¤ç»™å­ç±»è§£å†³ï¼›è€ŒæŠ½è±¡å·¥åŽ‚åˆ™æ˜¯æŠ½è±¡å‡º å·¥åŽ‚æŽ¥å£ï¼Œé€šè¿‡ä¸åŒçš„ å…·ä½“å·¥åŽ‚ æ¥åˆ¶ä½œ äº§å“æ—ï¼›æœ‰è¶£çš„æ˜¯ï¼Œå·¥åŽ‚æŽ¥å£å’Œå…·ä½“å·¥åŽ‚ä¹‹é—´ï¼Œä¹Ÿæ˜¯ä½¿ç”¨äº†å·¥åŽ‚æ–¹æ³•æ¨¡å¼ã€‚]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”Ÿæˆå™¨æ¨¡å¼(Builder Pattern)]]></title>
    <url>%2F%2FDesignPattern%2F%E7%94%9F%E6%88%90%E5%99%A8%E6%A8%A1%E5%BC%8F(Builder%20Pattern)%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ç”Ÿæˆå™¨æ¨¡å¼(Builder Pattern) å¬èµ·æ¥å¾ˆåƒ å·¥åŽ‚æ¨¡å¼(Factory Pattern)ï¼Œä¸è¿‡ä¸¤è€…æœ‰ç€å¾ˆå¤§çš„ä¸åŒã€‚å·¥åŽ‚æ¨¡å¼çš„ç›®æ ‡æ˜¯åˆ©ç”¨å¤šæ€ï¼Œå‡å°‘ç±»ä¹‹é—´çš„è€¦åˆåº¦ï¼›è€Œç”Ÿæˆå™¨æ¨¡å¼çš„ç›®æ ‡åœ¨äºŽï¼Œ ä¸€æ­¥ä¸€æ­¥åœ°æž„å»ºä¸€ä¸ªå¤æ‚äº§å“ï¼ŒåŒæ—¶è§£å†³ç”±äºŽå¤æ‚å‚æ•°é€ æˆçš„æž„é€ å™¨æ•°é‡çˆ†ç‚¸ã€‚åŒæ—¶ï¼Œç”Ÿæˆå™¨éœ€è¦ä¸€ä¸ªæŒ‡å¯¼è€…æ¥ä¸€æ­¥ä¸€æ­¥åœ°æŒ‡å®šäº§å“æž„å»ºçš„å‚æ•°æˆ–è€…äº§å“æž„å»ºçš„æ­¥éª¤ï¼›è€Œå·¥åŽ‚æ¨¡å¼ä¸éœ€è¦æŒ‡å¯¼è€…ã€‚ 2. ç»“æž„ç±»å›¾ 3. æž„é€ å¤æ‚äº§å“æ‰€è°“çš„å¤æ‚äº§å“å°±æ˜¯ä¸€ä¸ªäº§å“ä¸­æœ‰å¾ˆå¤šå­ç±»ï¼Œè€Œä¸”æ¯ä¸ªå­ç±»éƒ½æœ‰ç›¸åº”çš„æž„é€ æµç¨‹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè›¤èœŠæ¯”è¨ï¼Œæ‹¥æœ‰é¢é¥¼ï¼Œé…±æ–™ï¼ŒèŠå£«ï¼Œè›¤èœŠç­‰å…¶ä»–é£Ÿæã€‚123456public class ClamPizza &#123; Dough dough; Sauce sauce; Cheese cheese; Clam clam;&#125;å¯¹äºŽè¿™æ ·ä¸€ä¸ªå¤æ‚äº§å“ï¼Œæˆ‘ä»¬å°±å°†å…¶æž„é€ çš„è¿‡ç¨‹å§”æ´¾ç»™ä¸€ä¸ªå»ºé€ è€…(Builder)æ¥å®Œæˆã€‚12345678public interface ClamPizzaBuilder &#123; ClamPizzaBuilder prepareDough(); ClamPizzaBuilder prepareSauce(); ClamPizzaBuilder prepareCheese(); ClamPizzaBuilder prepareClam(); ClamPizza build();&#125;ç„¶åŽï¼Œæˆ‘ä»¬å¯¹æŽ¥å£è¿›è¡Œå®žçŽ°ã€‚æ³¨æ„ï¼Œè¿™é‡Œæœ‰ä¸¤ç§å…·ä½“ç±»çš„å®žçŽ°æ–¹æ³•ï¼šåœ¨æž„å»ºå®žé™…å»ºé€ è€…æ—¶ï¼Œå°± ç«‹å³ åˆ›å»ºä¸€ä¸ª é»˜è®¤çš„äº§å“å¯¹è±¡ï¼›ç”±å®žé™…å»ºé€ è€…å‚¨å­˜åˆ›å»ºäº§å“çš„å‚æ•°ï¼Œå½“è°ƒç”¨ build() æ–¹æ³•æ—¶ï¼Œæ‰è¿”å›žäº§å“å¯¹è±¡åœ¨è¿™é‡Œï¼Œéœ€è¦æŒ‡æ˜Žçš„å°±æ˜¯æ–¹æ³•äºŒæ›´å¥½ï¼›å› ä¸ºæ–¹æ³•äºŒç¬¦åˆè¯­ä¹‰ï¼Œåªæœ‰è°ƒç”¨ build() æ‰çœŸæ­£çš„æž„å»ºäº†å¯¹è±¡ï¼›è€Œä¸”ä¹Ÿé€‚åˆäºŽä¸å¯å˜å¯¹è±¡ï¼ˆæž„é€ ä¹‹åŽå¯¹è±¡çš„å±žæ€§ä¸èƒ½å‘ç”Ÿæ”¹å˜ï¼‰ã€‚æ–¹æ³•ä¸€ï¼š123456789101112131415161718192021public class ConcreteClamPizzaBuilder implements ClamPizzaBuilder&#123; ClamPizza clamPizza = null; public ConcreteClamPizzaBuilder() &#123; clamPizza = new ClamPizza(); &#125; @Override public ClamPizzaBuilder prepareDough(Dough dough) &#123; // å‡†å¤‡é¢å›¢ï¼Œå¯ä»¥ç›´æŽ¥æ”¾å…¥ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå¤„ç†åŽæ”¾å…¥ return this; &#125; // å‰©ä¸‹çš„ prepare æ–¹æ³• @Override public ClamPizza build() &#123; return clamPizza; &#125;&#125;æ–¹æ³•äºŒï¼š123456789101112131415161718192021222324252627282930public class ClamPizza &#123; // fields public ClamPizza(ClamPizzaBuilder builder) &#123; this.dough = builder.dough; // etc. &#125;&#125;public class ConcreteClamPizzaBuilder implements ClamPizzaBuilder&#123; // fields public ConcreteClamPizzaBuilder() &#123; clamPizza = new ClamPizza(); &#125; @Override public ClamPizzaBuilder prepareDough(Dough dough) &#123; this.dough = dough; return this; &#125; // å‰©ä¸‹çš„ prepare æ–¹æ³• @Override public ClamPizza build() &#123; return ClamPizza(this); &#125;&#125;ç”Ÿæˆå™¨æ¨¡å¼å’Œå·¥åŽ‚æ¨¡å¼æœ€å¤§çš„ä¸åŒå°±æ˜¯æ‹¥æœ‰ä¸€ä¸ªæŒ‡æŒ¥è€…æ¥æŒ‡æŒ¥äº§å“çš„æž„å»ºè¿‡ç¨‹ï¼›1234567891011public class ClamPizzaDirector &#123; private ClamPizzaBuilder builder; // æŒ‡æŒ¥è€…ç”¨äºŽæŒ‡å®šäº§å“å»ºé€ çš„æ­¥éª¤ public ClamPizza construct() &#123; builder.prepareDough(); builder.prepareCheese(); builder.prepareClam(); builder.prepareSauce(); &#125;&#125;å½“ç„¶ï¼Œæœ‰äº›æ¯”è¨å¹¶ä¸éœ€è¦èŠå£«ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŽ»é™¤æŽ‰ prepareCheese() çš„è¿™ä¸€ä¸ªæ­¥éª¤ã€‚ 4. å†…éƒ¨ç”Ÿæˆå™¨å‡å°‘æž„é€ å™¨ç”Ÿæˆå™¨æ¨¡å¼é™¤äº†èƒ½æž„é€ å¤æ‚äº§å“ä»¥å¤–ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„ä½œç”¨å°±æ˜¯èƒ½è§£å†³ç”±äºŽæž„é€ å‚æ•°çš„ç»„åˆè¿‡å¤šæ‰€å¯¼è‡´çš„æž„é€ å™¨çˆ†ç‚¸ã€‚ 4.1 æž„é€ å™¨çˆ†ç‚¸å‡å¦‚ä¸€ä¸ªç±»æ‹¥æœ‰ 4 ä¸ªå±žæ€§ï¼Œé‚£ä¹ˆå®ƒ ç†æƒ³çŠ¶æ€ ä¸‹çš„æž„é€ å‡½æ•°å°±æœ‰ 0 ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå‚æ•°ï¼Œä¸¤ä¸ªå‚æ•°ï¼Œä¸‰ä¸ªå‚æ•°å’Œå››ä¸ªå‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒçš„æž„é€ å™¨æ•°é‡W=C40+C41+C42+C43+C44W = C_4^0 + C_4^1 + C_4^2 + C_4^3 + C_4^4W=C40â€‹+C41â€‹+C42â€‹+C43â€‹+C44â€‹å½“ç±»çš„å±žæ€§ä¸º nnn æ—¶ï¼Œæœ‰W=Cn0+Cn1+Cn2+â‹¯+Cnnâˆ’1+Cnn=2n\begin{aligned} W &amp;= C_n^0 + C_n^1 + C_n^2 + \cdots + C_n^{n-1} + C_n^n \\ &amp;= 2^n \end{aligned}Wâ€‹=Cn0â€‹+Cn1â€‹+Cn2â€‹+â‹¯+Cnnâˆ’1â€‹+Cnnâ€‹=2nâ€‹æ‰€ä»¥ï¼Œç±»çš„å±žæ€§å’Œç†æƒ³çŠ¶æ€ä¸‹çš„æž„é€ å™¨æ•°é‡ä¸º æŒ‡æ•°å…³ç³» 4.2 å®žçŽ°123456789101112131415161718192021222324252627282930313233343536public class Pizza &#123; Dough dough; Cheese cheese; Sauce sauce; private Pizza(Pizza.Builder builder) &#123; this.dough = builder.dough; this.cheese = builder.cheese; this.sauce = builder.sauce; &#125; public static class Builder &#123; private Dough dough = defaultDough; private Cheese cheese = null; private Sauce sauce = null; public Builder prepareDough(Dough dough) &#123; this.dough = dough; return this; &#125; public Builder prepareCheese(Cheese cheese) &#123; this.cheese = cheese; return this; &#125; public Builder prepareSauce(Sauce sauce) &#123; this.sauce = sauce; return this; &#125; public Pizza build() &#123; return new Pizza(this); &#125; &#125;&#125;è¿™æ ·ï¼Œå³ä½¿ Pizza æœ‰ä¸‰ä¸ªå±žæ€§ï¼Œä½†æ˜¯æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ä¸€ä¸ªå†…ç½®çš„ Builderï¼ŒæˆåŠŸåœ°å°†æž„é€ å™¨é™åˆ¶åœ¨äº†ä¸€ä¸ªï¼›åŒæ—¶ï¼Œç”±äºŽæ¯ä¸ª prepare æ–¹æ³•éƒ½ä¼šè¿”å›ž Builderï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªå‡†å¤‡é˜¶æ®µè¿›è¡Œ build()ï¼›è¿™æ ·ï¼Œä¹Ÿå°±æ»¡è¶³äº†ä¸åŒçš„å‚æ•°ç»„åˆçš„éœ€æ±‚ï¼›åŒæ—¶ï¼Œç”±äºŽ Pizza çš„æž„é€ å‡½æ•°æ˜¯ private çš„ï¼Œæ‰€ä»¥è¿™å°±é™å®šäº†åªèƒ½é€šè¿‡ç”Ÿæˆå™¨æ¥å»ºé€ å¯¹è±¡ã€‚ä½¿ç”¨ï¼š1234567public static void main(String[] args) &#123; Pizza Pizza = new Pizza.Builder() .prepareDough(dough) .prepareSauce(sauce) .prepareCheese(cheese) .build();&#125; 5. æ¨¡å¼æ‰©å±•å½“åªæœ‰ä¸€ä¸ªå…·ä½“å»ºé€ è€…æ—¶ï¼Œå¯ä»¥ç›´æŽ¥çœç•¥ç”Ÿæˆå™¨æŽ¥å£ï¼›ä¾‹å¦‚ä¸Šé¢çš„é™æ€å†…éƒ¨ç”Ÿæˆå™¨ã€‚æœ‰æ—¶å€™å¯ä»¥ç›´æŽ¥çœç•¥æŒ‡æŒ¥è€…å¯¹è±¡ï¼Œè€Œç”± å®¢æˆ· ç›´æŽ¥å……å½“æŒ‡å¯¼è€…ï¼›ä¾‹å¦‚ï¼Œå®¢æˆ·è‡ªå·±å†²æ³¡å’–å•¡ã€‚ 6. ä¸ŽæŠ½è±¡å·¥åŽ‚çš„ä¸åŒæŠ½è±¡å·¥åŽ‚æ¨¡å¼ç”Ÿäº§çš„æ˜¯ä¸€ä¸ªäº§å“æ—ï¼Œè€Œç”Ÿæˆå™¨æ¨¡å¼æ‰€ç”Ÿäº§çš„ ä¸€ä¸ª å¤æ‚äº§å“ï¼›å½¢è±¡çš„è¯´æ˜Žå°±æ˜¯ï¼ŒæŠ½è±¡å·¥åŽ‚ç”Ÿäº§çš„æ˜¯ æ±½è½¦çš„é›¶éƒ¨ä»¶ï¼›è€Œç”Ÿæˆå™¨æ˜¯å°†é›¶éƒ¨ä»¶ ç»„è£… æˆä¸ºä¸€è¾†æ±½è½¦ã€‚ 7. ä¼˜ç¼ºç‚¹ 7.1 ä¼˜ç‚¹è‰¯å¥½çš„å°è£…æ€§ï¼Œå®¢æˆ·ç«¯ä¸å¿…çŸ¥é“äº§å“çš„å†…éƒ¨ç»†èŠ‚å»ºé€ è€…æ˜¯ç‹¬ç«‹çš„ï¼Œå®¹æ˜“æ‰©å±•å¯ä»¥ä½¿ç”¨å…¶ä»–çš„å¯¹è±¡è¿›è¡Œæž„é€ è¾…åŠ©ï¼Œè€Œæ™®é€šçš„äº§å“æž„é€ æ–¹å¼ä¸å®¹æ˜“èŽ·å–åˆ° 7.2 ç¼ºç‚¹äº§ç”Ÿå¤šä½™çš„ Builder å¯¹è±¡å»ºé€ çš„è¿‡ç¨‹æš´éœ²åœ¨å¤–]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœç´¢ç®—æ³•çš„åº”ç”¨]]></title>
    <url>%2F%2FAlgorithm%2F%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E7%9A%84%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[1. å¯»æ‰¾é‡å¤å…ƒç´ åœ¨æŽ’åºåº”ç”¨ä¸­ä¹Ÿå¯ä»¥å¯»æ‰¾é‡å¤å…ƒç´ ï¼Œä½†æ˜¯ä½¿ç”¨ç¬¦å·è¡¨åˆ™æ›´ä¸ºé«˜æ•ˆï¼ˆç‰¹åˆ«æ˜¯æ•£åˆ—å®žçŽ°ï¼‰ã€‚å°†æ•°ç»„éåŽ†ä¸€éï¼ŒéšåŽæŸ¥æ‰¾è¡¨å†…æ˜¯å¦å­˜åœ¨è¿™ä¸€å…ƒç´ ï¼Œå¦‚æžœä¸å­˜åœ¨åˆ™æ·»åŠ è¿›è¡¨ä¸­ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™è¯´æ˜Žæ‰¾åˆ°äº†é‡å¤å…ƒç´ åˆ†æžï¼šéåŽ†ä¸€éæ•°ç»„æ‰€éœ€è¦çš„æ—¶é—´æ˜¯ O(N)O(N)O(N)ï¼Œç”±äºŽæ•£åˆ—è¡¨çš„æŸ¥æ‰¾å’Œæ’å…¥éƒ½æ˜¯å¸¸æ•°çº§åˆ«çš„ï¼Œæ‰€ä»¥æ•´ä½“çš„å¤æ‚åº¦æ˜¯ O(N)O(N)O(N)æŽ’åºåˆ™éœ€è¦ O(NlogN)O(NlogN)O(NlogN) çš„æ—¶é—´ï¼Œåœ¨æœ€åæƒ…å½¢ä¸‹éœ€è¦éåŽ†ä¸€éæ•´ä¸ªæ•°ç»„(O(N)O(N)O(N))ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(N+NlogN)O(N + NlogN)O(N+NlogN) æ¯”ç¬¦å·è¡¨ç¨å¤§ã€‚ 2. å­—å…¸å®žçŽ°ç¬¦å·è¡¨çš„é”®å€¼å¯¹ç‰¹æ€§æœ€é€‚åˆå®žçŽ°çš„å°±æ˜¯ä¸€ä¸ªå­—å…¸ç±»ï¼Œå…¶ä¸­åŒ…æ‹¬ç”µè¯é»„é¡µã€å­—å…¸ã€è´¦æˆ·ä¿¡æ¯ ç­‰ç­‰ 3. è¿‡æ»¤å™¨å¯ä»¥ç”¨ç¬¦å·è¡¨è¿‡æ»¤é‡å¤å…ƒç´ ï¼Œå»ºç«‹é»‘åå•å’Œç™½åå•ç­‰ã€‚è¿™ä¸»è¦æ˜¯ä¾èµ–äºŽç¬¦å·å®çš„é«˜æ•ˆçš„æŸ¥æ‰¾æ“ä½œã€‚ 4. åå‘ç´¢å¼•å¯ä»¥å°†é”®å’Œå€¼äº’æ¢ï¼Œå»ºç«‹åå‘ç´¢å¼•ï¼Œå®žçŽ°ç›¸äº’æœç´¢ã€‚ 5. çŸ©é˜µä¹˜æ³•çŸ©é˜µä¹˜æ³•ä¸­çš„ 0 æ˜¯æ— ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æž„å»ºä¸€ä¸ª å‘é‡ç±» ï¼Œä½¿ç”¨ä¸€ä¸ªç¬¦å·è¡¨ï¼Œ é”®å€¼ä¸ºå‘é‡ä¸­ä¸ä¸ºé›¶å…ƒç´ çš„æ•°ç»„ç´¢å¼•å’Œç›¸åº”çš„å€¼ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ª å‘é‡æ•°ç»„ æ¥ä»£è¡¨çŸ©é˜µï¼›é€šè¿‡å‘é‡ç‚¹ä¹˜çš„ç»“æžœï¼Œæ¥å¾—åˆ°æ–°çŸ©é˜µçš„æŸä¸ªå…ƒç´ çš„å€¼ã€‚è¿›è¡Œç‚¹ä¹˜æ—¶ï¼Œåªéœ€è¦æŸ¥æ‰¾å‡ºå…ƒç´ ï¼Œå†ä¾ç…§å‚¨å­˜çš„ç´¢å¼•æ‰¾åˆ°ç›¸åº”çš„å€¼ç›¸ä¹˜å³å¯12345678910111213141516171819202122232425262728293031public class SparseVector &#123; private HashST&lt;Integer, Double&gt; st; public SparseVectro() &#123; st = new HashST&lt;Integer, Double&gt;(); &#125; public int size() &#123; return st.size(); &#125; public void put(int i, double x) &#123; st.put(i, x); &#125; public double get(int i) &#123; if (!st.contains(i)) &#123; return 0.0; &#125; else &#123; return st.get(i); &#125; &#125; public double dot(double[] that) &#123; double sum = 0.0; for (int i : st.keys()) &#123; sum += that[i] * this.get(i); &#125; return sum; &#125;&#125;]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•£åˆ—è¡¨(Hash Table)]]></title>
    <url>%2F%2FAlgorithm%2F%E6%95%A3%E5%88%97%E8%A1%A8(Hash%20Table)%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°æ•£åˆ—è¡¨æ˜¯ä½¿ç”¨æ•£åˆ—å‡½æ•°ï¼Œå°†ç›¸åº”çš„é”®å€¼å¯¹æ˜ å°„åˆ°æ•°ç»„çš„æŸä¸ªä½ç½®çš„æ•°æ®ç»“æž„ã€‚å®ƒåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ç›¸å¯¹äºŽå…¶ä»–çš„æ•°æ®ç»“æž„è¦æ•ˆçŽ‡æ›´é«˜ï¼Œä½ ç”šè‡³å¯ä»¥å®žçŽ°åœ¨å¸¸æ•°æ—¶é—´å†…è¿›è¡ŒæŸ¥æ‰¾å’Œæ’å…¥æ“ä½œçš„ç¬¦å·è¡¨ã€‚ä½†æ˜¯å®ƒä¹Ÿæœ‰ç›¸åº”çš„ç¼ºç‚¹ï¼Œä¸‹é¢å°†ä¼šè¯¦ç»†è®²è¿° 2. æ•£åˆ—å‡½æ•°æ•£åˆ—è¡¨ä¸€ä¸ªé‡è¦éƒ¨åˆ†å°±æ˜¯æ•£åˆ—å‡½æ•°çš„è®¡ç®—ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•£åˆ—å‡½æ•°å°†é”®å€¼è½¬æ¢ä¸ºæ•°ç»„çš„ç´¢å¼•ã€‚è®¡ç®—æ•£åˆ—å€¼ä¸€ä¸ªå¾ˆé‡è¦çš„æ–¹é¢å°±æ˜¯è®©é”®å€¼å°½é‡åˆ†å¸ƒåˆ°æ•´ä¸ªè¡¨ä¸­åŽ»ï¼Œä»¥é¿å…ç¢°æ’žçš„å‘ç”Ÿã€‚å¦‚æžœæˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªå¤§å°ä¸º MMM çš„æ•°ç»„ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è¿”å›ž[0,Mâˆ’1][0, M - 1][0,Mâˆ’1] çš„æ•£åˆ—å€¼ã€‚æ•£åˆ—å€¼çš„è®¡ç®—ä¸Žç±»åž‹ç›¸å…³ã€‚ 2.1 Java çš„çº¦å®šå¯¹äºŽ Java æ¥è¯´ï¼Œæ¯”è¾ƒå¹¸è¿çš„æ˜¯ï¼ŒJava å¯¹äºŽå†…ç½®ç±»åž‹éƒ½å®žçŽ°äº†ä¸€ä¸ª hashCode() æ–¹æ³•ï¼Œè¿”å›žä¸€ä¸ª 32 ä½çš„ int ä½œä¸º hashCodeï¼›æˆ‘ä»¬å¯ä»¥ç›´æŽ¥ä½¿ç”¨è¿™ä¸ª hashCode æ¥å®žçŽ°æˆ‘ä»¬è‡ªå·±çš„æ•£åˆ—å€¼è®¡ç®—ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJava è¦æ±‚å¦‚æžœ x å’Œ y ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬ä¸¤è€…çš„ hashCode ä¹Ÿç›¸ç­‰ã€‚ 2.2 æ•£åˆ—è®¡ç®—æ–¹æ³•å¸¸ç”¨çš„æ•£åˆ—æ–¹æ³•æ˜¯é™¤ç•™ä½™æ•°æ³•ã€‚æˆ‘ä»¬é€‰æ‹©å¤§å°ä¸º MMM çš„æ•°ç»„ï¼Œå¯¹äºŽä»»æ„çš„æ­£æ•´æ•° kï¼Œè®¡ç®— k % Mï¼Œè¿™æ ·å°±èƒ½æœ‰æ•ˆçš„å°†é”®åˆ†å¸ƒäºŽ [0,Mâˆ’1][0, M - 1][0,Mâˆ’1]MMM æœ€å¥½é€‰æ‹©ä½¿ç”¨è´¨æ•°ã€‚è™½ç„¶çŽ°åœ¨ç»™ä¸å‡ºä¸¥è°¨çš„æ•°å­¦è¯æ˜Žï¼Œä½†æ˜¯å·¥ç¨‹å®žè·µä¸­è¯´æ˜Žä½¿ç”¨è´¨æ•°ä½œä¸ºé™¤æ•°å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨é”®å€¼çš„ä¿¡æ¯ã€‚ 2.3 ä½¿ç”¨ hashCode çš„è®¡ç®—é—®é¢˜ä¸‹é¢æ˜¯ä¸€ä¸ªå®žçŽ°çš„ä¾‹å­ï¼š123private int hash(Key x) &#123; return (Math.abs(x.hashCode())) % M;&#125;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå› ä¸º Java çš„ hashCode è¿”å›žçš„æ˜¯ä¸€ä¸ª int å€¼ï¼›è¿™è¯´æ˜Ž hashCode çš„èŒƒå›´æ˜¯ âˆ’231âˆ¼231âˆ’1-2^{31} \sim 2^{31} - 1âˆ’231âˆ¼231âˆ’1ï¼›ä½†æ˜¯æˆ‘ä»¬éœ€è¦çš„æ•£åˆ—å€¼è¦ä½äºŽ [0,Mâˆ’1][0, M - 1][0,Mâˆ’1]ï¼›æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆè¦å°† hashCode å–ç»å¯¹å€¼ã€‚é€šå¸¸æ¥è¯´ï¼Œå–ç»å¯¹å€¼ä¸€èˆ¬ä½¿ç”¨ Math.abs()ï¼›ä½†æ˜¯ï¼Œç”±äºŽ hashCode å¯ä»¥å–åˆ°æ•´ä¸ª 32 ä½æ•´å½¢çš„èŒƒå›´ï¼›å½“ hashCode ä¸º âˆ’231-2^{31}âˆ’231 æ—¶ï¼ŒMath.abs() æ˜¯ä½¿ç”¨ -1 ä¸Žä¹‹ç›¸ä¹˜ï¼›æ­¤æ—¶ï¼Œæ•°å€¼å˜ä¸º 2312^{31}231ï¼Œå‡ºçŽ° ä¸Šæº¢ï¼Œä¾¿ä¼šå›žç»•è‡³ âˆ’231-2^{31}âˆ’231ï¼›æ‰€ä»¥ï¼Œâˆ’231-2^{31}âˆ’231 çš„ç»å¯¹å€¼æ˜¯å…¶æœ¬èº«ï¼æ­£ç¡®çš„åšæ³•å¦‚ä¸‹ï¼š123private int hash(Key x) &#123; return (x.hashCode() &amp; 0x7fffffff) % M;&#125;é€šè¿‡å¿½ç•¥æ•´å½¢ä¸­çš„ç¬¦å·ä½æ¥è¾¾åˆ°å–ç»å¯¹å€¼çš„ä½œç”¨ã€‚ 2.4 æµ®ç‚¹æ•°å¯¹äºŽ 0 åˆ° 1 æµ®ç‚¹æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä¹˜ä»¥ MMM å¹¶å››èˆäº”å…¥å¾—åˆ°ç´¢å¼•ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•ä¸‹ï¼Œæµ®ç‚¹æ•°çš„é«˜ä½ä½œç”¨æ›´å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆå°†æµ®ç‚¹æ•°è½¬ä¸ºäºŒè¿›åˆ¶æ•°ï¼ŒéšåŽä½¿ç”¨é™¤ç•™ä½™æ•°æ³• 2.5 å­—ç¬¦ä¸²å¯¹äºŽå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨é™¤ç•™ä½™æ•°æ³•ã€‚é€šè¿‡ chatAt() æ¥è¿”å›žä¸€ä¸ª char å€¼ã€‚ä»¥ä¸‹çš„ä»£ç ä½¿ç”¨ Horner ç®—æ³•æ¥ç”Ÿæˆæ•£åˆ—å€¼1234int hash = 0;for (int i = 0; i &lt; s.lengh(); i++) &#123; hash = (R * hash + s.charAt(i)) % M&#125; 2.6 ç»„åˆé”®å¦‚æžœé”®çš„ç±»åž‹å«æœ‰å¤šä¸ªæ•´åž‹å˜é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†å®ƒä»¬ç»“åˆèµ·æ¥è¿›è¡Œè®¡ç®—ã€‚ä¾‹å¦‚ï¼š1int hash = (((day * R + month) % M) * R + year) % M; 2.7 ç¼“å­˜å¦‚æžœæ•£åˆ—å€¼çš„è®¡ç®—å¾ˆè€—æ—¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æˆ–è®¸å¯ä»¥å°†æ¯ä¸ªé”®çš„æ•£åˆ—å€¼ç¼“å­˜èµ·æ¥Java å†…ç½®çš„ String å°±ä½¿ç”¨äº†è¿™ç§æ–¹æ³•æ¥å‡å°‘è®¡ç®—é‡ã€‚ 2.8 ç»“è®ºä¸ºä¸€ä¸ªæ•°æ®ç±»åž‹å®žçŽ°æ•£åˆ—å‡½æ•°éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼šä¸€è‡´æ€§â€”â€”ç­‰ä»·çš„é”®å¿…å®šäº§ç”Ÿç›¸ç­‰çš„æ•£åˆ—å€¼é«˜æ•ˆæ€§å‡åŒ€æ€§ 3. ç¢°æ’žå¤„ç†æ•£åˆ—è¡¨çš„å¦ä¸€ä¸ªé‡è¦éƒ¨åˆ†æ˜¯ç¢°æ’žå¤„ç†ã€‚æ— è®ºå¦‚ä½•è®¾è®¡æ•£åˆ—å‡½æ•°ï¼Œæ€»ä¼šå‡ºçŽ°ä¸¤ä¸ªä¸åŒçš„é”®å¾—åˆ°åŒä¸€ä¸ªæ•£åˆ—å€¼çš„æƒ…å†µï¼Œè¿™å°±å«åšç¢°æ’žã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹ç¢°æ’žè¿›è¡Œå¤„ç†ã€‚ 3.1 æ‹‰é“¾æ³•ä¸€ç§å¤„ç†ç¢°æ’žçš„æ–¹æ³•å°±æ˜¯æ‹‰é“¾æ³•ï¼Œå®žé™…ä¸Šå°±æ˜¯ä½¿ç”¨é“¾è¡¨å‚¨å­˜ç¢°æ’žçš„å…ƒç´ ã€‚æ¯ä¸ªæ•°ç»„å…ƒç´ éƒ½æ˜¯ä¸€ä¸ªé“¾è¡¨å¤´ï¼ŒéšåŽè·Ÿç€ä¸Žå…¶ç¢°æ’žçš„å…ƒç´ æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„æ•°ç»„å¤§å° MMM å¯ä»¥å°äºŽé”®å€¼æ•°é‡ NNN 3.1.1 å®žçŽ°12345678910111213141516171819202122232425262728293031public class SeparateChainingHashST&lt;Key, Value&gt; &#123; private int N; // é”®å€¼å¯¹æ€»æ•° private int M; // æ•£åˆ—è¡¨çš„å¤§å° private SequentialSearchST&lt;Key, Value&gt;[] st; // å­˜æ”¾é“¾è¡¨çš„æ•°ç»„ public SeparateChainingHashST() &#123; this(997); &#125; public SeparateChainingHashST(int M) &#123; // Create linked list this.M = M; st = (SequentialSearchST&lt;Key, Value&gt;[]) new SequentialSearchST[M]; for (int i = 0; i &lt; M; i++) &#123; st[i] = new SequentialSearchST(); &#125; &#125; private int hash(Key key) &#123; return (key.hashCode() &amp; 0x7fffffff) % M; &#125; private Value get(Key key) &#123; return (Value) st[hash(key)].get(key); &#125; private void put(key, val) &#123; st[hash(key)].put(key, val); &#125;&#125;å…³äºŽåˆ é™¤æ“ä½œï¼Œæ‹‰é“¾æ³•çš„åˆ é™¤æ“ä½œç›¸å¯¹ç®€å•ï¼Œåªéœ€è¦æ‰¾åˆ° SequentialSearchST å¯¹è±¡ï¼Œç›´æŽ¥è°ƒç”¨ delete() æ–¹æ³•å³å¯ã€‚å®žé™…ä¸Šå°±æ˜¯é“¾è¡¨çš„åˆ é™¤æ“ä½œã€‚ 3.1.2 æ€§èƒ½åœ¨ä¸€å¼ å«æœ‰ MMM æ¡é“¾è¡¨å’Œ NNN ä¸ªé”®çš„æ•£åˆ—è¡¨ä¸­ï¼Œä»»æ„ä¸€æ¡é“¾è¡¨çš„é”®çš„æ•°é‡å‡åœ¨ N/MN/MN/M çš„å¸¸æ•°èŒƒå›´å†…çš„æ¦‚çŽ‡æ— é™è¶‹å‘ 111åœ¨ä¸€å¼ å«æœ‰ MMM æ¡é“¾è¡¨å’Œ NNN ä¸ªé”®çš„æ•£åˆ—è¡¨ä¸­ï¼Œæœªå‘½ä¸­æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œæ‰€éœ€çš„æ¯”è¾ƒæ¬¡æ•°ä¸º âˆ¼N/M\sim N/Mâˆ¼N/Mè¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæ•£åˆ—è¡¨çš„æ•ˆçŽ‡æ˜¯å¾ˆé«˜çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªéœ€è¦å¸¸æ•°çº§åˆ«çš„æ—¶é—´å³å¯å®Œæˆæœç´¢å’Œæ’å…¥ 3.2 å¼€æ”¾åœ°å€æ³•å¦ä¸€ç§ç¢°æ’žå¤„ç†æ–¹æ³•å•Šå°±æ˜¯å¼€æ”¾åœ°å€æ³•ï¼Œå®ƒå€¾å‘äºŽåˆ©ç”¨æ•°ç»„ä¸­çš„ç©ºä½æ¥è§£å†³å†²çªã€‚æ‰€ä»¥å¦‚æžœä½¿ç”¨è¿™ç§æ–¹æ³•æ¥è¿›è¡Œç¢°æ’žå¤„ç†ï¼Œé‚£ä¹ˆå°±è¦æ±‚æ•°ç»„çš„æ•°é‡ MMM å¤§äºŽé”®å€¼æ•°é‡ NNNã€‚ 3.2.1 å®žçŽ°å¼€æ”¾åœ°å€çš„æœ€ç®€å•å®žçŽ°å«åšçº¿æ€§æŽ¢æµ‹æ³•ï¼šå½“ç¢°æ’žå‘ç”Ÿæ—¶ï¼Œç›´æŽ¥æ£€æŸ¥æ•°ç»„çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚è¿™ä¼šäº§ç”Ÿä¸‰ç§ç»“æžœï¼šå‘½ä¸­æœªå‘½ä¸­ï¼ˆä¸ºç©ºï¼‰æœªå‘½ä¸­ï¼ˆè¯¥ä½ç½®çš„é”®ä¸Žè¢«æŸ¥æ‰¾çš„é”®ä¸åŒï¼‰ç‰¹åˆ«é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬è¦åœ¨åˆ°è¾¾æ•°ç»„ç»“å°¾æ—¶è¿”å›žå¼€å¤´ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172public class LinearProbingHashST&lt;Key, Value&gt; &#123; private int N; private int M; private Key[] keys; private Value[] vals; public LinearProbingHashST() &#123; keys = (Key[]) new Object[M]; vals = (Value[]) new Object[M]; &#125; private int hash(Key key) &#123; return (key.hashCode() &amp; 0x7fffffff) % M; &#125; private void resize() [ /* resize method*/ &#125; public put(Key key, Value val) &#123; if (N &gt;= M / 2) resize(2 * M); int i; for (i = hash(key); keys[i] != null; i = (i + 1) % M) &#123; if (keys[i].equals(key)) &#123; vals[i] = val; return; &#125; &#125; keys[i] = key; vals[i] = val; N++; &#125; public Value get(Key key) &#123; for (int i = hash(key); keys[i] != nul; i = (i + 1) % M) &#123; if (keys[i].equals(key)) &#123; return vals[i]; &#125; &#125; return null; &#125; public void delete(Key key) &#123; if (!contains(key)) &#123; return; &#125; int i = hash(key); while(!key.equals(keys[i])) &#123; i = (i + 1) % M; &#125; keys[i] = null; vals[i] = null; i = (i + 1) % M; while (keys[i] != null) &#123; Key keyToRedo = keys[i]; Value valToRedo = vals[i]; keys[i] = null; vals[i] = null; N--; put(keyToRedo, valToRedo); i = (i + 1) % M; &#125; N --; if (N &gt; 0 &amp;&amp; N == M / 8) resize(M /2); &#125;&#125;å…³äºŽåˆ é™¤æ“ä½œï¼šæˆ‘ä»¬ä¸èƒ½ç›´æŽ¥å°†é”®çš„ä½ç½®è®¾ç½®ä¸º nullï¼Œè¿™ä¼šå¯¼è‡´å‰©ä¸‹çš„é”®æ— æ³•è¢«æ‰¾åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†è¢«åˆ é™¤é”®çš„å³ä¾§çš„é”®é‡æ–°æ’å…¥ 3.2.2 æ€§èƒ½åœ¨ä¸€å¼ å¤§å°ä¸º MMM å¹¶å«æœ‰ N=Î±MN = \alpha MN=Î±M ä¸ªé”®çš„åŸºäºŽçº¿æ€§æŽ¢æµ‹çš„æ•£åˆ—è¡¨ä¸­ï¼Œå‘½ä¸­å’Œæœªå‘½ä¸­çš„æŸ¥æ‰¾æ‰€éœ€è¦çš„æŽ¢æµ‹æ¬¡æ•°åˆ†åˆ«ä¸ºï¼šâˆ¼12(1+11âˆ’a)\sim \frac{1}{2}(1 + \frac{1}{1 - a})âˆ¼21â€‹(1+1âˆ’a1â€‹)âˆ¼12(1+1(1âˆ’a)2)\sim \frac{1}{2}(1 + \frac{1}{(1 - a)^2})âˆ¼21â€‹(1+(1âˆ’a)21â€‹)æ‰€ä»¥ï¼Œå¦‚æžœè¦ç»´æŠ¤çº¿æ€§æŽ¢æµ‹æ³•çš„æœ€ä½³æ€§èƒ½ï¼›åº”å°½é‡ä¿è¯æ•°ç»„æ˜¯åŠæ»¡çš„ 4. ç»“è®ºæ•£åˆ—è¡¨åœ¨ä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥å®žçŽ°å¸¸æ•°çº§åˆ«çš„æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œæ€§èƒ½ä¿è¯æ¥è‡ªäºŽæ•£åˆ—å‡½æ•°çš„è´¨é‡è¿™ä¼šå¯¼è‡´æ•£åˆ—è¡¨æ€§èƒ½çš„ä¸ç¨³å®šï¼ŒåŒæ—¶å®¹æ˜“å—åˆ°å¤–éƒ¨æ”»å‡»ã€‚ä¸€äº›ç‰¹æ®Šçš„æ•°æ®åœ¨ç»è¿‡æ•£åˆ—è®¡ç®—åŽä¼šæ˜ å°„åˆ°åŒä¸€ä¸ªä½ç½®ï¼Œæ­¤æ—¶æ•£åˆ—è¡¨çš„æ€§èƒ½å°±ä¼šæ€¥å‰§ä¸‹é™ã€‚å½“éœ€è¦æ€§èƒ½ä¿è¯æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘å¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰æ•£åˆ—è®¡ç®—å¯èƒ½å¤æ‚è€Œä¸”æ˜‚è´µéš¾ä»¥æ”¯æŒæœ‰åºæ€§ç›¸å…³çš„ç¬¦å·è¡¨æ“ä½œç»è¿‡æ•£åˆ—è®¡ç®—åŽï¼Œé”®å€¼å¯¹ä¼šéšæœºåœ°åˆ†å¸ƒäºŽæ•°ç»„ä¸­ï¼Œä¸èƒ½ä¿æŒå…¶æ’å…¥é¡ºåºã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2-3 æ ‘]]></title>
    <url>%2F%2FAlgorithm%2F2-3%20%E6%A0%91%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»2-3 æ ‘æ˜¯ä¸€ç§å¹³è¡¡äºŒå‰æ ‘ï¼Œå…·æœ‰è‡ªåŠ¨å¹³è¡¡èƒ½åŠ›2-3 æ ‘æ˜¯ä¸€ç§æ‹¥æœ‰ 2 ç§ä¸åŒèŠ‚ç‚¹çš„æ ‘ï¼Œç§°ä¸º 2-èŠ‚ç‚¹ å’Œ 3-èŠ‚ç‚¹2-èŠ‚ç‚¹ï¼Œæ‹¥æœ‰ä¸€ä¸ªé”®å€¼å’Œä¸¤ä¸ªé“¾æŽ¥ï¼ˆå·¦å­æ ‘å’Œå³å­æ ‘ï¼‰ï¼Œå®žé™…ä¸Šå°±æ˜¯æ™®é€šçš„äºŒå‰æœç´¢æ ‘èŠ‚ç‚¹3-èŠ‚ç‚¹ï¼Œæ‹¥æœ‰ä¸¤ä¸ªé”®å€¼å’Œä¸‰ä¸ªé“¾æŽ¥ï¼Œå·¦å­ç»“ç‚¹æ¯”æœ€å°çš„é”®å€¼å°ï¼Œå³å­ç»“ç‚¹æ¯”æœ€å¤§çš„é”®å€¼å¤§ï¼Œä¸­å­èŠ‚ç‚¹ä»‹äºŽä¸¤è€…ä¹‹é—´ 2. æœç´¢2-3 æ ‘çš„æœç´¢å’Œ BST ä¸€æ ·ï¼Œæ ¹æ®æ¯”è¾ƒç»“æžœæ¥è¿›å…¥å­æ ‘è¿›è¡Œæœç´¢ã€‚ 3. æ’å…¥2-3 æ ‘çš„æ’å…¥ç¨å¾®æœ‰äº›å¤æ‚ï¼Œæˆ‘ä»¬åˆ†æƒ…å†µæ¥è®¨è®ºã€‚ 3.1 åœ¨ 2-èŠ‚ç‚¹ ä¸­æ’å…¥è¿™æ˜¯æœ€ç®€å•çš„ä¸€ç§æƒ…å†µï¼Œåªéœ€å°† 2-èŠ‚ç‚¹ å˜ä¸º 3-èŠ‚ç‚¹å³å¯ã€‚ 3.2 åœ¨åªæœ‰ 3-èŠ‚ç‚¹çš„æ ‘ä¸­æ’å…¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æž„å»ºä¸€ä¸ªæš‚æ—¶çš„ 4-èŠ‚ç‚¹ï¼Œç„¶åŽå°†å…¶åˆ†è£‚ä¸ºä¸‰ä¸ª 2-èŠ‚ç‚¹ã€‚è¿™ä¸ªæ“ä½œä¼šå¢žåŠ æ ‘çš„é«˜åº¦ 3.3 åœ¨çˆ¶èŠ‚ç‚¹ä¸º 2-èŠ‚ç‚¹ çš„ 23-èŠ‚ç‚¹ æ’å…¥è¿™ç§æƒ…å†µå°±æ›´åŠ å¤æ‚äº†ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬ å°† 3-èŠ‚ç‚¹ å˜ä¸ºä¸´æ—¶çš„ 4-èŠ‚ç‚¹ï¼Œç„¶åŽå°†å…¶åˆ†è£‚ã€‚åˆ†è£‚ 4-èŠ‚ç‚¹ æ—¶ï¼Œå°†ä¸­é—´èŠ‚ç‚¹å‘ä¸Šä¼ é€’åˆ°çˆ¶èŠ‚ç‚¹ä¸­ï¼Œå°†å‰©ä¸‹çš„ä¸¤ä¸ªèŠ‚ç‚¹ä½œä¸º 2-èŠ‚ç‚¹ 3.4 åœ¨çˆ¶èŠ‚ç‚¹ä¸º 3-èŠ‚ç‚¹ çš„ 3-èŠ‚ç‚¹ æ’å…¥è¿™ç§æƒ…å†µå’Œä¸Šä¸€ä¸ªç¨å¾®æœ‰ç‚¹åƒï¼Œæˆ‘ä»¬åªéœ€è¦å°† 3-èŠ‚ç‚¹ æ›¿æ¢ä¸ºä¸´æ—¶çš„ 4-èŠ‚ç‚¹ï¼Œç„¶åŽå°†å…¶åˆ†è£‚ã€‚æ­¤æ—¶çˆ¶èŠ‚ç‚¹æˆä¸º 4-èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬é€’å½’åœ°è¿›è¡Œåˆ†è£‚æ“ä½œï¼Œç›´åˆ°åˆ°è¾¾æ ¹èŠ‚ç‚¹ä½ç½®ã€‚å¦‚æžœæ ¹èŠ‚ç‚¹ä»ç„¶æ˜¯ 4-èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†æ ¹èŠ‚ç‚¹åˆ†è£‚ï¼Œå¢žåŠ æ ‘çš„é«˜åº¦ã€‚ 4. æ€§èƒ½2-3 æ ‘èƒ½ä¿è¯ 2-èŠ‚ç‚¹ çš„å®Œç¾Žå¹³è¡¡ï¼Œåœ¨ BST ä¸­ï¼Œæ“ä½œæ—¶é—´å¤æ‚åº¦å’Œæ ‘çš„é«˜åº¦æˆå¯¹æ•°å…³ç³»ï¼Œæ‰€ä»¥ï¼š2-3 æ ‘èƒ½ä¿è¯ä»»ä½•çš„ç›¸å…³æ“ä½œå‡åœ¨å¯¹æ•°çº§åˆ«ï¼›åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå½“æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ˜¯ 2-èŠ‚ç‚¹ æ—¶ï¼Œ2-3 æ ‘çš„æ€§èƒ½æ˜¯ log2Nlog_2Nlog2â€‹N çº§åˆ«ï¼›åœ¨æœ€å¥½æƒ…å†µä¸‹ï¼Œå½“æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ˜¯ 3-èŠ‚ç‚¹æ—¶ï¼Œ2-3 æ ‘çš„æ€§èƒ½æ˜¯ log3Nlog_3Nlog3â€‹N çº§åˆ«åœ¨ä¸€ä¸ª NNN ä¸ªèŠ‚ç‚¹çš„ 2-3 æ ‘ï¼Œæœç´¢å’Œæ’å…¥åªéœ€è¦è®¿é—®ä¸è¶…è¿‡ logNlogNlogN ä¸ªèŠ‚ç‚¹ã€‚ 5. ç»“è®º2-3 æ ‘èƒ½ä¿è¯æ ‘åœ¨æ’å…¥æ—¶çš„å®Œç¾Ž 2-èŠ‚ç‚¹ å¹³è¡¡ï¼Œä¸ä¼šå‡ºçŽ° BST çš„æœ€åæƒ…å†µã€‚ç„¶è€Œï¼Œ2-3 æ ‘ååˆ†éš¾ä»¥å®žçŽ°ï¼Œåœ¨å®žé™…å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä»£ç å°½é‡å°çš„æ”¹åŠ¨ï¼Œä»Žè€Œè¾¾åˆ°æ€§èƒ½ä¼˜åŒ–çš„ç»“æžœã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¦æ–œçº¢é»‘æ ‘]]></title>
    <url>%2F%2FAlgorithm%2F%E5%B7%A6%E6%96%9C%E7%BA%A2%E9%BB%91%E6%A0%91%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»çº¢é»‘æ ‘æ˜¯ 2-3 æ ‘çš„ä¸€ç§ç®€æ˜“å®žçŽ°æ–¹å¼ï¼Œå®ƒæ‹¥æœ‰ä¸¤ç§é“¾æŽ¥ï¼Œçº¢é“¾æŽ¥å’Œé»‘é“¾æŽ¥ã€‚é»‘é“¾æŽ¥æ˜¯æ™®é€šçš„äºŒå‰æŸ¥æ‰¾æ ‘é“¾æŽ¥ï¼Œçº¢é“¾æŽ¥è¡¨ç¤ºäº†ä¸€ä¸ª 3-èŠ‚ç‚¹åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å·¦æ–œçš„çº¢é»‘æ ‘ï¼Œå®ƒæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼šçº¢é“¾æŽ¥æ°¸è¿œåœ¨å·¦è¾¹ï¼ˆå‘å·¦å€¾æ–œï¼‰ä¸€ä¸ªèŠ‚ç‚¹ä¸èƒ½åŒæ—¶é“¾æŽ¥ä¸¤ä¸ªçº¢é“¾æŽ¥çº¢é»‘æ ‘æ˜¯å®Œç¾Žé»‘é“¾æŽ¥å¹³è¡¡çš„éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœçº¢é»‘æ ‘æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œé‚£ä¹ˆå…¶å’Œ 2-3 æ ‘å°±æ˜¯ç­‰ä»·çš„ã€‚äº‹å®žä¸Šï¼Œå¦‚æžœæŠŠçº¢é“¾æŽ¥ç”»å¹³ï¼Œé‚£ä¹ˆçº¢é»‘æ ‘å°±æ˜¯ä¸€ä¸ª 2-3 æ ‘ã€‚ 2. æ–°çš„èŠ‚ç‚¹å®šä¹‰ä¸ºäº†è¡¨ç¤ºé“¾æŽ¥çš„é¢œè‰²ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œæˆ–è€…è¯´å‘åŽŸæœ‰èŠ‚ç‚¹å¢žåŠ æ–°çš„å±žæ€§â€”â€”é¢œè‰²ã€‚123456pravite class Node &#123; Key key; Value val; int N; boolean color;&#125;åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ºåŽŸæœ‰çš„èŠ‚ç‚¹å¢žåŠ ä¸€ä¸ªå¸ƒå°”å€¼æ¥è¡¨ç¤ºæŒ‡å‘å®ƒçš„é“¾æŽ¥çš„é¢œè‰²ï¼Œè¿™æ ·å®šä¹‰èƒ½çœåŽ»ä¸€äº›éº»çƒ¦ï¼Œå…·ä½“åœ¨ä¸‹é¢çš„å†…å®¹ä¸­ä¼šè®¨è®ºåˆ°ã€‚ 3. å˜å½¢å½“æˆ‘ä»¬å¾€çº¢é»‘æ ‘æ’å…¥èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦è¿›è¡Œä¸€äº›å˜å½¢æ¥è®©çº¢é»‘æ ‘æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œå°±åƒæˆ‘ä»¬å¯¹ 2-3 æ ‘æ’å…¥èŠ‚ç‚¹æ—¶åšçš„å¤„ç†ä¸€æ ·ã€‚ 3.1 æ—‹è½¬ç¬¬ä¸€ä¸ªé‡è¦çš„å˜å½¢æ˜¯æ—‹è½¬å˜å½¢ã€‚å½“æˆ‘ä»¬åœ¨æ’å…¥èŠ‚ç‚¹çš„æ—¶å€™ï¼Œä¸å¯é¿å…çš„ä¼šç ´åçº¢é»‘æ ‘çš„æ¡ä»¶ï¼Œæœ‰æ—¶ä¼šå‡ºçŽ°çº¢è‰²çš„å³é“¾æŽ¥ï¼Œæˆ–è€…ä¸¤ä¸ªè¿žç»­çš„çº¢é“¾æŽ¥ç­‰ã€‚å¯¹äºŽè¿™äº›æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦å¯¹çº¢é»‘æ ‘åšé€‚å½“çš„æ—‹è½¬å˜æ¢æ¥è®©å®ƒé‡æ–°æ»¡è¶³çº¢é»‘æ ‘çš„æ¡ä»¶ã€‚ 3.1.1 å‘å·¦æ—‹è½¬ç”±å›¾å¯ä»¥æ³¨æ„åˆ°ï¼Œæ‰€è°“çš„æ—‹è½¬ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼šäº¤æ¢æ ¹èŠ‚ç‚¹å°†ä¸­é—´å­æ ‘è°ƒæ¢çˆ¶äº²å‰©ä¸‹å°±æ˜¯è½¬æ¢é¢œè‰²ï¼Œä¿®æ”¹å­æ ‘èŠ‚ç‚¹æ•°ç›®ç­‰ã€‚æŠ“ä½è¿™ä¸ªæ ¹æœ¬æ“ä½œï¼Œå°±ä¸ä¼šå‡ºé”™ã€‚12345678910111213Node rotateLeft(Node h) &#123; Node x = h.right; h.right = x.left; // Link the middle x.left = h; // x ship to the root x.color = h.color; // Change color h.color = RED; // Change color x.N = h.N; // Ship amount // Calculate the amount of left subtree h.N = 1 + size(h.left) + size(h.right); return x; // Return new root&#125;æ³¨æ„ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å’ŒäºŒå‰æŸ¥æ‰¾æ ‘ä¸€æ ·çš„é€’å½’è¿”å›žå¼•ç”¨çš„æ–¹æ³•ï¼Œè¿™æ ·æœ‰åˆ©äºŽé‡ç”¨åŽŸæœ‰ä»£ç å’Œç»´æŠ¤æ ‘çš„é“¾æŽ¥æ€§ã€‚ 3.1.2 å‘å³æ—‹è½¬è¿™ä¸ªæ–¹æ³•å’Œå‘å·¦æ—‹è½¬å¤§åŒå°å¼‚ï¼Œæ ¸å¿ƒçš„æ€æƒ³å°±æ˜¯è½¬æ¢æ ¹èŠ‚ç‚¹å’Œä¸­é—´å­æ ‘ã€‚å…³äºŽå¿…è¦æ€§ï¼šæœ‰äº›æ—¶å€™é‡åˆ°å¤æ‚çš„çº¢é“¾æŽ¥æƒ…å†µï¼Œå°±é¦–å…ˆè¦å°†è¿žæŽ¥å‘å³æ—‹è½¬ï¼ŒéšåŽåœ¨è¿›è¡Œå…¶ä»–å˜å½¢æ“ä½œã€‚è™½ç„¶çº¢é»‘æ ‘æ¡ä»¶ä¸­ä¸å…è®¸çº¢è‰²å³é“¾æŽ¥çš„å­˜åœ¨ä½¿å¾—æ­¤æ–¹æ³•æ˜¾å¾—æ— æ„ä¹‰ï¼Œä½†æ˜¯æ­¤æ–¹æ³•çš„ç”¨æ„åœ¨äºŽæž„å»ºä¸€ä¸ªä¾¿äºŽå¤„ç†çš„ä¸­é—´çŠ¶æ€ã€‚ 3.2 é¢œè‰²è½¬æ¢å½“æˆ‘ä»¬åœ¨è¿›è¡Œæ—‹è½¬çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªå­èŠ‚ç‚¹çš„é“¾æŽ¥éƒ½æ˜¯çº¢è‰²çš„æƒ…å†µã€‚ç”±äºŽçº¢é“¾æŽ¥ä»£è¡¨äº† 3-èŠ‚ç‚¹ï¼Œæ˜¾ç„¶ 2 ä¸ªçº¢é“¾æŽ¥å°±ä»£è¡¨äº†ä¸€ä¸ª 4-èŠ‚ç‚¹ï¼Œåœ¨ 2-3 æ ‘æ’å…¥ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸´æ—¶çš„ 4-èŠ‚ç‚¹ åˆ†è£‚ï¼Œåœ¨çº¢é»‘æ ‘ä¸­å°±æ˜¯ç¬¬äºŒç§å˜å½¢â€”â€”é¢œè‰²è½¬æ¢ã€‚æ­¥éª¤å¦‚ä¸‹ï¼šå°†ä¸¤ä¸ªçº¢é“¾æŽ¥å˜æˆé»‘é“¾æŽ¥å°†çˆ¶èŠ‚ç‚¹çš„é“¾æŽ¥é¢œè‰²å˜ä¸ºçº¢è‰²12345void filpColors(Node h) &#123; h.color = RED; h.left.color = BLACK; h.right.color = BLACK;&#125;è¿™å¾ˆå¥½åœ°ä½“çŽ°äº† 4-èŠ‚ç‚¹ çš„åˆ†è£‚è¿‡ç¨‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†çº¢é“¾æŽ¥å˜ä¸ºé»‘è‰²ï¼Œäº‹å®žä¸Šå¢žåŠ äº†ä¸¤ä¸ªæ–°èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å°† 4-èŠ‚ç‚¹ åˆ†è£‚äº†å…¶æ¬¡ï¼Œå°†çˆ¶èŠ‚ç‚¹çš„é“¾æŽ¥å˜ä¸ºçº¢è‰²ï¼Œæ­¤æ—¶çˆ¶èŠ‚ç‚¹å°±ä¼šå˜ä¸ºä¸Šå±‚ 3-èŠ‚ç‚¹ çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ»¡è¶³äº†åœ¨åˆ†è£‚è¿‡ç¨‹ä¸­ï¼Œå°†ä¸­é—´èŠ‚ç‚¹å‘ä¸Šä¼ é€’çš„æ€æƒ³ã€‚å‡å¦‚çˆ¶èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹æ—¶ï¼Œç”±äºŽæ²¡æœ‰ä»»ä½•é“¾æŽ¥æŒ‡å‘æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ ¹èŠ‚ç‚¹çš„é¢œè‰²å˜å¾—æ— å…³ç´§è¦äº†è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨å®šä¹‰æ–°èŠ‚ç‚¹çš„æ—¶å€™è¦å°†å…¶é¢œè‰²å®šä¹‰ä¸ºæŒ‡å‘å…¶é“¾æŽ¥çš„é¢œè‰²çš„åŽŸå›  4. æ’å…¥æœ€åŽï¼Œæˆ‘ä»¬ç»ˆäºŽè¿›å…¥äº†çœŸæ­£çš„æ’å…¥çŽ¯èŠ‚ï¼Œæ ¹æ® 2-3 æ ‘çš„æ’å…¥æ€æƒ³ï¼Œçº¢é»‘æ ‘çš„æ’å…¥æ­¥éª¤å¦‚ä¸‹ï¼šæ–°èŠ‚ç‚¹çš„é¢œè‰²æ˜¯çº¢è‰²çš„ç”±äºŽ 2-3 æ ‘åœ¨æ’å…¥ä¹‹åŽä¸€å®šä¼šå½¢æˆè‡³å°‘ä¸€ä¸ª 3-èŠ‚ç‚¹ï¼ˆæœ‰æ—¶è¿˜ä¼šæœ‰ä¸´æ—¶çš„ 4-èŠ‚ç‚¹ï¼‰å¦‚æžœå³å­ç»“ç‚¹æ˜¯çº¢è‰²ï¼Œå·¦å­ç»“ç‚¹æ˜¯é»‘è‰²ï¼Œé‚£ä¹ˆå‘å·¦æ—‹è½¬å³å­ç»“ç‚¹ä¸ºçº¢è‰²ï¼Œå·¦å­ç»“ç‚¹ä¸ºé»‘è‰²ï¼Œè¯´æ˜Žçº¢é»‘æ ‘ä¸­å­˜åœ¨çº¢è‰²çš„å³é“¾æŽ¥ï¼Œå°†å…¶å‘å·¦æ—‹è½¬å¦‚æžœå·¦å­ç»“ç‚¹å’Œå®ƒçš„å·¦å­ç»“ç‚¹éƒ½æ˜¯çº¢è‰²çš„ï¼Œé‚£ä¹ˆå°†å½“å‰èŠ‚ç‚¹å‘å³æ—‹è½¬è¿™ç§æƒ…å†µè¯´æ˜Žçº¢é»‘æ ‘ä¸­å­˜åœ¨ä¸¤ä¸ªè¿žç»­çš„çº¢è‰²é“¾æŽ¥ï¼Œè¯´æ˜Žå­˜åœ¨ä¸€ä¸ªå†…éƒ¨çš„ 4-èŠ‚ç‚¹ï¼Œæ­¤æ—¶æˆ‘ä»¬å°†å…¶å‘å³æ—‹è½¬ï¼Œå˜ä¸ºå¯ä»¥è¿›è¡Œé¢œè‰²è½¬æ¢çš„çŠ¶æ€ï¼ŒéšåŽé€šè¿‡é¢œè‰²è½¬æ¢æ¥å°† 4-èŠ‚ç‚¹ åˆ†è£‚å¦‚æžœå·¦å­ç»“ç‚¹å’Œå³å­ç»“ç‚¹éƒ½æ˜¯çº¢è‰²çš„ï¼Œé‚£ä¹ˆè¿›è¡Œé¢œè‰²è½¬æ¢æ­¤æ—¶è¯´æ˜Žå­˜åœ¨ 4-èŠ‚ç‚¹ï¼Œé€šè¿‡é¢œè‰²è½¬æ¢å°†å…¶åˆ†è£‚123456789101112131415161718192021222324252627282930313233public void put(Key key, Value val) &#123; root = put(root, key, val); root.color = BLACK;&#125;private Node put(Node h, Key key, Value val) &#123; if (h == null) return new Node(key, val, 1, RED); // æ’å…¥ä½ç½®çš„æœå¯»è¿‡ç¨‹ int cmp = key.compareTo(h.key); if (cmp &lt; 0) h.left = put(h.left, key, val); else if (cmp &gt; 0) h.right = put(h.right, key, val); else h.val = val; // æ—‹è½¬å’Œé¢œè‰²è½¬æ¢ // æ³¨æ„ä»¥ä¸‹é¡ºåºä¸å¯æ”¹å˜ if (isRed(h.right) &amp;&amp; !isRed(h.left)) h = rotateLeft(h); if (isRed(h.left) &amp;&amp; isRed(h.left.left)) h = rotateRight(h); if (isRed(h.left) &amp;&amp; isRed(h.right)) flipColors(h); h.N = size(h.left) + size(h.right) + 1; return h;&#125;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰å¯èƒ½å­˜åœ¨éœ€è¦å¤šæ¬¡å˜æ¢çš„æƒ…å†µï¼Œæ‰€ä»¥ä¸Šè¿°æ£€æµ‹éœ€è¦ä¾æ¬¡è¿›è¡Œä¸€éæ¯”å¦‚æŠ˜çº¿å¼çš„çº¢é“¾æŽ¥ï¼ˆçº¢è‰²çš„å·¦é“¾æŽ¥ + çº¢è‰²çš„å³é“¾æŽ¥ï¼‰ï¼Œæ­¤æ—¶å°±éœ€è¦å…ˆå°†å³é“¾æŽ¥å‘å·¦æ—‹è½¬ï¼Œå˜ä¸ºè¿žç»­çš„çº¢é“¾æŽ¥ï¼Œå†å°†ä¸Šé¢çš„é“¾æŽ¥è¿›è¡Œå³æ—‹è½¬ï¼Œå˜ä¸ºä¸¤ä¸ªçº¢è‰²çš„å­é“¾æŽ¥ï¼ŒéšåŽè¿›è¡Œé¢œè‰²è½¬æ¢ã€‚è¿™æ ·åšçš„åŽŸå› åœ¨äºŽï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å›¾ç¤ºé‚£æ ·ï¼Œ é€æ­¥å‡å°‘éœ€è¦è®¨è®ºçš„æƒ…å†µï¼Œä»Žè€ŒèŠ‚çœä»£ç åŒæ—¶ï¼Œä¸ºäº†èƒ½è®©çˆ¶èŠ‚ç‚¹ä¹Ÿèƒ½è¿›è¡Œæ­£ç¡®çš„å˜å½¢ï¼Œå˜å½¢æ“ä½œè¦æ”¾ç½®åœ¨é€’å½’æ–¹æ³•ä¹‹åŽï¼Œä¹Ÿå°±æ˜¯ä¿®æ”¹å€¼ä¹‹åŽå†è¿›è¡Œå˜å½¢æ“ä½œã€‚ 5. åˆ é™¤åˆ é™¤é€šå¸¸æ¥è¯´æ˜¯ç¬¦å·è¡¨å®žçŽ°çš„ä¸€ä¸ªæ¯”è¾ƒéš¾çš„éƒ¨åˆ†ã€‚å¯¹äºŽçº¢é»‘æ ‘æ¥è¯´ï¼Œ æˆ‘ä»¬ä¸èƒ½ç›´æŽ¥åˆ é™¤ä¸€ä¸ªé»‘èŠ‚ç‚¹ï¼Œè¿™æ ·ä¼šå¯¼è‡´é»‘èŠ‚ç‚¹å‡ºçŽ°ä¸å¹³è¡¡ã€‚ä¸€èˆ¬çš„çº¢é»‘æ ‘å®žçŽ°ä¸­ï¼Œé€šå¸¸æ˜¯å¯¹çº¢é»‘æ ‘åšä¸€ä¸ª BST çš„åˆ é™¤æ“ä½œï¼ŒéšåŽå†è¿›è¡Œæ¢å¤ï¼Œä¸è¿‡è¿™æ ·åœ¨å®žè·µä¸­ä¼šå¯¼è‡´ä»£ç è¿‡äºŽå†—é•¿ã€‚åœ¨å·¦æ–œçº¢é»‘æ ‘ä¸­ï¼Œæˆ‘ä»¬ä»¥ åˆ é™¤ä¸€ä¸ªçº¢èŠ‚ç‚¹ ä½œä¸ºç›®æ ‡ï¼›åœ¨åˆ é™¤å®ŒæˆåŽï¼Œæˆ‘ä»¬é€šè¿‡é€’å½’å‘ä¸Šå¯¹é“¾æŽ¥è¿›è¡Œä¿®å¤ã€‚ 5.1 åˆ é™¤æœ€å¤§æœ€å°å…ƒç´ ä¸ºäº†èƒ½å¤Ÿè®©æˆ‘ä»¬æ‰€åˆ é™¤çš„å…ƒç´ æˆä¸ºçº¢èŠ‚ç‚¹ï¼Œå½“å‡ºçŽ°è¿žç»­ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘çš„æ—¶ï¼Œæˆ‘ä»¬å°±å¿…é¡»é€šè¿‡é¢œè‰²å˜æ¢å°†çº¢é“¾æŽ¥å‘ä¸‹ä¼ é€’ï¼›å¦åˆ™çº¢é“¾æŽ¥çš„ç‰¹æ€§å°±ä¼šæ–­ç»ä½†æ˜¯ï¼Œè¿™æ ·æœ‰å¯èƒ½å¯¼è‡´ä¸¤ä¸ªè¿žç»­çš„çº¢é“¾æŽ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼›b èŠ‚ç‚¹å¹¶ä¸åœ¨æˆ‘ä»¬çš„é€’å½’è·¯çº¿ä¸­ï¼Œæˆ‘ä»¬æ— æ³•å¯¹è¿™ç§éžæ³•çš„ 4-èŠ‚ç‚¹è¿›è¡Œä¿®å¤ï¼›æ‰€ä»¥æˆ‘ä»¬è¦å¯¹è¿™ç§æƒ…å†µè¿›è¡Œå¤„ç†ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é¦–å…ˆå°† a èŠ‚ç‚¹è¿›è¡Œé¢œè‰²åè½¬ï¼Œä»Žè€Œå°† c æŸ“çº¢ï¼›ä½†æ˜¯æ­¤æ—¶ï¼Œç”±äºŽ b ä¹Ÿæ˜¯çº¢èŠ‚ç‚¹ï¼Œæ‰€ä»¥é€ æˆäº†ä¸¤ä¸ªè¿žç»­çš„çº¢é“¾æŽ¥ï¼›æ‰€ä»¥æˆ‘ä»¬é€šè¿‡å…ˆå°† c å‘å³æ—‹è½¬ï¼Œå†å°† a å‘å·¦æ—‹è½¬ï¼Œå°†å…¶å˜ä¸ºå¹³è¡¡æ€ï¼›å†é€šè¿‡é¢œè‰²åè½¬é¿å…äº†è¿žç»­çš„çº¢é“¾æŽ¥å‡ºçŽ°ã€‚å®žçŽ°å¦‚ä¸‹ï¼š12345678910111213private Node moveRedLeft(Node h) &#123; //çº¢é“¾æŽ¥å‘ä¸‹ä¼ é€’ colorFlip(h); // å‡ºçŽ°çº¢è‰²åŽç»§ if (isRed(h.right.left)) &#123; h.right = rotateRight(h.right); h = rotateLeft(h); colorFlip(h); &#125; return h;&#125;å®Œæ•´çš„åˆ é™¤æœ€å°å…ƒç´ çš„ä»£ç å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031323334353637383940public void deleteMin() &#123; // å¦‚æžœæ ¹èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ï¼Œé‚£ä¹ˆå°†æ ¹èŠ‚ç‚¹è®¾ä¸ºçº¢ // ä»¥æ±‚èƒ½å¤Ÿæœ‰çº¢é“¾æŽ¥å±žæ€§å‘ä¸‹ä¼ é€’ if (!isRed(root.left) &amp;&amp; !isRed(root.right)) root.color = RED; root = deleteMin(root); // é€’å½’ç»“æŸï¼Œå°†æ ¹èŠ‚ç‚¹æ¢å¤é¢œè‰² if (!isEmpty()) root.color = BLACK;&#125;private Node deleteMin(Node h) &#123; if (h.left == null) return null; // å¦‚æžœè¿žç»­ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘é“¾æŽ¥ï¼Œé‚£ä¹ˆå°†çº¢é“¾æŽ¥æ€§è´¨ä¼ é€’ if (!isRed(h.left) &amp;&amp; !isRed(h.left.left)) h = moveRedLeft(h); h.left = deleteMin(h.left); // é€’å½’å‘ä¸Šä¿®å¤é“¾æŽ¥æ€§è´¨ return balance(h);&#125;// å®žé™…ä¸Šå°±æ˜¯æ’å…¥æ—¶ä½¿ç”¨çš„æ€§è´¨ä¿®å¤private Node balance(Node h) &#123; if (isRed(h.right)) h = rotateLeft(h); if (isRed(h.left) &amp;&amp; isRed(h.left.left)) h = rotateRight(h); if (isRed(h.left) &amp;&amp; isRed(h.right)) flipColors(h); h.size = size(h.left) + size(h.right) + 1; return h;&#125;åŒç†ï¼Œåœ¨åˆ é™¤æœ€å¤§å…ƒç´ å’Œåˆ é™¤é€šå¸¸å…ƒç´ çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå‡ºçŽ°ç”±äºŽçº¢é“¾æŽ¥å‘ä¸‹ä¼ é€’å¼•èµ·çš„è¿žç»­çº¢é“¾æŽ¥é—®é¢˜ï¼Œå¦‚å›¾æ‰€ç¤ºï¼šå…¶ä¸­ d ä¸å¤„åœ¨æˆ‘ä»¬çš„é€’å½’è·¯çº¿ä¸Šï¼Œæ‰€ä»¥å°±å¿…é¡»è¿›è¡Œå¤„ç†ã€‚å®žçŽ°å¦‚ä¸‹ï¼š123456789101112private Node moveRedRight(Node h) &#123; // çº¢é“¾æŽ¥å‘ä¸‹ä¼ é€’ flipColors(h); // å‡ºçŽ°è¿žç»­å·¦æ–œçº¢è‰² if (isRed(h.left.left)) &#123; h = rotateRight(h); flipColors(h); &#125; return h;&#125;å®Œæ•´å®žçŽ°å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829public void deleteMax() &#123; // ä¿è¯æœ‰çº¢é“¾æŽ¥å­˜åœ¨ if (!isRed(root.left) &amp;&amp; !isRed(root.right)) root.color = RED; root = deleteMax(root); // æ¢å¤æ ¹èŠ‚ç‚¹çš„é»‘é“¾æŽ¥ if (!isEmpty()) root.color = BLACK;&#125;private Node deleteMax(Node h) &#123; // ç”±äºŽæ˜¯å·¦æ–œçº¢é»‘æ ‘ï¼Œæ‰€ä»¥éœ€è¦å°†å·¦è¾¹çš„çº¢é“¾æŽ¥å³è½¬ // ä»¥èƒ½å¤Ÿå‘ä¸‹ä¼ é€’ if (isRed(h.left)) h = rotateRight(h); if (h.right == null) return null; // å¦‚æžœæ²¡æœ‰è¿žç»­çš„çº¢é“¾æŽ¥ï¼Œé‚£ä¹ˆå°±å°†çº¢é“¾æŽ¥å‘ä¸‹ä¼ é€’ if (!isRed(h.right) &amp;&amp; !isRed(h.right.left)) h = moveRedRight(h); h.right = deleteMax(h.right); return balance(h);&#125; 5.2 é€šå¸¸èŠ‚ç‚¹çš„åˆ é™¤å¯¹äºŽé€šå¸¸å†…éƒ¨èŠ‚ç‚¹çš„åˆ é™¤ï¼Œç”±äºŽçº¢é»‘æ ‘çš„ç‰¹æ®Šç‰¹æ€§ï¼Œæˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨ BST çš„åˆ é™¤æ–¹æ³•éœ€è¦è€ƒè™‘çš„é—®é¢˜é¢‡å¤šï¼›ä½†é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå·§å¦™çš„æ–¹æ³•ï¼šå°†èŠ‚ç‚¹è®¾ç½®ä¸ºå…¶åŽç»§èŠ‚ç‚¹å°†å…¶åŽç»§èŠ‚ç‚¹åˆ é™¤è¿™æ ·æ—¢ç¬¦åˆ BST åˆ é™¤åŽŸç†ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥é‡ç”¨çŽ°æœ‰çš„ä»£ç ï¼›å› ä¸ºä¸€ä¸ªèŠ‚ç‚¹çš„åŽè®°èŠ‚ç‚¹ï¼Œå°±æ˜¯ å…¶å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹(min(h.right))ï¼›å› ä¸ºæˆ‘ä»¬å·²ç»å®žçŽ°äº† deleteMin() æ–¹æ³•ï¼›æ‰€ä»¥åªéœ€è¦ç®€å•çš„å°†èŠ‚ç‚¹äº¤æ¢ï¼ŒåŒæ—¶å°†åŽç»§åˆ é™¤å³å¯ã€‚å®Œæ•´çš„å®žçŽ°å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public void delete(Key key) &#123; if (key == null) throw new IllegalArgumentException("argument to delete() is null"); if (!contains(key)) return; // ä¿è¯çº¢é“¾æŽ¥å‘ä¸‹ä¼ é€’ if (!isRed(root.left) &amp;&amp; !isRed(root.right)) root.color = RED; root = delete(root, key); // é€’å½’ç»“æŸï¼Œå°†æ ¹èŠ‚ç‚¹æ¢å¤ if (!isEmpty()) root.color = BLACK;&#125;private Node delete(Node h, Key key) &#123; if (key.compareTo(h.key) &lt; 0) &#123; // åœ¨å·¦å­æ ‘ // å¦‚æžœæ²¡æœ‰è¿žç»­çš„çº¢é“¾æŽ¥ï¼Œåˆ™å°†çº¢é“¾æŽ¥å‘ä¸‹ä¼ é€’ if (!isRed(h.left) &amp;&amp; !isRed(h.left.left)) h = moveRedLeft(h); h.left = delete(h.left, key); &#125; else &#123; // åœ¨å³å­æ ‘æˆ–è€…å‘½ä¸­ // å·¦æ–œçº¢é»‘æ ‘ // å°†å·¦è¾¹çš„çº¢é“¾æŽ¥å‘å³è½¬ï¼Œä»¥å‘ä¸‹ä¼ é€’ if (isRed(h.left)) h = rotateRight(h); // åˆ°è¾¾æœ€å¤§èŠ‚ç‚¹ if (key.compareTo(h.key) == 0 &amp;&amp; (h.right == null)) return null; // æ²¡æœ‰è¿žç»­çš„çº¢é“¾æŽ¥ï¼Œå°†çº¢é“¾æŽ¥å‘ä¸‹ä¼ é€’ if (!isRed(h.right) &amp;&amp; !isRed(h.right.left)) h = moveRedRight(h); // å†…éƒ¨èŠ‚ç‚¹ if (key.compareTo(h.key) == 0) &#123; // åŽç»§ Node x = min(h.right); // å°†èŠ‚ç‚¹äº¤æ¢ä¸ºåŽç»§ h.key = x.key; h.val = x.val; // åˆ é™¤åŽç»§èŠ‚ç‚¹ h.right = deleteMin(h.right); &#125; else h.right = delete(h.right, key); &#125; return balance(h);&#125;]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äºŒå‰æŸ¥æ‰¾æ ‘]]></title>
    <url>%2F%2FAlgorithm%2F%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»ä¸ºäº†è§£å†³çº¿æ€§ç»“æž„ä¸‹çš„äºŒåˆ†æŸ¥æ‰¾æ— æ³•æ”¯æŒé«˜æ•ˆçš„æ’å…¥å’Œåˆ é™¤æ“ä½œçš„é—®é¢˜ï¼ŒåŒæ—¶æé«˜æ’å…¥å’Œåˆ é™¤çš„æ•ˆçŽ‡ï¼›æˆ‘ä»¬é‡‡ç”¨äºŒå‰æŸ¥æ‰¾æ ‘æ¥è¿›è¡Œç¬¦å·è¡¨çš„å®žçŽ°ã€‚äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯ä¸€ç§æ ‘ï¼Œå®ƒæ»¡è¶³ï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æ‹¥æœ‰ä¸€ä¸ª Comparable é”®æ¯ä¸ªèŠ‚ç‚¹éƒ½å¤§äºŽå®ƒçš„å·¦å­èŠ‚ç‚¹ï¼Œå°äºŽå®ƒçš„å³å­èŠ‚ç‚¹ 2. æ•°æ®ç»“æž„çš„å®žçŽ°æˆ‘ä»¬ä½¿ç”¨é“¾å¼ç»“æž„æ¥å®žçŽ°è¿™ä¸ªæ ‘ã€‚ä¸€ä¸ªèŠ‚ç‚¹åŒ…å«äº†ï¼šå·¦å­ç»“ç‚¹çš„é“¾æŽ¥å³å­ç»“ç‚¹çš„é“¾æŽ¥ä»¥è¿™ä¸ªèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘çš„èŠ‚ç‚¹æ€»æ•°èŠ‚ç‚¹çš„é”®å’Œå€¼The Node of Binary Search TreeNode leftChildKey keyValue valint NNode rightChildCode:123456789101112131415// The inner class of Nodeprivate class Node &#123; private Key key; private Value val; private Node left, right; // ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼ŒåŒ…æ‹¬æ ¹èŠ‚ç‚¹ private int N; public Node(Key key, Value val, int N) &#123; this.key = key; this.val = val; this.N = N; &#125;&#125; 3. API å®žçŽ°è¿™ä¸€èŠ‚ä¸»è¦ä»‹ç»æ•°æ®çš„å½¢å¼å’Œç›¸åº”çš„æ–¹æ³•æ“ä½œã€‚è¿™äº›æ–¹æ³•éƒ½æ˜¯åŸºäºŽäºŒåˆ†æŸ¥æ‰¾å‘å±•è€Œæ¥çš„å®ƒä»¬æ˜¯ï¼šget(), put()min(), max(), floor(), ceiling()delete(), deleteMin(), deleteMax() 3.1 æœç´¢ä¸‹é¢æ˜¯ get() æ–¹æ³•çš„åŸºæœ¬å®žçŽ°æ€è·¯ä½¿ç”¨äºŒå‰æœç´¢æ ‘æ¥æœç´¢æ•°æ®ä¸ŽäºŒåˆ†æŸ¥æ‰¾ååˆ†ç›¸åƒã€‚é¦–å…ˆä»Žæ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œåšä»¥ä¸‹æ“ä½œï¼šå¦‚æžœæ ¹èŠ‚ç‚¹å’Œæ‰€ç»™çš„é”®å€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆå‘½ä¸­å¦‚æžœæ‰€ç»™çš„é”®å€¼æ¯”æ ¹èŠ‚ç‚¹å°ï¼Œé‚£ä¹ˆå°±åœ¨å…¶å·¦å­æ ‘æœç´¢å¦‚æžœæ‰€ç»™çš„é”®å€¼æ¯”æ ¹èŠ‚ç‚¹å¤§ï¼Œé‚£ä¹ˆå°±åœ¨å…¶å³å­æ ‘æœç´¢å‡å¦‚æœ€ç»ˆæ‰¾åˆ°äº† nullï¼Œé‚£ä¹ˆè¯´æ˜Žæ‰€ç»™é”®å€¼ä¸åœ¨ç¬¦å·è¡¨ä¸­ï¼Œè¿”å›ž nullCode:12345678910111213141516171819public Value get(Key key) &#123; return get(root, key);&#125;private Value get(Node x, Key key) &#123; if(x == null) &#123; return null; &#125; int cmp = key.compareTo(x.key); if(cmp &lt; 0) return get(x.left, key); else if(cmp &gt; 0) return get(x.right, key); else return x.val;&#125;æ³¨æ„è¿™é‡Œä½¿ç”¨äº†é€’å½’çš„æ–¹æ³•æ¥æ·±å…¥å­æ ‘ä¸­è¿›è¡Œæœç´¢ã€‚å…³äºŽé€’å½’åœ¨ä¸‹é¢çš„ put() æ–¹æ³•ä¸­ä¹Ÿæœ‰è¿ç”¨ã€‚ 3.2 æ’å…¥æ¯”èµ·ä¹‹å‰åŸºäºŽæœ‰åºæ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾ï¼ŒäºŒå‰æœç´¢æ ‘çš„æœ€å¤§æ”¹è¿›ä¹‹å¤„åœ¨äºŽäºŒå‰æœç´¢æ ‘æ‹¥æœ‰æ•ˆçŽ‡æ›´é«˜çš„å…ƒç´ æ’å…¥æ“ä½œã€‚äº‹å®žä¸Šï¼Œè¿›è¡Œå…ƒç´ çš„æ’å…¥æ˜¯ååˆ†ç®€å•çš„ï¼Œä»…ä»…åªæ˜¯å®šä½å…ƒç´ ä½ç½®ï¼Œè¿žæŽ¥ä¸Šæ–°å…ƒç´ ï¼Œå°±å®Œæˆäº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒäºŒå‰æœç´¢æ ‘æ˜¯æœ‰åºçš„ï¼Œä½ å¿…é¡»äº‹å…ˆå®šä½å…ƒç´ çš„æ’å…¥ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä¸èƒ½å°†å…ƒç´ éšä¾¿åœ°æ’å…¥åˆ°ä¸€äº›é”™è¯¯çš„åœ°æ–¹ã€‚å¯¹äºŽ put() æ–¹æ³•ï¼Œä¸»è¦å®Œæˆä¸¤é¡¹å·¥ä½œï¼šå¦‚æžœé”®å€¼å·²ç»å­˜åœ¨äºŽç¬¦å·è¡¨ä¸­ï¼Œé‚£ä¹ˆå°±æ›´æ–°å®ƒçš„å€¼å¦‚æžœé”®å€¼ä¸åœ¨ç¬¦å·è¡¨ä¸­ï¼Œé‚£ä¹ˆå°±åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹å­˜å‚¨é”®å€¼å¯¹ä¸‹é¢æ˜¯ put() æ–¹æ³•çš„ä»£ç 1234567891011121314151617181920212223public void put(Key key, Value val) &#123; root = put(root, key, val);&#125;private Node put(Node x, Key key, Value val) &#123; if (x == null) return new Node(key, val, 1); int cmp = key.compareTo(x.key); if (cmp &lt; 0) x.left = put(x.left, key, val); else if (cmp &gt; 0) x.right = put (x.right, key, val); else x.val = val; // æ›´æ–°èŠ‚ç‚¹ä¸ªæ•° x.N = size(x.left) + size(x.right) + 1; return x;&#125;æ³¨æ„åˆ°ï¼Œput() æ–¹æ³•æ˜¯é€’å½’çš„ï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„ä¸»è¦å·¥ä½œåŽŸç†ä¹‹ä¸€ã€‚é€šè¿‡è¿™ä¸ªé€’å½’çš„æ–¹æ³•ï¼Œå®ƒæ‰èƒ½æ·±å…¥æ ‘åŽ»è¿›è¡Œæœç´¢å®šä½ã€‚è€Œæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œæ­¤æ–¹æ³•å¿…é¡»å°†æˆ‘ä»¬ä¼ å…¥çš„ Node å¼•ç”¨è¿”å›žå¦‚æžœæˆ‘ä»¬ä¼ è¿›åŽ»çš„æ˜¯ä¸€ä¸ªæ­£å¸¸çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸€äº›æˆ‘ä»¬ä¸åº”è¯¥åŽ»ä¿®æ”¹çš„å†…éƒ¨èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ­¤æ–¹æ³•å¿…é¡»å°†è¿™ä¸ªå¼•ç”¨åŽŸæ ·è¿”å›žï¼Œè€Œä¸”è¿”å›žå€¼è¦è®©åŽŸå§‹çš„å¼•ç”¨åŽ»æ•èŽ·ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬æ‰èƒ½ç»´æŒæ ‘çš„åŸºæœ¬ç»“æž„ï¼Œå¦åˆ™æ ‘çš„ç»“æž„å°±ä¼šè¢«æŸåã€‚å¦‚æžœæˆ‘ä»¬ä¼ è¿›åŽ»çš„ä¸æ˜¯ä¸€ä¸ªæ­£å¸¸çš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚ null å€¼ï¼Œé‚£ä¹ˆæ–¹æ³•ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶è¿”å›žï¼Œé‚£ä¹ˆåŽŸæœ‰çš„é“¾æŽ¥å°±èƒ½è¿žä¸Šä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ã€‚ä¸€ä»¶éžå¸¸æœ‰è¶£çš„äº‹æ˜¯ï¼Œä¸åªæ˜¯å…¬æœ‰æ–¹æ³•ï¼Œè€Œä¸”é€’å½’çš„ç§æœ‰æ–¹æ³•ä¹Ÿå‡ºçŽ°äº†åŒæ ·çš„ä»£ç ç»“æž„ï¼Œå³ x = put(x, key, val), æˆ‘ä»¬å°† x ä¼ é€’è¿›åŽ»ï¼Œç„¶åŽæœ€ç»ˆå®ƒå´è¿”å›žå‡ºæ¥è¢«åŽŸæœ‰çš„å¼•ç”¨æ•èŽ·äº†ã€‚è¿™æ˜¯åˆç†çš„ï¼Œå› ä¸ºåªæœ‰é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬æ‰èƒ½ä¿æŒæ ‘çš„ç»“æž„ç„¶åŽæ›´æ–°é“¾æŽ¥ï¼Œè€Œä¸æ˜¯æ¯æŽ‰å®ƒã€‚äº‹å®žä¸Šï¼Œé€’å½’æ–¹æ³•ä¸è¿”å›žå¼•ç”¨ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªä¸è¿‡éœ€è¦åœ¨å‡½æ•°å†…éƒ¨å°†é“¾æŽ¥è¿žä¸Šã€‚123if (x == null) &#123; x = new Node(key, val);&#125; 3.3 åˆ é™¤åˆ é™¤æ“ä½œæ˜¯æœ€ä¸ºå¤æ‚çš„ BST æ“ä½œã€‚å®ƒæ‹¥æœ‰å¾ˆå¤šæƒ…å†µï¼Œè®©æˆ‘ä»¬é€æ­¥åˆ†æžã€‚ 3.3.1 åˆ é™¤ æœ€å°/æœ€å¤§ å€¼è¿™æ˜¯åˆ é™¤æ“ä½œä¸­æœ€ä¸ºç®€å•çš„æƒ…å†µï¼Œæˆ‘ä»¬åªéœ€åˆ é™¤æœ€å·¦æˆ–è€…æœ€å³è¾¹çš„èŠ‚ç‚¹ï¼Œç„¶åŽé“¾æŽ¥ä¸Šå®ƒå‰©ä¸‹çš„å­æ ‘å³å¯æˆ‘ä»¬ä½¿ç”¨ delMin() ä½œä¸ºä¾‹å­ï¼Œå°†å…¶åè¿‡æ¥åšï¼Œå°±å˜æˆäº† delMax()ä¸‹é¢æ˜¯ç›¸åº”çš„æ“ä½œï¼šä¸€ç›´æ·±å…¥å·¦å­æ ‘åŽ»æŸ¥æ‰¾ï¼Œç„¶åŽå®šä½åˆ°æœ€å°çš„èŠ‚ç‚¹å°†å®ƒçš„å³å­æ ‘å’Œå®ƒçš„çˆ¶èŠ‚ç‚¹è¿žæŽ¥ç”±äºŽåŽŸæœ‰çš„è¿žæŽ¥æœ€å°èŠ‚ç‚¹çš„é“¾æŽ¥è¢«å…¶å³å­æ ‘å æ®ï¼Œæ²¡æœ‰æŒ‡å‘æœ€å°èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢«åžƒåœ¾å›žæ”¶æœºåˆ¶å›žæ”¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¾æ—§ä½¿ç”¨é€’å½’çš„æ–¹æ³•æ¥æ·±å…¥æ ‘è¿›è¡ŒæŸ¥æ‰¾12345678910111213public void deleteMin() &#123; root = deleteMin(root);&#125;private Node deleteMin(Node x) &#123; if (x.left == null) return x.right; x.left = deleteMin(x.left); x.N = size(x.left) + size(x.right) + 1; return x;&#125;ä¸Ž put() æ–¹æ³•ä¸€æ ·ï¼Œ delMin() æ–¹æ³•é‡‡ç”¨äº†é€’å½’çš„æ–¹æ³•æ¥æ·±å…¥æ ‘è¿›è¡ŒæŸ¥æ‰¾æ‰€ä»¥ï¼Œå®ƒéœ€è¦è¿”å›žæˆ‘ä»¬ä¼ å…¥çš„é“¾æŽ¥ï¼Œç„¶åŽè®©åŽŸæœ‰é“¾æŽ¥æ•èŽ·å®ƒæ¥ä¿æŒæ•´ä¸ªæ ‘çš„ç»“æž„ã€‚è¿™ä¹Ÿæ˜¯æ›´æ–°é“¾æŽ¥çš„æ–¹å¼ã€‚ä½†æ˜¯æœ€æœ‰è¶£å’Œæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œå½“æˆ‘ä»¬æ‰¾åˆ°æœ€å°çš„èŠ‚ç‚¹ä¹‹åŽï¼Œæˆ‘ä»¬è¦å°†å…¶å³å­æ ‘è¿”å›žã€‚ç”±äºŽé€’å½’æ“ä½œï¼Œæœ€å°èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„å·¦é“¾æŽ¥ä¼šè¿žæŽ¥åˆ°æœ€å°èŠ‚ç‚¹çš„å³å­æ ‘ä¸Šã€‚è¿™ä¸ªæ“ä½œäº‹å®žä¸Š FREE äº†æœ€å°çš„èŠ‚ç‚¹ï¼Œè€Œä¸”ä¿æŒäº†ç»“æž„çš„å®Œæ•´ã€‚è¿™ä¸ªæ“ä½œåœ¨æˆ‘ä»¬åˆ é™¤å…·æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„å…ƒç´ çš„æ—¶å€™ä¹Ÿå¾ˆæœ‰ç”¨ã€‚é‚£ä¹ˆåœ¨è¿™é‡Œé€’å½’æ–¹æ³•èƒ½ä¸èƒ½ä¸è¿”å›žå¼•ç”¨å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸è¡Œï¼delMin() æ–¹æ³•å’Œ put() æ–¹æ³•ä¸åŒçš„ä¸€ç‚¹æ˜¯å®ƒè¦å›žæº¯åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“éœ€è¦å›žæº¯åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦é‡‡ç”¨è¿”å›žä¸€ä¸ªå¼•ç”¨çš„æ–¹æ³•ï¼Œå¦åˆ™æ— æ³•å›žæº¯ã€‚æ‰€ä»¥å»ºè®®ç»Ÿä¸€é‡‡ç”¨è¿”å›žå¼•ç”¨çš„åšæ³• 3.3.2 é€šå¸¸èŠ‚ç‚¹çš„åˆ é™¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼ delMin() çš„æ–¹æ³•æ¥åˆ é™¤åªå…·æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹ä½†æ˜¯åˆ é™¤å…·æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹ä¼šæ›´ä¸ºå¤æ‚ã€‚è¿™ç§æƒ…å†µä¸‹éœ€è¦è§£å†³çš„æœ€é‡è¦çš„é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ¥æ›¿ä»£å…¶ä½ç½®ï¼Œå¦åˆ™é“¾æŽ¥å°†ä¼šæŸåã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨å®ƒçš„åŽç»§æ¥æ›¿ä»£å®ƒã€‚ä¸‹é¢æ˜¯æ‰¾åˆ°æ‰€éœ€åˆ é™¤å…ƒç´  x ä¹‹åŽçš„æ­¥éª¤ï¼šå°† x ä¿å­˜ä¸€ä¸ªå‰¯æœ¬ tt å³æ‰€éœ€è¦åˆ é™¤çš„å…ƒç´ è®© x æŒ‡å‘å…¶åŽç»§ min(x.right)åŽç»§å³æ¯” x å¤§çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å…¶å³å­æ ‘ä¸­æœ€å°çš„èŠ‚ç‚¹æ­¤æ—¶ x å·²ç»æŒ‡å‘åŽç»§ã€‚è®© x.right æŒ‡å‘ delMin(t.right)è¿™ä¸€æ­¥è¾ƒä¸ºå…³é”®å’Œéš¾ä»¥ç†è§£ã€‚delMin(t.right) ä¸»è¦åšäº†å¦‚ä¸‹å‡ ä»¶äº‹ï¼šå°†åŽç»§ä»Žä¸‹å±‚çš„é“¾æŽ¥é‡Šæ”¾å‡ºæ¥t æ˜¯åŽŸæœ‰ x çš„å‰¯æœ¬ï¼Œæ‰€ä»¥ delMin(t.right) æœ€åŽä¼šæŸ¥æ‰¾åˆ°å…¶åŽç»§ï¼Œå¹¶é‡Šæ”¾å‡ºæ¥ã€‚ä¿æŒåŽç»§é‡Šæ”¾åŽçš„é“¾æŽ¥å®Œæ•´æ€§ã€‚delMin() åœ¨æŸ¥æ‰¾åˆ°æœ€å°èŠ‚ç‚¹ä¹‹åŽä¼šè¿”å›žå³é“¾æŽ¥ï¼Œç”±äºŽè°ƒç”¨é€’å½’æ€§ï¼Œå³é“¾æŽ¥ä¼šè¢«ä¸Šå±‚æ•èŽ·ï¼Œä»Žè€Œä¿æŒäº†é“¾æŽ¥æ€§ã€‚è¿™é‡Œå°†åŽç»§é‡Šæ”¾å‡ºæ¥åŽï¼Œä¼šè®©å…¶çˆ¶èŠ‚ç‚¹æ¥è´Ÿè´£é“¾æŽ¥ä¸Šå…¶å³å­æ ‘ã€‚æ›´æ–°è®¡æ•°ï¼Œå¹¶å°†ä¼ å…¥çš„é“¾æŽ¥åŽŸæ ·è¿”å›žè¿™æ˜¯æœ€ä¸ºé‡è¦çš„ï¼Œé¦–å…ˆå°†è®¡æ•°æ›´æ–°äº†ï¼Œä¿è¯è®¡æ•°æ­£ç¡®æ€§ã€‚å…¶æ¬¡ï¼ŒdelMin(x) åœ¨æœ€åŽé€€å‡ºé€’å½’çš„æ—¶å€™ä¼šè¿”å›ž xã€‚ä¹Ÿå°±æ˜¯ delMin(t.right) çš„è¿”å›žå€¼æ˜¯ t.rightã€‚é‚£ä¹ˆ x.right = delMin(t.right) ä¹Ÿå°±ç›¸å½“äºŽ x.right = t.rightã€‚æ­£å¥½æ˜¯ä½¿ç”¨äº† x æ¥æ›¿ä»£ tï¼ˆæ³¨æ„æ­¤æ—¶ x å·²ç»æ˜¯åŽç»§äº†ï¼‰è®© x.left æŒ‡å‘ t.leftæ›´æ–°è®¡æ•°å™¨ï¼Œé€’å½’æ–¹æ³•è¿”å›žä¼ å…¥å€¼æ¥ä¿æŒé“¾æŽ¥å®Œæ•´æ€§Code:12345678910111213141516171819202122232425262728293031323334353637public void delete(Key key) &#123; root = delete(root,key);&#125;private Node delete(Node x, Key key) &#123; // Notice that, we use recursive way // to locate the Node which will be delete // Also, we need to renew the counter // Therefore, in this method, we need to // retrun the link of the node itself, to // miantain the connectivity if (x == null) return null; int cmp = key.compareTo(key); // if not hit, // deep into subtree and continue search if (cmp &lt; 0) x.left = delete (x.left, key); else if (cmp &gt; 0) x.right = delete(x.right, key); else &#123; // hit // The deletion of one or none child if (x.right == null) return x.left; if (x.left == null) return x.right; // Two child Node t = x; x = min(t.right); // refer to the special notice x.right = deleteMin(t.right); x.left = t.left; &#125; // renew counter x.N = size(x.left) + size(x.right) + 1; return x; // return itself to maintain the conectivity&#125; 3.4 å…¶ä»–çš„æœ‰åºæ–¹æ³• 3.4.1 æœ€å°å’Œæœ€å¤§æ‰¾åˆ°æœ€å°æˆ–è€…æœ€å¤§çš„å…ƒç´ æ˜¯å¾ˆç®€å•çš„ï¼Œåªéœ€è¦æ·±å…¥å·¦å­æ ‘æˆ–è€…å³å­æ ‘å°±å¯ä»¥äº†ã€‚12345678public Key min() &#123; return min(root).key;&#125;private Node min(Node x) &#123; if (x.left == null) return x; return min(x.left);&#125; 3.4.2 å‘ä¸‹å–æ•´/å‘ä¸Šå–æ•´è¿™ä¸¤ä¸ªæ–¹æ³•çš„ç›®çš„æ˜¯å¯»æ‰¾åˆ°ä¸€ä¸ªä¸å¤§äºŽæˆ–è€…ä¸å°äºŽè¾“å…¥èŠ‚ç‚¹çš„èŠ‚ç‚¹æˆ‘ä»¬ä½¿ç”¨å‘ä¸‹å–æ•´æ¥ä¸¾ä¸ªä¾‹å­ï¼šè¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼šå¦‚æžœæ‰€ç»™çš„é”®å€¼æ¯”æ ¹èŠ‚ç‚¹å°ï¼Œé‚£ä¹ˆæ‰€éœ€çš„èŠ‚ç‚¹å°±è‚¯å®šåœ¨å·¦å­æ ‘ä¸­å¦‚æžœæ‰€ç»™çš„é”®å€¼æ¯”æ ¹èŠ‚ç‚¹å¤§ï¼Œé‚£ä¹ˆæ‰€éœ€çš„èŠ‚ç‚¹å¯èƒ½åœ¨å³å­æ ‘ä¸­ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœæˆ‘ä»¬åœ¨å³å­æ ‘ä¸­æ‰¾ä¸åˆ°æ‰€éœ€èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ ¹èŠ‚ç‚¹å°±æ˜¯æ‰€éœ€èŠ‚ç‚¹123456789101112131415public Key floor(Key key) &#123; Node x = floor(root, key); if (x == null) return null; return x.key;&#125;private Node floor(Node x, Key key) &#123; if (x == null) return null; int cmp = key.compareTo(x.key); if (cmp == 0) return x; if (cmp &lt; 0) return floor(x.left, key); Node t = floor(x.right, key); if (t != null) return t; else return x;&#125; 3.4.3 é€‰æ‹©å’ŒæŽ’åºè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å…³äºŽèŠ‚ç‚¹åœ¨æ ‘ä¸­çš„æŽ’ä½é—®é¢˜çš„ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªå­æ ‘çš„èŠ‚ç‚¹æ€»æ•°çš„åŽŸå› ã€‚select() å’Œ rank() æ˜¯ä¸€å¯¹äº’é€†æ–¹æ³•ï¼Œä¸€ä¸ªç»™æŽ’åï¼Œè¿”å›žé”®å€¼ï¼Œå¦ä¸€ä¸ªç»™é”®å€¼ï¼Œè¿”å›žæŽ’åä¸‹é¢ç”¨ rank() æ–¹æ³•ä¸¾ä¸ªä¾‹å­ï¼Œæ­¤æ–¹æ³•çš„æ­¥éª¤æ˜¯ï¼šå¦‚æžœé”®å€¼å’Œæ ¹èŠ‚ç‚¹ç›¸ç­‰ï¼Œé‚£ä¹ˆæ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘çš„æ€»æ•°å°±æ˜¯æ‰€ç»™èŠ‚ç‚¹çš„æŽ’åå¦‚æžœæ‰€ç»™çš„é”®å€¼æ¯”æ ¹èŠ‚ç‚¹å°ï¼Œé‚£ä¹ˆå°±åœ¨å·¦å­æ ‘ä¸­å¯»æ‰¾å¦‚æžœæ‰€ç»™çš„é”®å€¼æ¯”æ ¹èŠ‚ç‚¹å¤§ï¼Œé‚£ä¹ˆåœ¨å³å­æ ‘ä¸­å¯»æ‰¾ï¼Œæ­¤æ—¶ï¼Œæ‰€ç»™èŠ‚ç‚¹çš„æŽ’åä¸ºï¼šRank=Size(left subtree)+Rank(right subtree)+1Rank = Size(left\ subtree) + Rank(right\ subtree) + 1Rank=Size(left subtree)+Rank(right subtree)+1å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹éƒ½æ¯”æ ¹èŠ‚ç‚¹å°ï¼Œæ—¢ç„¶æ‰€ç»™èŠ‚ç‚¹éƒ½æ¯”æ ¹èŠ‚ç‚¹å¤§ï¼Œé‚£ä¹ˆç†åº”æ¯”å·¦å­æ ‘çš„èŠ‚ç‚¹éƒ½è¦å¤§ã€‚æ‰€ä»¥æŽ’åè¿˜è¦åŠ ä¸Šå·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚å…¶ä¸­çš„ 111 è¡¨ç¤ºçš„æ˜¯æ ¹èŠ‚ç‚¹æœ¬èº«ã€‚1234567891011121314151617181920212223public Key select(int k) &#123; return select(root, k).key;&#125;private Node select(Nodex, int k) &#123; if (x == null) return null; int t = size(x.left); if (t &gt;k) return select(x.left, k); else if (t &lt; k) return select(x.right,k - t - 1); else return x;&#125;public int rank(Key key) &#123; return rank(key, root);&#125;private int rank(Key key, Node x) &#123; if(x == null) return 0; int cmp = key.compareTo(x.key); if (cmp &lt; 0) return rank(key, x.left); else if (cmp &gt; 0) return 1 + size(x.left) + rank(key, x.right); else return size(x.left);&#125;ç”±æ–¹æ³•çš„æ­¥éª¤å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å…·æœ‰æµ“é‡çš„é€’å½’ç‰¹è´¨ï¼Œä½¿ç”¨é€’å½’ç±»åž‹çš„æ–¹æ³•ä¼šç®€ä¾¿å¾—å¤š 3.4.4 èŒƒå›´keys() æ–¹æ³•çš„ä¸»è¦ç®—æ³•æ€æƒ³å°±æ˜¯è¦è¿”å›žåœ¨ä¸€ä¸ªç‰¹å®šèŒƒå›´å†…çš„æ‰€æœ‰é”®å€¼æˆ‘ä»¬ä½¿ç”¨é˜Ÿåˆ—æ¥ä¿å­˜è¿™äº›é”®å€¼å¦‚æžœæ ¹èŠ‚ç‚¹æ¯”èŒƒå›´å°ï¼Œé‚£ä¹ˆæ‰¾å³å­æ ‘å¦‚æžœæ ¹èŠ‚ç‚¹æ¯”èŒƒå›´å¤§ï¼Œé‚£ä¹ˆæ‰¾å·¦å­æ ‘å¦‚æžœæ ¹èŠ‚ç‚¹åœ¨èŒƒå›´å†…ï¼Œå°†å…¶å…¥åˆ—ï¼Œç„¶åŽåˆ†åˆ«æ‰¾å·¦å­æ ‘å’Œå³å­æ ‘è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ï¼Œå¦‚æžœä¸€ä¸ªèŠ‚ç‚¹åœ¨èŒƒå›´å†…ï¼Œé‚£ä¹ˆå®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘ä¹Ÿæœ‰å¯èƒ½åœ¨èŒƒå›´å†…123456789101112131415161718192021public Iterable&lt;Key&gt; keys() &#123; return keys(min(), max());&#125;public Iterable &lt;Key&gt; keys(Key lo, Key hi) &#123; Queue&lt;Key&gt; queue = new Queue&lt;Key&gt;(); keys(root, queue, lo, hi); return queue;&#125;private void keys(Node x, Queue&lt;Key&gt; queue, Key lo, Key hi) &#123; if (x == null) return; int comlo = lo.compareTo(x.key); int cmphi = hi.compareTo(x.key); // Notice that there is no *eles*, // that's because we need to traversal the subtree if (cmplo &lt; 0) keys(x.left, queue, lo, hi); if (cmplo &lt;= 0 &amp;&amp; cmphi &gt;= 0) queue.enqueue(x.key); // Within range if (cmphi &gt; 0) keys(x.right, queue, lo, hi);&#125; 4. æ€§èƒ½BST çš„æ€§èƒ½æ˜¯ä¾èµ–äºŽè¾“å…¥æ¨¡åž‹çš„ã€‚æœ€å¥½çš„æƒ…å†µæ˜¯ BST å®Œç¾Žå¹³è¡¡ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰å¶èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»æ˜¯âˆ¼lgN\sim lgNâˆ¼lgNæœ€åçš„æƒ…å†µæ˜¯ BST ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½åœ¨åŒä¸€ä¾§ï¼Œæ­¤æ—¶æœå¯»æ•ˆçŽ‡å°†ä¼šå‡å°‘åˆ° O(N)O(N)O(N) åœ¨å¹³å‡æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæœ‰ NNN ä¸ªéšæœºé”®å€¼çš„äºŒå‰æ ‘ä¸­ï¼Œæ’å…¥å’Œæœªå‘½ä¸­æœç´¢éœ€è¦ âˆ¼2lnN\sim 2lnNâˆ¼2lnN (å¤§çº¦æ˜¯ 1.39lgN1.39lgN1.39lgN) æ¬¡çš„æ¯”è¾ƒ;å¯¹äºŽåˆ é™¤æ“ä½œï¼Œåœ¨å¹³å‡æƒ…å†µä¸‹ï¼Œåˆ™éœ€è¦ N\sqrt{N}Nâ€‹ æ¬¡æ¯”è¾ƒ 5. ç»“è®ºä½¿ç”¨ BST å¯ä»¥å¾ˆå¥½åœ°è§£å†³æ•°ç»„æ’å…¥å’Œåˆ é™¤å¼•èµ·çš„æ€§èƒ½é—®é¢˜ã€‚äº‹å®žä¸Šï¼Œåœ¨ BST ä¸­è¿›è¡Œæœç´¢éœ€è¦å¤§çº¦ 39%39\%39% çš„é¢å¤–æ€§èƒ½ï¼Œä½†æ˜¯ç”±äºŽæ’å…¥çš„å¼€é”€è¢«å‡å°‘åˆ°äº†å¯¹æ•°çº§åˆ«ï¼Œæ‰€ä»¥è¿™ä¸€é¢å¤–çš„èŠ±é”€æ˜¯å€¼å¾—çš„ã€‚ä½†æ˜¯ï¼ŒBST æ²¡æœ‰æ—¶é—´å¤æ‚åº¦ä¸Šçš„æ€§èƒ½ä¿è¯ï¼Œåœ¨æœ€åæƒ…å½¢ä¸‹ï¼Œå®ƒæœå¯»ä¸€ä¸ªé”®ä»ç„¶éœ€è¦çº¿æ€§çº§åˆ«çš„æ—¶é—´]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¼˜å…ˆé˜Ÿåˆ—å’Œå †æŽ’åº]]></title>
    <url>%2F%2FAlgorithm%2F%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E5%92%8C%E5%A0%86%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ç§ç±»ä¼¼é˜Ÿåˆ—çš„æ•°æ®ç»“æž„ï¼Œä½†æ˜¯æ”¯æŒåˆ é™¤æœ€å¤§æˆ–æœ€å°å…ƒç´ ä»¥åŠæ’å…¥å…ƒç´ æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œä¼˜å…ˆé˜Ÿåˆ—èƒ½å­˜å‚¨å¾ˆå¤§çš„æ•°æ®é‡ï¼Œæˆ–è€…å½“ä½ çš„å†…å­˜å¾ˆå°çš„æ—¶å€™è¿›è¡Œä¸€äº›é˜Ÿåˆ—çš„æ“ä½œ 2. åŸºæœ¬å®žçŽ°æ•°ç»„å®žçŽ°ï¼ˆæ— åºï¼‰å½“æ¬¡åºä¸é‡è¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é‡ç”¨æ ˆè¿™ä¸€æ•°æ®ç»“æž„ã€‚insert() æ–¹æ³•å°±ç±»ä¼¼æ ˆçš„ push() æ–¹æ³•å¯¹äºŽ deleteMax() æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å°†æœ€å¤§çš„å…ƒç´ äº¤æ¢åˆ°æ ˆé¡¶çš„æ–¹æ³•å®žçŽ°æ•°ç»„å®žçŽ°ï¼ˆæœ‰åºï¼‰å½“éœ€è¦æ¬¡åºçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°ç»„ç”¨äºŽä¿æŒå…ƒç´ çš„æ¬¡åºä¸ºäº†ç»´æŒè¿™ä¸€æ¬¡åºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ’å…¥çš„æ˜¯å¶å°†å¤§çš„å…ƒç´ å¾€å³ç§»åŠ¨ï¼Œè¿™æ ·ï¼Œæ•´ä¸ªæ•°ç»„å°±ä¼šéƒ½æ˜¯æœ‰åºçš„ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•çš„è°ƒç”¨ pop() æ–¹æ³•å³å¯å®žçŽ°åˆ é™¤æœ€å¤§å…ƒç´ é“¾è¡¨å®žçŽ°ç”±äºŽä¸Šé¢ä½¿ç”¨äº†æ ˆå’Œé˜Ÿåˆ—è¿™å‡ ç§æ•°æ®ç»“æž„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´é«˜æ•ˆçš„é“¾è¡¨æ¥å®žçŽ°ä»–ä»¬ã€‚å…·ä½“çš„ç®—æ³•æ€æƒ³å’Œæ•°ç»„å®žçŽ°ä¸€è‡´ã€‚ 3. äºŒå‰å †å®žçŽ° 3.1 äºŒå‰å †çš„å®šä¹‰äºŒå‰å †æ˜¯ä¸€ä¸ªæ»¡è¶³å †æœ‰åºçš„å®Œå…¨äºŒå‰æ ‘å †æœ‰åºï¼šå½“æ‰€æœ‰çš„äºŒå‰æ ‘èŠ‚ç‚¹éƒ½å¤§äºŽæˆ–ç­‰äºŽä»–ä»¬çš„ä¸¤ä¸ªå­èŠ‚ç‚¹æ—¶ï¼Œç§°äºŒå‰æ ‘å †æœ‰åºæŽ¨è®ºï¼šäºŒå‰å †çš„æ ¹èŠ‚ç‚¹æ¯”ä»»ä½•èŠ‚ç‚¹éƒ½è¦å¤§ 3.2 äºŒå‰å †çš„è¡¨ç¤ºæ³•å› ä¸ºäºŒå‰å †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾çš„ä½¿ç”¨æ•°ç»„æ¥è¡¨ç¤ºä¸€ä¸ªäºŒå‰å †ã€‚å³ï¼Œå½“å‰èŠ‚ç‚¹ä¸º kï¼Œåˆ™å·¦å­èŠ‚ç‚¹ä¸º 2kï¼Œå³å­èŠ‚ç‚¹ä¸º 2k + 1æ­¤æ—¶ï¼Œç”±äºŽé™¤æ³•åªä¼šè¿”å›žå•†ï¼Œæ‰€ä»¥ä¸€ä¸ªèŠ‚ç‚¹æ— è®ºå®ƒæ˜¯å·¦å­èŠ‚ç‚¹è¿˜æ˜¯å³å­èŠ‚ç‚¹ï¼Œå…¶çˆ¶èŠ‚ç‚¹éƒ½æ˜¯ k / 2ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†ä¸Žå‚æ•°ä¸Šçš„ç´¢å¼•å¯¹åº”ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ a[0] 3.3 åŽŸç†ä¸»è¦çš„åŽŸç†æ˜¯å¦‚ä½•åŽ»é‡æ–°æŽ’åºä¸€ä¸ªäºŒå‰å †å½“æˆ‘ä»¬è¿›è¡Œæ¯”è¾ƒå’Œäº¤æ¢çš„æ—¶å€™ï¼ŒäºŒå‰å †çš„é¡ºåºå°†ä¼šè¢«æ‰“ç ´ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡å»ºäºŒå‰å †(reheapifying)ä¸»è¦çš„ç®—æ³•æ€æƒ³æ˜¯ä¸Šæµ®å’Œä¸‹æ²‰å½“ä¸€ä¸ªèŠ‚ç‚¹èŽ·å¾—äº†æ›´é«˜çš„ä¼˜å…ˆçº§çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†å…¶ä¸Šæµ®ï¼Œé€šå¸¸æ˜¯ç”±äºŽæˆ‘ä»¬åœ¨äºŒå‰å †çš„åº•éƒ¨æ’å…¥äº†ä¸€ä¸ªæ–°èŠ‚ç‚¹å¯¼è‡´çš„ã€‚å½“ä¸€ä¸ªèŠ‚ç‚¹ä¼˜å…ˆçº§é™ä½Žæ—¶ï¼Œæˆ‘ä»¬å°†å®ƒä¸‹æ²‰ï¼Œé€šå¸¸æ˜¯æˆ‘ä»¬ç”¨ä¸€ä¸ªä½Žä¼˜å…ˆçº§çš„èŠ‚ç‚¹æ›¿æ¢äº†æ ¹èŠ‚ç‚¹çš„æ—¶å€™ï¼ˆå…¶å®žæ˜¯è¿›è¡Œäº†åˆ é™¤æ“ä½œï¼‰ä¸Šæµ®å½“ä¸€ä¸ªèŠ‚ç‚¹æ¯”ä»–çš„çˆ¶èŠ‚ç‚¹å¤§çš„æ—¶ï¼Œæˆ‘ä»¬å°†å®ƒå’Œå®ƒçš„çˆ¶äº²äº¤æ¢ä»¥æ¢å¤äºŒå‰å †çš„æ¬¡åºè¿™æ˜¯ä¸€ä¸ªé€’å½’çš„æ“ä½œï¼Œå¦‚æžœä¸Šæµ®åŽè¿˜å­˜åœ¨äºŒå‰å †æ¬¡åºæŸåï¼Œé‚£ä¹ˆå°±ç»§ç»­ä¸Šæµ®ä¸‹æ²‰å½“ä¸€ä¸ªèŠ‚ç‚¹æ¯”å®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½è¦å°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†å®ƒä¸Žè¾ƒå¤§çš„å­èŠ‚ç‚¹äº¤æ¢ä»¥æ¢å¤äºŒå‰å †çš„æ¬¡åº å¦‚æžœä¸‹æ²‰ä¹‹åŽä»å­˜åœ¨æ­¤æƒ…å†µï¼Œç»§ç»­ä¸‹æ²‰1234567891011121314151617181920212223private void swim(int k) &#123; while(k &gt; 1 &amp;&amp; less(k / 2, k)) &#123; exch(k, k / 2); k = k / 2; &#125;&#125;private void sink(int k) &#123; while(k * 2 &lt; N) &#123; int j = k * 2; if (less(j, j + 1)) &#123; j ++: &#125; if (!less(k, j)) &#123; break; &#125; exch(k, j); k = j; &#125;&#125; 3.4 å®žçŽ°æ’å…¥å…ƒç´ æˆ‘ä»¬å°†ä¸€ä¸ªæ–°å…ƒç´ æ’å…¥åˆ°æ•°ç»„å°¾éƒ¨ï¼Œå¢žå¤§å †çš„å¤§å°ï¼Œç„¶åŽå°†å…ƒç´ ä¸Šæµ®åˆ é™¤æœ€å¤§å…ƒç´ æˆ‘ä»¬å°†ä½äºŽæ•°ç»„å°¾éƒ¨çš„å…ƒç´ å’Œæ ¹èŠ‚ç‚¹äº¤æ¢ï¼Œç„¶åŽåˆ é™¤åŽŸæ¥çš„æ ¹èŠ‚ç‚¹ï¼Œå°†æ–°çš„æ ¹èŠ‚ç‚¹ä¸‹æ²‰123456789101112public void insert(Key v) &#123; pq[++ N] = v; swim(N);&#125;public Key delMax() &#123; Key max = pq[1]; exch(1, N--); pq[N + 1] = null; // Prevent the object free sink(1); return max;&#125; 4. ç´¢å¼•ä¼˜å…ˆé˜Ÿåˆ—ç´¢å¼•ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ç§å¸¦äº†ç´¢å¼•çš„ä¼˜å…ˆé˜Ÿåˆ—ï¼›è¿™é‡Œçš„ç´¢å¼•æŒ‡çš„æ˜¯ï¼Œé˜Ÿåˆ—ä¸­çš„å…ƒç´  åœ¨é˜Ÿåˆ—çš„ä½ç½®ã€‚è‡³äºŽä¼˜å…ˆé˜Ÿåˆ—ä¸ºä½•éœ€è¦ç´¢å¼•ï¼Œå®žé™…ä¸Šæ˜¯ä¸ºäº†æ–¹ä¾¿ä¿®æ”¹é˜Ÿåˆ—é‡Œçš„æ•°æ®ã€‚æœ‰äº†è¿™ä¸ªç´¢å¼•ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¤„ç†ä¸€äº›å¤§åž‹çš„è¾“å…¥æ•°æ®ï¼ˆç”šè‡³å¯èƒ½éƒ½æ²¡åŠžæ³•ä¸€æ¬¡æ€§è¯»å…¥å†…å­˜çš„æ•°æ®ï¼‰ï¼Œæˆ–è€…åœ¨ä¸€äº›å°å†…å­˜æœºå™¨ä¸Šå·¥ä½œä¸»è¦çš„æ”¹å˜æœ‰ï¼šæˆ‘ä»¬å°†å…ƒç´ å’Œå®ƒçš„ç´¢å¼•ä¸€èµ·æ’å…¥æˆ‘ä»¬åˆ é™¤æœ€å¤§å…ƒç´ çš„æ—¶å€™ï¼Œè¿”å›žå®ƒçš„ç´¢å¼• 4.1 å®žçŽ°ä½¿ç”¨ 3 ä¸ªæ•°ç»„ï¼špq[]ä¼˜å…ˆé˜Ÿåˆ—çš„å †ï¼Œä¸‹æ ‡æ˜¯å †çš„ä½ç½®ï¼Œå€¼æ˜¯ ç´¢å¼•qp[]ç´¢å¼•æ•°ç»„ï¼Œæ˜¯ pq[] çš„åè½¬ï¼Œå€¼æ˜¯å †çš„ä½ç½®keys[]å¯¹è±¡æ•°ç»„ï¼Œä¸‹æ ‡æ˜¯ç´¢å¼•ï¼Œå€¼æ˜¯å¯¹è±¡æœ¬èº« 4.2 ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—çš„å¤šé¡¹å½’å¹¶1234567891011121314151617181920212223242526272829303132333435363738public class Multiway &#123; public static void merge(In[] streams) &#123; int N = streams.lenth; // Notice tha the N is the number of the STREAM, // not the input strings. IndexMinPQ&lt;String&gt; pq = new IndexMinPQ&lt;String&gt; (N); for (int i = 0; i &lt; N; i++) &#123; if (!streams[i].isEmpty()) &#123; // That is a Stream // Insert the stream pq.insert(i, streams[i].readString()); &#125; &#125; while (!pq.isEmpty()) &#123; // Output the Min element StdOut.println(pq.min()); int i = pq.delMin(); // Keep reading next String if (!streams[i].isEmpty()) &#123; pq.insert(i, streams[i].readString()); &#125; &#125; &#125; public static void main(String[] args) &#123; int N = args.lenth; In[] streams = new In[N]; for (int i = 0; i &lt; N; i++) &#123; streams[i] = new In(args[i]); &#125; merge(streams); &#125;&#125; 5. å †æŽ’åºå †æŽ’åºæ˜¯ä¼˜å…ˆé˜Ÿåˆ—çš„ä¸€ç§åº”ç”¨ï¼›å®ƒå°†å…ƒç´ æ’å…¥åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œç„¶åŽé€šè¿‡åˆ é™¤æœ€å¤§å…ƒç´ æˆ–è€…åˆ é™¤æœ€å°å…ƒç´ æ¥è¾¾åˆ°æŽ’åºçš„ç›®çš„è¿™ä¸ªç®—æ³•ç”±äºŽä½¿ç”¨äº†ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå®ƒèƒ½å¤„ç†ä¸€äº›ç‰¹åˆ«å¤§åž‹çš„æ•°æ®ï¼Œæˆ–è€…åœ¨ä¸€äº›å°å†…å­˜æœºå™¨ä¸Šä½¿ç”¨ã€‚å®ƒåŒ…å«äº†ä¸¤ä¸ªæ­¥éª¤ï¼Œå»ºç«‹äºŒå‰å †å’Œé”€æ¯äºŒå‰å † 5.1 å®žçŽ°åŽŸç† 5.1.1 å»ºç«‹äºŒå‰å †éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°ç»„å…¶å®žå°±æ˜¯ä¸€ä¸ªäºŒå‰å †ï¼æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¯¹æ•°ç»„è¿›è¡ŒäºŒå‰å †é‡å»º(reheapifying)ï¼Œé‚£ä¹ˆå»ºç«‹çš„æ­¥éª¤å°±å®Œæˆäº†123for (int k = N / 2; k &gt;= 1; k--) &#123; sink(pq, k, N);&#125; 5.1.2 é”€æ¯äºŒå‰å †ï¼ˆæŽ’åºï¼‰äºŒå‰å †å¯ä»¥å¸®åŠ©æˆ‘ä»¬èŽ·å–æœ€å¤§æˆ–è€…æœ€å°çš„å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å°†å…¶åˆ é™¤å‡ºäºŒå‰å †ï¼Œç„¶åŽæ’å…¥åˆ°ä¸€ä¸ªæ–°æ•°ç»„å°±å¯ä»¥äº†ã€‚ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•åŽ»åˆ é™¤æœ€å¤§çš„å…ƒç´ å‘¢ï¼Ÿå®žé™…ä¸Šï¼Œæˆ‘ä»¬ä¸éœ€è¦çœŸæ­£çš„â€œåˆ é™¤â€è¿™ä¸ªå…ƒç´ ï¼ˆå³é‡Šæ”¾å®ƒçš„å†…å­˜ï¼‰ï¼›æˆ‘ä»¬åªæ˜¯åœ¨è¿›è¡ŒæŽ’åºï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å°†å®ƒäº¤æ¢ï¼Œæˆ–è€…è¯´å°†å®ƒæ”¾åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œå³å¯ã€‚1234while (N&gt;1) &#123; exch(a,1, N--); sink(a, 1, N);&#125; 5.2 å®žçŽ°12345678910111213141516171819public static void sort(Comparable[] a) &#123; int N = a.lenth; /** * Build the heap * We only need to traversal the nodes * who contains children. * As the heap's theory, we convince that the k = N/2 */ for (int k = N/2; k &gt;= 1; k--) &#123; sink(a, k, N); &#125; // Destory the heap while (N&gt;1) &#123; exch(a,1, N--); sink(a, 1, N); &#125;&#125;æ³¨æ„ï¼Œå¦‚æžœéœ€è¦å‡åºï¼Œåº”è¯¥ä½¿ç”¨åˆ é™¤æœ€å¤§å…ƒç´ çš„äºŒå‰å †ï¼›åŒç†ï¼Œå¦‚æžœéœ€è¦é™åºï¼Œåº”è¯¥ä½¿ç”¨åˆ é™¤æœ€å°å…ƒç´ çš„äºŒå‰å †ï¼›å› ä¸ºäº¤æ¢ä½¿å¾—åˆ é™¤çš„å…ƒç´ è¢«äº¤æ¢åˆ°äº†æ•°ç»„å°¾éƒ¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯ 1-base çš„å †ï¼Œè€Œæ™®é€šçš„æ•°ç»„æ˜¯ 0-base çš„ï¼›æ‰€ä»¥éœ€è¦åœ¨ç´¢å¼•è®¡ç®—ä¸Šå°å¿ƒè°¨æ…Žã€‚ 5.3 æ€§èƒ½è¿›è¡Œ NNN ä¸ªæ•°æ®å…ƒç´ çš„æŽ’åºï¼Œå †æŽ’åºä»…ä»…éœ€è¦ (2NlgN+2N)(2NlgN + 2N)(2NlgN+2N) æ¬¡çš„æ¯”è¾ƒå’Œä¸€åŠçš„äº¤æ¢è™½ç„¶å®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯çº¿æ€§çº§åˆ«çš„ï¼Œä½†æ˜¯å®ƒéœ€è¦å¾ˆå°‘çš„å†…å­˜å°±å¯ä»¥å¤„ç†å¾ˆå¤§åž‹çš„æ•°æ®ã€‚åŒæ—¶ï¼Œå †æŽ’åºåœ¨æœ€åæƒ…å†µä¸‹å¯ä»¥ä¿è¯ NlogNNlogNNlogN çš„å¤æ‚åº¦ï¼Œè€Œä¸”æ˜¯åŽŸåœ°æŽ’åºï¼ˆä¸éœ€è¦å¤šä½™ç©ºé—´ï¼‰å°½ç®¡å¦‚æ­¤ï¼Œå †æŽ’åºçš„åº”ç”¨ä»ç„¶æ²¡æœ‰å¿«é€ŸæŽ’åºå¹¿æ³›å’Œé¢‘ç¹ï¼Œä¸»è¦æ˜¯å› ä¸ºï¼šå †æŽ’åºçš„å†…å¾ªçŽ¯æ¯”å¿«é€ŸæŽ’åºè¦å¤æ‚å¾ªçŽ¯æŠ€æœ¯å’Œå„ç§éœ€è¦æ³¨æ„çš„åœ°æ–¹è¾ƒå¿«é€ŸæŽ’åºå¤šå †æŽ’åºä¸èƒ½æœ‰æ•ˆåˆ©ç”¨ç¼“å­˜å †æŽ’åºè½½å…¥å¤§æ•°ç»„æ—¶ï¼Œæ•°ç»„çš„å¼•ç”¨ä¼šå¾ˆå¯èƒ½å¸ƒæ»¡æ•´ä¸ªå†…å­˜ï¼Œè€Œå¿«é€ŸæŽ’åºæ˜¯é€’å½’è°ƒç”¨ï¼Œä¿ç•™ç€å¾ˆå¤šå±€éƒ¨çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¿«é€ŸæŽ’åºåœ¨åˆ©ç”¨ç¼“å­˜çš„æ•ˆçŽ‡ä¸Šæ¯”å †æŽ’åºé«˜ã€‚çŽ°ä»£æœºå™¨çš„ç¼“å­˜å‘½ä¸­çŽ‡ä¸€èˆ¬éƒ½ä¼šåœ¨ 95% ä»¥ä¸Šï¼Œæ‰€ä»¥æœ‰æ•ˆçš„åˆ©ç”¨ç¼“å­˜æ˜¯å¾ˆé‡è¦çš„ã€‚åŒæ—¶å’Œå½’å¹¶æŽ’åºç›¸æ¯”ï¼Œå †æŽ’åºæ˜¯ä¸ç¨³å®šçš„ï¼Œåœ¨å¼€å‘ä¸€äº›è¦æ±‚æŽ’åºç¨³å®šæ€§çš„ç¨‹åºæ—¶ï¼Œæ˜¾ç„¶åº”è¯¥é€‰æ‹©å½’å¹¶æŽ’åº]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¬¦å·è¡¨]]></title>
    <url>%2F%2FAlgorithm%2F%E7%AC%A6%E5%8F%B7%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[1. ç¬¦å·è¡¨ç¬¦å·è¡¨æ˜¯ä¸€ä¸ªå‚¨å­˜é”®å€¼å¯¹çš„è¡¨ï¼ŒåŒæ—¶è¿˜æœ‰æ’å…¥å’Œåˆ é™¤çš„åŠŸèƒ½ã€‚ 1.1 ç¬¦å·è¡¨çš„è®¾è®¡ç¬¦å·è¡¨ä¸å…è®¸é‡å¤çš„é”®é”®å€¼å¯¹æ˜¯å”¯ä¸€çš„ï¼Œä¸€ä¸ªé”®åªå¯¹åº”ä¸€ä¸ªå€¼ç¬¦å·è¡¨ä¸å…è®¸ç©ºé”®å’Œç©ºå€¼è¿™æ˜¯å› ä¸ºç©ºé”®ä¼šå¯¼è‡´ Runtime Exceptionä¸å…è®¸ç©ºå€¼å¯ä»¥è®©æˆ‘ä»¬é€šè¿‡æ›´å°‘çš„ API æ¥å®žçŽ°æ›´å¤šçš„ç±»ä¼¼æ’å…¥åˆ é™¤çš„æ“ä½œæˆ‘ä»¬å¯ä»¥é€šè¿‡ get() æ¥æµ‹è¯•ä¸€ä¸ªé”®æ˜¯å¦æ˜¯ç©ºé”®é€šè¿‡ put() çš„ç©ºå€¼æ¥åˆ é™¤è¿™ä¸ªé”®åªé€šè¿‡ compareTo() æ–¹æ³•æ¥åŽ»åˆ¤æ–­ä¸¤ä¸ªé”®çš„ç›¸ç­‰æ€§å¦‚æžœæˆ‘ä»¬æ··åˆä½¿ç”¨ equal() å’Œ compareTo() æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™å°†ä¼šå¯¼è‡´å¾ˆå¤šä¸å¿…è¦çš„æµªè´¹ä¸ºäº†é¿å…è¿™ç§ä½¿ç”¨ä¸åŒæ–¹æ³•æ‰€é€ æˆçš„æµªè´¹ï¼Œæˆ‘ä»¬å†³å®šåªä½¿ç”¨ compareTo() æ¥åŽ»åˆ¤æ–­ç›¸ç­‰æ€§ 1.2 APIè¿™é‡Œå±•çŽ°äº†æˆ‘ä»¬åº”è¯¥ä½¿ç”¨åœ¨ç¬¦å·è¡¨çš„ API ï¼Œè¿™äº› API ä¸»è¦å¯¹é”®å€¼å¯¹è¿›è¡Œæ“ä½œï¼›ä¹‹åŽçš„å†…å®¹å°†åŸºäºŽè¿™é‡Œç»™å‡ºçš„ API æ¥è¿›è¡Œã€‚ 1.2.1 å…³é”®çš„ APIæœ€ä¸ºå…³é”®çš„ç¬¦å·è¡¨ API æ˜¯ put() å’Œ get()12345678910111213/*** Put the key and value pair into the symbols table.* @parma key The key you want to insert, when it is null, delete the key from table.* @parma value The value you want to insert*/void put(Key key, Value value)/*** Get the value of the specfic key in the table.* @parma key The key you specify* @return The value of the specific key, if the value doesn't exist, return null*/Value get(Key key) 1.2.2 åœ¨æœ‰åºç¬¦å·è¡¨ä¸­çš„å…¶ä»–æ–¹æ³•è¿™äº› API æ˜¯åº”ç”¨äºŽæœ‰åºç¬¦å·è¡¨çš„è¿™é‡Œåªå±•ç¤ºäº†ä¸€äº›å…³é”®æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€äº›å†—ä½™æ–¹æ³•ç”¨äºŽæ›´æ–¹ä¾¿çš„æ“ä½œï¼Œè¿™é‡Œä¸äºˆå±•ç¤ºAPI åŒ…æ‹¬ï¼šmin() å’Œ max()floor() å’Œ ceiling()rank() å’Œ select()keys()è¿™é‡Œåªå±•ç¤ºäº† rank(), select() å’Œ keys() æ–¹æ³•ï¼Œå…¶ä»–çš„æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œè€Œä¸”å…¶ä½œç”¨ä¹Ÿå¾ˆå®¹æ˜“é€šè¿‡åå­—è¿›è¡ŒæŽ¨æ–­ã€‚æ‰€ä»¥åœ¨è¿™é‡Œä¸äºˆæ˜¾ç¤º123456789101112131415161718192021222324252627282930// Rank &amp; Select/*** Get the number of the keys which are less than the specific one. Also called the RANK* @parma Key key The specific key* @return The number of keys in the table which are less than the specific one.*/int rank(Key key)/*** Get the key which is rank k* @parma int k The rank of the key* @return The specific key*/Key select(int k)// keys()/*** Get the all keys inside the table.* @return An Iterable Set of keys, such as List or Queue*/Iterable&lt;Key&gt; keys()/*** Get the set of the range of [lo..hi]* @parma Key lo The low range of the keys.* @parma Key hi The high range of the keys.* @return The Iterable Set of the keys.*/Iterable&lt;Key&gt; keys(Key lo, Key hi) 2. åœ¨æ— åºè¡¨ä¸­çš„é¡ºåºæŸ¥æ‰¾å½“æˆ‘ä»¬å®žçŽ°ä¸€ä¸ªç¬¦å·è¡¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨é“¾è¡¨çš„å½¢å¼æ¥å®žçŽ°ï¼›ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ªæ•°æ®ç»“æž„æ—¶ï¼Œæˆ‘ä»¬åªèƒ½ä»¥é¡ºåºçš„å½¢å¼è¿›è¡Œæœç´¢ï¼Œä»…ä»…é€šè¿‡åœ¨å•é“¾æŽ¥é“¾è¡¨ä¸­éåŽ†æ‰€æœ‰çš„èŠ‚ç‚¹ 2.1 å®žçŽ°123456789101112131415161718192021222324252627282930313233343536373839public class SequentialSearchST&lt;Key, Value&gt; &#123; private Node first; private class Node &#123; // The linked List Node Key key; Value val; Node next; &#125; public Node (Key key, Value val, Node next) &#123; this.key = key; this.val = val; this.next = next; &#125; public Value get(Key key) &#123; // get the specific key, return the corrsponding value for(Node x = first; x != null; x = x.next) &#123; if(key.equals(x.key)) &#123; return x.val; // hit &#125; &#125; return null; // Not hit &#125; public void put(Key key, Value value) &#123; for(Node x = first; x != null; x = x.next) &#123; if(key.equals(x.key)) &#123; x.val = val; return; // hit &#125; &#125; // Not hit, create new node // Add at the beginning first = new Node(key, val, first); &#125;&#125; 2.2 æ€§èƒ½åœ¨ä¸€ä¸ªå…·æœ‰ NNN ä¸ªèŠ‚ç‚¹çš„ç¬¦å·è¡¨ä¸­ï¼Œä½¿ç”¨é¡ºåºæŸ¥æ‰¾æ–¹æ³•ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œéœ€è¦ NNN æ¬¡çš„æ¯”è¾ƒã€‚ç‰¹åˆ«çš„æ˜¯ï¼Œæ’å…¥ NNN ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦ âˆ¼N2/2\sim N^2/2âˆ¼N2/2 æ¬¡çš„æ¯”è¾ƒ 2.3 ç»“è®ºæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨é“¾è¡¨å®žçŽ°ç¬¦å·è¡¨æ—¶ï¼Œå®ƒéœ€è¦ä½¿ç”¨é¡ºåºæŸ¥æ‰¾æ–¹æ³•ï¼Œè¿™æ ·å­ä½¿å¾—æŸ¥æ‰¾çš„æ•ˆçŽ‡å˜å¾—å¾ˆä½Žä¸‹ï¼›è¿™æ ·å­çš„å®žçŽ°æ–¹å¼ï¼Œå¹¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çŽ°ä»Šå¯¹å¤§æ•°æ®å¤„ç†çš„éœ€æ±‚ã€‚ 3. åœ¨æœ‰åºç¬¦å·è¡¨ä¸­çš„äºŒåˆ†æŸ¥æ‰¾ä¸ºäº†å®žçŽ°æ›´å¿«çš„æŸ¥æ‰¾æ€§èƒ½ï¼Œæˆ‘ä»¬éœ€è¦è½¬ç”¨æ•°ç»„æ¥å®žçŽ°ç¬¦å·è¡¨ï¼›å¯¹äºŽä¸€ä¸ªæœ‰åºç¬¦å·è¡¨æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•æ¥è¿›è¡Œæœç´¢ï¼›åŽé¢ä¼šçœ‹åˆ°ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å°†ä¼šå¤§å¤§æé«˜æˆ‘ä»¬çš„æœç´¢æ•ˆçŽ‡ 3.1 å®žçŽ°æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå¹³è¡Œçš„æ•°ç»„æ¥åˆ†åˆ«å‚¨å­˜é”®å’Œå€¼ï¼›ç„¶åŽæˆ‘ä»¬ä½¿ç”¨ rank() æ–¹æ³•æ¥å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„é”®å€¼å¯¹12345678910111213141516171819202122232425262728293031323334/*** These method all base on the rank() method* Which return the number of the keys which are less than the spcific one* Or the right position of the specific key*/public Value get(Key key) &#123; if (isEmpty()) return null; int i = rank(key); if (i&lt; N &amp;&amp; keys[i].compareTo(key) == 0) &#123; return vals[i]; // hit &#125; else &#123; return null; // Not hit &#125;&#125;public void put(Key key, Value value) &#123; // The specific position of the key int i = rank(key); if (i &lt; N &amp;&amp; keys[i].compareTo(key) == 0) &#123; // Update: 2017-02-12 vals[i] = val; return; &#125; // Not hit, create new key-value pair for (int j = N; j &gt; i; j--) &#123; // MOVE THE DATA FORWARD keys[j] = keys[j - 1]; vals[j] = vals[j - 1]; &#125; keys[i] = key; vals[i] = val; N++;&#125;å¯¹äºŽ rank() æ–¹æ³•çš„ä¸€äº›éœ€è¦æ³¨æ„çš„ç‚¹ï¼šè¿™ä¸ªæ–¹æ³•çš„è¿”å›žå€¼æ˜¯å°äºŽè¿™ä¸ªé”®çš„æ‰€æœ‰é”®çš„ä¸ªæ•°æ¢å¥è¯æ¥è¯´å°±æ˜¯è¿™ä¸ªé”®åœ¨æ•°ç»„ä¸­çš„æŽ’åï¼Œä¹Ÿå°±æ˜¯å®ƒçš„ä½ç½®é‡è¦çš„æ˜¯ï¼Œç”±äºŽ get() å’Œ put() æ–¹æ³•ä¹Ÿä½¿ç”¨äº†12345678910111213141516171819202122/*** Using the Binary Searching method, due to the ordered talbe.*/public int rank(Key key) &#123; // Notice that, the lo, hi, mid is the // POSITION of the array int lo = 0, hi = N - 1; while (lo &lt;= hi) &#123; int mid = lo + (hi - lo) / 2; // Use this format to avoid the overflow int cmp = key.compareTo(keys[mid]); if (cmp &lt; 0) &#123; hi = mid - 1; &#125; else if(cmp &gt; 0 ) &#123; lo = mid + 1; &#125; else &#123; return mid; &#125; &#125; return lo;&#125;äºŒåˆ†æŸ¥æ‰¾æ˜¯å¾ˆç®€å•çš„ï¼Œé€šè¿‡åœ¨ä¸€ä¸ªæœ‰åºçš„åºåˆ—ä¸­æ¯”è¾ƒä¸­é—´ä½ç½®çš„æ•°æ®å…ƒç´ ï¼Œä»Žè€Œé€æ­¥ç¼©å‡æŸ¥æ‰¾èŒƒå›´ï¼Œè¾¾åˆ°å‡å°‘æ¯”è¾ƒæ¬¡æ•°çš„ä½œç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šä½¿ç”¨ mid = lo + (hi - lo) / 2; æ¥é¿å…æº¢å‡ºä¸ºäº†ç†è§£è¿™ç‚¹ï¼Œä½ éœ€è¦æ˜Žç™½ï¼Œlo, hi å’Œ mid åªæ˜¯é”®å€¼çš„ä½ç½®ï¼Œè€Œä¸æ˜¯é”®å€¼çš„å€¼ã€‚æˆ‘ä»¬åªéœ€è¦èŽ·å–ä¸­é—´å…ƒç´ çš„ä½ç½®ï¼Œå¦‚æžœä¸€ä¸ªæ•°ç»„çš„å…ƒç´ æ€»æ•°å¾ˆå¤§ï¼Œé‚£ä¹ˆä½¿ç”¨ hi + lo å°±ä¼šå¯¼è‡´æº¢å‡ºï¼Œä½¿å¾— mid çš„ç»“æžœç”šè‡³éƒ½ä¸åœ¨ [lo...hi] ä¹‹é—´ã€‚ä¸ºäº†é˜²æ­¢æº¢å‡ºï¼Œæˆ–è€…è¯´ä¸ºäº†ä¿è¯ mid çš„ç»“æžœè½åœ¨ [lo...hi] ä¹‹é—´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨å¦ä¸€ç§è®¡ç®—æ–¹å¼ï¼›å³ï¼Œé€šè¿‡æ­¥é•¿çš„æ–¹å¼æ¥èŽ·å–ä¸­é—´ä½ç½®ï¼Œé€šè¿‡ä½¿ç”¨ lo + æ­¥é•¿ çš„æ–¹å¼ï¼Œå¯ä»¥æœ‰æ•ˆçš„é¿å…æº¢å‡ºçš„å‡ºçŽ°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ mid = lo + (hi - lo) / 2 æ¥èŽ·å–ä¸­é—´ä½ç½®ã€‚å½“æ•°æ®å…ƒç´ å°äºŽ 5 æ—¶ï¼Œä½¿ç”¨é¡ºåºæŸ¥æ‰¾æ¥é™ä½Žå‡ºé”™çŽ‡é¡ºåºæŸ¥æ‰¾æ¯”äºŒåˆ†æŸ¥æ‰¾æ›´ä¸å®¹æ˜“å‡ºé”™ã€‚å½“æ•°æ®å…ƒç´ å°äºŽ 5 çš„æ—¶å€™ï¼Œé¡ºåºæŸ¥æ‰¾å’ŒäºŒåˆ†æŸ¥æ‰¾å¹¶æ²¡æœ‰ä»€ä¹ˆå¤§çš„æ€§èƒ½å·®å¼‚ï¼Œæ­¤æ—¶ä½¿ç”¨é¡ºåºæŸ¥æ‰¾æ¥é™ä½Žå‡ºé”™çŽ‡æ˜¯å¯ä»¥æŽ¥å—çš„ã€‚ 3.2 æ€§èƒ½åœ¨ä¸€ä¸ª NNN ä¸ªé”®å€¼çš„ç¬¦å·è¡¨ä¸­ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œéœ€è¦ä¸è¶…è¿‡ lgN+1lgN + 1lgN+1 æ¬¡çš„æ¯”è¾ƒä½†æ˜¯åœ¨åŒæ—¶éœ€è¦æ’å…¥å’Œåˆ é™¤çš„æ“ä½œçš„æ—¶å€™ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ•ˆçŽ‡è¿˜æ˜¯è¿œè¿œä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚å¦‚æžœä½ éœ€è¦åœ¨ä¸€ä¸ª NNN ä¸ªå…ƒç´ ä¸ªæ•°ç»„ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œä½ éœ€è¦ âˆ¼2N\sim 2Nâˆ¼2N æ¬¡çš„æ•°ç»„è®¿é—®ï¼›è€Œä¸”å¦‚æžœä½ éœ€è¦æ’å…¥ NNN ä¸ªå…ƒç´ åˆ°ä¸€ä¸ªç©ºè¡¨é‡Œï¼Œä½ éœ€è¦ âˆ¼N2\sim N^2âˆ¼N2 æ¬¡çš„æ•°ç»„è®¿é—®ã€‚ 3.3 ç»“è®ºåœ¨æœ‰åºç¬¦å·è¡¨ä¸­ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œå¯ä»¥å°†æ—¶é—´å¤æ‚åº¦å‡å°‘åˆ° logNlogNlogN çº§åˆ«ã€‚å¯¹äºŽä¸€ä¸ªé™æ€çš„ç¬¦å·è¡¨ï¼ˆå³ä¸å…è®¸æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„è¡¨ï¼‰ï¼Œåœ¨æŸ¥æ‰¾ä¹‹å‰å°†å…¶è¿›è¡ŒæŽ’åºæ˜¯å€¼å¾—çš„ï¼›ä½†æ˜¯è¿™ç§å½¢å¼çš„æŸ¥æ‰¾è¿˜æ˜¯ä¸èƒ½æ»¡è¶³æˆ‘ä»¬å¯¹äºŽå¿«é€Ÿçš„æŸ¥æ‰¾çš„åŒæ—¶æ”¯æŒå¿«é€Ÿçš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŽ’åºç®—æ³•çš„åº”ç”¨]]></title>
    <url>%2F%2FAlgorithm%2F%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[1. å¤šç§æŽ’åºæ–¹å¼ä½¿ç”¨ Comparator æŽ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸åŒçš„ sort() æ–¹æ³•æˆ–è€…ä½¿ç”¨ä¸åŒçš„é”®æ¥å¯¹æ•°æ®è¿›è¡ŒæŽ’åºã€‚Comparator æŽ¥å£ï¼š123public interface Comparator &#123; int compare();&#125;æ³¨æ„ï¼Œæ­¤æŽ¥å£æ˜¯è¢«æŽ’åºç±»æä¾›çš„ï¼ŒæŽ’åºæ–¹æ³•åªéœ€è¦è°ƒç”¨æŽ¥å£çš„ compareæ–¹æ³•å³å¯ä¸ºäº†ä½¿ç”¨æ­¤æŽ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡è½½ sort() æ–¹æ³•æ¥å®žçŽ°12345678910111213141516// The original sort() methodpublic void sort(Comparable[] a) &#123; /* The sort method body */&#125;// Now we use new sort which comes wit Comparatorpublic void sort(Object[] a, Comparator c) &#123; /* The new sort method body */&#125;// Also, we need to changge other// assistant method to use Comparatorprivate int less(Comparator c, Key v, Key w) &#123; // Invoke the interface method return c.compare(v, w);&#125;å¯¹äºŽè¢«æŽ’åºç±»çš„å®žçŽ°ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨å†…éƒ¨ç±»çš„æ–¹å¼æ¥æä¾› Comparator1234567891011121314151617public class Student &#123; public static final Comparator&lt;Student&gt; BY_NAME = new ByName(); public static final Comparator&lt;Student&gt; BY_SECTION = new BySection(); private class ByName implements Comapator&lt;Student&gt; &#123; pubic int compare(Student v, Student w) &#123; // By name &#125; &#125; private class BySection implements Comparator&lt;Student&gt; &#123; public int compare(Student v, Student w) &#123; // By Section &#125; &#125;&#125; 2. ç¨³å®šæ€§ç¨³å®šæ€§æŒ‡çš„æ˜¯ï¼Œåœ¨æŽ’åºè¿‡ç¨‹ä¸­ï¼Œç®—æ³•ä¼šä¿ç•™å…·æœ‰ç›¸åŒé”®å€¼çš„å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚å¦‚æžœèƒ½å¤Ÿä¿ç•™ï¼Œå°±è¯´æ˜ŽæŽ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼Œå¦‚æžœä¸èƒ½å¤Ÿä¿ç•™ï¼Œåˆ™ä¸ç¨³å®šã€‚æŽ’åºç®—æ³•ç¨³å®šä¸Žå¦ï¼Œåœ¨äºŽåœ¨æŽ’åºè¿‡ç¨‹ä¸­ï¼Œæ˜¯å¦æ”¹å˜äº†ç›¸åŒé”®å€¼å…ƒç´ çš„ä½ç½® 3. æŽ’åºç®—æ³•çš„æ¯”è¾ƒAlgorithmStable?Inplace?Grow Rate to Sort N ItemsNotesRunning TimeExtra SpaceSelection SortNoYes$N^2$1Insertion SortYesYesBetween $N$ and $N^2$1Base on the inputShell SortNoYes$N^{6/5}$1Quick SortNoYes$NlogN$$lgN$The efficiency is guaranteed by the posibility3-way PartitioningQuick SortNoYesbetween $N$ and $NlogN$$lgN$The efficiency is guaranteed by the posibility, meanwhile it also depens on the inputMerge SortYesNo$NlogN$$N$Heap SortNoYes$NlogN$$N$ 4. ç»“è®ºå¿«é€ŸæŽ’åºæ˜¯æœ€å¿«çš„æŽ’åºç®—æ³•å¿«é€ŸæŽ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º âˆ¼cNlogN\sim cNlogNâˆ¼cNlogN çº§åˆ«ï¼ŒåŒæ—¶å®ƒçš„ ccc ä¹Ÿæ¯”å…¶ä»–æŽ’åºç®—æ³•è¦å°å¦‚æžœç¨³å®šæ€§å¾ˆé‡è¦ï¼Œè€Œç©ºé—´å¹¶ä¸æ˜¯å¾ˆç´§å¼ ï¼Œé‚£ä¹ˆå½’å¹¶æŽ’åºæ˜¯æœ€å¥½çš„é€‰æ‹©å¦‚æžœç©ºé—´éžå¸¸å°ï¼Œé‚£ä¹ˆå †æŽ’åºæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€ŸæŽ’åº]]></title>
    <url>%2F%2FAlgorithm%2F%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»å¿«é€ŸæŽ’åºæ˜¯ä¸€ç§ç‰¹æ®Šçš„å½’å¹¶æŽ’åºï¼Œå®ƒåŸºäºŽåˆ†æ²»ç­–ç•¥ï¼Œå°†æ•°ç»„åˆ†æˆå·¦å’Œå³ä¸¤éƒ¨åˆ†ï¼Œç„¶åŽå°†ä»–ä»¬åˆ†åˆ«ç‹¬ç«‹æŽ’åºã€‚æ•°ç»„çš„åˆ‡åˆ†æ˜¯å¾ˆå…³é”®çš„å¿«é€ŸæŽ’åºå’Œå½’å¹¶æŽ’åºåœ¨åŽŸç†ä¸Šçš„å”¯ä¸€ä¸åŒå°±æ˜¯ï¼Œå¿«é€ŸæŽ’åºçš„çœŸæ­£æ¯”è¾ƒå·¥ä½œåœ¨ é€’å½’ä¹‹å‰ å®Œæˆï¼Œè€Œå½’å¹¶æŽ’åºåœ¨é€’å½’ä¹‹åŽå®Œæˆã€‚ 2. åˆ‡åˆ†è¿™æ˜¯å¿«é€ŸæŽ’åºçœŸæ­£åšæ¯”è¾ƒçš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯çœŸæ­£èµ·ä½œç”¨çš„éƒ¨åˆ†ã€‚åˆ‡åˆ†çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ ï¼šå®ƒçš„å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸å¤§äºŽå®ƒå®ƒçš„å³è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸å°äºŽå®ƒ 2.1 å®žçŽ°æµç¨‹ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½æ‰¾åˆ°è¿™æ ·çš„å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿›è¡Œä»¥ä¸‹çš„æ“ä½œï¼šéšæœºçš„é€‰æ‹©å…ƒç´ é€šå¸¸æ¥è¯´ï¼Œé€‰æ‹©æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä»Žæ•°ç»„çš„ä¸¤ç«¯åŒæ—¶å¼€å§‹æ‰«ææ•°ç»„i, j åˆ†åˆ«æŒ‡å‘æ•°ç»„çš„ä¸¤ç«¯ï¼›i è‡ªå¢žï¼Œç›´åˆ° i æ‰€æŒ‡å…ƒç´  a[i] ä¸å°äºŽåˆ‡åˆ†å…ƒç´  a[lo]ï¼›j è‡ªå‡ï¼Œç›´åˆ° j æ‰€æŒ‡å…ƒç´  a[j] ä¸å¤§äºŽåˆ‡åˆ†å…ƒç´  a[lo]å¦‚æžœå…ƒç´ ä¸åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œé‚£ä¹ˆå°±äº¤æ¢å®ƒä¸Šè¿°çš„ i, j éƒ½åœæ­¢åŽï¼Œäº¤æ¢ a[i] å’Œ a[j]ç›´åˆ°è¿™ä¸¤ä¸ªæŒ‡é’ˆç›¸é‡æˆ–è€…è·¨è¶Šå¯¹æ–¹ï¼Œç„¶åŽå°†åˆ‡åˆ†å…ƒç´ æ”¾åˆ°ç›¸é‡ä½ç½®ã€‚äº‹å®žä¸Šï¼Œæ­¤æ—¶ j æ‰€æŒ‡çš„å…ƒç´ å°±æ˜¯ä¸å¤§äºŽåˆ‡åˆ†å…ƒç´ çš„å…ƒç´ ï¼›å› æ­¤ï¼Œå°†åˆ‡åˆ†å…ƒç´  a[lo] å’Œ a[j] äº¤æ¢å³å¯è®©åˆ‡åˆ†å…ƒç´ æ”¾å…¥æ­£ç¡®ä½ç½® 2.2 å®žçŽ°1234567891011121314151617181920212223242526272829303132333435363738private static int partition(Comparable[] a, int lo, int hi) &#123; int i = lo, j = hi + 1; // The scanner Comparable v = a[lo]; while (true) &#123; // æŒ‡é’ˆ i çš„æ‰«æè¿‡ç¨‹ while (less(a[++i], v)) &#123; if (i == hi) &#123; break; &#125; &#125; // æŒ‡é’ˆ j çš„æ‰«æè¿‡ç¨‹ while (less(v, a[--j])) &#123; // å®žé™…ä¸Šè¿™ä¸ª if æ˜¯å¤šä½™çš„ï¼Œ // å› ä¸ºæˆ‘ä»¬çš„åˆ‡åˆ†å…ƒç´ å°±åœ¨ lo çš„ä½ç½®ï¼Œ // å½“ j ä½äºŽ lo çš„ä½ç½®æ—¶ï¼Œç”±äºŽä¸æ»¡è¶³æ¡ä»¶ï¼Œ // j å°±ä¼šåœæ­¢æ‰«æ if (j == lo) &#123; break; &#125; &#125; //ä¸¤æŒ‡é’ˆç›¸é‡ï¼Œå®Œæˆæ‰«æè¿‡ç¨‹ if (i &gt;= j) &#123; break; &#125; // æ­¤æ—¶ä¸¤æŒ‡é’ˆåœæ­¢ï¼Œè¯´æ˜Ž a[i] å’Œ a[j] éƒ½ä¸åœ¨æ­£ç¡®ä½ç½® // æ‰€ä»¥å°† a[i] å’Œ a[j] äº¤æ¢ exch(a, i, j); &#125; // æ‰«æå®Œæˆï¼Œå°†åˆ‡åˆ†å…ƒç´ æ”¾å…¥æ­£ç¡®ä½ç½® exch(a, lo, j); return j;&#125; 2.3 æ³¨æ„äº‹é¡¹åˆ‡åˆ†åœ¨åŽŸæœ¬çš„æ•°ç»„ä¸­å‘ç”Ÿäº‹å®žä¸Šï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æ•°ç»„ï¼›ä½†æ˜¯è¿™æ ·å°±ä¸§å¤±äº†ç›¸å¯¹äºŽå½’å¹¶æŽ’åºçš„ä¸éœ€è¦é¢å¤–ç©ºé—´çš„ä¼˜åŠ¿ä¸è¦è¶Šç•Œæ³¨æ„æ£€æŸ¥æ‰«ææŒ‡é’ˆå’Œè¾¹ç•Œçš„å…³ç³»æ³¨æ„ä¿æŒéšæœºæ€§åœ¨å¿«é€ŸæŽ’åºä¸­ä¿æŒéšæœºæ€§æ˜¯ä¿è¯æ­¤ç®—æ³•æ€§èƒ½çš„å…³é”®æ³¨æ„å¾ªçŽ¯çš„ç»ˆæ­¢æ¡ä»¶ä¸€ä¸ªç¨‹åºå‘˜å¸¸çŠ¯çš„é”™è¯¯å°±æ˜¯æ²¡æœ‰è€ƒè™‘åˆ°æ•°ç»„å¯èƒ½åŒ…å«ä¸Žåˆ‡åˆ†ä½ å…ƒç´ çš„å€¼ç›¸åŒçš„å…ƒç´ ï¼Œä»Žè€Œå¯¼è‡´äº†å¾ªçŽ¯æ— æ³•ç»“æŸï¼›æ‰€ä»¥åœ¨ä¸Šé¢çš„å®žçŽ°ä¸­ï¼Œå³ä½¿æ‰«æåˆ°ç›¸åŒå…ƒç´ ä¹Ÿä¼šåœæ­¢æ‰«æï¼Œä¿è¯äº†ä¸ä¼šå› ä¸ºé‡å¤å…ƒç´ è€Œå½±å“æ€§èƒ½æ³¨æ„é€’å½’çš„ç»ˆæ­¢æ¡ä»¶å¦‚æžœä½ ä¸èƒ½æŠŠåˆ‡åˆ†å…ƒç´ æ”¾å…¥åˆ°æ­£ç¡®çš„ä½ç½®ï¼ˆæ”¾å…¥åˆ°äº†é”™è¯¯çš„ä½ç½®ï¼‰ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½å¼•èµ·ä¸€ä¸ªæ— æ³•ç»ˆæ­¢çš„é€’å½’ï¼Œè¿™æ˜¯è¦æžåŠ›é¿å…çš„ã€‚ 3. åŸºæœ¬å®žçŽ°1234567891011121314151617public class Quick &#123; public static void sort (Comparable[] a) &#123; // Disable the dependency to the input String // It's very important. StdRandom.shuffle(a); sort(a, 0, a.lenth - 1); &#125; private static void sort (Comparable[] a, int lo, int hi) &#123; if (hi &lt;= lo) return; int j = partition(a, lo, hi); sort(a, lo, j - 1); sort(a, j + 1, hi); &#125;&#125;å¯ä»¥çœ‹åˆ°ï¼Œå’Œå½’å¹¶æŽ’åºä¸€æ ·ï¼Œå¿«é€ŸæŽ’åºä¸­çœŸæ­£åšæ¯”è¾ƒå’Œäº¤æ¢çš„ï¼Œå®žé™…ä¸Šæ˜¯åˆ‡åˆ†è¿™ä¸€ä¸ªè¿‡ç¨‹ï¼Œè€Œä¸æ˜¯ sort() æ–¹æ³• 4. æ€§èƒ½å¿«é€ŸæŽ’åºéœ€è¦ âˆ¼2NlnN\sim 2NlnNâˆ¼2NlnN æ¬¡çš„æ¯”è¾ƒå’Œ 1/61/61/6 çš„äº¤æ¢åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå½“è¾“å…¥æ•°ç»„æœ¬èº«å°±æ˜¯æœ‰åºæ—¶ï¼Œå¿«é€ŸæŽ’åºéœ€è¦ N2/2N^2 / 2N2/2 æ¬¡çš„æ¯”è¾ƒä½†æ˜¯é€šè¿‡æ‰“ä¹±è¾“å…¥ä¿è¯éšæœºæ€§å¯ä»¥é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿ 5. æ”¹è¿› 5.1 åˆ‡æ¢åˆ°æ’å…¥æŽ’åºå¯¹äºŽä¸€äº›å°åž‹æ•°ç»„ï¼Œæ’å…¥æŽ’åºä¼šæ¯”å¿«é€ŸæŽ’åºè¦å¿«ï¼Œè¿™æ˜¯ç”±äºŽå¿«é€ŸæŽ’åºä½¿ç”¨äº†é€’å½’æ–¹æ³•è¿›è¡ŒæŽ’åº123456789101112private static void sort (Comparable[] a, int lo, int hi) &#123; if (ho &lt;= lo + M) &#123; Insertion.sort(a, lo, hi); return; &#125; int j = partition(a, lo, hi); sort(a, lo, j - 1); sort(a, j + 1, hi);&#125; 5.2 ä¸‰å–æ ·åˆ‡åˆ†å¿«é€ŸæŽ’åºåŸºäºŽåˆ‡åˆ†ï¼Œå¦‚æžœåˆ‡åˆ†å…ƒç´ é€‰æ‹©çš„å¥½ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‡å°‘åˆ‡åˆ†æ‰€ç”¨çš„æ—¶é—´ï¼Œä»Žè€Œæé«˜ç®—æ³•æ€§èƒ½åœ¨å®žè·µä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ä¸‰å–æ ·ï¼Œç„¶åŽå–å…¶ä¸­ä½æ•°çš„å½¢å¼æ¥é€‰å–åˆ‡åˆ†å…ƒç´ 1234567891011121314151617private static void sort (Comparable[] a, int lo, int hi) &#123; // å°æ•°ç»„ä½¿ç”¨æ’å…¥æŽ’åº if (ho &lt;= lo + M) &#123; Insertion.sort(a, lo, hi); return; &#125; // ä¸‰å–æ ·èŽ·å–åˆ‡åˆ†å…ƒç´  int m = medianOf3(a, lo, lo + (hi - lo) / 2, hi); swap(a, lo, m); int j = partition(a, lo, hi); sort(a, lo, j - 1); sort(a, j + 1, hi);&#125;ä¸‰å–æ ·ï¼Œå³é€‰å–æ•°ç»„å¤´éƒ¨ã€å°¾éƒ¨å’Œä¸­é—´ä½ç½®çš„å…ƒç´  6. ä¸‰å‘åˆ‡åˆ†çš„å¿«é€ŸæŽ’åºå¯¹äºŽæœ‰å¤§é‡é‡å¤æ€§å…ƒç´ çš„æ•°ç»„ï¼Œæˆ‘ä»¬é‡‡ç”¨è¿™ä¸ªç®—æ³•ï¼Œå®žé™…ä¸Šå±žäºŽå¿«é€ŸæŽ’åºçš„ä¸€ç§æ”¹è¿›å½¢å¼ã€‚ 6.1 å®žçŽ°åŽŸç†ä½¿ç”¨ 2 ä¸ªæŒ‡é’ˆ (lt,gt)æ¥ç»´æŠ¤æ•°ç»„çš„ 3 ä¸ªéƒ¨åˆ†ï¼šå°äºŽåˆ‡åˆ†å…ƒç´ çš„æŒ‡é’ˆ lo å’Œ lt ä¹‹é—´å±žäºŽè¿™ä¸ªéƒ¨åˆ†ç­‰äºŽåˆ‡åˆ†å…ƒç´ çš„æŒ‡é’ˆ lt å’Œ gt ä¹‹é—´å±žäºŽè¿™ä¸ªéƒ¨åˆ†å¤§äºŽåˆ‡åˆ†å…ƒç´ çš„æŒ‡é’ˆ gt å’Œ hi ä¹‹é—´å±žäºŽè¿™ä¸ªéƒ¨åˆ†æŒ‡é’ˆ lt çš„å·¦è¾¹éƒ½æ˜¯å°äºŽåˆ‡åˆ†å…ƒç´ çš„å…ƒç´ æŒ‡é’ˆ gt çš„å³è¾¹éƒ½æ˜¯å¤§äºŽåˆ‡åˆ†å…ƒç´ çš„å…ƒç´ æŒ‡é’ˆ lt å’Œ gt ä¹‹é—´éƒ½æ˜¯ç­‰äºŽåˆ‡åˆ†å…ƒç´ çš„å…ƒç´  6.2 å®žçŽ°è¿‡ç¨‹æŒ‡é’ˆ i å®žé™…ä¸Šçš„ä½œç”¨æ˜¯è¿›è¡Œæ•°ç»„æ‰«æï¼›è€Œ lt å’Œ gt çš„å·¥ä½œæ˜¯è¿›è¡Œæ•°ç»„åŒºåŸŸçš„åˆ’åˆ†ã€‚åˆå§‹çŠ¶æ€ï¼Œlt åœ¨æ•°ç»„å¤´éƒ¨ï¼Œi ä½äºŽ lt çš„åŽä¸€ä¸ªä½ç½®ï¼Œ gt åœ¨æ•°ç»„å°¾éƒ¨å½“ a[i] å°äºŽåˆ‡åˆ†å…ƒç´ æ—¶ï¼Œäº¤æ¢ a[i] å’Œ a[lt]ï¼Œå¹¶è‡ªå¢žlt å’Œ iäº¤æ¢è¿‡åŽï¼Œi æ‰€æŒ‡çš„å…ƒç´ å·²ç»è¢«æ£€æŸ¥è¿‡ï¼›è€Œä¸ºäº†æ»¡è¶³ lt å·¦è¾¹çš„å…ƒç´ éƒ½æ˜¯å°äºŽåˆ‡åˆ†å…ƒç´ çš„ï¼Œæ‰€ä»¥ lt è¦å¢žåŠ å½“ a[i] å¤§äºŽåˆ‡åˆ†å…ƒç´ æ—¶å€™ï¼Œäº¤æ¢ a[i] å’Œ a[gt]ï¼Œå¹¶è‡ªå‡ gtæ­¤æ—¶ï¼Œç”±äºŽ i æ‰€æŒ‡çš„å…ƒç´ æ˜¯ä»Žæ•°ç»„å°¾éƒ¨äº¤æ¢æ¥çš„ï¼›å¹¶æ²¡æœ‰ç»è¿‡æ£€æŸ¥ï¼›æ‰€ä»¥ä¸èƒ½è‡ªå¢ž iå½“ a[i] ç­‰äºŽåˆ‡åˆ†å…ƒç´ æ—¶å€™ï¼Œè‡ªå¢ž iç”±äºŽä»»ä½•æ—¶å€™ï¼Œ i éƒ½ä¼šåœ¨ lt çš„å‰é¢ï¼›è¿™ç§æƒ…å†µä¸‹ï¼Œè¯´æ˜Ž a[i] å·²ç»å¤„äºŽæ­£ç¡®ä½ç½®ï¼›ä¸å¿…è¿›è¡Œäº¤æ¢æ“ä½œå½“ i ä¸Ž gt ç›¸é‡æ—¶ï¼Œåˆ‡åˆ†å®Œæˆæ­¤æ—¶ï¼Œæ‰€æœ‰çš„å…ƒç´ éƒ½ç»è¿‡äº† i çš„æ£€æŸ¥ï¼Œåˆ‡åˆ†å®Œæˆ 6.3 å…·ä½“å®žçŽ°123456789101112131415161718192021222324252627282930public class Quick3way &#123; private static void sort(Comparable a, int lo, int hi) &#123; if (hi &lt;= lo) return; int lt = lo, i = lo + 1, gt = hi; Comararble v = a[lo]; // åˆ‡åˆ†å…ƒç´  while (i &lt;= gt) &#123; int cmp = a[i].compareTo(v); if (cmp &lt; 0) &#123; // i æ¯” v å° exch(a, lt++, i++); &#125; else if (cmp &gt;0) &#123; // i æ¯” v å¤§ exch(a, i, gt--); &#125; else &#123; i++; &#125; &#125; sort(a, lo, lt - 1); sort(a, gt + 1, hi); &#125;&#125; 6.4 æ€§èƒ½å¯¹äºŽå«æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå€¼æ¥æè¿°è¿™ä¸ªæ•°ç»„çš„ä¿¡æ¯å«é‡ï¼Œå®ƒå«åšé¦™å†œä¿¡æ¯é‡(HHH)H=âˆ’(p1lgp1+p2lgp2+â‹¯+pklgpk)H = -(p_1lgp_1 + p2lgp_2 + \cdots + p_klgp_k)H=âˆ’(p1â€‹lgp1â€‹+p2lgp2â€‹+â‹¯+pkâ€‹lgpkâ€‹)Hâˆ’The Shannon informationH - The \ Shannon\ informationHâˆ’The Shannon informationpiâˆ’The posibillty of the ith key was selectedp_i - The\ posibillty\ of\ the\ ith\ key\ was\ selectedpiâ€‹âˆ’The posibillty of the ith key was selectedå¯¹äºŽå«æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ï¼Œä¸å­˜åœ¨ä»»ä½•åŸºäºŽæ¯”è¾ƒçš„æŽ’åºç®—æ³•èƒ½å¤Ÿä¿è¯åœ¨ NHâˆ’NNH - NNHâˆ’N æ¬¡æ¯”è¾ƒä¹‹ä¸­å°† NNN ä¸ªå…ƒç´ æŽ’åºã€‚å…¶ä¸­ HHH æ˜¯ç”±ä¸»é”®å€¼æ¦‚çŽ‡å®šä¹‰çš„é¦™å†œä¿¡æ¯é‡æ‰€ä»¥ï¼Œå®ƒè¯æ˜Žäº†ä¸‰å‘åˆ‡åˆ†çš„å¿«é€ŸæŽ’åºæ˜¯æœ€å¥½çš„åŸºäºŽæ¯”è¾ƒçš„ç®—æ³•ï¼Œä¿¡æ¯é‡æœ€ä¼˜äº‹å®žä¸Šï¼Œå¯¹äºŽæ‹¥æœ‰å¤§é‡é‡å¤é”®å€¼çš„æ•°ç»„æ¥è¯´ï¼Œä¸‰å‘åˆ‡åˆ†çš„å¿«é€ŸæŽ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ çº¿æ€§çº§åˆ«çš„]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€Ÿé€‰æ‹©ç®—æ³•è§£ Top K é—®é¢˜]]></title>
    <url>%2F%2FAlgorithm%2F%E5%BF%AB%E9%80%9F%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95%E8%A7%A3%20Top%20K%20%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[1. Top K é—®é¢˜Top K é—®é¢˜å°±æ˜¯åœ¨åºåˆ—ä¸­å¯»æ‰¾åˆ° ç¬¬ K ä¸ªå¤§ï¼ˆæˆ–è€…å°ï¼‰çš„å…ƒç´ å¯¹æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç ”ç©¶ä¸€ä¸‹å®ƒçš„ä¸Šç•Œå’Œä¸‹ç•Œï¼šä¸Šç•Œä¸º NlogNNlogNNlogNTop K é—®é¢˜åªè¦ä½¿ç”¨æŽ’åºå°±ä¸€å®šèƒ½è§£å†³ï¼Œæ‰€ä»¥å…¶æœ€åçš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯æŽ’åºçš„å¤æ‚åº¦å½“ kkk çš„å€¼è¾ƒå°æ—¶ï¼Œå¦‚ 1,2,31, 2, 31,2,3ï¼Œåˆ™ä¸Šç•Œä¸º NNNæ˜¾ç„¶ï¼Œå½“ k=1k = 1k=1 æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦éåŽ†ä¸€æ¬¡æ•°ç»„å°±èƒ½èŽ·å–æœ€å°æˆ–è€…æœ€å¤§å…ƒç´ ï¼›å½“ k=2k = 2k=2 æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦éåŽ†ä¸¤æ¬¡æ•°ç»„å°±å¯ä»¥å®Œæˆå·¥ä½œä¸‹ç•Œä¸º NNNç”± 2 å¯çŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰ä¸€ä¸ª NNN çº§åˆ«çš„ç®—æ³•ï¼›ä¸Žæ­¤åŒæ—¶ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦éåŽ†ä¸€æ¬¡æ•°ç»„ï¼Œæ‰èƒ½èŽ·å–åˆ°è¶³å¤Ÿçš„ä¿¡æ¯æ¥è¿›è¡Œ Top K åˆ¤æ–­ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¥æœ‰ä¸€ä¸ª O(N)O(N)O(N) çº§åˆ«çš„ç®—æ³•æ¥è§£å†³ Top K é—®é¢˜ï¼Œè¿™å°±æ˜¯è¿™é‡Œä»‹ç»çš„å¿«é€Ÿé€‰æ‹©ç®—æ³•ã€‚ 2. å¿«é€Ÿé€‰æ‹©ç®—æ³•å¿«é€Ÿé€‰æ‹©ç®—æ³•å®žé™…ä¸Šæ˜¯å¿«é€ŸæŽ’åºçš„ä¸€ä¸ªå˜ç§ï¼Œé€šè¿‡ä½¿ç”¨å¿«é€ŸæŽ’åºçš„ åˆ‡åˆ† æ¥è¾¾åˆ°é€‰æ‹© Top K çš„ç›®çš„ã€‚äº‹å®žä¸Šï¼Œç”±äºŽå¿«é€ŸæŽ’åºçš„åˆ‡åˆ†ä¿è¯äº†ï¼šæ‰€æœ‰å·¦è¾¹çš„å…ƒç´ éƒ½ä¸å¤§äºŽåˆ‡åˆ†å…ƒç´ æ‰€æœ‰å³è¾¹çš„å…ƒç´ éƒ½ä¸å°äºŽåˆ‡åˆ†å…ƒç´ å› æ­¤ï¼Œå®žé™…ä¸Šåˆ‡åˆ†å…ƒç´ çš„æ‰€å¤„ä½ç½®ï¼Œå°±æŒ‡ç¤ºäº†å…¶ Top K ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šå¦‚æžœåˆ‡åˆ†å…ƒç´ ä½äºŽç¬¬ hhh ä¸ªä½ç½®ï¼Œé‚£ä¹ˆåˆ‡åˆ†å…ƒç´ å°±æ˜¯æ•°ç»„ä¸­çš„ Top hhh 2.1 ç®—æ³•è¿‡ç¨‹å®Œæˆåˆ‡åˆ†è¿‡ç¨‹ï¼ŒèŽ·å–åˆ°åˆ‡åˆ†å…ƒç´ ä½ç½® jjjè‹¥ k&gt;jk &gt; jk&gt;jï¼Œåˆ™å¯¹åˆ‡åˆ†å…ƒç´ çš„å³åŠè¾¹æ•°ç»„è¿›è¡Œåˆ‡åˆ†è‹¥ k&lt;jk &lt; jk&lt;jï¼Œåˆ™å¯¹åˆ‡åˆ†å…ƒç´ çš„å·¦åŠè¾¹æ•°ç»„è¿›è¡Œåˆ‡åˆ†é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ° k=jk = jk=j 2.2 å®žçŽ°123456789101112131415161718192021222324public static Comparable select(Comparable[]a, int k) &#123; StdRamdom.shuffle(a); int lo = 0; int hi = a.length - 1; while(hi &gt; lo) &#123; int j = partition(a, lo, hi); if (k &gt; j) &#123; lo = j + 1; &#125; else if (k &lt; j) &#123; hi = j - 1; &#125; else &#123; return a[k]; &#125; &#125; // æ­¤æ—¶æˆ‘ä»¬åªæœ‰ä¸€ä¸ªå…ƒç´ å¯ä»¥é€‰æ‹© // è¯´æ˜Žæ­¤æ—¶çš„ a[k] å°±æ˜¯ Top K return a[k];&#125; 3. æ€§èƒ½å¿«é€Ÿé€‰æ‹©ç®—æ³•çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ çº¿æ€§çº§åˆ«çš„ï¼ˆå³ O(N)O(N)O(N)ï¼‰å…¶å¤æ‚åº¦æ¥æºäºŽåˆ‡åˆ†è¿‡ç¨‹ï¼Œè€Œå¯¹äºŽåˆ‡åˆ†è¿‡ç¨‹ï¼Œæ¯æ¬¡åˆ‡åˆ†å¤§çº¦ä¼šå°†æ•°ç»„ç­‰åˆ†ï¼Œæ‰€ä»¥éœ€è¦ï¼š(N+N/2+N/4+â‹¯+1)âˆ¼2N(N + N/2 + N/4 + \cdots + 1 )\sim 2N(N+N/2+N/4+â‹¯+1)âˆ¼2N æ¬¡çš„æ¯”è¾ƒä¸€ä¸ªæ›´ç²¾ç¡®çš„å…¬å¼å¦‚ä¸‹ï¼šCN=2N+2kln(N/k)+2(Nâˆ’K)ln(N/(Nâˆ’k))C_N = 2N + 2kln(N/k) + 2(N - K)ln(N / (N - k))CNâ€‹=2N+2kln(N/k)+2(Nâˆ’K)ln(N/(Nâˆ’k))å½“ k=N/2k = N / 2k=N/2 æ—¶ï¼Œæœ‰ CN=(2+2ln2)NC_N = (2 + 2ln2) NCNâ€‹=(2+2ln2)Nä½†æ˜¯ä¸Žå¿«é€ŸæŽ’åºä¸€æ ·ï¼Œå¿«é€Ÿé€‰æ‹©çš„æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯ å¹³æ–¹çº§åˆ« çš„ï¼Œä¸è¿‡åœ¨ä¸Šé¢çš„å®žçŽ°ä¸­ï¼Œç”±äºŽæˆ‘ä»¬è¿›è¡Œäº†éšæœºæ´—ç‰Œï¼Œä»Žè€Œä¿è¯äº†æ€§èƒ½ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Graham Scan è§£å†³å‡¸åŒ…é—®é¢˜]]></title>
    <url>%2F%2FAlgorithm%2FGraham%20Scan%20%E8%A7%A3%E5%86%B3%E5%87%B8%E5%8C%85%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[è¾“å…¥ä¸€ä¸ªç‚¹é›†ï¼Œè¾“å‡ºä¸€ä¸ªæž„æˆèƒ½å®¹çº³æ‰€æœ‰ç‚¹çš„æœ€å°å¤šè¾¹å½¢çš„é¡¶ç‚¹é›†åˆ 1. Graham scané€‰æ‹©ä¸€ä¸ªå…·æœ‰æœ€å° y åæ ‡çš„ç‚¹ pï¼Œå¦‚æžœæœ‰å¤šä¸ªç‚¹ï¼Œåˆ™é€‰æ‹©æœ€å·¦è¾¹çš„ç‚¹ï¼ˆx åæ ‡æœ€å°ï¼‰å°†å…¶ä»–ç‚¹æŒ‰ç…§ p -&gt; i å‘é‡çš„æžè§’(polar angle) æŽ’åºæžè§’å³ä¸ºå‘é‡ä¸Ž X è½´æ­£å‘ çš„å¤¹è§’æŒ‰é¡ºåºè€ƒè™‘å…¶ä½™ç‚¹ï¼Œå¦‚æžœå‡ºçŽ°é¡ºæ—¶é’ˆçš„æ‹è§’åˆ™å°†è¯¥ç‚¹å¿½ç•¥ 2. è¦ç‚¹ 2.1 å¯»æ‰¾åŽŸç‚¹å°†ç‚¹æŒ‰ç…§ y åæ ‡ä¼˜å…ˆè¿›è¡ŒæŽ’åºï¼›å³ï¼Œå…ˆçœ‹ y åæ ‡ï¼ŒåŽçœ‹ x åæ ‡ã€‚ 2.2 æŒ‰ç…§æžè§’æŽ’åºä½¿ç”¨åŸºäºŽé€†æ—¶é’ˆè½¬è§’ï¼ˆCCWï¼‰çš„æ–¹æ³•å¦‚æžœ q1q_1q1â€‹ åœ¨ ppp ä¸Šæ–¹ï¼Œq2q_2q2â€‹ åœ¨ ppp ä¸‹æ–¹ï¼Œåˆ™ q1q_1q1â€‹ æžåæ ‡è¾ƒå°å¦‚æžœ q1q_1q1â€‹ åœ¨ ppp ä¸‹æ–¹ï¼Œq2q_2q2â€‹ åœ¨ ppp ä¸Šæ–¹ï¼Œåˆ™ q1q_1q1â€‹ æžåæ ‡è¾ƒå¤§å¦åˆ™ï¼Œæ ¹æ® pâ†’q1â†’q2p \to q_1 \to q_2pâ†’q1â€‹â†’q2â€‹ çš„é€†æ—¶é’ˆè½¬è§’(ccw(p, q1, q2)) ç¡®å®šæžåæ ‡å¤§å°ä¸Šè¿°å‡½æ•°ä¸­ï¼Œccw(p, q1, q2) è¿”å›ž 1ï¼Œåˆ™ q2q_2q2â€‹ è¾ƒå¤§ï¼›è¿”å›ž -1 åˆ™ q1q_1q1â€‹ è¾ƒå¤§ 3. ç¡®å®šé€†æ—¶é’ˆè½¬è§’(CCW)ä½¿ç”¨ä¸‰è§’å½¢æœ‰å‘é¢ç§¯è¿›è¡Œåˆ¤å®š2Ã—Area(a,b,c)=âˆ£axay1bxby1cxcy1âˆ£=âˆ£bxâˆ’axbyâˆ’aycxâˆ’axcyâˆ’ayâˆ£\begin{aligned} 2 \times Area(a, b, c) = \begin{vmatrix} a_x &amp; a_y &amp; 1\\ b_x &amp; b_y &amp; 1\\ c_x &amp; c_y &amp; 1\\ \end{vmatrix} = \\ \begin{vmatrix} b_x - a_x &amp; b_y - a_y \\ c_x - a_x &amp; c_y - a_y \\ \end{vmatrix} \end{aligned}2Ã—Area(a,b,c)=âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹axâ€‹bxâ€‹cxâ€‹â€‹ayâ€‹byâ€‹cyâ€‹â€‹111â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹=âˆ£âˆ£âˆ£âˆ£â€‹bxâ€‹âˆ’axâ€‹cxâ€‹âˆ’axâ€‹â€‹byâ€‹âˆ’ayâ€‹cyâ€‹âˆ’ayâ€‹â€‹âˆ£âˆ£âˆ£âˆ£â€‹â€‹å¦‚æžœé¢ç§¯ä¸ºæ­£ï¼Œåˆ™ä¸ºé€†æ—¶é’ˆå¦‚æžœé¢ç§¯ä¸ºè´Ÿï¼Œåˆ™ä¸ºé¡ºæ—¶é’ˆå¦‚æžœé¢ç§¯ä¸º 0ï¼Œåˆ™ä¸‰ç‚¹å…±çº¿åŽŸç†ï¼šæ ¹æ®ç©ºé—´å‘é‡çš„å³æ‰‹ç³»å¯çŸ¥ï¼Œå½“æ³•å‘é‡ä¸ºè´Ÿæ—¶ï¼Œä¸‰ç‚¹ä¸ºé¡ºæ—¶é’ˆï¼›å½“æ³•å‘é‡ä¸ºæ­£æ—¶ï¼Œä¸‰ç‚¹ä¸ºé€†æ—¶é’ˆã€‚è€Œå¹³é¢æ³•å‘é‡å’Œä¸¤ä¸ªå‘é‡çš„å‰ä¹˜æ­£è´Ÿä¸€è‡´ï¼Œåˆ™å¯ä»¥é€šè¿‡æ±‚ä¸¤ä¸ªå‘é‡çš„å‰ä¹˜åˆ¤æ–­é¡ºé€†æ—¶é’ˆçš„æƒ…å†µã€‚ç”±å‘é‡å‰ä¹˜çš„ç‰©ç†å«ä¹‰å¯çŸ¥ï¼Œå‘é‡çš„å‰ä¹˜å°±æ˜¯ä¸¤ä¸ªå‘é‡æ‰€åœ¨çš„å¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯åœ¨ä¸‰ç»´æ¡ä»¶ä¸‹ï¼Œå‰ä¹˜ä¸ºâˆ£aÃ—bâˆ£=âˆ£ijkaxayazbxbybzâˆ£|a \times b| = \begin{vmatrix} i &amp; j &amp; k\\ a_x &amp; a_y &amp; a_z\\ b_x &amp; b_y &amp; b_z \end{vmatrix}âˆ£aÃ—bâˆ£=âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹iaxâ€‹bxâ€‹â€‹jayâ€‹byâ€‹â€‹kazâ€‹bzâ€‹â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹å– z=0z = 0z=0 è¿™ä¸€å¹³é¢ï¼Œåˆ™âˆ£aÃ—bâˆ£=âˆ£axaybxbyâˆ£|a \times b| = \begin{vmatrix} a_x &amp; a_y\\ b_x &amp; b_y\\ \end{vmatrix}âˆ£aÃ—bâˆ£=âˆ£âˆ£âˆ£âˆ£â€‹axâ€‹bxâ€‹â€‹ayâ€‹byâ€‹â€‹âˆ£âˆ£âˆ£âˆ£â€‹åˆ°è¿™ä¸€æ­¥ä¸éš¾çœ‹å‡ºï¼Œä¸Šé¢ä¸¤å€ä¸‰è§’å½¢æœ‰å‘é¢ç§¯çš„äºŒç»´è¡Œåˆ—å¼è¡¨è¾¾æ­£æ˜¯äºŒç»´ç©ºé—´ä¸­å‘é‡çš„å‰ä¹˜ã€‚æ‰€ä»¥ï¼Œä¸‰è§’å½¢æœ‰å‘é¢ç§¯çš„æ­£è´Ÿå°±è¡¨æ˜Žäº†ä¸‰è§’å½¢ä¸‰ä¸ªç‚¹çš„é¡ºæ—¶é’ˆå’Œé€†æ—¶é’ˆçš„ç‰¹æ€§ã€‚ 4. Corner Caseä¸»è¦å‡ºçŽ°çš„ Corner Case æœ‰ï¼šç‚¹æ•°é‡ä¸å¤Ÿåªæœ‰è‡³å°‘ä¸å…±çº¿çš„ 3 ä¸ªç‚¹æ‰èƒ½æž„æˆå‡¸åŒ…å…±ç‚¹é—®é¢˜æœ‰å¤šä¸ªç‚¹é‡åˆå…±çº¿é—®é¢˜æœ‰å¤šä¸ªç‚¹çš„å…±çº¿é—®é¢˜ç‚¹é›†ä¸ºç©ºç­‰å…¶ä»–æƒ…å†µ 5. å®žçŽ°æµç¨‹å¯¹äºŽä»¥ä¸Š Corner Case æœ‰å¦‚ä¸‹å¤„ç†æ–¹æ³•ï¼šæ£€æŸ¥ nullæ£€æŸ¥ç‚¹é›†æ•°é‡3 ä¸ªç‚¹åŠä»¥ä¸Šæ‰æœ‰å¯èƒ½äº§ç”Ÿå‡¸åŒ…éåŽ†æŽ’åºåŽçš„ç‚¹é›†ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªä¸ä¸Žç¬¬ä¸€ä¸ªç‚¹é‡å¤çš„ç‚¹ï¼Œå¦‚æžœæ‰€æœ‰ç‚¹éƒ½é‡å¤ï¼Œåˆ™é€€å‡ºç”±æ­¤å¯åŽ»é™¤åŽŸç‚¹é‡å¤é—®é¢˜éåŽ†å‰©ä¸‹çš„ç‚¹é›†ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªä¸Žå‰ä¸¤ä¸ªä¸å…±çº¿çš„ç‚¹ï¼Œå°†å…¶çš„å‰ä¸€ç‚¹ä½œä¸ºå‡¸åŒ…ç¬¬äºŒé¡¶ç‚¹å‰ä¸€ç‚¹ å³ä¸ŽåŽŸç‚¹å…±çº¿çš„ æœ€åŽä¸€ä¸ªç‚¹é€šè¿‡ CCW æ¥è®¡ç®—é€†æ—¶é’ˆè½¬è§’ï¼ŒæŠ›å¼ƒå°äºŽç­‰äºŽ 0 çš„ç‚¹ç”±äºŽ CCW å¯ä»¥è¡¨ç¤ºå…±çº¿æƒ…å†µï¼Œå¯ä»¥é€šè¿‡åªè¦å¤§äºŽé›¶çš„ç‚¹å³å¯é¿å…é€”ä¸­å‡ºçŽ°çš„å…±çº¿æƒ…å†µå®žé™…ä¸Šï¼Œç”±äºŽ CCW ä½¿ç”¨ä¸‰è§’å½¢é¢ç§¯è¿›è¡Œè®¡ç®—ï¼Œæ‰€ä»¥ï¼Œä¹Ÿå¯ä»¥è§£å†³å…±ç‚¹é—®é¢˜]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºæœ¬æŽ’åºç®—æ³•]]></title>
    <url>%2F%2FAlgorithm%2F%E5%9F%BA%E6%9C%AC%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[æˆæœ¬æ¨¡åž‹ï¼šä¸€èˆ¬ä¸ºå…ƒç´ æ¯”è¾ƒå’Œäº¤æ¢çš„æ¬¡æ•°ã€‚å¦‚æžœä¸éœ€è¦æ¯”è¾ƒå’Œäº¤æ¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¡ç®—æ•°ç»„è®¿é—®çš„æ¬¡æ•° 1. å†’æ³¡æŽ’åºå†’æ³¡æŽ’åºï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯é€šè¿‡ä¸æ–­äº¤æ¢ç›¸é‚»å…ƒç´ ï¼Œè®©è¾ƒå°çš„å…ƒç´ å‘ä¸Šæµ®ï¼Œè®©è¾ƒå¤§çš„å…ƒç´ å‘ä¸‹æ²‰çš„ç®—æ³•ã€‚ä»Žæ•°ç»„å¤´éƒ¨å¼€å§‹ï¼Œå¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶äº¤æ¢ç´¢å¼•åŠ ä¸€ï¼Œé‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°ç´¢å¼•åˆ°è¾¾æ•°ç»„æœ«å°¾æ­¤æ—¶ï¼Œå¯ä»¥ä¿è¯æ•°ç»„æœ«å°¾å…ƒç´ å¿…å®šæ˜¯æœ€å¤§çš„å…ƒç´ å°†ç´¢å¼•ç§»åŠ¨èŒƒå›´å‰ªä¸€ï¼Œå¹¶é‡å¤ä¸Šè¿°è¿‡ç¨‹ 1.1 æ€§èƒ½ç”±äºŽéœ€è¦è¿›è¡Œä¸¤å±‚å¾ªçŽ¯ï¼Œå†’æ³¡æŽ’åºçš„å¤æ‚åº¦ä¸º O(N2)O(N^2)O(N2)ï¼Œè€Œä¸”å¯¹äºŽå·²ç»æœ‰åºçš„æ•°ç»„ï¼Œå®ƒä¹ŸåŒæ ·éœ€è¦ O(N2)O(N^2)O(N2) çš„å¤æ‚åº¦ã€‚ 2. é€‰æ‹©æŽ’åºæ‰¾åˆ°æœ€å°å…ƒç´ æŠŠå®ƒå’Œç¬¬ä¸€ä¸ªå…ƒç´ ç›¸äº¤æ¢åœ¨å‰©ä¸‹çš„å…ƒç´ ä¸­å¯»æ‰¾æœ€å°å…ƒç´ å°†å…¶å’Œç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°æ•°ç»„æŽ’åºå®Œæ¯•ï¼ˆå…ƒç´ æŒ‡é’ˆèµ°åˆ°æ•°ç»„æœ«å°¾ï¼‰ 2.1 æ€§èƒ½åœ¨ä¸€ä¸ªé•¿åº¦ä¸º NNN çš„æ•°ç»„ä¸­ï¼Œå®ƒéœ€è¦ N2/2{N^2}/{2}N2/2 æ¬¡çš„æ¯”è¾ƒå’Œ NNN æ¬¡çš„äº¤æ¢ç‰¹ç‚¹ï¼šæ‰€éœ€æ—¶é—´å’Œè¾“å…¥æ¨¡åž‹æ— å…³æ•°æ®çš„ç§»åŠ¨æ˜¯æœ€å°‘çš„ 3. æ’å…¥æŽ’åºæ’å…¥æŽ’åºçš„ä¸»è¦æ€æƒ³æ˜¯åœ¨æ•°ç»„çš„æ— åºéƒ¨åˆ†å–å…ƒç´ æ’å…¥åˆ°æœ‰åºéƒ¨åˆ†ä¸­ï¼Œä»Žè€Œé€æ­¥æž„å»ºæœ‰åºã€‚ä¸¾ä¸€ä¸ªæŒ‰ç…§å‡åºæŽ’åˆ—çš„ä¾‹å­å°† a[i]a[i]a[i] å’Œ a[0]a[0]a[0] åˆ° a[iâˆ’1]a[i - 1]a[iâˆ’1] ä¸­æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ ä¾æ¬¡äº¤æ¢ä¿è¯åœ¨ a[i]a[i]a[i] çš„å·¦è¾¹ï¼Œå…ƒç´ æ€»æ˜¯æœ‰åºçš„å½“ iii æŒ‡é’ˆåˆ°è¾¾æ•°ç»„æœ«å°¾çš„æ—¶å€™ï¼ŒæŽ’åºå°±å®Œæˆäº†ã€‚ 3.1 å®žçŽ°1234567891011public static void sort(Comparable[] a) &#123; int N = a.length; for (int i = 0; i &lt; N; i++) &#123; for (int j = i; j &gt; 0 &amp;&amp; less(a[j], a[j-1]); j--) &#123; // Compare a[i] with the items which is at its left side. exch(a, j, j-1); &#125; assert isSorted(a, 0, i); &#125; assert isSorted(a);&#125; 3.2 æ€§èƒ½æ­¤ç®—æ³•çš„æ€§èƒ½å’Œè¾“å…¥æœ‰å…³ã€‚å¦‚æžœè¾“å…¥çš„åºåˆ—å·²ç»æ˜¯éƒ¨åˆ†æŽ’åºçš„ï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ä¸ªç®—æ³•å°†ä¼šæ¯”è¾ƒå¿«ï¼›ä½†æ˜¯ç”±äºŽå­˜åœ¨åµŒå¥—çš„ for å¾ªçŽ¯ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ä»ç„¶éœ€è¦ N2N^2N2 æ¬¡äº¤æ¢åœ¨ä¹‹åŽçš„æŽ’åºç®—æ³•ä¼˜åŒ–ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ä½¿ç”¨æ’å…¥æŽ’åºçš„è¿™ä¸€ç‰¹æ€§ï¼Œåœ¨å°æ•°ç»„ã€éƒ¨åˆ†æœ‰åºæ•°ç»„ä¸­åº”ç”¨æ’å…¥æŽ’åºï¼Œè¿›ä¸€æ­¥é™ä½Žæ—¶é—´å¤æ‚åº¦ã€‚ 3.3 ä¼˜åŒ– 3.3.1 ä½¿ç”¨ç§»åŠ¨ä»£æ›¿äº¤æ¢å¯ä»¥åœ¨ä¸Šè¿°ç®—æ³•å®žçŽ°ä¸Šè¿›è¡Œè¿›ä¸€æ­¥è°ƒä¼˜ã€‚å¯ä»¥ç®€å•çš„å°†å¤§çš„å…ƒç´ å¾€å³ç§»åŠ¨ï¼Œä»Žè€Œç©ºå‡ºä¸€ä¸ªæ­£ç¡®çš„ä½ç½®ï¼Œå°†æ‰€éœ€å…ƒç´ æ’å…¥å³å¯ï¼›è€Œä¸æ˜¯æ¯æ¬¡éƒ½è¦äº¤æ¢ä¸€æ¬¡å…ƒç´ ã€‚è¿™ä¸ªè°ƒä¼˜å°†èƒ½èŠ‚çœä¸€åŠçš„æ•°ç»„è®¿é—®å¼€æ”¯123456789101112131415public static void sort(Comparable[] a) &#123; int N = a.length; for (int i = 0; i &lt; N; i++) &#123; int j = i; Comparable t = a[j]; // éœ€è¦æ’å…¥çš„å…ƒç´  for (; j &gt; 0 &amp;&amp; less(a[j], a[j-1]); j--) &#123; a[j] = a[j - 1]; // å°†å¤§çš„å…ƒç´ å‘å³ç§»åŠ¨ &#125; a[j] = t; // å°†å…ƒç´ æ’å…¥ç©ºå‡ºçš„ä½ç½® assert isSorted(a, 0, i); &#125; assert isSorted(a);&#125; 3.3.2 ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç”±äºŽæ˜¯åœ¨æœ‰åºéƒ¨åˆ†å¯»æ‰¾æ°å½“ä½ç½®æ’å…¥ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æé«˜æœç´¢æ•ˆçŽ‡12345678910111213public int binaryIndex(int[] arr, int lo, int hi, int key) &#123; int mid; while (lo &lt;= hi) &#123; mid = lo + (hi - lo) / 2; if (arr[mid] &lt; key) &#123; lo = mid + 1; &#125; else if (arr[mdi] &gt; key) &#123; hi = mid - 1; &#125; else &#123; return mid; &#125; &#125;&#125; 4. å¸Œå°”æŽ’åºå¸Œå°”æŽ’åºæ˜¯åŸºäºŽæ’å…¥æŽ’åºçš„ä¸€ç§æŽ’åºç®—æ³•ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯è®©å…ƒç´ åœ¨ hhh æ­¥é•¿ä¸­æœ‰åºå¦‚æžœ hhh å¾ˆå¤§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†ä¸€ä¸ªå…ƒç´ ä¸€æ¬¡æ€§ç§»åŠ¨å¾ˆè¿œ 4.1 å®žçŽ°1234567891011121314151617181920212223242526public class Shell &#123; public static void sort(Comparable[] a) &#123; // Increasing order of a[] int N = a.lenth; int h = 1; while (h &lt; N/3) &#123; // From N/3 to reduce the h // 1, 4, 13, 40, 121, 364, 1093, ... h = 3 * h + 1; &#125; while(h &gt;= 1) &#123; // Make the array h ordered for(int i = h; i &lt; N; i++) &#123; // Insert the a[i] into the a[i - h], a[i - 2*h] , a[i - 3*h] for(int j = i; j &gt;= h &amp;&amp; less(a[j], a[j - h]); j -= h) &#123; // Replace j-- as the j -= h exch(a, j, j-h) &#125; &#125; h = h / 3; &#125; &#125;&#125; 4.2 æ€§èƒ½å¸Œå°”æŽ’åºæ¯”æ’å…¥æŽ’åºå’Œé€‰æ‹©æŽ’åºéƒ½è¦å¿«ï¼›ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½ç»™å‡ºä¸€ä¸ªå‡†ç¡®çš„æ•°å­¦åˆ†æžè¯æ˜Žå®ƒçš„ç²¾ç¡®å¢žé•¿å‡½æ•°ä½†æ˜¯ä¸€ä¸ªé‡è¦çš„ç»“è®ºå·²ç»è¢«è¯æ˜Žï¼šå¸Œå°”æŽ’åºçš„å¤æ‚åº¦è¾¾ä¸åˆ°å¹³æ–¹çº§åˆ«è¿™æ˜¯å¾ˆç¥žå¥‡çš„ï¼Œåªæ˜¯å› ä¸ºæ”¹å˜äº†æ’å…¥æŽ’åºçš„æ­¥é•¿å°±å¯ä»¥è®©å¤æ‚åº¦ä¸‹é™åˆ°å¹³æ–¹çº§åˆ«ä»¥ä¸‹ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å½’å¹¶æŽ’åº]]></title>
    <url>%2F%2FAlgorithm%2F%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»å½’å¹¶æŽ’åºæ˜¯ä¸€ç§é€’å½’ç®—æ³•ï¼›å…¶ä¸»è¦æ€æƒ³æ˜¯åˆ†è€Œæ²»ä¹‹ç­–ç•¥ï¼Œé€šè¿‡å°†ä¸€ä¸ªå¤§æ•°ç»„åˆ†æˆä¸€ä¸ªä¸ªå°æ•°ç»„ï¼Œé€šè¿‡é€’å½’åœ°åˆ†å‰²ï¼Œæœ€åŽå½’å¹¶æˆä¸€ä¸ªæœ‰åºçš„æ•°ç»„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯”è¾ƒæ˜¯åœ¨å½’å¹¶çš„è¿‡ç¨‹ä¸­å®žè¡Œçš„ï¼ŒçœŸæ­£å®žæ–½æ¯”è¾ƒå’ŒæŽ’åºçš„æ–¹æ³•æ˜¯å½’å¹¶æ–¹æ³•ï¼Œæ‰€ä»¥æ‰è¢«ç§°ä¸ºå½’å¹¶æŽ’åºã€‚ 2. å½’å¹¶è¿‡ç¨‹å¤åˆ¶åŽŸæ•°ç»„å†…å®¹åˆ°ä¸€ä¸ªæ–°çš„è¾…åŠ©æ•°ç»„ä¸­å°†è¾…åŠ©æ•°ç»„åˆ†ä¸ºä¸¤åŠåˆ†åˆ«éåŽ†ä¸¤åŠéƒ¨åˆ†ï¼Œå°†å…¶å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼ŒæŒ‰é¡ºåºå¤åˆ¶å›žåŽŸæ•°ç»„ä¸­ 2.1 å®žçŽ°1234567891011121314151617181920212223242526272829private static void merge(Comparable[] a, Comparable[] aux, int lo, int mid, int hi) &#123; // i è¡¨ç¤ºå·¦åŠè¾¹ï¼Œj è¡¨ç¤ºå³åŠè¾¹ int i = lo, j = mid + 1; // Copy the a[lo...hi] to the assistant array for (int k = lo; k &lt;= hi; k++) &#123; aux[k] = a[k]; &#125; for (int k = lo; k &lt;= hi; k++) &#123; if (i &gt; mid) &#123; // å·¦è¾¹ç©ºäº† a[k] = aux[j++]; &#125; else if (j &gt; hi) &#123; // å³è¾¹ç©ºäº† a[k] = aux[i++]; &#125; else if (less(auk[j], auk[i])) &#123; // j æ¯” i å°ï¼Œå°† j å½’å¹¶åˆ°æ•°ç»„ä¸­ a[k] = aux[j++]; &#125; else &#123; // i æ¯” j å°ï¼Œå°† i å½’å¹¶åˆ°æ•°ç»„ä¸­ a[k] = aux[i++]; &#125; &#125;&#125; 3. è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æŽ’åºåˆ†æ²»æ³•æ€æƒ³ï¼Œå…ˆæŽ’åºå·¦åŠè¾¹ï¼ŒåŽæŽ’åºå³åŠè¾¹ï¼Œç„¶åŽå°†ä¸¤åŠå½’å¹¶ã€‚ 3.1 å®žçŽ°12345678910111213141516171819public class Merge &#123; private static Comparable[] aux; public static void sort(Comparable[] a) &#123; aux = new Comparable[a.lenth]; sort(a, 0, a.lenth - 1); &#125; private static void sort(Comparable[] a, Comparable[] aux, int lo, int hi) &#123; if (hi &lt;= lo) return; int mid = lo + (hi - lo) / 2; sort(a, aux, lo, mid); // Sort the left side sort(a, aux, mid + 1, hi); // Sort the right side merge(a, aux, lo, mid, hi); // Merge the result &#125;&#125;åœ¨è¿™é‡Œ sort() æ–¹æ³•åªæ˜¯å¯¹æ•°ç»„è¿›è¡Œäº†ç®€å•çš„åˆ†å‰²ï¼Œè€Œæ²¡æœ‰è¿›è¡ŒçœŸæ­£çš„æŽ’åºè¿‡ç¨‹åœ¨ä¸€äº›æ”¹è¿›ç‰ˆæœ¬ä¸­ï¼Œä¼šåœ¨æ•°ç»„è¾ƒå°æ—¶ï¼Œé‡‡ç”¨å…¶ä»–æŽ’åºæ–¹æ³•è¿›è¡ŒæŽ’åºã€‚ 3.2 æ€§èƒ½å¯¹äºŽè‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æŽ’åºï¼Œéœ€è¦ 12NlogNâˆ¼NlogN{1 \over 2} NlogN \sim NlogN21â€‹NlogNâˆ¼NlogN æ¬¡æ¯”è¾ƒå’Œ 6NlogN6NlogN6NlogN æ¬¡æ•°ç»„è®¿é—® 3.3 æ”¹è¿› 3.3.1 å°æ•°ç»„ä½¿ç”¨æ’å…¥æŽ’åºç”±äºŽå¯¹äºŽå°æ•°ç»„æ¥è¯´ï¼Œå½’å¹¶ä¼šäº§ç”Ÿä¸å¿…è¦çš„å¤åˆ¶æ¶ˆè€—ï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨æ•°ç»„è¾ƒå°æ—¶ï¼Œé‡‡ç”¨æ’å…¥æŽ’åºè¿›è¡ŒæŽ’åºè¿‡ç¨‹ï¼Œè€Œä¸æ˜¯å…¨ç¨‹ä½¿ç”¨å½’å¹¶ç®—æ³•ã€‚123456789101112public static void sort(Comparable[] a, int lo, int hi) &#123; if (hi &lt;= lo + CUTOFF - 1) &#123; Insertion.sort(a, lo, hi); return; &#125; int mid = lo + (hi - lo) / 2; sort(a, lo, mid); // Sort the left side sort(a, mid + 1, hi); // Sort the right side merge(a, lo, mid, hi); // Merge the result&#125; 3.3.2 é¿å…ä¸å¿…è¦çš„å½’å¹¶è¿‡ç¨‹å¦‚æžœå‰åŠè¾¹æ•°ç»„å’ŒåŽåŠè¾¹æ•°ç»„ æ­£å¥½æž„æˆæœ‰åºï¼›é‚£å°±å¯ä»¥ç›´æŽ¥è·³è¿‡å½’å¹¶è¿‡ç¨‹ï¼Œä»Žè€ŒèŠ‚çœæ—¶é—´ã€‚1234567891011121314151617181920public static void sort(Comparable[] a, int lo, int hi) &#123; if (hi &lt;= lo + CUTOFF - 1) &#123; // å°æ•°ç»„ä½¿ç”¨æ’å…¥æŽ’åº Insertion.sort(a, lo, hi); return; &#125; int mid = lo + (hi - lo) / 2; sort(a, lo, mid); // Sort the left side sort(a, mid + 1, hi); // Sort the right side if (less(a[mid], a[mid + 1])) &#123; // å¦‚æžœå·²ç»æœ‰åºï¼Œåˆ™è·³è¿‡å½’å¹¶è¿‡ç¨‹ return; &#125; merge(a, lo, mid, hi); // Merge the result&#125; 3.3.3 è½¬æ¢æ•°ç»„è§’è‰²èŠ‚çœæ‹·è´æ—¶é—´ç”±äºŽå½’å¹¶éœ€è¦å…ˆå°†åŽŸæ•°ç»„çš„å†…å®¹æ‹·è´åˆ°è¾…åŠ©æ•°ç»„ä¸­ï¼›ä¸ºä»€ä¹ˆä¸ç›´æŽ¥å°†åŽŸè¾“å…¥æ•°ç»„å½“æˆè¾…åŠ©æ•°ç»„å‘¢ï¼Ÿæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æ•°ç»„çš„è§’è‰²è°ƒæ¢ï¼Œä»¥èŠ‚çœæ‹·è´çš„æ—¶é—´ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051private static void merge(Comparable[] a, Comparable[] aux, int lo, int mid, int hi) &#123; // i è¡¨ç¤ºå·¦åŠè¾¹ï¼Œj è¡¨ç¤ºå³åŠè¾¹ int i = lo, j = mid + 1; // åŽŸæ¥çš„æ‹·è´æ•°ç»„çš„ä»£ç ä¸è§äº† // çŽ°åœ¨ï¼Œaux å’Œ a è§’è‰²äº’æ¢ for (int k = lo; k &lt;= hi; k++) &#123; if (i &gt; mid) &#123; // å·¦è¾¹ç©ºäº† aux[k] = a[j++]; &#125; else if (j &gt; hi) &#123; // å³è¾¹ç©ºäº† aux[k] = a[i++]; &#125; else if (less(auk[j], auk[i])) &#123; // j æ¯” i å°ï¼Œå°† j å½’å¹¶åˆ°æ•°ç»„ä¸­ aux[k] = a[j++]; &#125; else &#123; // i æ¯” j å°ï¼Œå°† i å½’å¹¶åˆ°æ•°ç»„ä¸­ aux[k] = a[i++]; &#125; &#125;&#125;private static void sort(Comparable[] a, Comparable[] aux, int lo, int hi) &#123; if (hi &lt;= lo) return; int mid = lo + (hi - lo) / 2; // æ³¨æ„ï¼Œä¸‹é¢ aux å’Œ a çš„é¡ºåºäº’æ¢äº† sort(aux, a, lo, mid); // Sort the left side sort(aux, a, mid + 1, hi); // Sort the right side merge(a, aux, lo, mid, hi); // Merge the result &#125;&#125;public static void sort(Comparable[] a) &#123; aux = new Comparable[a.length]; for (int i = 0; i &lt; a.length ; i++) &#123; aux[i] = a[i]; &#125; sort(a, aux, 0, a.length - 1);&#125; 4. è‡ªåº•å‘ä¸Šçš„å½’å¹¶æŽ’åºå®ƒçš„ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡ä¸æ–­å½’å¹¶å°æ•°ç»„ï¼Œä»Žè€Œå¾—åˆ°ä¸€ä¸ªæœ‰åºçš„å¤§æ•°ç»„ã€‚æ³¨æ„ä¸Žå…¶ä¸åŒçš„æ˜¯ï¼Œè‡ªé¡¶å‘ä¸‹æ˜¯å°†æ•´ä¸ªæ•°ç»„åˆ†ä¸ºå·¦å³åŠè¾¹åˆ†åˆ«å¤„ç†ï¼Œè€Œè¿™é‡Œçš„æ–¹æ³•æ˜¯å°†æ•´ä¸ªæ•°ç»„éƒ½æ‰“æ•£ä¸ºå°æ•°ç»„ä¹‹åŽå†è¡Œåˆå¹¶ã€‚ 4.1 å®žçŽ°1234567891011121314public class MergeBU &#123; private static Comparable[] aux; public static void sort(Comparable[] a) &#123; int N = a.lenth; aux = new Comparable[N]; for (int sz = 1; sz &lt; N; sz = sz + sz) &#123; for (int lo = 0; lo &lt; N - sz; lo + = sz + sz) &#123; merge (a, log, lo + sz - 1, Math.min(lo + sz + sz - 1, N - 1)); &#125; &#125; &#125;&#125;æ³¨æ„è¿™é‡Œä½¿ç”¨äº†å¾ªçŽ¯çš„ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯é€’å½’çš„ç‰ˆæœ¬ 4.2 æ€§èƒ½å¯¹äºŽä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°ç»„ï¼Œè‡ªåº•å‘ä¸Šçš„å½’å¹¶æŽ’åºéœ€è¦ 12NlogNâˆ¼NlogN{1 \over 2} NlogN \sim NlogN21â€‹NlogNâˆ¼NlogN æ¬¡æ¯”è¾ƒå’Œæœ€å¤š 6NlogN6NlogN6NlogN æ¬¡çš„æ•°ç»„è®¿é—® 5. æ¯”è¾ƒå½“æ•°ç»„é•¿åº¦ä¸º 2 çš„å¹‚çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éœ€è¦çš„å¼€æ”¯æ˜¯ç›¸åŒçš„å®ƒä»¬çš„æ—¶é—´å¤æ‚åº¦çš„å¢žé•¿çº§åˆ«æ˜¯ç›¸åŒçš„ï¼Œæ•°ç»„è®¿é—®çš„å¢žé•¿çº§åˆ«ä¹Ÿæ˜¯ç›¸åŒçš„è‡ªåº•å‘ä¸Šçš„å½’å¹¶æŽ’åºé€‚åˆäºŽä½¿ç”¨é“¾è¡¨ä½œä¸ºæ•°æ®ç»“æž„çš„æ•°æ®ï¼Œç”±äºŽå®ƒåªéœ€è¦è°ƒæ•´æ•°ç»„é“¾æŽ¥å³å¯ï¼Œè€Œä¸éœ€è¦åŽ»åˆ›å»ºæ–°çš„é“¾è¡¨èŠ‚ç‚¹ç”±äºŽè‡ªåº•å‘ä¸Šä½¿ç”¨çš„æ˜¯å¾ªçŽ¯ç®—æ³•ï¼Œä¸€èˆ¬æ¥è¯´éƒ½è¦æ¯”ä½¿ç”¨é€’å½’ç®—æ³•çš„è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æŽ’åºè¦å¿« 6. å±•æœ›å½’å¹¶æŽ’åºæ˜¯åŸºäºŽæ¯”è¾ƒçš„æŽ’åºç®—æ³•ä¸­æ¸è¿›æœ€ä¼˜çš„å½’å¹¶æŽ’åºç¡®ä¿äº† å³ä½¿åœ¨æœ€åæƒ…å†µï¼Œæ‰€éœ€è¦çš„æœ€å°‘æ¯”è¾ƒæ¬¡æ•°éƒ½æ˜¯ âˆ¼NlogN\sim NlogNâˆ¼NlogNã€‚ç”±äºŽæ²¡æœ‰ä¸€ä¸ªåŸºäºŽæ¯”è¾ƒçš„æŽ’åºç®—æ³•èƒ½ä¿è¯æ‰€éœ€è¦çš„æœ€å°‘æ¬¡æ•°éƒ½æ¯” log(N!)log(N!)log(N!) è¦å°‘ï¼Œç”±äºŽ log(N!)âˆ¼NlogNlog(N!) \sim NlogNlog(N!)âˆ¼NlogNï¼Œæ‰€ä»¥å½’å¹¶æŽ’åºæ˜¯æ¸è¿›æœ€ä¼˜çš„åŸºäºŽæ¯”è¾ƒçš„æŽ’åºç®—æ³•åŸºäºŽæ¯”è¾ƒçš„æŽ’åºå¯ä»¥ç”±å†³ç­–æ ‘æ¥æè¿°ã€‚æ ‘çš„é«˜åº¦ hhh å³ä¸ºæ‰€éœ€è¦è¿›è¡Œçš„æ¯”è¾ƒæ¬¡æ•°ï¼Œç”±æŽ’åˆ—åŽŸç†å¯çŸ¥ï¼ŒNNN ä¸ªå…ƒç´ æœ‰ N!N!N! ä¸­æŽ’åºæ–¹å¼ï¼Œä¸€ä¸ªå†³ç­–æ ‘çš„å¶å­ä¸ªæ•°å¿…é¡»è¦èƒ½å®¹çº³ä¸‹ N!N!N! ä¸­æŽ’åºç»“æžœï¼Œå¦åˆ™å°†æ— æ³•å®ŒæˆæŽ’åºã€‚å› ä¸ºå¦‚æžœä¸èƒ½å®¹çº³ä¸‹æ‰€æœ‰çš„ç»“æžœï¼Œä¸€æ—¦è¾“å…¥æ”¹å˜ï¼Œé‚£ä¹ˆå¾—å‡ºçš„æŽ’åºç»“æžœå°±å¯èƒ½æ˜¯é”™è¯¯çš„ã€‚æ‰€ä»¥ä¸€æ£µæ¯”è¾ƒç®—æ³•çš„å†³ç­–æ ‘ï¼Œè‡³å°‘æœ‰ N!N!N! ä¸ªå¶èŠ‚ç‚¹ï¼Œè€Œé«˜ä¸º hhh çš„æ ‘å…·æœ‰æœ€å¤šå¶èŠ‚ç‚¹ä¸ªæ•°ä¸º 2h2^h2hï¼Œåˆ™æœ‰ï¼š2hâ‰¥leavesâ‰¥N!â‡’ h â‰¥ lg(N!)âˆ¼NlogN\begin{aligned} 2^h \ge leaves \ge N! \\ \Rightarrow \ h \ \ge \ lg(N!) \sim NlogN \end{aligned}2hâ‰¥leavesâ‰¥N!â‡’ h â‰¥ lg(N!)âˆ¼NlogNâ€‹]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¹¶æŸ¥é›†ç®—æ³•åˆ†æž]]></title>
    <url>%2F%2FAlgorithm%2F%E5%B9%B6%E6%9F%A5%E9%9B%86%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[å¹¶æŸ¥é›†ç®—æ³•æ˜¯ç”¨äºŽåˆ¤æ–­äº’è”ç½‘ä¸­æˆ‘ä»¬æ˜¯å¦éœ€è¦æ–°å»ºç«‹ä¸€æ¡è¿žæŽ¥æ¥ä½¿æ•´ä¸ªç½‘ç»œè¿žé€šã€‚å³ï¼Œå…ƒç´ çš„è¿žé€šæ€§é—®é¢˜ã€‚ 1. æ¦‚å¿µè¿žæŽ¥è¿žæŽ¥æ˜¯ä¸€ç§ç­‰ä»·å…³ç³»ï¼Œå®ƒæ„å‘³ç€ä»¥ä¸‹ç‰¹ç‚¹ï¼šè‡ªåæ€§ï¼šppp è¿žæŽ¥ç€ pppå¯¹ç§°æ€§ï¼šå¦‚æžœ ppp å’Œ qqq ç›¸è¿žï¼Œé‚£ä¹ˆ qqq ä¸Ž ppp ç›¸è¿žä¼ é€’æ€§ï¼šå¦‚æžœ ppp ä¸Ž qqq ç›¸è¿žï¼Œqqq ä¸Ž rrr ç›¸è¿žï¼Œé‚£ä¹ˆ ppp ä¸Ž rrr ç›¸è¿ž 2. Union-Find çš„å®žçŽ°1234567891011121314151617public static void main(String[] args) &#123; int N = StdIn.readInt(); //read the Number of CONTACTS UF UF = new UF(N); //Initialize the data structure while(!StdIn.isEmpty()) &#123; int p = StdIn.readInt(); int q = StdIn.readInt(); if(uf.connected(p,q)) &#123; //If it is connected, ignore it continue; &#125; uf.uinon(p,q); //Merge the contacts StdOut.println(p + " " + q); &#125;&#125; 3. union() å’Œ find() çš„å®žçŽ°åŸºäºŽ id[] æ•°ç»„ï¼Œä»–ä»¬çš„æ¯ä¸€ä¸ªç´¢å¼•éƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ 3.1 Quick-Find ç®—æ³•è¿™æ˜¯ä¸€ä¸ª naive çš„å®žçŽ°ï¼Œæ¯æ¬¡æ‰§è¡Œ union() éƒ½éœ€è¦æ‰«ææ•´ä¸ªæ•°ç»„ã€‚1234567891011121314151617181920212223public int find (int p) &#123; return id[p];&#125;public void union(int p, int q) &#123; // Merge p and q into the same component int pID = find(p); int qID = find(q); // If the p and q are at the same component, // do nothing and return. if(pID = qID) &#123; retrun; &#125; // Rename the p component to the q component for(int i = 0; i&lt; id.lenth; i++) &#123; if(id[i] == pID) &#123; id[i] = qID; &#125; &#125; count --; // Decrease the component counter&#125;connected() æ–¹æ³•éœ€è¦ 2 æ¬¡ find()ï¼›è€Œå¯¹äºŽ union() æ–¹æ³•åˆ™éœ€è¦è°ƒç”¨ä¸¤æ¬¡ find() ï¼Œæ£€æŸ¥ NNN ä¸ªæ•°ç»„å…ƒç´ ï¼Œæ”¹å˜å…¶ä¸­ 1âˆ¼Nâˆ’11 \sim N - 11âˆ¼Nâˆ’1 ä¸ªæ•°ç»„å…ƒç´ çš„å€¼ã€‚æ‰€ä»¥ï¼Œæ‰§è¡Œä¸€æ¬¡ connected() å’Œ union() éœ€è¦ N+3âˆ¼2N+1N+3 \sim 2N + 1N+3âˆ¼2N+1 æ•°ç»„è®¿é—®ã€‚è€Œå¦‚æžœæœ€åŽä»…å¾—åˆ°ä¸€ä¸ªè¿žé€šåˆ†é‡ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œ Nâˆ’1N - 1Nâˆ’1 æ¬¡ connected() + union()ï¼Œä¹Ÿå°±æ˜¯è‡³å°‘éœ€è¦ (N+3)(Nâˆ’1)âˆ¼N2(N + 3)(N - 1) \sim N^2(N+3)(Nâˆ’1)âˆ¼N2 æ¬¡æ•°ç»„è®¿é—®ã€‚ 3.2 Quick-Union ç®—æ³•ä½¿ç”¨æ ‘ä½œä¸ºåŸºæœ¬ç»“æž„ä»¥é¿å…æ¯æ¬¡è°ƒç”¨ union() æ—¶ï¼Œéƒ½è¦æ‰«ææ•´ä¸ªæ•°ç»„ 3.2.1 åŸºæœ¬æ¦‚å¿µä½¿ç”¨æ ‘ä½œä¸ºåŸºæœ¬çš„æ•°æ®ç»“æž„æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„ id[] å…ƒç´ å°±æ˜¯å¦ä¸€ä¸ªèŠ‚ç‚¹çš„åå­—ï¼Œæˆ‘ä»¬è®¤ä¸ºå®ƒä»¬ä¹‹é—´å»ºç«‹äº†ä¸€ä¸ªè¿žæŽ¥ä¾‹å¦‚ï¼Œ ppp å’Œ qqq æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æžœ ppp å’Œ qqq è¿žæŽ¥ï¼Œé‚£ä¹ˆ id[p] == qå¦‚æžœ id[p] == pï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§° ppp æ˜¯ä¸€ä¸ªæ ¹èŠ‚ç‚¹ 3.2.2 å®žçŽ°123456789101112131415161718192021222324private int find(int p) &#123; // Find the root of the contact's component while (p != id[p]) &#123; p = id[p]; &#125; return p;&#125;public void union(int p, int q) &#123; // Merge the root contact of the p's component and the q's component int pRoot = find(p); int qRoot = find(q); // If the two components' root are the same, return. if (pRoot == qRoot) &#123; return; &#125; // Set the p's tree links with q's tree. // Now, the qRoot is the father contact of the qRoot. id[pRoot] = qRoot; count --;&#125; 3.3.3 æ€§èƒ½è™½ç„¶ä¸€èˆ¬æ¥è¯´ï¼Œå¹¶æŸ¥é›†ç®—æ³•æ¯” Quick-Find ç®—æ³•è¦å¿«ï¼Œä½†æ˜¯åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå¹¶æŸ¥é›†ç®—æ³•ä»ç„¶éœ€è¦ 2(1+2+â€¦+N)âˆ¼N22(1 + 2 + \ldots + N) \sim N^22(1+2+â€¦+N)âˆ¼N2 æ¬¡çš„æ•°ç»„è®¿é—®åŽŸå› åœ¨äºŽï¼Œ union() æ–¹æ³•æ˜¯éšæœºçš„è¿žæŽ¥ä¸¤æ£µæ ‘ï¼Œå°±æœ‰å¯èƒ½å°†å¤§æ ‘è¿žæŽ¥åˆ°å°æ ‘ä¸Šï¼Œå¢žåŠ æ ‘çš„æ·±åº¦ã€‚å¦‚æžœæ‰€æœ‰çš„æ ‘éƒ½æ˜¯å¤§æ ‘è¿žæŽ¥åˆ°å°æ ‘ä¸Šï¼Œé‚£ä¹ˆæ ‘å°±å˜æˆäº†çº¿æ€§è¡¨ï¼Œæ­¤æ—¶å³ä¸ºæœ€åæƒ…å†µã€‚ 4. åŠ æƒçš„å¹¶æŸ¥é›†ç®—æ³•æˆ‘ä»¬é€šè¿‡ç»™æ ‘å¢žåŠ æƒå€¼ï¼Œä»Žè€Œå¯ä»¥é¿å…ä¸Šé¢çš„éšæœºè¿žæŽ¥çš„æƒ…å†µã€‚æƒå€¼å³ä¸ºæ ‘çš„å¤§å°ã€‚ 4.1 å®žçŽ°1234567891011121314151617181920212223242526272829303132333435363738394041public class WeightedQuickUnionUF &#123; /** * We need a new array to count the tree's size * The index is the root contact * The value is the corresponding size of the tree * Baically, we use the root contact to stand for the tree */ private int[] sz; .... public WeightedQuickUnionUF (int N) &#123; ... sz = new int[N]; for (int i = 0; i &lt; N; i++) &#123; // Initialize the sz[] as 1. // No one was linked at the first. sz[i] = 1; &#125; &#125; ... public int find(int p) &#123; // Find the root contact while (p != id[p]) &#123; p = id[p]; &#125; retrun p; &#125; public void union(int p, int q) &#123; ... if (sz[i] &lt; sz[j]) &#123; // Link the smaller tree's root contact to the bigger one id[i] = j; sz[j] += sz[i]; // Adding the weight(or size) of the component &#125; else &#123; id[j] = i; sz[i] += sz[j]; &#125; &#125;&#125; 4.2 æ€§èƒ½é€šè¿‡ä½¿ç”¨åŠ æƒç®—æ³•ï¼Œæž„é€ çš„æ£®æž—ä¸­ï¼Œä»»æ„èŠ‚ç‚¹çš„æ·±åº¦æœ€å¤šä¸º logNlogNlogN [1] 5. è·¯å¾„åŽ‹ç¼©çš„å¹¶æŸ¥é›†ç®—æ³•æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨éåŽ†åˆ°ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œå°±å’Œå®ƒçš„æ ¹èŠ‚ç‚¹è¿žåœ¨ä¸€èµ·ï¼Œç”±äºŽæˆ‘ä»¬åªæ£€æŸ¥è¿žé€šåˆ†é‡ï¼ˆå³æ ¹èŠ‚ç‚¹ï¼‰æ˜¯å¦ç›¸è¿žï¼Œæ‰€ä»¥ä¸Šè¿°åšæ³•åœ¨ Union-Find é—®é¢˜ä¸­æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„ï¼ŒåŒæ—¶å¯ä»¥æžå¤§åœ°å‡å°‘æ ‘çš„æ·±åº¦ï¼Œä»Žè€Œæå‡ç®—æ³•æ€§èƒ½ã€‚ 5.1 å®žçŽ° 1 â€”â€”ä¸¤ä¸ªå¾ªçŽ¯ä½¿ç”¨ç¬¬äºŒä¸ªå¾ªçŽ¯ï¼Œå°†å¯»æ‰¾æ ¹èŠ‚ç‚¹è·¯å¾„ä¸Šçš„æ‰€æœ‰çš„ç‚¹éƒ½ä¸Žæ ¹èŠ‚ç‚¹ç›´æŽ¥è¿žæŽ¥ã€‚1234567891011121314151617public int find(int p) &#123; int pParent = p; int pRoot = p; // Find the p's root while(pRoot != id[pRoot]) &#123; pRoot = id[pRoot]; &#125; while (id[p] != p) &#123; pParent = id[p]; id[p] = pRoot; p = pParent; &#125; return pRoot;&#125; 5.2 å®žçŽ° 2 â€”â€”å°†ç‚¹æŒ‡å‘å…¶çˆ·çˆ·èŠ‚ç‚¹ä¸€ä¸ªæ›´ä¸ºç®€å•çš„å®žçŽ°ï¼Œç›´æŽ¥å°†èŠ‚ç‚¹ä¸Žå…¶çˆ·çˆ·èŠ‚ç‚¹è¿žæŽ¥å³å¯ï¼›è™½ç„¶æ•ˆæžœæ²¡æœ‰ å®žçŽ° 1 å¥½ï¼Œä½†æ˜¯åœ¨å®žé™…è¿ç”¨ä¸­ï¼Œä¸¤è€…æ•ˆæžœç›¸å·®ä¸å¤§ï¼Œè€Œä¸”å®žçŽ° 2 åªéœ€è¦ä¸€è¡Œä»£ç å³å¯ï¼Œæ›´å…·å¤‡å·¥ç¨‹æ„ä¹‰ã€‚123456public int find(int p) &#123; while(p != id[p]) &#123; id[p] = id[id[p]]; p = id[p]; &#125;&#125; 5.3 æ€§èƒ½è¿™ä¸ªç®—æ³•çš„æ€§èƒ½æ˜¯ä¸€ä¸ª arcarcarc å‡½æ•°ï¼Œååˆ†æŽ¥è¿‘å¸¸æ•°ã€‚ 6. æ¯”è¾ƒåœ¨ç®—æ³•ä¸­ logNlogNlogN å’Œ log2Nlog_2{N}log2â€‹N ç­‰ä»· â†©ï¸Ž]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•åˆ†æž]]></title>
    <url>%2F%2FAlgorithm%2F%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[1. è§‚å¯Ÿè¿è¡Œç¨‹åºï¼Œç„¶åŽä½¿ç”¨æ—¶é—´è®¡ç®—å™¨æ¥è®¡ç®—æ—¶é—´çš„ä½¿ç”¨ã€‚ä½¿ç”¨å¤§æ•°æ®æ¥çŒœæµ‹å’ŒéªŒè¯æ•°å­¦æ¨¡åž‹ 2. æ—¶é—´æ¨¡åž‹æ—¶é—´ä½¿ç”¨çš„å¤šå°‘ä¸€èˆ¬å’Œä»¥ä¸‹å› ç´ æœ‰å…³ï¼šæ¯ä¸ªæ“ä½œçš„æ‰€éœ€æ—¶é—´æ¯ä¸ªæ“ä½œä½¿ç”¨çš„é¢‘çŽ‡ 2.1 ä¼°è®¡æˆ‘ä»¬ä½¿ç”¨ âˆ¼f(N)\sim f(N)âˆ¼f(N) æ¥ä»£è¡¨ï¼Œå½“ NNN å¢žé•¿æ—¶ï¼Œæ‰€ç”¨æ—¶é—´çš„ç»“æžœå’Œ f(N)f(N)f(N) çš„æ¯”å€¼ä¸º 111ï¼Œä½¿ç”¨ g(N)âˆ¼f(N)g(N) \sim f(N)g(N)âˆ¼f(N) æ¥ä»£è¡¨å½“ NNN å¢žé•¿æ—¶ï¼Œç»“æžœå’Œ g(N)/f(N)g(N)/f(N)g(N)/f(N) çš„æ¯”å€¼ä¸º 111 2.2 å†…å¾ªçŽ¯å†…å¾ªçŽ¯æŒ‡çš„æ˜¯ç¨‹åºæ‰§è¡Œæ—¶ï¼Œæœ€é¢‘ç¹çš„æ“ä½œç¨‹åºçš„æ—¶é—´å¤æ‚åº¦ä¸€èˆ¬éƒ½å–å†³äºŽå†…å¾ªçŽ¯ 2.3 æˆæœ¬æ¨¡åž‹æˆæœ¬æ¨¡åž‹æŒ‡çš„æ˜¯åŸºæœ¬çš„ç®—æ³•æ“ä½œä¾‹å¦‚ 3-Sum é—®é¢˜ï¼Œå…¶æˆæœ¬æ¨¡åž‹æ˜¯æ•°ç»„è®¿é—®çš„æ¬¡æ•° 2.4 ç¡®å®šæˆæœ¬æ¨¡åž‹çš„æ­¥éª¤ç¡®å®šè¾“å…¥æ¨¡åž‹å’Œé—®é¢˜è§„æ¨¡ç¡®å®šå†…å¾ªçŽ¯æ ¹æ®å†…å¾ªçŽ¯æ¥ç¡®å®šæˆæœ¬æ¨¡åž‹æ ¹æ®è¾“å…¥æ¨¡åž‹ï¼Œæ¥ç¡®å®šæ“ä½œçš„é¢‘çŽ‡å’Œæ¬¡æ•° 2.5 å¢žé•¿çº§åˆ«çš„åˆ†ç±»å¸¸æ•°çº§åˆ«å¤§å¤šæ•°çš„ Java åŸºæœ¬æ“ä½œ éƒ½æ˜¯å¸¸æ•°çº§åˆ«çš„ã€‚å¯¹æ•°çº§åˆ«æ¯”å¸¸æ•°çº§åˆ«ç¨æ…¢ï¼Œä¾‹å¦‚ äºŒåˆ†æŸ¥æ‰¾çº¿æ€§çº§åˆ«å•ç‹¬çš„ for å¾ªçŽ¯çº¿æ€§å¯¹æ•°çº§åˆ«ä¾‹å¦‚å½’å¹¶æŽ’åºå’Œå¿«é€ŸæŽ’åºå¹³æ–¹çº§åˆ«ä¸¤ä¸ªåµŒå¥—çš„ for å¾ªçŽ¯ï¼Œä¾‹å¦‚é€‰æ‹©æŽ’åºï¼Œæ’å…¥æŽ’åºï¼Œå†’æ³¡æŽ’åºéƒ½æ˜¯å¹³æ–¹çº§åˆ«çš„ç«‹æ–¹çº§åˆ«ä¸‰ä¸ªåµŒå¥—çš„ for å¾ªçŽ¯æ˜¯ç«‹æ–¹çº§åˆ«çš„ï¼Œä¾‹å¦‚ 3-sum çš„æš´åŠ›è§£æ³•æŒ‡æ•°çº§åˆ«éžå¸¸æ…¢ï¼Œå°½é‡é¿å…åŽ»ä½¿ç”¨è¿™ç§çº§åˆ«çš„ç®—æ³• 2.6 è®¾è®¡æ›´å¿«çš„ç®—æ³•ä½¿ç”¨åˆ†æ²»ç­–ç•¥ä¾‹å¦‚ 3-sum é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå°è¯•è§£å†³è¾ƒä¸ºç®€å•çš„ 2-sum é—®é¢˜3-sum é—®é¢˜ï¼šå³ç»™å‡ºä¸€ä¸ªæ•°å’Œç»™å®šçš„æ•°æ®é›†åˆï¼Œåœ¨æ•°æ®é›†åˆä¸­å¯»2-sum é—®é¢˜2-sum é—®é¢˜å³ä¸ºæ‰¾åˆ°æ‰€æœ‰çš„æ•°å¯¹ï¼Œå®ƒä»¬çš„å’Œä¸º 000ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå½“ A+B=0A + B = 0A+B=0 æˆç«‹æ—¶ï¼Œè¯´æ˜Žï¼Œä¸¤ä¸ªæ•°äº’ä¸ºç›¸åæ•°ï¼Œå³ A=âˆ’BA = -BA=âˆ’Bæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡‡å– äºŒåˆ†æŸ¥æ‰¾ çš„æ–¹æ³•æ¥æŸ¥æ‰¾æ•°æ®çš„ç›¸åæ•°ï¼Œä»Žè€ŒæŸ¥æ‰¾åˆ°æ•°å¯¹ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å°†æ—¶é—´å¤æ‚åº¦ç”± å¹³æ–¹çº§åˆ«(O(N2)O(N^2)O(N2)) å‡å°‘åˆ°äº† çº¿æ€§å¯¹æ•°çº§åˆ«(O(NlogN)O(NlogN)O(NlogN))æ³¨æ„ï¼Œå¦‚æžœäºŒåˆ†æŸ¥æ‰¾è¿”å›žçš„ jjj åœ¨ 000 å’Œ iii ä¹‹é—´ï¼Œé‚£ä¹ˆè¯´æ˜Žæˆ‘ä»¬æŸ¥æ‰¾åˆ°äº†é‡å¤æ•°æ®ï¼Œï¼ˆç”±äºŽæˆ‘ä»¬æ˜¯å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡ŒéåŽ†ï¼Œæ‰€ä»¥æ•°æ®å°±ä¼šå‡ºçŽ°é‡å¤ï¼‰åº”è¯¥ä¸å¢žåŠ è®¡æ•°ã€‚3-sum é—®é¢˜å’Œ 2-sum é—®é¢˜ä¸€æ ·ï¼Œå½“ âˆ’(a[i]+a[j])-(a[i] + a[j])âˆ’(a[i]+a[j]) åœ¨æ•°ç»„ä¸­ï¼ˆä¸æ˜¯ a[i]a[i]a[i] ä¹Ÿä¸æ˜¯ a[j]a[j]a[j] ï¼‰æ—¶ï¼Œæ•´æ•°å¯¹ (a[i],a[j])(a[i], a[j])(a[i],a[j]) æ˜¯ä¸‰å…ƒç»„çš„ä¸€éƒ¨åˆ†ã€‚ç”±æ­¤ï¼Œé€šè¿‡åˆ†æ²»ç­–ç•¥å’Œä½¿ç”¨ äºŒåˆ†æŸ¥æ‰¾ï¼Œæˆ‘ä»¬å°† N3N^3N3 çº§åˆ«çš„é—®é¢˜é™ä½Žåˆ°äº† N2logNN^2logNN2logN çº§åˆ«ã€‚ 2.7 æ ¹æ®å¢žé•¿æ•°é‡çº§åšå‡ºçš„é¢„æµ‹| Describe | Function | Modulus is 2 | Modulus is 10 | Handle the 10N | Handle 10N in 10 times faster||--------|------|------|-------|-----|â€“mathjax: trueâ€”|| Linear| NNN|2|10| a day| couples of hours|| Linearrithmic|NlogNNlogNNlogN|2|10|a day | couples of hours|| Quadratic| N2N^2N2| 4| 100| a few weeks| a day|| Cubic| N3N^3N3 | 8 | 1000 | a few months | couples of weeks|| Exponential| 2N2^N2N | 2N2^N2N | 210N2^{10N}210N | forever | forever 2.8 æ³¨æ„äº‹é¡¹å¤§å¸¸æ•°ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è®¤ä¸º 2N2+cN2N^2 + cN2N2+cN æ˜¯ âˆ¼2N2\sim 2N^2âˆ¼2N2 çš„ï¼Œä½†æ˜¯å½“ ccc ä¸º 10310^3103ï¼Œæˆ–è€… 10610^6106 çš„æ—¶å€™ï¼Œè¿™ç§ä¼°è®¡æ˜¯ä¸æ­£ç¡®çš„ã€‚éžå†³å®šæ€§çš„å†…å¾ªçŽ¯ç”±äºŽé”™è¯¯çš„å†…å¾ªçŽ¯ï¼Œå¯¼è‡´äº†é”™è¯¯çš„æˆæœ¬æ¨¡åž‹ï¼Œä»Žè€Œå¯¼è‡´äº†é”™è¯¯çš„åˆ†æžç»“æžœæŒ‡ä»¤æ—¶é—´å¯¹äºŽå½“ä»Šçš„çŽ°ä»£è®¡ç®—æœºï¼Œç”±äºŽç¼“å­˜æŠ€æœ¯çš„ä½¿ç”¨ï¼Œä½¿å¾—è®¿é—®å¤§æ•°ç»„çš„éžç›¸é‚»å…ƒç´ æ‰€éœ€çš„æ—¶é—´å¯èƒ½ä¼šå¾ˆé•¿ç³»ç»Ÿå› ç´ å½“ä½ åœ¨è¿è¡Œç®—æ³•åˆ†æžç¨‹åºçš„æ—¶å€™ï¼Œå¯èƒ½ä½ çš„ç”µè„‘å¹¶ä¸åªæ˜¯åœ¨è¿è¡Œè¿™ä¸€ç¨‹åºï¼ŒåŒæ—¶è¿˜è¿è¡Œç€å…¶ä»–ç¨‹åºï¼Œè¿™æ ·çš„è¯å°±æœ‰å¯èƒ½å¯¼è‡´ç®—æ³•åˆ†æžçš„ç»“æžœçš„ä¸æ­£ç¡®ã€‚ä¸åˆ†ä¼¯ä»²æ¯”è¾ƒæ‰§è¡Œç›¸åŒä»»åŠ¡çš„ç¨‹åºæ—¶ï¼Œé€šå¸¸ä¼šå‡ºçŽ°ä¸€ä¸ªæƒ…å½¢ä¸‹è¿™ä¸ªç®—æ³•æ¯”è¾ƒå¥½ï¼Œå¦ä¸€ä¸ªæƒ…å½¢ä¸‹å¦ä¸€ä¸ªç®—æ³•æ¯”è¾ƒå¥½çš„æƒ…å†µã€‚å¯¹äºŽè¾“å…¥çš„å¼ºçƒˆä¾èµ–åœ¨ 3-sum é—®é¢˜ä¸­ï¼Œå¦‚æžœæˆ‘ä»¬å°†é—®é¢˜æ”¹æˆ æ˜¯å¦å­˜åœ¨å’Œä¸º0çš„ä¸‰ä¸ªæ•°ï¼Ÿ å¦‚æžœç¬¬ä¸€ç»„çš„ä¸‰ä¸ªæ•°éƒ½æ˜¯ 0ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸ºå¸¸æ•°çº§åˆ«ï¼Œå¦‚æžœè¾“å…¥ä¸­ä¸å­˜åœ¨è¿™æ ·çš„æ•°ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸º ç«‹æ–¹çº§åˆ«åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ TwT_wTwâ€‹ ï¼ˆæœ€åæƒ…å†µçš„æ—¶é—´å¤æ‚åº¦ï¼‰ å’Œ TavT_{av}Tavâ€‹ ï¼ˆå¹³å‡æ—¶é—´å¤æ‚åº¦ï¼‰ æ¥è¡¨ç¤ºè¿™ç§æƒ…å†µå¤šä¸ªé—®é¢˜å‚é‡æˆæœ¬æ¨¡åž‹å¹¶ä¸æ€»æ˜¯å•å› ç´ å‡½æ•°ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å¤šå› ç´ å‡½æ•°ã€‚ä¾‹å¦‚ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥è¿›è¡Œç™½åå•é—®é¢˜åˆ†æžæ—¶ï¼Œæ—¶é—´å¤æ‚åº¦å’Œ MlogNMlogNMlogN æˆæ­£æ¯”å…¶ä¸­ç™½åå•æœ‰ NNN ä¸ªæ•´æ•°ï¼Œè¾“å…¥ä¸­æœ‰ MMM ä¸ªæ•´æ•° 3. å†…å­˜æ¨¡åž‹åœ¨ Java ä¸­ï¼Œå†…å­˜çš„ä½¿ç”¨ä¸€èˆ¬ä¼šè¢«å¡«å……ä¸º 8çš„å€æ•° 3.1 å¯¹è±¡Integerä¸€å…±éœ€è¦ 24 byte16 bytes ä¸ºå¯¹è±¡æœ¬èº«çš„å¼€é”€4 bytes çš„ int å€¼å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸€èˆ¬ä¸º å†…å­˜åœ°å€ï¼Œä½¿ç”¨ 8 byte 3.2 é“¾è¡¨Node(inner class)ä¸€å…± 40 byte16 bytes ä¸ºå¯¹è±¡çš„å¼€é”€2 * 8 bytes çš„å¼•ç”¨ï¼ˆNode ä¸­æœ‰ä¸¤ä¸ªå¼•ç”¨ï¼‰å½“ä½œä¸ºå†…éƒ¨ç±»æ—¶ï¼Œéœ€è¦ä¸€ä¸ªé¢å¤–çš„æŒ‡å‘å¤–å›´ç±»çš„å¼•ç”¨æ•°æ®çš„å¼€é”€ 3.3 æ•°ç»„åœ¨ Java ä¸­ï¼Œæ•°ç»„è¢«å®žçŽ°ä¸ºäº†å¯¹è±¡æ•°ç»„24 bytes çš„å¤´ä¿¡æ¯16 bytes å¯¹è±¡å¼€é”€4 bytes å¡«è¡¥å¼€é”€ 3.4 String40 bytesObject cost, 16 bytesreference, 8 bytes3 int, 12 bytesoffsetcounterhashÎ”\DeltaÎ” The subStringå½“ä½ è°ƒç”¨ substring() æ–¹æ³•æ—¶ï¼Œ å®ƒé‡æ–°åˆ›å»ºäº† String å¯¹è±¡ï¼Œ ä½†æ˜¯å¹¶æ²¡æœ‰åˆ›å»º value[] æ•°ç»„, è¿™ä¸ªæ•°ç»„è¢«å­˜åœ¨å¸¸é‡åŒºæ‰€ä»¥ï¼ŒsubString() æ‰€éœ€çš„å†…å­˜æ˜¯ä¸€ä¸ªå¸¸é‡ 4. å±•æœ›ä¸æˆç†Ÿçš„ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºPremature optimization is the root of all evilå¦‚æžœè¿è¡Œæ—¶é—´å·²ç»è¶³å¤Ÿå¿«äº†ï¼Œé‚£ä¹ˆå¯¹è¿è¡Œæ—¶é—´çš„æ”¹è¿›å°±ä¸å€¼å¾—äº†ä¸å€¼å¾—èŠ±è´¹ 2 å€çš„å¼€å‘æ—¶é—´æ¥æé«˜ 10 % çš„æ€§èƒ½ä½†æ˜¯æˆ‘ä»¬å½“æˆ‘ä»¬å¤„ç†å¤§åž‹é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„ç¡®éœ€è¦å¥½çš„ç®—æ³•ï¼Œå¥½çš„ç®—æ³•åœ¨å¤§è§„æ¨¡é—®é¢˜ä¸­èƒ½å¸¦æ¥å·¨å¤§çš„æ”¶ç›Š]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èƒŒåŒ…ï¼Œé˜Ÿåˆ—å’Œæ ˆ]]></title>
    <url>%2F%2FAlgorithm%2F%E8%83%8C%E5%8C%85%EF%BC%8C%E9%98%9F%E5%88%97%E5%92%8C%E6%A0%88%2F</url>
    <content type="text"><![CDATA[å®ƒä»¬éƒ½æ˜¯ä¸€äº›æ•°æ®å¯¹è±¡çš„é›†åˆ 1. ç‰¹ç‚¹ 1.1 èƒŒåŒ…ä¸æ”¯æŒ åˆ é™¤å…ƒç´ ä½¿ç”¨å…¶æ¥æ”¶é›†å…ƒç´ ï¼ŒéåŽ†å’Œé€’å½’å®ƒä»¬å…ƒç´ çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ 1.2 é˜Ÿåˆ—(å…ˆè¿›å…ˆå‡º)è¿™é‡Œæ‰€è¯´çš„é˜Ÿåˆ—æŒ‡çš„æ˜¯å…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ã€‚æ•°æ®å…ƒç´ ç›¸å¯¹æ­¤é›†åˆçš„é¡ºåºæ˜¯å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—èƒ½æ”¶é›†æ•°æ®ï¼ŒåŒæ—¶ä¿æŒå®ƒä»¬çš„ç›¸å¯¹é¡ºåº 1.3 æ ˆæ­£å¥½ä¸Žé˜Ÿåˆ—ç›¸åï¼Œæ•°æ®å…ƒç´ åœ¨æ ˆä¸­æ˜¯åŽè¿›å…ˆå‡ºçš„ã€‚æ ˆä¹Ÿä¼šä¿æŒæ•°æ®å…ƒç´ çš„ç›¸å¯¹é¡ºåº 1.4 ä¾‹å­ï¼šç®—æ•°è¡¨è¾¾å¼çš„è¡¨ç¤ºæ³•ä½¿ç”¨ä¸¤ä¸ªæ ˆæ¥è¡¨è¾¾ç®—æ•°è¡¨è¾¾å¼å½“æŽ¥æ”¶åˆ°ä¸€ä¸ªç®—æ•°è¡¨è¾¾å¼çš„æ—¶å€™ï¼šå°†æ•°å€¼åŽ‹å…¥æ•°å€¼æ ˆå°†æ“ä½œç¬¦åŽ‹å…¥æ“ä½œç¬¦æ ˆå¿½ç•¥å·¦æ‹¬å·å½“é‡åˆ°å³æ‹¬å·çš„æ—¶å€™ï¼Œå¼¹å‡ºä¸€ä¸ªæ“ä½œç¬¦ï¼Œå’Œæ‰€éœ€è¦çš„æ•°å€¼ï¼Œå¹¶ä¸”å°†è®¡ç®—ç»“æžœåŽ‹å…¥æ•°å€¼æ ˆ 2. å®žçŽ° 2.1 ä½¿ç”¨æ•°ç»„å®žçŽ°æ ˆpush() æ–¹æ³•éœ€è¦æ£€æŸ¥å½“å‰æ ˆæ˜¯å¦æ˜¯æ»¡çš„ï¼Œå¦‚æžœæ»¡ï¼Œåˆ™è¿›è¡Œæ‰©å®¹resize() æ–¹æ³•ä¼šå°†å½“å‰æ•°ç»„çš„ç©ºé—´åŠ å€ï¼ˆæˆ–å‡åŠï¼‰pop() æ–¹æ³•éœ€è¦æ£€æŸ¥å½“å‰æ ˆçš„å¤§å°æ˜¯å¦å°äºŽæ•°ç»„çš„ 1/4ï¼Œå¦‚æžœæˆç«‹ï¼Œåˆ™å°†æ•°ç»„çš„ç©ºé—´å‡å°‘ä¸ºå®ƒçš„ä¸€åŠã€‚éœ€è¦é˜²æ­¢å¯¹è±¡æ¸¸ç¦»ï¼Œå½“æ•°æ®å¯¹è±¡è¢«å¼¹å‡ºåŽï¼Œå°†å…¶å£°æ˜Žä¸º nullç¼ºç‚¹æ—¶é—´å¤æ‚åº¦ä¸Žæ•°ç»„çš„å¤§å°ç›¸å…³æ‰€éœ€è¦çš„ç©ºé—´æ˜¯ä¸å¯é¢„çŸ¥çš„å¦‚æžœå½“å‰æ ˆçš„å¤§å°å°äºŽæ•°ç»„çš„ 1/4ï¼Œé‚£ä¹ˆå³ä½¿ pop() æ–¹æ³•ä½¿å…¶å‡å°‘äº†ï¼Œå®ƒä»ç„¶æ¯”å½“å‰æ ˆçš„å¤§å°è¿˜è¦å¤§ä¸€å€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¾æ—§æœ‰ç©ºé—´å‚¨å­˜æ•°æ®ï¼Œä¸ºäº†é˜²æ­¢ç©ºé—´çš„æµªè´¹ï¼Œå°†æ•°ç»„çš„ç©ºé—´å‡å°‘ã€‚å½“ä¸€ä¸ªæ•°æ®å¯¹è±¡è¢«å¼¹å‡ºæ ˆåŽï¼Œå®ƒå°±å†ä¹Ÿä¸ä¼šè¢«æ ˆä½¿ç”¨äº†ï¼Œä½†æ˜¯æ•°æ®çš„å¼•ç”¨ä¾æ—§å­˜åœ¨ï¼Œæ‰€ä»¥ Java ä¸ä¼šå°†è¿™å—å†…å­˜å›žæ”¶ã€‚è¿™ç§æƒ…å†µå°±è¢«å«åšå¯¹è±¡æ¸¸ç¦» 2.2 é“¾è¡¨é“¾è¡¨æ˜¯ä¸€ä¸ªé€’å½’çš„æ•°æ®ç»“æžœï¼Œå®ƒå¯ä»¥æ˜¯ç©ºï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼›è¿™ä¸ªèŠ‚ç‚¹å‚¨å­˜ä¸€ä¸ªæ•°æ®å…ƒç´ å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æˆ–åˆ—è¡¨çš„å¼•ç”¨ï¼›Nodeï¼ˆèŠ‚ç‚¹ï¼‰ç±»ç»å¸¸è¢«ç”¨äºŽå†…éƒ¨ç±»ã€‚ 2.2.1 åˆ›å»º12345private class Node&#123; Item item; Node next;&#125;åªè¦å£°æ˜Žä¸€ä¸ª Node å˜é‡ï¼Œæˆ‘ä»¬å°±èƒ½è¡¨ç¤ºä¸€ä¸ªé“¾è¡¨å› ä¸º Node è¢«ç”¨ä½œå†…éƒ¨ç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½ç›´æŽ¥åœ°å£°æ˜Žå…¶æˆå‘˜ã€‚123456789101112Node first = new Node();Node second = new Node();Node thrid = new Node();//Itemsfirst.item = "to";second.item = "be";thrid.item = "or";//Nextsfirst.next = second;second.next = thrid; 2.2.2 åœ¨å¤´éƒ¨æ’å…¥ä½¿ç”¨å¦ä¸€ä¸ªå¼•ç”¨ï¼ˆä¾‹å¦‚ oldfirstï¼‰ æ¥å‚¨å­˜å¤´ç»“ç‚¹ï¼Œç„¶åŽå»ºç«‹æ–°èŠ‚ç‚¹æ¥å‚¨å­˜æ•°æ®ï¼Œç„¶åŽå°† next æŒ‡å‘å¤´ç»“ç‚¹ 2.2.3 ä»Žå¤´éƒ¨åˆ é™¤å°†å¤´æŒ‡é’ˆfirstç›´æŽ¥æŒ‡å‘ first.next å³å¯Java çš„ garbage collector ä¼šå°†å†…å­˜å›žæ”¶ã€‚ 2.2.4 åœ¨å°¾éƒ¨æ’å…¥å°±åƒåœ¨å¤´éƒ¨æ’å…¥ä¸€æ ·ï¼Œç”¨ä¸€ä¸ªå¦å¤–çš„å¼•ç”¨ oldlast æ¥ä¿å­˜å°¾éƒ¨èŠ‚ç‚¹ï¼Œç„¶åŽå»ºç«‹ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹æ¥å‚¨å­˜æ•°æ®ï¼Œç„¶åŽå°† oldlast.next å£°æ˜Žä¸º lastæ³¨æ„ï¼Œå¯¹äºŽå•é“¾è¡¨ï¼Œå°¾éƒ¨èŠ‚ç‚¹çš„å¼•ç”¨å¯èƒ½è¦é€šè¿‡ä»Žå¤´ç»“ç‚¹çš„å±‚å±‚éåŽ†æ‰èƒ½å–åˆ°ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸€èˆ¬ä»…ä½¿ç”¨å¤´èŠ‚ç‚¹æ¥ä½œä¸ºä¸»è¦çš„æ“ä½œèŠ‚ç‚¹ã€‚ 2.2.5 åœ¨å…¶ä»–åœ°æ–¹æ’å…¥å’Œåˆ é™¤è¿›è¡Œè¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬å¿…é¡»è¦æ‹¿åˆ°æ‰€éœ€è¦æ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯æ¥è¾…åŠ©æˆ‘ä»¬çš„æ’å…¥åˆ é™¤æ“ä½œï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦éåŽ† é“¾è¡¨æ¥å–å¾—æŒ‡å®šæ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªä½ç½®ã€‚ 2.2.6 éåŽ†ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ foreach è¯­å¥æ¥è¿›è¡ŒéåŽ†æ“ä½œã€‚ä½¿ç”¨è¿™ä¸ªè¯­å¥çš„ç±»å¿…é¡»è¦å®žçŽ° Iterable å’Œ Iterator æŽ¥å£æ¥è¿”å›žä¸€ä¸ªè¿­ä»£å™¨å’Œå®šä¹‰è¿­ä»£æ–¹æ³•ã€‚ä½†æ˜¯å¯¹äºŽé“¾è¡¨è¿™ç§ç®€å•ç»“æž„æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ä¸€èˆ¬çš„ for è¯­å¥å³å¯ã€‚123for(Node x = first; x != null; x = x.next) &#123; //handle x.item&#125; 3. é“¾è¡¨çš„ä½¿ç”¨ä½¿ç”¨é“¾è¡¨å¯ä»¥ï¼šå¤„ç†ä»»ä½•æ•°æ®éœ€æ±‚çš„ç©ºé—´ä»…ä»…å’Œé›†åˆçš„å¤§å°æˆæ­£æ¯”æ—¶é—´å¤æ‚åº¦å’Œé›†åˆçš„å¤§å°æ— å…³é“¾è¡¨çš„æ’å…¥å’Œåˆ é™¤æ“ä½œä»…ä»…æ˜¯å˜é‡çš„èµ‹å€¼ï¼Œä»¥åŠå¯¹è±¡çš„æž„å»ºï¼Œå®ƒä»¬çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯å¸¸æ•°çº§åˆ« çš„ 3.1 å®žçŽ°æ ˆå°†é“¾è¡¨çš„å¤´éƒ¨è®¾å®šä¸ºæ ˆé¡¶å½“åŽ‹å…¥æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨å¤´éƒ¨æ’å…¥æ•°æ®å…ƒç´ å½“å¼¹å‡ºæ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨å¤´éƒ¨åˆ é™¤æ•°æ®å…ƒç´ é€‰æ‹©é“¾è¡¨å¤´éƒ¨è€Œä¸æ˜¯å°¾éƒ¨è¿›è¡Œæ“ä½œçš„åŽŸå› ï¼šé“¾è¡¨çš„æ’å…¥å’Œåˆ é™¤æ“ä½œéƒ½æ˜¯åœ¨ä¸€ç«¯è¿›è¡Œçš„ï¼›é“¾è¡¨çš„å°¾éƒ¨å…ƒç´ ä¸€èˆ¬ä¸å¥½èŽ·å–ï¼Œç‰¹åˆ«æ˜¯å¯¹äºŽå•é“¾è¡¨è€Œè¨€ï¼Œå¦‚æžœé‡‡ç”¨å°¾éƒ¨ä½œä¸ºæ ˆé¡¶ï¼Œé‚£ä¹ˆå½“åˆ é™¤æ ˆé¡¶å…ƒç´ ä¹‹åŽï¼Œæˆ‘ä»¬æ— æ³•å¾ˆå¿«çš„èŽ·å–æ–°çš„æ ˆé¡¶å…ƒç´ çš„å¼•ç”¨ï¼ˆå› ä¸ºè¦ä»Žå¤´éƒ¨è¿›è¡ŒéåŽ†ï¼Œæˆ–è€…ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆï¼Œè¿™éƒ½æ˜¯ä¸å¿…è¦çš„ï¼‰ï¼›è€Œé‡‡ç”¨å¤´éƒ¨ä½œä¸ºæ ˆçš„é¡¶éƒ¨ï¼Œä»…ä»…éœ€è¦ä¸€å¥å£°æ˜Žè¯­å¥ newTop = top.next; å³å¯èŽ·å–åˆ°æ–°çš„æ ˆé¡¶å…ƒç´ ã€‚ 3.2 å®žçŽ°é˜Ÿåˆ—è®¾å®šé“¾è¡¨çš„å¤´éƒ¨ä¸ºé˜Ÿåˆ—çš„å¤´éƒ¨ï¼Œé“¾è¡¨çš„å°¾éƒ¨ä¸ºé˜Ÿåˆ—çš„å°¾éƒ¨ã€‚å½“æ’å…¥å…ƒç´ æ—¶ï¼Œåœ¨å°¾éƒ¨æ’å…¥æ•°æ®ã€‚å½“åˆ é™¤å…ƒç´ æ—¶ï¼Œåœ¨å¤´éƒ¨åˆ é™¤æ•°æ®ã€‚ç”±äºŽé˜Ÿåˆ—æ’å…¥å’Œåˆ é™¤çš„ä½ç½®ä¸åŒï¼Œåœ¨å°¾éƒ¨åˆ é™¤å…ƒç´ å¾ˆéº»çƒ¦ï¼Œä½†æ˜¯ç›¸åº”çš„æ’å…¥æ“ä½œå´å˜å¾—ååˆ†ç®€å•ï¼Œä»…éœ€è¦æ”¹å˜å…¶ next åŸŸå³å¯ï¼Œè€Œä¸æ˜¯ç±»ä¼¼åˆ é™¤æ“ä½œè¿˜è¦è¿”å›žå‰ä¸€ä¸ªæ•°æ®çš„å¼•ç”¨ã€‚ 3.3 èƒŒåŒ…çš„å®žçŽ°å°†æ ˆæˆ–é˜Ÿåˆ—çš„ pop() æ“ä½œåŽ»æŽ‰ï¼Œå°±æ˜¯ä¸€ä¸ªèƒŒåŒ…ç»“æž„ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Head æ ‡ç­¾å†…å®¹]]></title>
    <url>%2F%2FHTML%2FHead%20%E6%A0%87%E7%AD%BE%E5%86%85%E5%AE%B9%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°&lt;head&gt; æ ‡ç­¾ä¸­ä¿å­˜çš„æ˜¯ç½‘é¡µçš„ å…ƒæ•°æ® å†…å®¹ï¼Œä¸ä¼šåœ¨é¡µé¢ä¸Šå±•ç¤ºï¼›ä¸‹é¢ç®€å•ä»‹ç»å‡ ä¸ª &lt;head&gt; æ ‡ç­¾ä¸­æ¯”è¾ƒé‡è¦çš„å­æ ‡ç­¾ã€‚ 2. &lt;title&gt; æ ‡ç­¾è¿™ä¸ªæ ‡ç­¾ä¿å­˜ç€ç½‘é¡µçš„æ ‡é¢˜å†…å®¹ï¼Œä¸€èˆ¬æ˜¯ç½‘é¡µçš„åå­—ï¼›ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„æ ‡é¢˜æ ï¼Œåœ¨æ”¶è—ç½‘é¡µçš„æ—¶å€™ä½œä¸ºé»˜è®¤åå­—è¿›è¡Œå­˜å‚¨ã€‚&lt;title&gt; æ ‡ç­¾è¿˜å¯ä»¥ç”¨äºŽ SEOï¼Œæå‡æœç´¢æŽ’å 3. &lt;meta&gt; æ ‡ç­¾è¿™æ˜¯ &lt;head&gt; ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªå­æ ‡ç­¾å†…å®¹ï¼ŒåŒ…å«äº†ç½‘ç«™çš„å…ƒæ•°æ®ï¼Œå…¶ä¸­ä¸»è¦åŒ…æ‹¬ï¼šcharset ç¼–ç ï¼Œå¯ä»¥ç”¨ &lt;meta&gt; çš„ charset å±žæ€§æ¥æŒ‡å®š1&lt;meta charset="utf-8"&gt;é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œå¯ä»¥ç¡¬æŒ‡å®šç½‘ç«™ä½¿ç”¨çš„ç¼–ç ï¼Œå¦‚æžœæµè§ˆå™¨å¼ºåˆ¶ä½¿ç”¨çš„ç¼–ç ä¸æ­£ç¡®ï¼Œåˆ™å¯èƒ½æ— æ³•æ­£ç¡®æ¸²æŸ“ç½‘é¡µã€‚å…ƒæ•°æ®ä¿¡æ¯ï¼Œé€šè¿‡ name å’Œ description å±žæ€§æ¥æè¿°name æè¿°çš„æ˜¯å…ƒæ•°æ®çš„åå­—ï¼Œdescription å±žæ€§æ‰æ˜¯çœŸæ­£çš„å…ƒæ•°æ®å†…å®¹ã€‚å¯ä»¥ä½¿ç”¨å…ƒæ•°æ®å†…å®¹ä¸ºç½‘ç«™è¿›è¡Œ SEOï¼Œæˆ–è€…æä¾›ç½‘ç«™ç»´æŠ¤è€…çš„ä¿¡æ¯ã€‚ç‰¹æ®Šçš„å…ƒæ•°æ®å¯ä»¥é€šè¿‡ä¸€äº›ç‰¹åˆ«çš„å…ƒæ•°æ®æè¿°æ¥å¯¹ç‰¹å®šçš„ç½‘ç«™é“¾æŽ¥è¿›è¡Œå¯Œæ–‡æœ¬ä¼˜åŒ–ã€‚å¦‚å¯ä»¥ä½¿ç”¨ og å‰ç¼€ï¼Œè®©ç½‘ç«™åœ¨ Facebook çš„é“¾æŽ¥è¿›è¡Œå¯Œæ–‡æœ¬åŒ–ï¼Œæ˜¾ç¤ºç½‘ç«™ logo å’Œå†…å®¹ã€‚ 4. &lt;link&gt; æ ‡ç­¾&lt;link&gt; æ ‡ç­¾ä¸»è¦æœ‰ä»¥ä¸‹çš„ä½œç”¨ï¼šç”¨äºŽè¡¨ç¤ºç½‘ç«™ logoå¯ä»¥ä½¿ç”¨ rel å±žæ€§æŒ‡å®šä¸º iconï¼Œç„¶åŽä½¿ç”¨ herf é“¾æŽ¥åˆ°å›¾ç‰‡ç”¨äºŽé“¾æŽ¥å¤–éƒ¨ CSSå±žäºŽæœ€å¸¸ç”¨åŠŸèƒ½ï¼Œé€šè¿‡ rel=&quot;stylesheet&quot; å’Œ herf æ¥æŒ‡å®šéœ€è¦é“¾æŽ¥çš„å¤–éƒ¨ CSS è¡¨ 5. &lt;script&gt; æ ‡ç­¾ç”¨äºŽæŒ‡å®šé¡µé¢ä½¿ç”¨çš„ JS å†…å®¹å¯ä»¥ç›´æŽ¥åŒ…å« js æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ src å±žæ€§æ¥æŒ‡å®šå¤–éƒ¨ .js æ–‡ä»¶ 6. æŒ‡å®šè¯­è¨€è¿™è™½ç„¶ä¸æ˜¯ &lt;head&gt; æ ‡ç­¾çš„å†…å®¹ï¼Œä½†æ˜¯è¯­è¨€ä½œä¸ºç½‘é¡µå…ƒæ•°æ®çš„ä¸€ç§ï¼Œæœ‰å¿…è¦åœ¨è¿™é‡Œè¯´æ˜Žã€‚å¯ä»¥é€šè¿‡ç»™ä»»ä½•çš„æ ‡ç­¾æ·»åŠ  lang å±žæ€§æ¥è®¾ç½®è¯­è¨€ï¼Œå¦‚æžœè¦ç»™æ•´ä¸ªé¡µé¢æŒ‡å®šè¯­è¨€ï¼Œåˆ™åœ¨ &lt;html&gt; æ ‡ç­¾ä¸­æ·»åŠ  lang å±žæ€§å³å¯ã€‚1&lt;html lang="zh_CN"&gt;]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç½‘ç»œè€ƒè¯•é€Ÿè®°]]></title>
    <url>%2F%2FReviews%2FComputerNetwork%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%80%83%E8%AF%95%E9%80%9F%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[1. OSI å‚è€ƒæ¨¡åž‹ä»Žä½Žåˆ°é«˜ï¼šç‰©ç†å±‚é€šä¿¡ä¿¡é“çš„åŽŸå§‹ æ¯”ç‰¹ï¼Œæœºæ¢°ã€ç”µå­ã€æ—¶åºã€ç‰©ç†ä»‹è´¨æ•°æ®é“¾è·¯å±‚æ•°æ®å¸§ï¼ŒæŽ§åˆ¶å¯¹å…±äº«ä¿¡é“çš„è®¿é—®ï¼ˆä»‹è´¨è®¿é—®æŽ§åˆ¶å­å±‚ï¼‰ç½‘ç»œå±‚æŽ§åˆ¶å­ç½‘çš„è¿è¡Œï¼Œæ•°æ®åŒ…çš„ç«¯åˆ°ç«¯ä¼ è¾“ï¼Œè·¯ç”±ç®—æ³•ï¼Œå¤„ç†æ‹¥å¡žä¼ è¾“å±‚å‘ä¼šè¯å±‚æä¾›æœåŠ¡ï¼Œä¸ºåº”ç”¨å±‚æä¾›æŠ½è±¡ï¼Œä¸Žç½‘ç»œå±‚ä¸€èµ·å¤„ç†æ‹¥å¡žä¼šè¯å±‚ä»¤ç‰Œç®¡ç†ï¼ŒåŒæ­¥ï¼Œå´©æºƒæ¢å¤è¡¨ç¤ºå±‚ä¼ é€’ä¿¡æ¯çš„è¯­æ³•å’Œè¯­ä¹‰ï¼Œç»Ÿä¸€ä¸åŒè®¡ç®—æœºçš„æ•°æ®æ ¼å¼å¹¶æä¾›æŠ½è±¡æŽ¥å£ã€‚åº”ç”¨å±‚OSI æœ€é¡¶å±‚ï¼Œé€šå¸¸åŒ…å«ç”¨æˆ·éœ€è¦çš„å„ç§åè®®ï¼Œå¦‚ HTTP 2. TCP/IP å‚è€ƒæ¨¡åž‹é“¾è·¯å±‚å®žé™…ä¸Šæ˜¯ä¸€ä¸ªæŽ¥å£ï¼Œè€Œä¸æ˜¯å±‚äº’è”ç½‘å±‚å¤§è‡´å¯¹åº” OSI ç½‘ç»œå±‚ä¼ è¾“å±‚OSI ä¸­çš„ä¼ è¾“å±‚åº”ç”¨å±‚TCP/IP ä¸­æ²¡æœ‰ä¼šè¯å±‚å’Œè¡¨ç¤ºå±‚ï¼Œåº”ç”¨å±‚å°†å…¶æ•´åˆäº†ã€‚ä¸Ž OSI çš„å¯¹æ¯”OSITCP/IPåº”ç”¨å±‚åº”ç”¨å±‚è¡¨ç¤ºå±‚ ä¼šè¯å±‚ ä¼ è¾“å±‚ä¼ è¾“å±‚ç½‘ç»œå±‚äº’è”ç½‘å±‚æ•°æ®é“¾è·¯å±‚ ç‰©ç†å±‚ OSI å…ˆæœ‰å±‚çº§ï¼ŒåŽæœ‰åè®®ï¼›TCP/IP å…ˆæœ‰åè®®ï¼ŒåŽæœ‰å±‚çº§ 3. ä¿¡æ¯ä¼ è¾“ä»‹è´¨ç£ä»‹è´¨ä½Žæˆæœ¬ï¼ŒçŸ­é€”è¿è¾“é€ŸçŽ‡é«˜ï¼Œå»¶è¿Ÿé«˜åŒç»žçº¿å³å¸¸ç”¨çš„ç½‘çº¿ã€‚ä½Žå™ªå£°ï¼Œä½Žå»¶è¿Ÿï¼Œæ‹¥æœ‰è¶³å¤Ÿçš„å¸¦å®½ï¼Œæ˜¯ç›®å‰åº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¿¡æ¯ä¼ è¾“ä»‹è´¨åŒè½´ç”µç¼†å¸¦å®½æ¯”åŒç»žçº¿å¤§ï¼ŒæŠ—å™ªæ€§è¾ƒå¥½ï¼Œä¸»è¦ç”¨äºŽ é•¿è·ç¦»ä¿¡æ¯è¿è¾“ç”µåŠ›çº¿å¸ƒç½®æ–¹ä¾¿ï¼›ä½†ç”µæºä¿¡å·ä¸“ç”¨ï¼Œé¢‘çŽ‡ä¸ç¬¦ï¼Œç›®å‰åº”ç”¨ä½Žå…‰çº¤è¶…é«˜å¸¦å®½ï¼Œä¸»è¦ç”¨äºŽé•¿è·ç¦»é€šä¿¡å…‰çº¤ç›¸å¯¹äºŽé“œçº¿ï¼Œå…·æœ‰é«˜å¸¦å®½ï¼Œä½Žè¡°å‡ï¼Œé‡é‡è½»ï¼Œéƒ¨ç½²éš¾ï¼ŒæŽ¥å£è´¹ç”¨é«˜ çš„ç‰¹ç‚¹ 4. å¤šè·¯å¤ç”¨é¢‘åˆ†å¤ç”¨å°†é¢‘è°±åˆ†ä¸ºå‡ ä¸ªé¢‘æ®µï¼Œæ¯ä¸ªç”¨æˆ· å®Œå…¨æ‹¥æœ‰ å…¶ä¸­ä¸€ä¸ªé¢‘æ®µè¿›è¡Œé€šä¿¡ã€‚OFDM å·²ç»å¹¿æ³›åº”ç”¨äºŽ 802.11ã€æœ‰çº¿ç”µè§†ç½‘ç»œå’Œç”µåŠ›çº¿ç½‘ç»œæ—¶åˆ†å¤ç”¨ç”¨æˆ·ä»¥å¾ªçŽ¯çš„æ–¹å¼è½®æµå·¥ä½œï¼Œå‘¨æœŸæ€§åœ°èŽ·å¾— æ•´ä¸ªå¸¦å®½ éžå¸¸çŸ­çš„ä¸€ä¸ªæ—¶é—´TDM å¹¿æ³›ç”¨äºŽç”µè¯ç½‘ç»œå’Œèœ‚çªç½‘ç»œä¸­ç åˆ†å¤ç”¨é€šè¿‡ç ç‰‡æ¥æå–å åŠ ä¿¡å·ä¸­çš„ä¿¡æ¯ã€‚é€šè¿‡ä¸åŒçš„ç ç‰‡åºåˆ—æ¥æå–å¯¹åº”çš„ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä»–çš„ä¿¡æ¯éƒ½å½“åšå™ªå£°CDMA è¢«ç”¨äºŽå«æ˜Ÿé€šä¿¡å’Œèœ‚çªç½‘ç»œä»¥åŠæœ‰çº¿ç”µè§†ç½‘ç»œ 5. æ•°æ®é“¾è·¯å±‚æ•°æ®é“¾è·¯å±‚æ“ä½œçš„å¯¹è±¡æ˜¯æ•°æ®å¸§ï¼Œå‘ç½‘ç»œå±‚æä¾›æœåŠ¡ï¼Œè¿›è¡Œå·®é”™æŽ§åˆ¶å’Œæµé‡æŽ§åˆ¶ã€‚ 5.1 åˆ†å¸§å­—èŠ‚é•¿åº¦é€šè¿‡è®¡ç®—å­—èŠ‚é•¿åº¦æ¥åˆ†å¸§ä¸å‡†ç¡®ï¼Œå¾ˆå°‘ä½¿ç”¨å¡«å……å­—èŠ‚æ ‡å¿—å¸§å˜é•¿æŸäº›æƒ…å†µä¼šå¹²æ‰°å¸§åˆ†ç•Œå¡«å……æ¯”ç‰¹ç¡®ä¿æœ€å°è½¬æ¢å¯†åº¦ï¼Œæœ‰åŠ©äºŽç‰©ç†å±‚ä¿æŒåŒæ­¥USB ä½¿ç”¨è¯¥æŠ€æœ¯ç‰©ç†å±‚ç¼–ç è¿ç¦æ³•é€šè¿‡ä½¿ç”¨ä¸€äº›ç‰©ç†å±‚çš„è¿æ³•ç¼–ç æˆ–è€…å†—ä½™å­—èŠ‚æ¥è¿›è¡Œåˆ†å¸§ä¸éœ€è¦å¡«å……æ•°æ®802.11 å’Œä»¥å¤ªç½‘ç»¼åˆä½¿ç”¨äº†ä¸Šè¿°æ–¹æ³•ï¼ˆä¸åŒ…æ‹¬å­—èŠ‚é•¿åº¦ï¼‰ 5.2 å·®é”™æ£€æµ‹å’Œä¿®æ­£ 5.2.1 çº é”™ç â€”â€”ä¸å¯é ä¿¡é“(WIFI)æµ·æ˜Žç çº é”™å­˜å‚¨å™¨æ£€æµ‹ ddd ä¸ªé”™è¯¯ï¼Œéœ€è¦è·ç¦»ä¸º d+1d + 1d+1 çš„ç¼–ç æ–¹æ¡ˆå·ç§¯ç GSM ä½¿ç”¨é‡Œå¾·ç½—é—¨ç çº é”™èƒ½åŠ›å¼ºï¼Œå¤„ç†çªå‘é”™è¯¯èƒ½åŠ›å¼ºåº”ç”¨äºŽå…‰ç›˜ï¼Œå«æ˜Ÿé€šä¿¡ä½Žå¯†åº¦å¥‡å¶æ ¡éªŒçº é”™æ€§èƒ½æœ€ä½³ä½¿ç”¨äºŽ 802.11ï¼Œæ•°å­—å¹¿æ’­ï¼Œä¸‡å…†ä»¥å¤ª 5.2.2 æ£€é”™ç â€”â€”å¯é ä¿¡é“(å…‰çº¤)å¥‡å¶æ ¡éªŒåªèƒ½æ£€æŸ¥ä¸€å¤„é”™è¯¯æ ¡éªŒå’Œ16 ä½å­—èŠ‚å’Œï¼Œå¯ä»¥æ£€éªŒå¥‡å¶æ ¡éªŒæ£€æŸ¥ä¸å‡ºçš„é”™è¯¯å¾ªçŽ¯å†—ä½™æ£€éªŒå¤šé¡¹å¼æ£€éªŒæœ€å¯é ï¼Œä½¿ç”¨æœ€å¹¿æ³›ä½¿ç”¨äºŽå±€åŸŸç½‘å’Œç‚¹åˆ°ç‚¹è¿žæŽ¥ 5.3 å›žé€€ N æ­¥ä¸Žé€‰æ‹©é‡ä¼ åœç­‰åè®®ç›´åˆ°æŽ¥æ”¶åˆ°ç¡®è®¤åŽæ‰å‘ä¸‹ä¸€å¸§å›žé€€ N æ­¥ä¸éœ€è¦ç­‰åˆ°å›žæŠ¥æ‰å‘ä¸‹ä¸€å¸§ï¼›è€Œæ˜¯ç›´æŽ¥å‘ www å¸§ï¼›å¦‚æžœ www ä¸ªå¸§éƒ½æ²¡æœ‰å›žæŠ¥ï¼Œåˆ™å µå¡žã€‚å‡ºé”™æ—¶ï¼Œç›´æŽ¥ä¸¢å¼ƒï¼Œå‘é€æ–¹å›žé€€ï¼Œé‡æ–°å‘é€é”™è¯¯ä¹‹åŽçš„å¸§ã€‚é”™è¯¯å¤šæ—¶ï¼Œå½±å“å¸¦å®½é€‰æ‹©é‡ä¼ ç›¸æ¯”å›žé€€ N æ­¥ï¼Œä¸æ˜¯ç”±å‘é€æ–¹å›žé€€ N ä¸ªçª—å£åŽé‡å‘ï¼›è€Œæ˜¯ç”±æŽ¥æ”¶æ–¹ç¼“å­˜æŽ¥ä¸‹æ¥çš„å¸§ï¼Œç›´åˆ°é”™è¯¯å¸§é‡å‘åŽï¼Œè¿›è¡Œåˆå¹¶ã€‚ä¸¤è€…çš„æµé‡æŽ§åˆ¶é€šè¿‡æ»‘åŠ¨çª—å£æ¥è¿›è¡Œæµé‡æŽ§åˆ¶ã€‚åªæœ‰æŽ¥æ”¶æ–¹çš„çª—å£æ»‘åŠ¨æ—¶ï¼ˆå›žæŠ¥ï¼‰ï¼Œå‘é€æ–¹çš„çª—å£æ‰èƒ½æ»‘åŠ¨å›žæŠ¥æ²¡æœ‰æ‹¿åˆ°ï¼Œåˆ™å‘é€æ–¹çš„çª—å£é˜»å¡žï¼Œå¦‚æžœè¶…æ—¶ï¼Œåˆ™å°è¯•é‡å‘ 6. MAC å­å±‚MACï¼š Medium Access Controlï¼Œä»‹è´¨è®¿é—®æŽ§åˆ¶å­å±‚ç”¨é€”ï¼š ç”¨äºŽç¡®å®šå¤šé“è®¿é—®ä¸­çš„ä¸‹ä¸€ä¸ªä½¿ç”¨è€…ä½¿ç”¨åŽŸå› å¤šä¸ªç½‘ç»œä½¿ç”¨è€…äº¤æµæ— åºä¼šå¯¼è‡´æ··ä¹±å’Œä¿¡é“æ‹¥å¡žï¼Œä¸ºäº†ç¡®å®šæ¶ˆæ¯å‘é€å’Œä¼ è¾“æµ‹åºï¼Œä¿è¯ä¿¡é“ç•…é€šã€‚ 6.1 ä¿¡é“åˆ†é…é™æ€åˆ†é…ç”¨æˆ·å›ºå®šä¸€ä¸ªä¿¡é“æ— æ³•è§£å†³çªå‘æµé‡é—®é¢˜åŠ¨æ€åˆ†é…å‡è®¾å•ä¿¡é“æ˜¯æ ¸å¿ƒï¼›å†²çªå¯è§‚å¯Ÿæ˜¯æœ€åŸºæœ¬çš„çš„å‡è®¾ 6.2 å¤šè·¯è®¿é—®åè®® 6.2.1 ALOHA 6.2.1.1 çº¯ ALOHAå‘é€ä¸å—é™åˆ¶å†²çªçš„å¸§å°†æŸåç­‰å¾…éšæœºæ—¶é—´åŽé‡å‘æœ€å¥½çš„ä¿¡é“åˆ©ç”¨çŽ‡ä¸º 18% 6.2.1.2 åˆ†æ§½ ALOHAç”¨æˆ·åªèƒ½åœ¨ä¸‹ä¸€ä¸ªæ—¶é—´æ§½çš„å¼€å§‹æ—¶åˆ»å‘é€å¸§å³å¸§çš„å‘é€å¿…é¡»ç­‰å¾…æ—¶é—´æ§½åˆ©ç”¨çŽ‡ï¼š 37% ç©ºæ§½ï¼Œ37% æˆåŠŸï¼Œ 26% å†²çª 6.2.2 è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ç§°ä¸º CSMA åè®®ã€‚CSMAï¼š Carrier Sense Protocol 6.2.2.1 åšæŒå’ŒéžåšæŒ1-åšæŒä¾¦å¬ä¿¡é“ï¼Œç›´åˆ°ä¿¡é“ç©ºé—²å†²çªå‘ç”Ÿï¼Œç­‰å¾…éšæœºæ—¶é—´åŽé‡å‘å†²çªçš„å‘ç”Ÿæ¦‚çŽ‡å’Œä¿¡é“å¸¦å®½å»¶è¿Ÿç§¯æœ‰å…³éžåšæŒä¾¦å¬ä¿¡é“ï¼Œå¦‚æžœä¿¡é“å¿™ï¼Œéšæœºç­‰å¾…å…¶ä½™ä¸Ž 1-åšæŒ ç›¸åŒ 6.2.2.2 å¸¦å†²çªæ£€æµ‹çš„ CSMAç§°ä¸º CSMA/CD ï¼ˆCSMA with Collision Detectionï¼‰å†²çªæ£€æµ‹ï¼šä¼ è¾“æ—¶ ä¾¦å¬ä¿¡é“ï¼Œå¦‚æžœè¯»å›žçš„ä¿¡å·ä¸åŒäºŽå…¶å‘å‡ºçš„ä¿¡å·ç‰¹å¾ï¼Œåˆ™å‘ç”Ÿäº†å†²çªã€‚ä¸Žæ™®é€š CSMA çš„ä¸åŒï¼šCSMA/CD ä¼šåœ¨æ£€æµ‹åˆ°å†²çªåŽï¼Œç«‹å³åœæ­¢å¸§çš„å‘é€ï¼›è€Œæ™®é€šçš„ CSMA ä¸ä¼š 6.2.3 æ— å†²çªåè®®ä½å›¾åè®®é€šè¿‡åœ¨ç«žäº‰æ§½ä¸­çš„å¯¹åº”æ§½æ’å…¥ä½æ¥å‘ç½‘ç»œä¸­å¹¿æ’­ç«™çš„å‘å¸§æ„æ„¿é«˜åºå·çš„ç«™æ¯”ä½Žåºå·çš„ç«™å¹³å‡ç­‰å¾…æ—¶é—´è¦çŸ­ä»¤ç‰Œåè®®ä»¤ç‰Œçš„æ‹¥æœ‰è€…å…·æœ‰å‘å¸§æƒé™å‘å¸§ä¸Žå¦ï¼Œéƒ½å¿…é¡»å°†ä»¤ç‰Œä¼ åˆ°ä¸‹ä¸€ç«™ä¸å­˜åœ¨é«˜åºå·ç«™å’Œä½Žåºå·ç«™çš„å·®åˆ«äºŒè¿›åˆ¶å€’è®¡æ•°é€šè¿‡é€»è¾‘æˆ–æ¥å¾—åˆ°ä½æ—¶é—´ç«™é€šè¿‡æ£€æµ‹ä½æ—¶é—´å’Œåœ°å€å¯¹åº”ä½çš„ç›¸åŒä¸Žå¦ï¼Œæ¥ç¡®å®šæ˜¯å¦èŽ·å–ä¿¡é“ 6.2.4 æœ‰é™ç«žäº‰åè®®ä½Žè´Ÿè½½ä¸‹ï¼Œç«žäº‰æœ‰åˆ©äºŽæé«˜å»¶è¿Ÿï¼›é«˜è´Ÿè½½ä¸‹ï¼Œé‡‡ç”¨æ— å†²çªæŠ€æœ¯èƒ½èŽ·å–æ›´å¥½çš„ä¿¡é“æ•ˆçŽ‡ã€‚é€šè¿‡ç»™æŸäº›ç«™èµ‹äºˆæ›´é«˜çš„æˆåŠŸèŽ·å–ä¿¡é“çš„æ¦‚çŽ‡ï¼Œæˆ–è€…å¢žå‡æ—¶é—´æ§½å†…çš„ç«™æ•°é‡æ¥å®žçŽ°ã€‚ 6.2.5 æ— çº¿å±€åŸŸç½‘å†²çªé—®é¢˜ç”±äºŽæ— çº¿è¦†ç›–èŒƒå›´çš„å·®åˆ«ï¼Œç«™åœ¨å¼€å§‹ä¼ é€æ—¶ï¼Œæ— æ³•çŸ¥é“æŽ¥æ”¶æ–¹æ˜¯å¦æœ‰æ— çº¿ç”µæ´»åŠ¨ã€‚éšè—ç»ˆç«¯é—®é¢˜ç”±äºŽç«žäº‰è€…ç¦»å¾—å¤ªè¿œï¼Œæ— æ³•æ£€æµ‹åˆ°æ½œåœ¨çš„ç«žäº‰è€…æš´éœ²ç»ˆç«¯é—®é¢˜å‘é€æ–¹ç›¸è·å¤ªè¿‘ï¼Œè€ŒæŽ¥æ”¶æ–¹ä¸åœ¨å±é™©èŒƒå›´å†…ï¼Œå¯¼è‡´ä¿¡é“çš„æµªè´¹è§£å†³åŠžæ³•ç§°ä¸º MACA ï¼ˆMultiple Access with Collision Avoidanceï¼‰ å†²çªé¿å…å¤šè·¯è®¿é—®ã€‚ 6.2.6 å†²çªé¿å…å¤šè·¯è®¿é—®å‘é€æ–¹åœ¨å‘é€å¸§ä¹‹å‰ï¼Œå…ˆå‘é€ä¸€ä¸ª RTS çŸ­å¸§ï¼›æŽ¥æ”¶æ–¹å›žæŠ¥ä¸€ä¸ª CTS çŸ­å¸§ã€‚å…¶ä»–ç«™æ£€æµ‹åˆ°è¿™ä¸¤ä¸ªå¸§ï¼Œä¿æŒé™é»˜ã€‚RTSï¼š Request To SendCTS: Clear To Send 6.3 ä»¥å¤ªç½‘ 6.3.1 MAC åè®®MAC åœ°å€æœ‰ 6 å­—èŠ‚ï¼Œ 48 ä½8 å­—èŠ‚6620-15000-464å‰å¯¼ç ç›®æ ‡åœ°å€åŽŸåœ°å€ç±»åž‹æ•°æ®å¡«å……æ ¡éªŒå’Œä»¥å¤ªç½‘é™åˆ¶æœ‰æ•ˆå¸§è‡³å°‘ 64 å­—èŠ‚é•¿é˜²æ­¢ç”±äºŽå¸§è¿‡çŸ­å¯¼è‡´ä¼ è¾“æ—¶é—´çŸ­ï¼Œä»Žè€Œå¼•èµ·å†²çªè¯¯åˆ¤ä¸ºéžå†²çªäºŒè¿›åˆ¶æŒ‡æ•°åŽé€€å†²çªåŽï¼Œåœ¨å¯¹åº”åŒºé—´é€‰æ‹©ç­‰å¾…çš„æ—¶é—´æ§½æ•°é‡ ($0 \sim 2^i -1 $)ï¼Œæœ€å¤§ä¸º 1023å†²çªå°‘æ—¶ï¼Œç¡®ä¿ä½Žå»¶è¿Ÿï¼›å†²çªå¤šæ—¶ï¼Œç¡®ä¿è§£å†³é—®é¢˜çš„æ—¶é—´é—´éš” 6.3.2 äº¤æ¢æœºå’Œé›†çº¿å™¨çš„åŒºåˆ«äº¤æ¢æœºï¼šå…¨åŒå·¥ç”µç¼†ä¸å­˜åœ¨å†²çªé—®é¢˜é€šè¿‡ç¼“å†²æ¥è§£å†³è¾“å‡ºç«¯å£çš„å†²çªé—®é¢˜ 6.4 802.11 WiFi MAC åè®®æ— çº¿ç”µå­˜åœ¨ä¿¡å·å¼±ï¼ŒåŠåŒå·¥ç‰¹æ€§ï¼Œå†²çªä»£ä»·å¤§ï¼Œæ‰€ä»¥è¯•å›¾åŽ»é¿å…å†²çªã€‚é‡‡ç”¨å†²çªé¿å… CSMA (CSMA/CA)åœ¨å‘é€å‰ä¾¦å¬ä¿¡é“ï¼Œå’Œå†²çªåŽæŒ‡æ•°åŽé€€(ç­‰å¾…æ—¶é—´æ§½)é€šè¿‡ ACK æ¥ç¡®è®¤æŽ¨æ–­å†²çªæ˜¯å¦å‘ç”Ÿä½¿ç”¨ NAV æ¥ç¡®è®¤ä¿¡é“å¿™çš„æ—¶é—´æ®µNAV æ˜¯åœ¨ç«™è‡ªèº«ç®¡ç†çš„ï¼›åœ¨å¸§ä¸­å¤¹å¸¦ NAV ä¿¡æ¯ï¼Œä½†æ˜¯ä¸å•ç‹¬ä¼ è¾“ NAVå¸§ç»“æž„ï¼š2 å­—èŠ‚266620-23124å¸§æŽ§åˆ¶æŒç»­æ—¶é—´æŽ¥æ”¶åœ°å€å‘é€åœ°å€è¿œç«¯åœ°å€åºå·æ•°æ®å¸§æ£€éªŒåºåˆ—å¸§æŽ§åˆ¶ç»“æž„ï¼š2 æ¯”ç‰¹2411111111åè®®ç‰ˆæœ¬ç±»åž‹å­ç±»åž‹åŽ»å¾€ DSæ¥è‡ª DSæ›´å¤šæ®µé‡ä¼ ç”µæºç®¡ç†æ›´å¤šæ•°æ®å—ä¿æŠ¤çš„é¡ºåºWiFi å®šä¹‰äº†å…³è”æœåŠ¡å’Œé‡æ–°å…³è”æœåŠ¡ã€‚å…³è”æœåŠ¡ç”¨äºŽè¿žæŽ¥ APï¼›é‡æ–°å…³è”æœåŠ¡ç”¨äºŽæ”¹å˜é¦–é€‰ APã€‚WiFi è¿žæŽ¥å‰å¿…é¡»éªŒè¯ï¼Œä½¿ç”¨ WPA2 6.5 ç½‘æ¡¥ 6.5.1 ç½‘æ¡¥è½¬å‘ç®—æ³•å¦‚æžœç›®æ ‡åœ°å€ç«¯å£å’Œæºç«¯å£ç›¸åŒï¼Œä¸¢å¼ƒè¯¥å¸§å¦‚æžœåŽ»å¾€ç›®æ ‡åœ°å€çš„ç«¯å£ä¸Žæºç«¯å£ä¸åŒï¼Œè½¬å‘å¦‚æžœç›®æ ‡ç«¯å£æœªçŸ¥ï¼Œè¿›è¡Œæ³›æ´ªï¼Œè½¬å‘åˆ°é™¤äº†æºç«¯å£çš„æ‰€æœ‰å…¶ä»–ç«¯å£ 6.5.2 ç”Ÿæˆæ ‘ç½‘æ¡¥æ˜¯ä¸ºäº†è§£å†³ç”±äºŽç½‘æ¡¥é—´å­˜åœ¨ å†—ä½™é“¾è·¯ å¯¼è‡´çš„ æ³›æ´ªå¾ªçŽ¯ é—®é¢˜ã€‚é€šè¿‡ç¡®å®šæ ¹ï¼Œé€šè¿‡æ ¹ç”Ÿæˆä¸€ä¸ªç”Ÿæˆæ ‘æ¥ç¡®ä¿æ³›æ´ªç®—æ³•ä¸å‡ºçŽ°å¾ªçŽ¯ã€‚ 6.6 VLANç”±äºŽå®‰å…¨æ€§ï¼Œè´Ÿè½½å‡è¡¡ï¼Œå¹¿æ’­é£Žæš´é—®é¢˜ï¼Œéœ€è¦å°† LAN åœ¨å†…éƒ¨åˆ†æˆå¤šä¸ª LAN å¹¶è¿›è¡ŒåŠ¨æ€è°ƒæ•´ï¼Œæ­¤æ—¶å°±å‡ºçŽ°äº† VLANã€‚é€šè¿‡è™šæ‹Ÿçš„ç½‘æ¡¥æ¥è¿›è¡Œè¿žæŽ¥å’Œäº¤æ¢ï¼Œ VLAN é€šè¿‡åœ¨å¸§ä¸­åŠ ä¸Š VLAN åè®®(åŒ…æ‹¬ä¼˜å…ˆçº§å’Œ VLAN æ ‡è¯†ç¬¦) æ¥ç¡®å®šè®¾å¤‡ä½ç½®ã€‚VLAN å…¼å®¹æ—§è®¾å¤‡ï¼Œåœ¨æœ€åŽçš„ VLAN ç«¯å£å¤„ï¼Œæœ‰ VLAN çš„å¸§ä¼šè¢«è¿˜åŽŸä¸ºåŽŸæ¥çš„æ™®é€šæ•°æ®å¸§ã€‚ 7. äº¤æ¢è®¾å¤‡ç½‘å…³å·¥ä½œåœ¨ åº”ç”¨å±‚å’Œä¼ è¾“å±‚è·¯ç”±å™¨å·¥ä½œåœ¨ ç½‘ç»œå±‚ç½‘æ¡¥å’Œäº¤æ¢æœºå·¥ä½œåœ¨ æ•°æ®é“¾è·¯å±‚ä¸­ç»§å™¨ï¼Œé›†çº¿å™¨å·¥ä½œåœ¨ ç‰©ç†å±‚]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>è®¡ç½‘</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# Class Basic]]></title>
    <url>%2F%2FCSharp%2FCSharp%20Class%20Basic%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°C# ç±»çš„åŸºæœ¬è¯­æ³•å’Œ Java æ— å¼‚ä¸‹é¢åªå…·ä½“è®²è®²æœ‰åŒºåˆ«çš„åœ°æ–¹ 2. æž„é€ å‡½æ•°é“¾Java ä¸­å¯ä»¥é€šè¿‡åœ¨æž„é€ å‡½æ•°ä¸­ä½¿ç”¨ this æ¥è°ƒç”¨å¦ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œä»Žè€Œå®žçŽ°æž„é€ å‡½æ•°çš„èŒè´£å§”æ‰˜é“¾æ¡ã€‚C# ä¸­åˆ™ä½¿ç”¨ å†’å· æ¥ä¿è¯ this çš„ä¼˜å…ˆè°ƒç”¨1234567891011// Javaclass Empolyee &#123; Empolyee() &#123; this("Unknown") &#125; Empolyee(String name) &#123; this.name = name; &#125;&#125;123456789// C#class Empolyee &#123; Empolyee(): this("Unknwon") &#123; &#125; Empolyee(string name) &#123; this.name = name &#125;&#125; 3. å¯é€‰å‚æ•°å½“ç„¶ï¼Œåœ¨ .NET 4.0 ä»¥ä¸Šå¯ä»¥åœ¨æž„é€ å‡½æ•°ä¸­ä½¿ç”¨å¯é€‰å‚æ•°ã€‚å¯é€‰å‚æ•°ç”¨æ³•å’Œå…¶ä»–æ–¹æ³•ç›¸åŒ 4. é™æ€æž„é€ å‡½æ•°å®žé™…ä¸Šå°±æ˜¯ Java ä¸­çš„ é™æ€åˆå§‹åŒ–å—ï¼Œå…·ä½“çš„è¡Œä¸ºä¹ŸåŒºåˆ«ä¸å¤§ã€‚é™æ€æž„é€ å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªé™æ€æž„é€ å‡½æ•°ä¸èƒ½é‡è½½ï¼Œä¸æŽ¥å—ä»»ä½•å‚æ•°é™æ€æž„é€ å‡½æ•°åœ¨ç±»å®žä¾‹æž„å»ºå’Œé¦–æ¬¡è°ƒç”¨é™æ€æˆå‘˜æ—¶è°ƒç”¨é™æ€æž„é€ å‡½æ•°ä¼š å…ˆäºŽæ‰€æœ‰æž„é€ å‡½æ•°æ‰§è¡Œä¸è¿‡è¯­æ³•ä¸Šç¨æœ‰ä¸åŒï¼ŒJava é‡‡ç”¨ static åŠ å¤§æ‹¬å·å½¢å¼ï¼Œè€Œ C# é‡‡ç”¨åœ¨æž„é€ å‡½æ•°å‰é¢åŠ  static æ¥å®žçŽ° 5.é™æ€ç±»Java ä¸­æ²¡æœ‰çš„å†…å®¹å¯ä»¥åœ¨ç±»çº§åˆ«ä½¿ç”¨ static å…³é”®å­—ï¼Œè¿™æ ·çš„ç±»æ˜¯ Top-level çš„ é™æ€ç±»ï¼Œå…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼šä¸èƒ½ä½¿ç”¨ new å…³é”®å­—æž„å»ºå®žä¾‹åªèƒ½æ‹¥æœ‰ static æˆå‘˜å®žé™…ä¸Šï¼Œå°±æ˜¯ Java ä¸­çš„å·¥å…·ç±»å†™æ³•ã€‚]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# Const and Readonly Field]]></title>
    <url>%2F%2FCSharp%2FCSharp%20Const%20and%20Readonly%20Field%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°C# æä¾›äº†ä¸¤ç§ å¸¸é‡çº§åˆ« æ•°æ®ï¼Œç›¸å½“äºŽ Kotlin ä¸­çš„ const å’Œ lazy valueï¼›ä½¿ç”¨ const å’Œ readonly æ¥è¿›è¡Œä¿®é¥° 2. Constconst ç±»åž‹æ˜¯ ç¼–è¯‘æ—¶å¸¸é‡ã€‚const å¿…é¡»è¢«åˆå§‹åŒ–ï¼ä¸Ž Kotlin ä¸åŒçš„æ˜¯ C# ä¸­çš„ const é™¤äº†å­—é¢å¸¸é‡ä»¥å¤–ï¼Œè¿˜å…è®¸ä½¿ç”¨ null åº”ç”¨ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒC# çš„ const è¿˜å…è®¸åœ¨å±€éƒ¨ä½œç”¨åŸŸä½¿ç”¨ï¼Œè€Œ Kotlin çš„ const åªå…è®¸åœ¨ Top-level ä½¿ç”¨ 3. Readonly Fieldåªè¯»å­—æ®µæ˜¯ä¸€ç§ç‰¹æ®Šçš„ lazy å¸¸é‡ã€‚å’Œ Kotlin çš„ lazy-value ä¸åŒçš„æ˜¯ï¼šåªè¯»å­—æ®µå¯ä»¥ä¸è¢«åˆå§‹åŒ–åªè¯»å­—æ®µ åªèƒ½è¢«æ˜¾å¼åˆå§‹åŒ–ï¼Œæˆ–è€…æž„é€ å‡½æ•°åˆå§‹åŒ–å¦‚æžœä¸è¢«åˆå§‹åŒ–ï¼Œé‚£ä¹ˆæ˜¾å¼å­—æ®µæ‹¥æœ‰é»˜è®¤å€¼ 4. ä¸¤è€…åŒºåˆ«C# ä¸­ const å’Œ readonly çš„ä¸»è¦åŒºåˆ«åœ¨äºŽï¼šconst æ˜¯ éšå¼é™æ€çš„ï¼Œå³å¯ä»¥ç›´æŽ¥é€šè¿‡ç±»åæ¥è°ƒç”¨ constè€Œ readonly ä¸æ˜¯éšå¼é™æ€çš„ã€‚]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# Object Initialization]]></title>
    <url>%2F%2FCSharp%2FCSharp%20Object%20Initialization%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ä¸ºäº†ç®€åŒ–å¯¹è±¡åˆå§‹åŒ–çš„æµç¨‹ï¼ŒC# æä¾›äº† å¯¹è±¡åˆå§‹åŒ–è¯­æ³•ã€‚ç®€å•çš„æ¥è¯´å°±æ˜¯é€šè¿‡ç±»ä¼¼ æ•°ç»„åˆå§‹åŒ– çš„æ–¹æ³•æ¥å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚ 2. è¯­æ³•1Point p = new Point &#123;x = 1.0, y = 2.0&#125;; 3. åŽŸç†æ­¤è¯­æ³•å®žé™…ä¸Šæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå…¶åŽŸç†å°±æ˜¯å…ˆè°ƒç”¨ é»˜è®¤æž„é€ å‡½æ•°ï¼Œç„¶åŽå†å¯¹æ¯ä¸ªå±žæ€§æˆ–è€…å­—æ®µ ä¾æ¬¡èµ‹å€¼ã€‚å’Œä»¥ä¸‹ä»£ç è¡Œä¸ºç›¸åŒã€‚123Point point = new Point();point.x = 1.0;point.y = 2.0; 4. è°ƒç”¨è‡ªå®šä¹‰æž„é€ å‡½æ•°å¯¹è±¡åˆå§‹åŒ–å—é™¤äº†è°ƒç”¨é»˜è®¤çš„æž„é€ å‡½æ•°ä»¥å¤–ï¼Œè¿˜å¯ä»¥è°ƒç”¨è‡ªå®šä¹‰çš„æž„é€ å‡½æ•°ã€‚1Point point = new Point("This is a point") &#123;x = 1.0, y = 2.0&#125;; 5. åˆå§‹åŒ–å†…éƒ¨å¼•ç”¨å±žæ€§ç”±äºŽè‡ªåŠ¨å±žæ€§é»˜è®¤ä¸ºå¼•ç”¨ç±»åž‹èµ‹å€¼ä¸º null ï¼Œæ‰€ä»¥å†…éƒ¨çš„å±žæ€§å¿…é¡»ç»è¿‡æ­£ç¡®çš„åˆå§‹åŒ–ä¹‹åŽæ‰èƒ½ä½¿ç”¨ã€‚ä¸ºäº†ç®€åŒ–ç¹ççš„å£°æ˜Žè¯­å¥ï¼Œ C# ä¹Ÿæä¾›äº†å¯¹å†…éƒ¨å¼•ç”¨å±žæ€§çš„åˆå§‹åŒ–è¯­æ³•12345Rectangle rect = new Rectangle&#123; TopLeft = new Point &#123; X = 10, Y = 10 &#125;, // æ³¨æ„é€—å· BottomRight = new Point &#123; X = 200, Y = 200 &#125;&#125;; // æ³¨æ„åˆ†å·å…¶è¡Œä¸ºå’Œå¦‚ä¸‹ä»£ç ç›¸åŒï¼š1234567891011Rectangle rect = new Rectangle();Point p1 = new Point();p1.X = 10;p1.Y = 10;rect.TopLeft = p1;Point p2 = new Point();p2.X = 200;p2.Y = 200;rect.BottomRight = p2;]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# Properties and Fields]]></title>
    <url>%2F%2FCSharp%2FCSharp%20Properties%20and%20Fields%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°C# ç›¸å¯¹äºŽ Java çš„ä¸€ä¸ªè¾ƒå¤§çš„æ”¹è¿›å°±æ˜¯æä¾›äº†ç±»çš„ å±žæ€§è®¿é—® è¯­æ³•ã€‚åœ¨è¿™é‡Œï¼Œå°†å’Œ Kotlin æ¥æ¯”è¾ƒå­¦ä¹ ã€‚ 2. å®šä¹‰å±žæ€§è¿™æ˜¯ C# å’Œ Kotlin çš„ç¬¬ä¸€ä¸ªä¸åŒï¼ŒC# çš„æ™®é€šå±žæ€§éœ€è¦ è‡ªå®šä¹‰åŽå¤‡å­—æ®µ(backing field)ï¼›è€Œ Kotlin ä¸å…è®¸å­—æ®µï¼Œåªåœ¨ getter å’Œ setter ä¸­ä½¿ç”¨ field æ¥æŒ‡ä»£å­—æ®µã€‚12345678910111213// C#class Point &#123; private int x; public X &#123; get &#123; return x; &#125; set &#123; x = value; &#125; &#125;&#125;æ³¨æ„ä¸Šé¢çš„ value æŒ‡ä»£çš„æ˜¯ä¼ å…¥ setter çš„å€¼è€Œä¸Žä¹‹ç›¸åçš„æ˜¯ï¼ŒKotlin å…è®¸ setter ä½¿ç”¨æ‹¬å·æ¥è¿›è¡Œä¼ å…¥å‚æ•°å‘½å1234567class Point &#123; var x: Int = 0 get() = field set(value) &#123; field = value &#125;&#125; 3. é™æ€å±žæ€§Kotlin å®žé™…ä¸Šæ²¡æœ‰è¿™ä¸ªè¯­æ³•ï¼Œåªèƒ½ä½¿ç”¨ä¼´ç”Ÿå¯¹è±¡æ¥å®žçŽ°ã€‚C# æ”¯æŒé™æ€å±žæ€§ï¼Œä¸è¿‡åªèƒ½åº”ç”¨äºŽé™æ€å­—æ®µã€‚12345678class Bank &#123; private static int interest; public static Interest &#123; get &#123; return interest; &#125; set &#123; interest = value; &#125; &#125;&#125; 4. è‡ªåŠ¨å±žæ€§å¦‚æžœä¸€ä¸ªå±žæ€§ä¸åŒ…æ‹¬å…·ä½“é€»è¾‘ï¼Œåªè´Ÿè´£ç®€å•èŽ·å–è¿”å›žï¼Œé‚£ä¹ˆå®šä¹‰ä¸€å¤§å †ç§æœ‰åŽå¤‡å­—æ®µæ˜¯æžå…¶ä¸æ–¹ä¾¿çš„ï¼Œæ‰€ä»¥ C# æä¾›äº† è‡ªåŠ¨å±žæ€§ï¼Œä½¿ç”¨ä¸€ä¸ª ç§æœ‰çš„åŽå¤‡å­—æ®µ å’Œ ç®€å•çš„ getter å’Œ setterã€‚1234567891011class Point &#123; public X &#123; get; set; &#125; public Y &#123; get; set; &#125;&#125;ç”±äºŽåŽå¤‡å­—æ®µä¸å¯è§ï¼Œæ‰€ä»¥æ•´ä¸ªç±»éƒ½å¿…é¡»ä½¿ç”¨ å±žæ€§ æ¥è¿›è¡Œæ“ä½œï¼Œè€Œä¸èƒ½ç›´æŽ¥æ“ä½œå­—æ®µã€‚è¿™ç‚¹å’Œ Kotlin çš„è¡Œä¸ºå¾ˆåƒæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œè‡ªåŠ¨å±žæ€§ä¼šä½¿ç”¨é»˜è®¤å€¼æ¥å¡«å……ç§æœ‰åŽå¤‡å±žæ€§ï¼›è¿™è¯´æ˜Žä»»ä½• å¼•ç”¨ç±»åž‹ é»˜è®¤ä¸º nullï¼Œä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ã€‚åœ¨ C# 6.0 åŽå¯ä»¥å¯¹è‡ªåŠ¨å±žæ€§è¿›è¡Œåˆå§‹åŒ–1public double X &#123;get; set;&#125; = 1.0 5. åªè¯»åªå†™å±žæ€§å¿½ç•¥å±žæ€§ä¸­å¯¹åº”çš„ set æˆ–è€… get å¯ä»¥è®©å±žæ€§æˆä¸º åªè¯»åªå†™å±žæ€§å½“è¿›è¡Œå†™å…¥æ“ä½œæ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚è€Œ Kotlin ä½¿ç”¨ var å’Œ val æ¥åŒºåˆ†å¯è¯»å¯å†™ï¼Œå¦‚æžœéœ€è¦åšä¸¥æ ¼é™åˆ¶ï¼Œå¯ä»¥å°† getter æˆ–è€… setter è®¾ç½®ä¸ºç§æœ‰]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# Visibility Modifiers]]></title>
    <url>%2F%2FCSharp%2FCSharp%20Visibility%20Modifiers%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°C# çš„è®¿é—®ä¿®é¥°ç¬¦æ¯” Java å¤šäº†ä¸¤ä¸ª internal å’Œ protected internalé»˜è®¤è¡Œä¸ºä¹Ÿä¸åŒ 2. InternalC# æ–°å¢žçš„ internal è®¿é—®ä¿®é¥°ç¬¦ï¼ŒæŒ‡çš„æ˜¯ï¼Œè¯¥ç±»åž‹çš„å¯è§èŒƒå›´ä¸º å½“å‰ç¨‹åºé›†(å³ .dll å’Œ .exe ä¸­)æ³¨æ„å’Œ Java çš„ package çº§åˆ«çš„å¯è§æ€§åŒºåˆ†ï¼Œinternal æŒ‡ç¤ºçš„æ˜¯æ•´ä¸ªç¨‹åºé›†çš„å¯è§æ€§ã€‚ 3. Protected Internalprotected internal å®žé™…ä¸Šæ˜¯ protected å’Œ internal çš„ä¸€ä¸ª unionã€‚å®ƒæŒ‡ç¤ºçš„æ˜¯ï¼Œè¯¥ç±»åž‹åœ¨å½“å‰ç¨‹åºé›†å¯è§ æˆ–è€… åœ¨å…¶ä»–ç¨‹åºé›†ä¸­çš„æ´¾ç”Ÿç±»å¯è§ 4. ä¿®é¥°é™åˆ¶Top-level çš„ç±»åž‹åªèƒ½ä½¿ç”¨ public å’Œ internal æ¥ä¿®é¥°ï¼Œå¦‚æ™®é€šçš„ç±»ã€‚åµŒå¥—ç±»ã€åµŒå¥—çš„æ•°æ®ç»“æž„å¯ä»¥ä½¿ç”¨å…¶ä»–çš„ä¿®é¥°ç¬¦ã€‚]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# åˆ†éƒ¨ç±»]]></title>
    <url>%2F%2FCSharp%2FCSharp%20%E5%88%86%E9%83%A8%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[å½“å¼€å‘å¤§åž‹é¡¹ç›®æ—¶ï¼Œä¼šå‡ºçŽ°æŸä¸ªç±»éžå¸¸é•¿çš„æƒ…å†µã€‚C# å¯¹æ­¤æä¾›äº†ä¸€ä¸ª partial å…³é”®å­—ï¼›å¯ä»¥ç”¨å®ƒå°†ä¸€ä¸ªç±»åˆ†å‰²æˆå¤šä¸ªæ–‡ä»¶ï¼Œä»¥æœŸåˆ†éš”ç»å¸¸æ”¹åŠ¨çš„å†…å®¹å’Œä¸ç»å¸¸æ”¹åŠ¨çš„å†…å®¹ã€‚ä¾‹å¦‚ Empolyee.cs ï¼š12345678910class Employee&#123; // å­—æ®µ // æž„é€ å‡½æ•° // æ–¹æ³• // å±žæ€§&#125;å¯ä»¥å°†å…¶åˆ†å‰²ä¸ºä¸¤ä¸ªæ–‡ä»¶ï¼Œç„¶åŽä½¿ç”¨ partial è¿›è¡Œæ ‡è®°ã€‚12345678// Employee.cspartial class Employee&#123; // æ–¹æ³• // å±žæ€§&#125;1234567// Employee.Internal.cspartial class Employee&#123; // å­—æ®µ // æž„é€ å‡½æ•°&#125;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–‡ä»¶çš„åå­—æ˜¯å¯ä»¥éšä¾¿å–çš„ï¼Œå¹¶æ²¡æœ‰ç‰¹åˆ«çš„é™åˆ¶ã€‚]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OSX Mono Halal Installation]]></title>
    <url>%2F%2FMono%2FOSX%20Mono%20Halal%20Installation%2F</url>
    <content type="text"><![CDATA[åœ¨å¼€å‘æ—¶ï¼Œæ€»æƒ³ä¿è¯è‡ªå·±çš„å¼€å‘å¹³å°å¾—åˆ°åŠæ—¶çš„æ›´æ–°ï¼›ä½†æ˜¯ä½¿ç”¨å®˜æ–¹å®‰è£…åŒ…çš„å®‰è£…ä¸æ–¹ä¾¿è¿›è¡Œå¿«é€Ÿæ›´æ–°ï¼Œè€Œä¸”å®‰è£…ä¸‹æ¥ä¸€å¤§å †ç‰ˆæœ¬å †ç§¯ä¹Ÿä¸å¤Ÿæ¸…çœŸã€‚æ‰€ä»¥ï¼Œåœ¨è¿™é‡Œä½¿ç”¨ Homebrew Cask å¯ä»¥è®© mono-mdk å¾—åˆ°åŠæ—¶ï¼Œæ¸…çœŸçš„å®‰è£…å’Œæ›´æ–°ã€‚1brew cask install mono-mdkHomebrew ä¹Ÿæœ‰ mono åŒ…ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆé‚£ä¸ªåŒ…ä¸€èˆ¬çš„è½¯ä»¶è®¤ä¸å‡ºæ¥æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯ï¼ŒVisual Studio For Mac Preview ä½¿ç”¨çš„æ˜¯æ¯”è¾ƒæ–°çš„ monoï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦ tap caskroom/versions ä»“åº“æ¥èŽ·å– mono-mdk çš„ preview ç‰ˆæœ¬ã€‚12brew tap caskroom/versionsbrew cask install mono-mdk-preview]]></content>
      <categories>
        <category>Mono</category>
      </categories>
      <tags>
        <tag>Mono</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šç¼–å†™å¯è¯»ä»£ç çš„è‰ºæœ¯ã€‹ç¬”è®°]]></title>
    <url>%2F%2FCleanCode%2F%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF%20%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[1. ä»£ç åº”è¯¥æ˜“äºŽç†è§£å¥½çš„ä»£ç ï¼Œåº”è¯¥èƒ½è®©äººæ˜“äºŽç†è§£ã€‚ç†è§£éš¾åº¦æŒ‡çš„æ˜¯åˆ«äººè¯»æ‡‚ä½ çš„ä»£ç æ‰€éœ€çš„æ—¶é—´ã€‚è¯»æ‡‚æŒ‡çš„æ˜¯ï¼Œèƒ½å¯¹ä»£ç è¿›è¡Œä¿®æ”¹å’Œæ‰©å±•ï¼Œå¹¶ä¿æŒåŽŸæœ‰åŠŸèƒ½ä¸å˜ã€‚æ˜“äºŽç†è§£çš„ä»£ç ä¹Ÿæ˜“äºŽæµ‹è¯•ï¼Œé›†æˆï¼Œæ¨¡å—åŒ–å’Œæ‰©å±•ã€‚ä»Žæé«˜ç¼–ç èƒ½åŠ›æ¥çœ‹ï¼šç¨‹åºå‘˜åº”è¯¥ä»¥å†™å‡ºæ˜“äºŽç†è§£çš„ä»£ç ä¸ºæ ¸å¿ƒç›®æ ‡ã€‚ 2. æŠŠä¿¡æ¯è£…åˆ°åå­—ä¸­ 2.1 é€‰æ‹©ä¸“ä¸šçš„è¯, ä¸è¦ç©ºæ´žget è¿™ä¸ªè¯å¾ˆæŠ½è±¡ï¼Œåº”è¯¥ä½¿ç”¨ download fetch ç­‰æ›´å…·æœ‰æ˜Žæ˜¾æŒ‡å‘çš„è¯ã€‚ä¸‹è¡¨æ˜¯ä¸€ä¸ªå»ºè®®ï¼šå•è¯æ›´å¤šé€‰æ‹©senddeliver, dispatch, announce, distribute, routefindsearch, extract, locate, recoverstartlaunch, create, begin, openmakecreate, set up, build, generate, compose, add, newå…³é”®æ€æƒ³ï¼šæ¸…æ™°ç²¾ç¡®æ¯”è£…å¯çˆ±è¦å¥½ 2.2 é¿å…ä½¿ç”¨æ³›æ³›çš„åå­—ä¾‹å¦‚ tmp å’Œ retval è¿™ç§ç©ºæ´žçš„è¯è¯­ä¸è¦ä½¿ç”¨ã€‚tmp è¿™ä¸ªåå­—åªåº”ç”¨äºŽçŸ­æœŸå­˜åœ¨ä¸”ä¸´æ—¶æ€§ä¸ºå…¶ä¸»è¦å­˜åœ¨å› ç´ çš„å˜é‡ã€‚i j k ç»å¸¸è¢«åº”ç”¨äºŽè¿­ä»£å™¨ï¼Œä½†æ˜¯åº”è¯¥ä¼˜å…ˆè€ƒè™‘æ¯”è¿™äº›å˜é‡æ›´ä¸ºè´´åˆ‡çš„å‘½åã€‚ 2.3 ä½¿ç”¨å…·ä½“çš„åå­—ä»£æ›¿æŠ½è±¡çš„åå­—ä¾‹å¦‚ ServerCanStart()ï¼Œå¦‚æžœå®ƒæ˜¯æ£€æµ‹æœåŠ¡æ˜¯å¦å¯ä»¥ç›‘å¬æŸä¸ªç»™å®šçš„ç«¯å£çš„è¯ï¼Œé‚£ä¹ˆå°±åº”è¯¥å£°æ˜Žä¸º CanListenOnPort() ä¾‹å­ï¼š run_locallyå¦‚æžœæˆ‘ä»¬æœ‰ä¸ªå‘½ä»¤è¡Œæ ‡è¯†å« run_locallyï¼Œé‚£ä¹ˆå¾ˆéš¾æŽ¨æ–­å‡ºå®ƒç©¶ç«Ÿæœ‰ä»€ä¹ˆç”¨å¤„ï¼Œå¯èƒ½éœ€è¦åœ¨æœ¬åœ°è¿è¡Œçš„æ—¶å€™ä½¿ç”¨å®ƒï¼Ÿä½†ä¸æ˜Žç™½ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒã€‚å‡å¦‚ run_locally æ˜¯ç”¨äºŽè¾“å‡ºæ—¥å¿—ï¼Œé‚£ä¹ˆå°±åº”è¯¥æŠŠå®ƒæ”¹æˆ extra_logging ï¼Œå¦‚æžœ run_locally ä¸ä»…åšè¿™ä¸ªå·¥ä½œæ€Žä¹ˆåŠžå‘¢ï¼Ÿå‡å¦‚è¯´å®ƒè¿˜æ‰¿æ‹…äº†å»ºç«‹å’Œä½¿ç”¨ä¸€ä¸ªæœ¬åœ°æ•°æ®åº“çš„å·¥ä½œã€‚é‚£ä¹ˆå°±åº”è¯¥ æ–°å»ºå¦ä¸€ä¸ªæ ‡å¿— use_local_database 2.4 ä¸ºåå­—é™„å¸¦æ›´å¤šä¿¡æ¯ä¸ºä½ çš„åå­—å¸¦ä¸Šä¸€äº›å…·ä½“çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´å˜é‡çš„ å†…åœ¨æ ¼å¼ï¼Œå’Œå˜é‡çš„ å•ä½1string id; // Example: "af84ef845cd8"å¦‚ä¸Šï¼Œå¦‚æžœè¿™ä¸ªå˜é‡çš„æ ¼å¼å¾ˆé‡è¦ï¼Œé‚£ä¹ˆå°±åº”è¯¥åœ¨åå­—é™„ä¸Š hex_idè¿™é‡ŒæŒ‡çš„å°±æ˜¯å˜é‡çš„ å†…åœ¨æ ¼å¼ï¼Œè€Œä¸æ˜¯ç±»ä¼¼åŒˆç‰™åˆ©å‘½åæ³•çš„å˜é‡çš„ç±»åž‹ã€‚æœ‰æ—¶å€™å•ä½ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ï¼Œé‚£ä¹ˆå°±åº”è¯¥åŠ ä¸Šå•ä½ã€‚1234var start_ms = (new Date()).getTime();var elapsed_ms = (new Date()).getTime() - start;document.writeln("load time was: " + elapsed + " seconds"); 2.5 åå­—çš„é•¿åº¦å¤§ä½œç”¨åŸŸé‡‡ç”¨è¾ƒé•¿åç§°ï¼Œå°ä½œç”¨åŸŸé‡‡ç”¨çŸ­åç§°ä½¿ç”¨å¿«æ·é”®æ¥å¿«é€Ÿè¾“å…¥é•¿åå­—å’Œä½¿ç”¨åå­—è‡ªåŠ¨è¡¥å…¨ä¸è¦ä½¿ç”¨å¤§å®¶éƒ½ä¸è®¤å¾—çš„é¦–å­—æ¯ç¼©å†™è¯ä¸¢æŽ‰æ²¡ç”¨çš„è¯ 2.6 åˆ©ç”¨åå­—çš„æ ¼å¼æ¥ä¼ é€’å«ä¹‰æ¯”å¦‚è¯´å¤§é©¼å³°æ˜¯ç±»ï¼Œå°é©¼å³°æ˜¯å˜é‡ç­‰ç­‰ï¼›æ ¼å¼å¯ä»¥æŒ‡æ˜Žä¸€ä¸ªåå­—çš„ç±»åž‹ã€‚]]></content>
      <categories>
        <category>CleanCode</category>
      </categories>
      <tags>
        <tag>CleanCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Intellij Tips and Tricks]]></title>
    <url>%2F%2FIntelliJ%2FIntellij%20Tips%20and%20Tricks%2F</url>
    <content type="text"><![CDATA[1. è·³è½¬åŽŸåˆ™ï¼š å°½é‡ä¸ä½¿ç”¨é¼ æ ‡ã€ä¸ä½¿ç”¨æ ‡ç­¾é¡µcommand + O è·³è½¬åˆ°ç‰¹å®šçš„ç±»shift + command + O è·³è½¬åˆ°æ–‡ä»¶ä½¿ç”¨ : + è¡Œå· å¯ä»¥å¿«é€Ÿè·³è½¬åˆ°ç‰¹å®šæ–‡ä»¶çš„ç‰¹å®šè¡Œalt + command + o å˜é‡ã€æ–¹æ³•è·³è½¬ä½¿ç”¨ &lt;class&gt;.&lt;symbol&gt; å¯ä»¥è·³è½¬åˆ°ç‰¹å®šç±»çš„æ–¹æ³•æˆ–è€…å˜é‡double shift Search Everywhereä¸Šè¿°æ–¹æ³•çš„ç»¼åˆä½“command + E Recent Filesshift + command + E Recent Changed Filescommand + [ å’Œ command + ] åœ¨ä¹‹å‰æ‰“å¼€çš„æ–‡ä»¶å‰åŽè·³è½¬åœ¨ Project Window ä½¿ç”¨ Auto Scroll from Souceï¼Œä½¿ç”¨ command + â†“ æ¥è·³è½¬åˆ°æºæ–‡ä»¶åœ¨æ–¹æ³•åã€å˜é‡åå’Œç±»åä½¿ç”¨ command + B å¯ä»¥è·³è½¬åˆ°å£°æ˜Žéƒ¨åˆ†åœ¨æ–¹æ³•åã€å˜é‡åå’Œç±»åä½¿ç”¨ command + U å¯ä»¥è·³è½¬åˆ°ç»§æ‰¿é“¾çš„ä¸Šä¸€çº§ï¼Œå³è¶…ç±»åœ¨å£°æ˜Žéƒ¨åˆ†ä½¿ç”¨ alt + command + B å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„ å®žçŽ° å¹¶è¿›è¡Œè·³è½¬åœ¨å˜é‡å£°æ˜Žéƒ¨åˆ†ä½¿ç”¨ ctrl + H å¯ä»¥æ˜¾ç¤ºæ•´ä¸ªå˜é‡ã€ç±»çš„ç»§æ‰¿ç»“æž„åœ¨æ–¹æ³•åä½¿ç”¨ shift + command + H å¯ä»¥æ˜¾ç¤ºæ–¹æ³•çš„ç»§æ‰¿ç»“æž„åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨ command + F12 å¯ä»¥æ˜¾ç¤ºä¸€ä¸ªå½“å‰ç±»æ‰€æœ‰æˆå‘˜çš„ Popup çª—å£ä¹Ÿå¯ä»¥ä½¿ç”¨ command + 7 æ¥æ‰“å¼€ç»“æž„çª—å£æ¥æŸ¥çœ‹ä½¿ç”¨ command + â†‘ æ¥æ‰“å¼€ Navigation Barï¼Œ ä¸è¦æŠŠå®ƒé•¿æœŸæ˜¾ç¤ºåœ¨å±å¹•ä¸Šä½¿ç”¨ F2 å’Œ shift + F2 æ¥åœ¨é”™è¯¯ä¹‹é—´è·³è½¬åœ¨å³ä¸Šè§’çš„æ„Ÿå¹å·å›¾æ ‡å³é”®ç‚¹å‡»ï¼Œå¯ä»¥è®¾ç½® åªåœ¨ Error ä¹‹é—´è·³è½¬ 2. æ–°å»ºåœ¨ Project Window ä½¿ç”¨ command + N æ¥æ–°å»ºæ–‡ä»¶æˆ–è€… package æˆ–è€…ç›®å½•ä½¿ç”¨ abc/def/ghi/mnop è¿™ç§æ–‡ä»¶å¤¹åæ¥å»ºç«‹æ–‡ä»¶å¤¹ç»“æž„ï¼Œè€Œä¸è¦ä¸€ä¸ªä¸€ä¸ªå»ºç«‹åŒä¸Šï¼Œåœ¨æ–°å»ºæ–‡ä»¶æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ abc/def/test.txt è¿™ç§æ–‡ä»¶åæ¥æž„å»ºä¸€ä¸ªåœ¨æ–‡ä»¶å¤¹å†…éƒ¨çš„æ–‡ä»¶åŒï¼Œä½¿ç”¨ abc.def.ghi.Hehe è¿™ç§ ç±»å å¯ä»¥å»ºç«‹ä¸€ä¸ª åœ¨åŒ…å†…çš„ç±»ç„¦ç‚¹åœ¨ç¼–è¾‘å™¨æ—¶ä½¿ç”¨ ctrl + alt + N æ¥è¿›è¡Œä¸Šè¿°æ–°å»ºæ“ä½œä½¿ç”¨ command + shift + N æ–°å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶(Scratral File)ä¸´æ—¶æ–‡ä»¶å¯ä»¥æ˜¯ä»»ä½•æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æˆåŠŸçš„ç¼–è¯‘è¿è¡Œã€‚å®žé™…ä¸Šå°±æ˜¯ç”¨æ¥ç»™å¼€å‘è€…è¿›è¡Œä¸€äº›å°æµ‹è¯•ç”¨çš„ 3. é‡æž„ä½¿ç”¨ alt + â†‘ æ¥é€‰æ‹©ä¸€è¡Œä»£ç æŒç»­ç‚¹å‡»ä¼šç»§ç»­é€‰æ‹©æ›´å¤§çš„ä½œç”¨åŸŸï¼šæ–¹æ³• -&gt; å†…éƒ¨ç±» -&gt; å¤–éƒ¨ç±» -&gt; æ–‡ä»¶ä½¿ç”¨ alt + â†“ æ¥ç¼©å°é€‰æ‹©çš„ä½œç”¨åŸŸèŒƒå›´ä½¿ç”¨ alt + shift + â†‘/â†“ æ¥ ç§»åŠ¨é€‰æ‹©çš„ä»£ç ä½¿ç”¨ shift + command + V æ¥æ‰“å¼€å‰ªåˆ‡æ¿åŽ†å²è®°å½•ä¸åŒ…æ‹¬ IdeaVim çš„å‰ªè´´æ¿åŽ†å²è®°å½•ä½¿ç”¨ alt + shift + å·¦é”®ç‚¹å‡» æ¥è®¾ç½®ä¸€ä¸ª Multicursorä¸è¦ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½æ¥è¿›è¡Œä»£ç é‡æž„å¯ä»¥ä½¿ç”¨å¤šé‡æŒ‡é’ˆæ¥è¿›è¡Œå¤åˆ¶ç²˜è´´æ“ä½œä½¿ç”¨ shift + F6 æ¥è¿›è¡Œå˜é‡é‡å‘½åä½¿ç”¨ alt + command + L è¿›è¡Œå½“å‰æ–‡ä»¶çš„ä»£ç æ ¼å¼åŒ–ä½¿ç”¨ Code Cleanup æ¥è¿›è¡Œæ•´ä¸ªå·¥ç¨‹çº§åˆ«çš„ä»£ç æ ¼å¼åŒ–é€‰æ‹©ä¸€æ®µä»£ç ç„¶åŽä½¿ç”¨ alt + Enter å¯ä»¥å¯¹å½“å‰ç‰‡æ®µçš„ä»£ç æ ¼å¼è¿›è¡Œè°ƒæ•´ã€‚ä½¿ç”¨ ctrl + T å¯ä»¥è°ƒå‡º Refactor This èœå•ï¼Œæœ‰å¾ˆå¤šé‡æž„åŠŸèƒ½å¯ä»¥ä½¿ç”¨ 4. Language Injectionåœ¨ å­—ç¬¦ä¸² ä½¿ç”¨ alt + Enter é€‰æ‹© inject language å¯ä»¥è®© IDEA è®¤å®šå½“å‰å­—ç¬¦ä¸²çš„è¯­è¨€æˆåˆ†ï¼Œä»Žè€Œè¿›è¡Œç›¸åº”è¯­è¨€çš„æç¤ºå’Œå·¥ä½œã€‚é€‰æ‹© json å¯ä»¥åœ¨ JSON ç¼–è¾‘æ¡†ä¸­ç¼–è¾‘çº¯ JSON å†…å®¹ï¼ŒIDEA ä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„ Java å­—ç¬¦ä¸²é€‰æ‹© SQL å¯ä»¥è¿›è¡Œ SQL è¡¥å…¨ï¼ŒåŒæ—¶é€‰æ‹©é“¾æŽ¥çš„æ•°æ®åº“è¿›è¡Œæ‰§è¡Œã€‚åŒæ—¶ï¼Œå¦‚æžœåœ¨ SQL å­—ç¬¦ä¸²ä¸­ä½¿ç”¨é‡æž„åŠŸèƒ½ï¼ŒIDEA ä¸ä»…ä¼šé‡æž„ä»£ç å†…å®¹ï¼ŒåŒæ—¶è¿˜ä¼šå¯¹ æ•°æ®åº“ å†…å®¹è¿›è¡Œä¿®æ”¹é€‰æ‹© æ­£åˆ™è¡¨è¾¾å¼ å¯ä»¥åœ¨å¯¹åº”çš„ Hover æ¡†å†…å¯¹æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ£€éªŒ 5. è¡¥å…¨ä½¿ç”¨ ctrl + shift + Space è¿›è¡Œ æ™ºèƒ½è¡¥å…¨ä½¿ç”¨ command + P æ¥èŽ·å– æ‰€è°ƒç”¨æ–¹æ³•çš„å‚æ•°ä¿¡æ¯ä½¿ç”¨ ctrl + alt + Space å¯ä»¥è¡¥å…¨æ–¹æ³•åå’Œç±»åä½¿ç”¨ alt + / æ¥è¿›è¡Œå˜é‡è¡¥å…¨å’Œ å˜é‡å‘½åè¡¥å…¨ä½¿ç”¨ shift + command + Enter å¯ä»¥è¡¥å…¨å½“å‰è¯­å¥å—ä¸ä»…ä»…æ˜¯åˆ†å·è¡¥å…¨ï¼Œè¿˜å¯ä»¥æ˜¯å¤§æ‹¬å·è¡¥å…¨ 6. æ¨¡æ¿ä½¿ç”¨ command + J æ¥æ’å…¥å·²ç»å®šä¹‰å¥½çš„ Live Templateå¯ä»¥æ‰“å‡º Live Template ç„¶åŽä½¿ç”¨ Tab è¿›è¡Œè¡¥å…¨ä¸è¿‡ä½¿ç”¨ command + J å¯ä»¥ç»™äºˆæç¤ºå¸¸ç”¨çš„ï¼špsvm -&gt; public static void main(String[] args)åœ¨é€‰æ‹©äº†ä¸€æ®µä»£ç çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ alt + command + T å¯ä»¥å°†ä»£ç ç”¨ç‰¹å®šçš„ç»“æž„åŒ…èµ·æ¥æ¯”å¦‚è¯´ if-else ã€try-catch ç­‰ç­‰ä½¿ç”¨è°ƒç”¨å¯ä»¥åœ¨åˆ—è¡¨ä¸­é€‰å– Postfix Completionï¼Œå…·ä½“æ•ˆæžœå’Œä¸Šé¢ç›¸åŒæ¨¡æ¿ä¸ä»…ä»…æ”¯æŒ Javaï¼Œè¿˜æ”¯æŒä¾‹å¦‚ HTMLï¼ŒCSSï¼Œ Javascript ç­‰å¤šç§è¯­è¨€ 7. ä»£ç åˆ†æžä½¿ç”¨ Code Inspection By Name å¯ä»¥åˆ†æžç‰¹å®šçš„é”™è¯¯å’Œç¼ºé™·ä½¿ç”¨ Structural Search/Replace å¯ä»¥è¿›è¡Œç‰¹å®šçš„ä»£ç ç»“æž„çš„æŸ¥æ‰¾å’Œæ›¿æ¢ï¼ŒåŒæ—¶ï¼Œå¯ä»¥å°†å…¶åŠ å…¥ Inspectionï¼Œè¿›è¡Œé”™è¯¯æç¤ºä½¿ç”¨ Analyze Data Flow å¯ä»¥åˆ†æžç‰¹å®šå˜é‡çš„æµåŠ¨ï¼Œæœ‰åŠ©äºŽè¯»æ‡‚ä»–äººä»£ç  8. ç‰ˆæœ¬æŽ§åˆ¶é€‰æ‹©ä¸¤ä¸ª commit ç„¶åŽä½¿ç”¨ ctrl + D æ¥è¿›è¡Œ Diffä½¿ç”¨ Annotate å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶ä¸­çš„å„è¡Œçš„ä¿®æ”¹ä½¿ç”¨ command + K è¿›è¡Œ commit æ“ä½œä½¿ç”¨ shift + command + K è¿›è¡Œ push æ“ä½œä½¿ç”¨ alt + command + Z è¿›è¡Œ revert æ“ä½œä½¿ç”¨ ctrl + V è°ƒå‡º æœ‰å…³ç‰ˆæœ¬æŽ§åˆ¶çš„ Popup çª—å£ 9. è°ƒè¯•å³é”®ç‚¹å‡»æ–­ç‚¹åŒºåŸŸï¼Œå¯ä»¥è®¾ç½®æ–­ç”µçš„ conditionè¿˜æœ‰ä¸ª More å¯ä»¥ç‚¹å‡»åœ¨è°ƒç”¨æ ˆåŒºåŸŸï¼Œå¯ä»¥é€‰æ‹© Drop Frame å°†é€‰æ‹©çš„ Frame è¿›è¡Œå‡ºæ ˆæ“ä½œå¦‚æžœä¸å°å¿ƒ Step Into å¤ªæ·±çš„è¯å¯ä»¥ä½¿ç”¨è¿™ä¸ª 10. å…¶ä»–ä½¿ç”¨ ctrl + ` æ¥è¿›è¡Œä»£ç æ ·å¼ã€å¿«æ·é”®ç­‰çš„å¿«é€Ÿåˆ‡æ¢å¯ä»¥åœ¨è®¾ç½®ä¸­å®šä¹‰ä¸€ä¸ªå¸¸ç”¨çš„ Quick Listä½¿ç”¨ alt + F12 å¯ä»¥è°ƒå‡º IDEA å†…ç½®ç»ˆç«¯Help èœå•ä¸­çš„ Productive Guild è®°å½•äº†ä½¿ç”¨çš„ IDEA åŠŸèƒ½ï¼ŒåŒ…æ‹¬åŠŸèƒ½çš„è§£é‡Šå’Œä½¿ç”¨é¢‘çŽ‡Registry å†…æœ‰ä¸€ä¸ªé€‰é¡¹å¯ä»¥å‡å°‘è¾“å…¥å»¶è¿Ÿ(editor latency)]]></content>
      <categories>
        <category>IntelliJ</category>
      </categories>
      <tags>
        <tag>IntelliJ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 Advanced Skill]]></title>
    <url>%2F%2FPython%2FPython%203%20Advanced%20Skill%2F</url>
    <content type="text"><![CDATA[1. å‡½æ•°è¿”å›žå¤šä¸ªå€¼å‡½æ•°å¯ä»¥é€šè¿‡è¿”å›žä¸€ä¸ªå…ƒç»„æ¥è¾¾åˆ°è¿”å›žå¤šä¸ªå€¼çš„ç›®çš„ã€‚1234def get_error_details(): return (2, 'second error details')errnum, errstr = get_error_details()ä¸Šé¢è¿ç”¨åˆ°äº†å…ƒç»„è§£åŒ…æŠ€æœ¯ï¼Œé€šè¿‡ä½¿ç”¨é€—å·åˆ†éš”å˜é‡ï¼Œå°±å¯ä»¥åˆ†åˆ«å–å‡ºå¯¹åº”ä½ç½®çš„å…ƒç»„å…ƒç´ ã€‚ 2. ç‰¹æ®Šæ–¹æ³•Python çš„ç±»ä¸­æœ‰è®¸å¤šå†…ç½®çš„ç‰¹æ®Šæ–¹æ³•ï¼Œä¾‹å¦‚ __init__() å’Œ __del__()å¯ä»¥åœ¨ Python çš„å‚è€ƒæ‰‹å†Œä¸­æ‰¾åˆ°å®ƒä»¬ä»¥åŠå¯¹åº”çš„ä½œç”¨ã€‚ 3. å•è¡Œè¯­å¥å—å¦‚æžœä¸€ä¸ªè¯­å¥å—åªæœ‰ä¸€ä¸ªé€»è¾‘è¡Œï¼Œåˆ™å¯ä»¥æŠŠå®ƒç½®äºŽæ¡ä»¶è¯­å¥æˆ–è€…å¾ªçŽ¯è¯­å¥çš„åŒä¸€è¡Œ1if flag: print 'Yes' 4. Lambda è¡¨è¾¾å¼lambda è¯­å¥ç”¨æ¥åˆ›å»ºæ–°çš„å‡½æ•°å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶è¿”å›žå®ƒä»¬ã€‚12def make_repeater(n): return lambda s: s*næœ¬è´¨ä¸Š, lambda éœ€è¦ä¸€ä¸ªå‚æ•°,åŽé¢ä»…è·Ÿå•ä¸ªè¡¨è¾¾ å¼ä½œä¸ºå‡½æ•°ä½“,è€Œè¡¨è¾¾å¼çš„å€¼è¢«è¿™ä¸ªæ–°å»ºçš„å‡½æ•°è¿”å›žã€‚æ³¨æ„,å³ä¾¿æ˜¯ print è¯­å¥ä¹Ÿä¸ èƒ½ç”¨åœ¨ lambda å½¢å¼ä¸­,åªèƒ½ä½¿ç”¨è¡¨è¾¾å¼ã€‚ 5. åˆ—è¡¨ç»¼åˆé€šè¿‡åˆ—è¡¨ç»¼åˆï¼Œå¯ä»¥ä»Žä¸€ä¸ªå·²æœ‰çš„åˆ—è¡¨å¯¼å‡ºä¸€ä¸ªæ–°çš„åˆ—è¡¨ã€‚12345#!/usr/bin/python# Filename: list_comprehension.pylistone = [2,3,4]listtwo = [2*i for i in listone if i &gt; 2]é€šè¿‡åœ¨åˆ—è¡¨ä¸­ä½¿ç”¨è¿™æ ·çš„è¯­å¥å°±å¯ä»¥å¯¹ç¬¦åˆæ¡ä»¶çš„æ¯ä¸ªåˆ—è¡¨å…ƒç´ è¿›è¡Œå¤„ç†æ³¨æ„åŽŸæœ‰çš„åˆ—è¡¨å¹¶æ²¡æœ‰æ”¹å˜ï¼Œè¿™ä¸ªæ“ä½œå®žé™…ä¸Šæ˜¯ç”Ÿæˆäº†ä¸€ä¸ªæ–°åˆ—è¡¨ 6. exec å’Œ evalexec è¯­å¥ç”¨æ¥æ‰§è¡Œå­—ç¬¦ä¸²å½¢å¼çš„ Python è¯­å¥12&gt;&gt;&gt; exec(&apos;print(&quot;Hello, World&quot;)&apos;)Hello, Worldeval è¯­å¥ç”¨æ¥æ‰§è¡Œå­—ç¬¦ä¸²å½¢å¼çš„ Python è¡¨è¾¾å¼12&gt;&gt;&gt; eval('2*3')6ä¸¤è€…çœ‹ä¼¼ç›¸åŒï¼Œä½†æ˜¯ä¹Ÿæœ‰ç»†å¾®åŒºåˆ«ï¼ševal åªæŽ¥å—å•è¡Œå­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œexec å¯ä»¥æŽ¥å—ä¸€ä¸ªè¯­å¥å’Œè¯­å¥å—â€œè¡¨è¾¾å¼â€æ‰€æŒ‡çš„å°±æ˜¯å¯ä»¥æ”¾åœ¨ç­‰å·å³è¾¹çš„ä¸œè¥¿ï¼Œbreak if pass ç­‰ä¸æ˜¯è¡¨è¾¾å¼eval ä¼šè¿”å›žè¡¨è¾¾å¼çš„ç»“æžœï¼Œexec åˆ™ä¼šå¿½ç•¥è¯¥ç»“æžœ 7. assert è¯­å¥åŒ Java ä¸­çš„ assert è¯­å¥ä¸€æ ·ï¼Œä»¥è°ƒè¯•ä¸ºç›®çš„ã€‚ä½†æ˜¯ Python çš„ assert è¯­å¥åŠŸèƒ½æ˜¯é»˜è®¤å¯åŠ¨çš„å½“ assert å¤±è´¥æ—¶ï¼Œä¼šå¼•å‘ä¸€ä¸ª AssertionError 8. repr å‡½æ•°è¯¥å‡½æ•°ç”¨æ¥å–å¾—å¯¹è±¡çš„è§„èŒƒå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå®žé™…ä¸Šå®ƒçš„ä½œç”¨å°±æ˜¯ä¸ºå¯¹è±¡åŒ…äº†ä¸€å±‚&quot;&quot;12345678910&gt;&gt;&gt; i = []&gt;&gt;&gt; i.append('item')&gt;&gt;&gt; i['item']&gt;&gt;&gt; repr(i)"['item']"&gt;&gt;&gt; eval(repr(i))['item']&gt;&gt;&gt; eval(repr(i)) == iTrue]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 Basic]]></title>
    <url>%2F%2FPython%2FPython%203%20Basic%2F</url>
    <content type="text"><![CDATA[1. æ³¨é‡Šæ³¨é‡Šä»¥ # å¼€å¤´ä»¥ #! å¼€å¤´çš„ç§°ä¸ºç»„ç»‡è¡Œï¼Œè¡¨æ˜Žäº†æ‰§è¡Œè„šæœ¬çš„è§£é‡Šå™¨Linux/Unix ä¸­ï¼Œå¦‚æžœä¸æ¸…æ¥š Python çš„ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨ #!/usr/bin/env pythonï¼Œenv ä¼šè‡ªåŠ¨å¯»æ‰¾ Python çš„è§£é‡Šå™¨è·¯å¾„è¿›è¡Œæ‰§è¡Œã€‚ 2. å­—é¢æ„ä¹‰çš„å¸¸é‡å¦‚åŒ 5, 1.23, 9.25e-3 è¿™æ ·çš„æ•°ï¼Œä»¥åŠ â€œThis is a stringâ€ ç­‰å­—ç¬¦ä¸²è¢«ç§°ä½œå­—é¢æ„ä¹‰ä¸Šçš„å¸¸é‡ 2.1 æ•°æ•°çš„ç±»åž‹æœ‰ä¸‰ç§â€”â€”æ•´æ•°ã€æµ®ç‚¹æ•°å’Œå¤æ•°2 æ˜¯æ•´æ•°3.23 å’Œ 52.3E-4 æ˜¯æµ®ç‚¹æ•°(-5+4j) å’Œ (2.3-4.6j) æ˜¯å¤æ•°Python 3 åªæœ‰ä¸€ç§æ•´æ•°ç±»åž‹ï¼Œä¸åŒºåˆ† long å’Œ intPython 2 ä¸­åŒºåˆ† long ç±»åž‹å¸ƒå°”åž‹(bool) å±žäºŽæ•´åž‹(integer)çš„ä¸€ç§ 2.2 å­—ç¬¦ä¸²å­—ç¬¦ä¸²æ˜¯å­—ç¬¦çš„åºåˆ—ï¼Œå…¶ç¼–ç é»˜è®¤ä¸º Unicodeã€‚å¯ä»¥ä½¿ç”¨ str.encode(&quot;ascii&quot;) å°†å­—ç¬¦ä¸²ç¼–ç è½¬æ¢ä¸º ASCIIå¯ä»¥ç”¨å•å¼•å·å’ŒåŒå¼•å·æ¥æŒ‡å®šå­—ç¬¦ä¸²ï¼Œå•å¼•å·å’ŒåŒå¼•å·çš„æ„ä¹‰å®Œå…¨ç›¸åŒåˆ©ç”¨ä¸‰å¼•å· &quot;&quot;&quot; æˆ–è€… ''' å¯ä»¥æŒ‡å®šä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²12345'''This is a multi-line-string. This is the first line.And this is the second line."What's your name?" I asked.He said "Bond, James Bond."'''åœ¨ä¸‰å¼•å·ä¸­ï¼Œå¯ä»¥è‡ªç”±ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å·ä½¿ç”¨è½¬ä¹‰æ¥è¡¨ç¤ºåŽŸæœ‰å­—ç¬¦ä¾‹å¦‚ 'What's your name?' ä¸­ï¼Œç”±äºŽï¼ˆä½¿ç”¨å•å¼•å·ç•Œå®šçš„ï¼‰å­—ç¬¦ä¸²ä¸­æœ‰å•å¼•å·ï¼Œä¼šä½¿ Python è§£é‡Šå‡ºçŽ°é”™è¯¯ï¼Œæ­¤æ—¶éœ€è¦ç”¨è½¬ä¹‰æ¥è¡¨ç¤ºåŽŸæœ‰çš„å•å¼•å·ã€‚æ­£ç¡®çš„åº”è¯¥æ˜¯ 'What\'s your name?'ã€‚ä½†æ˜¯ï¼Œå¯ä»¥åœ¨ç”¨åŒå¼•å·ç•Œå®šçš„å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å•å¼•å·ã€‚è¿™ä¸ªä¹Ÿæ˜¯æ­£ç¡®çš„ &quot;What's your name?&quot;å¦å¤–ï¼Œåœ¨ä¸€è¡Œçš„æœ«å°¾çš„åæ–œæ  \ ä»…ä»…è¡¨ç¤ºä¸‹ä¸€è¡Œçš„å­—ç¬¦ä¸²æ˜¯ä¸Šä¸€è¡Œçš„ç»§ç»­ï¼Œå¹¶ä¸å¢žåŠ æ–°çš„è¡Œ12345# ä»¥ä¸‹å­—ç¬¦ä¸²æ˜¯ç­‰ä»·çš„"This is the first line.\This is also the first line.""This is the firstline. This is also the first line."åŽŸå§‹å­—ç¬¦ä¸²å½“éœ€è¦æŒ‡å®šä¸€äº›å­—ç¬¦ä¸è¢«ç‰¹æ®Šå¤„ç†æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ r æˆ–è€… R é™„åŠ åœ¨å­—ç¬¦ä¸²å‰é¢æŒ‡å®šåŽŸå§‹å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š r&quot;Newlines are indicated by \n&quot;æ­¤æ—¶ï¼Œå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½ä¸ä¼šè¢«è½¬ä¹‰åœ¨æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨çš„æ—¶å€™ï¼Œè¯·å°½é‡ä½¿ç”¨åŽŸå§‹å­—ç¬¦ä¸²å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„å­—ç¬¦ä¸²æŒ‰å­—é¢æ„ä¹‰è¿žæŽ¥å¦‚æžœå°†ä¸¤ä¸ªå­—ç¬¦ä¸²æŒ‰å­—é¢æ„ä¹‰ç›¸é‚»æ”¾ç€ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²format() æ–¹æ³•å¯ä»¥ä½¿ç”¨ format() æ–¹æ³•æ¥é€šè¿‡ä½¿ç”¨å…¶ä»–ä¿¡æ¯æž„å»ºå­—ç¬¦ä¸²1234567#!/usr/bin/pythonage = 25name = 'Swaroop'print('&#123;0&#125; is &#123;1&#125; years old'.format(name, age))# è¾“å‡ºä¸º# Swaroop is 25 years old.ä¹Ÿå¯ä»¥ä½¿ç”¨ format() è¿›è¡Œæ ¼å¼åŒ–è¾“å‡º12&gt;&gt;&gt; '&#123;0:.3&#125;'.format(1/3)'0.333' 3. å˜é‡ 3.1 å‘½ååŒå…¶ä»–è¯­è¨€çš„å˜é‡å‘½åæ— å¤šå¤§å·®åˆ«ã€‚ä¸å…è®¸æ•°å­—å¼€å¤´å¤§å°å†™æ•æ„Ÿ 3.2 ç±»åž‹Python å˜é‡ä¸éœ€è¦å£°æ˜Žç±»åž‹ï¼Œä½†ä»ç„¶æ˜¯å¼ºç±»åž‹å®žé™…ä¸Šï¼ŒPython çš„ä»»ä½•ä¸€åˆ‡éƒ½ç§°ä¸ºå¯¹è±¡ 4. é€»è¾‘è¡Œå’Œç‰©ç†è¡ŒPython ä¸­ä¸€ä¸ªé€»è¾‘è¡Œå¯¹åº”ä¸€ä¸ªç‰©ç†è¡Œï¼Œè™½ç„¶ Python ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†å·ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä½¿ç”¨åˆ†å·å…¶ä»–è¯­è¨€ä¸€èˆ¬å¼ºåˆ¶è¦æ±‚è¡Œå°¾åˆ†å·ï¼ŒPython ä¸æŽ¨èåˆ†å·çš„ä½¿ç”¨ã€‚ 5. ç¼©è¿›Python æœ‰ç€ä¸¥æ ¼çš„ç¼©è¿›åŒºåˆ†ï¼Œä¸èƒ½éšæ„ç¼©è¿›ï¼Œç¼©è¿›ç”¨æ¥æ ‡æ˜Žè¯­å¥å—åŒä¸€ä¸ªè¯­å¥å—å…·æœ‰ç›¸åŒçš„ç¼©è¿›å±‚æ¬¡Python ä½¿ç”¨ç¼©è¿›æ¥è¡¨ç¤ºä»£ç å—ï¼Œä¸å†ä½¿ç”¨èŠ±æ‹¬å· 6. æ“ä½œç¬¦Python ä¸­çš„ // ç¬¦å·è¡¨ç¤ºå‘ä¸‹å–æ•´ç›¸é™¤ï¼Œè€Œä¸æ˜¯å•è¡Œæ³¨é‡Šã€‚æ³¨é‡Šä½¿ç”¨ # æ¥å¼€å¤´ã€‚æ³¨æ„è¿™é‡Œæ˜¯å‘ä¸‹å–æ•´ï¼Œè€Œä¸æ˜¯è¶‹é›¶å–æ•´å¸ƒå°”æ“ä½œnot è¡¨ç¤ºå¸ƒå°”éžï¼ˆç›¸å½“äºŽ !ï¼‰and è¡¨ç¤ºå¸ƒå°”ä¸Žï¼ˆç›¸å½“äºŽ &amp;&amp;ï¼‰or è¡¨ç¤ºå¸ƒå°”æˆ–ï¼ˆç›¸å½“äºŽ ||ï¼‰æœ‰è¶£çš„æ˜¯ï¼Œä¸ç­‰äºŽä»ç„¶ä½¿ç”¨ != æ¥è¡¨ç¤ºç›¸ç­‰æ€§åˆ¤åˆ«Python 3 ä¸­æœ‰ä¸¤ç§ç›¸ç­‰æ€§åˆ¤åˆ«ï¼Œä¸€ç§æ˜¯å˜é‡ç›¸ç­‰æ€§(equality)ï¼Œå¦ä¸€ç§æ˜¯å®žä¾‹ç›¸ç­‰æ€§(identity)is ç”¨ä½œåˆ¤æ–­å®žä¾‹ç›¸ç­‰æ€§å¦å®šæ“ä½œä¸º is notè€Œ == ç”¨äºŽåˆ¤æ–­å˜é‡ç›¸ç­‰æ€§åŒºåˆ«ï¼š1234a = [1, 2, 3]b = [1, 2, 3]a == b # Truea is b # Falseä¼˜å…ˆçº§åœ¨ Python ä¸­ï¼Œlambda è¡¨è¾¾å¼å¤„åœ¨æœ€é«˜ä¼˜å…ˆçº§ï¼Œè€Œå¹¶éžå¸ƒå°”è¿ç®—]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 Class]]></title>
    <url>%2F%2FPython%2FPython%203%20Class%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Python æ˜¯é«˜åº¦é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œäº‹å®žä¸Šï¼Œä»»ä½•çš„å˜é‡ç±»åž‹éƒ½æ˜¯ç±» 2. åˆ›å»ºç±»ç±»ç”± class å…³é”®è¯å®šä¹‰ï¼ŒåŽé¢åŠ å†’å·è¡¨ç¤ºç±»çš„ä½œç”¨åŸŸ12class Person: pass 3. self å‚æ•°Python çš„ self å‚æ•°ç±»ä¼¼äºŽ Java çš„ thisï¼Œä½†æ˜¯è¿™ä¸ªå‚æ•°åœ¨ Python ä¸­çš„ä½œç”¨åˆ™æ›´ä¸ºé‡è¦ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹é¢çš„å†…å®¹ 4. ç±»åŸŸPython ç±»çš„åŸŸä¸Ž Java ä¸åŒä¸å¸¦ self å‚æ•°ä¿®é¥°çš„æ™®é€šå˜é‡ä¸ºé™æ€å˜é‡åªæœ‰å¸¦ self ä¿®é¥°çš„æ‰æ˜¯å¯¹è±¡å˜é‡ä¾‹å¦‚ self.name æ˜¯å¯¹è±¡å˜é‡ï¼Œname æ˜¯é™æ€å˜é‡æˆå‘˜éƒ½æ˜¯å…¬æœ‰çš„ï¼ŒåŒ…æ‹¬æ•°æ®æˆå‘˜ä½†æ˜¯ä»¥åŒä¸‹åˆ’çº¿ __ å¼€å¤´çš„æˆå‘˜ä¼šè¢« Python çš„åç§°ç®¡ç†ä½“ç³»ä½œä¸ºç§æœ‰å˜é‡ï¼Œè¿™æ˜¯ Python çš„åç§°ç®¡ç†ä½“ç³»åšå‡ºçš„ï¼Œè€Œä¸æ˜¯ç±»çš„ç‰¹æ€§ 5. ç±»æ–¹æ³•Python çš„ç±»æ–¹æ³•å’Œ Java ç¨æœ‰ä¸åŒç±»çš„æ™®é€šæ–¹æ³•å¿…é¡»å®šä¹‰ self å‚æ•°ç±»å—ä¸­ä¸å¸¦ self å‚æ•°çš„æ–¹æ³•ä¸€èˆ¬ä¸ºé™æ€æ–¹æ³•ï¼Œéœ€è¦ç”¨ staticmethod() ä¿®é¥°123456789class Robot: '''Represent a robot, with a name''' def sayHi(self): print("hehe") def howMany(): print('We have &#123;0:d&#125; robot'.format(Robot.population) ) howMany = staticmethod(howMany)é™æ€æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹è¯­å¥ä¿®é¥°123@staticmethoddef howMany(): print('We have &#123;0:d&#125; robot'.format(Robot.population)) 6. æž„é€ å‡½æ•°å’Œæžæž„å‡½æ•°Python æ‹¥æœ‰æž„é€ å‡½æ•°å’Œæžæž„å‡½æ•°ã€‚å·¥ä½œåŽŸç†å’Œ C++ çš„æž„é€ å‡½æ•°å’Œæžæž„å‡½æ•°ç›¸åŒã€‚123456789class Person: def __init__(self, name): self.name = name def sayHi(self): print('Hello, my name is', self.name) def __del__(self): print("I am dying.") 7. ç»§æ‰¿Python çš„ç»§æ‰¿é€šè¿‡åœ¨ç±»åç§°åŽé¢æ·»åŠ æ‹¬å·å®žçŽ°ã€‚æ‹¬å·ä¸­ä¸ºçˆ¶ç±»çš„åå­—1234567891011121314151617181920212223242526272829303132333435363738class SchoolMember: def __init__(self,name,age): self.name = name self.age = age print('(Initialize SchoolMember:&#123;0&#125;)'.format(self.name)) def tell(self): '''Tell my details.''' print('Name:"&#123;0&#125;" Age:"&#123;1&#125;"'.format(self.name,self.age),end ='')class Teacher(SchoolMember): '''Repressent a teacher.''' def __init__(self,name,age,salary): SchoolMember.__init__(self,name,age) self.salary = salary print('(Initialized Teacher:&#123;0&#125;)'.format(self.name)) def tell(self): SchoolMember.tell(self) print('Salary:"&#123;0:d&#125;"'.format(self.salary))class Student(SchoolMember): '''Represents a student''' def __init__(self,name,age,marks): SchoolMember.__init__(self,name,age) self.marks = marks print('(Initialized Student:&#123;0&#125;)'.format(self.name)) def tell(self): SchoolMember.tell(self) print('Marks:"&#123;0:d&#125;"'.format(self.marks))t = Teacher('Mrs.Shrividya',30,30000)s = Student('Swaroop',25,75)print() # print a blank linemembers = [t,s]for member in members: member.tell() # work for both Teacher and Studentsä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒStudent å’Œ Teacher éƒ½ç»§æ‰¿è‡ª SchoolMenberé€šè¿‡ SchoolMenber è°ƒç”¨çˆ¶ç±»æ–¹æ³•]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 Collection]]></title>
    <url>%2F%2FPython%2FPython%203%20Collection%2F</url>
    <content type="text"><![CDATA[1. åˆ—è¡¨(list)åˆ—è¡¨æ˜¯ç”¨äºŽå¤„ç†æœ‰åºé¡¹ç›®çš„æ•°æ®ç»“æž„ï¼Œä¸Ž Java çš„æ•°ç»„ç±»ä¼¼ï¼Œè‡ªå¸¦æŽ’åºæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ [] è¿›è¡Œéšæœºè®¿é—®åˆ—è¡¨ä½¿ç”¨æ–¹æ‹¬å·å®šä¹‰ï¼Œä½¿ç”¨ len() å‡½æ•°æ¥èŽ·å–åˆ—è¡¨é•¿åº¦123456789#!/usr/bin/python# This is my shopping listshoplist = ['apple', 'mango', 'carrot', 'banana']print(len(shoplist))olditem = shoplist[0]del shoplist[0]del ç±»ä¼¼ C++ ä¸­çš„ deleteï¼Œç”¨äºŽé‡Šæ”¾ä¸€ä¸ªå¯¹è±¡ã€‚è¿™é‡Œä½¿ç”¨ del æ¥å°†åˆ—è¡¨å…ƒç´ ç§»é™¤ 2. å…ƒç»„(tupple)å…ƒç»„å’Œåˆ—è¡¨ç›¸ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯å…ƒç»„ä¸å¯æ”¹å˜å…ƒç»„ä½¿ç”¨åœ†æ‹¬å·æ¥å®šä¹‰12345678#!/usr/bin/python# åœ†æ‹¬å·æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯è¿˜æ˜¯åŠ ä¸Šåœ†æ‹¬å·ä¸ºå¥½zoo = ('python', 'elephant', 'penguin')print('Number of annimal in the zoo is', len(zoo))new_zoo = ('monkey', 'camel', zoo)print('Last annimal in the zoo is', new_zoo[2][2])æ³¨æ„åˆ°ï¼Œå…ƒç»„æ˜¯å¯ä»¥åµŒå¥—çš„ï¼Œæœ‰ç‚¹ç±»ä¼¼äºŽ Java ä¸­çš„äºŒç»´æ•°ç»„ï¼Œä½†å¹¶ä¸å®Œå…¨ç›¸åŒã€‚new_zoo[0] ==&gt; 'monkey'new_zoo[2] ==&gt; zoo ==&gt; ('python', 'elephant', 'penguin')new_zoo[2][2] ==&gt; zoo[2] ==&gt; 'penguin'å«æœ‰ 0 ä¸ªæˆ–è€… 1 ä¸ªå…ƒç´ çš„å…ƒç»„å«æœ‰ 0 ä¸ªå…ƒç´ çš„å…ƒç»„ç”¨ç©ºåœ†æ‹¬å·è¡¨ç¤ºï¼Œempty = ()å«æœ‰ 1 ä¸ªå…ƒç´ çš„å…ƒç»„è¦åœ¨å…ƒç´ åŽé¢æŽ¥ä¸€ä¸ªé€—å· singleton = (2, ) 3. å­—å…¸(dict)å­—å…¸æ˜¯ä¸€ä¸ªé”®å€¼å¯¹çš„è¡¨ï¼Œç±»ä¼¼äºŽ Java ä¸­çš„å“ˆå¸Œè¡¨ï¼Œä¸€ä¸ªé¡¹ç›®å…·æœ‰ Key å’Œ Valueåªèƒ½ç”¨ä¸å¯å˜å¯¹è±¡ä½œä¸ºé¡¹ç›®çš„é”®ï¼Œå€¼åˆ™å¯ä»¥æ˜¯å¯å˜çš„ä¹Ÿå¯ä»¥æ˜¯ä¸å¯å˜çš„ã€‚å­—å…¸ä½¿ç”¨èŠ±æ‹¬å·å®šä¹‰ï¼Œç”¨å†’å·åˆ†éš”é”®å’Œå€¼ï¼Œç”¨é€—å·åˆ†éš”é¡¹ç›®ï¼Œä½¿ç”¨ [] æ¥å–å€¼ã€‚12345678910ab = &#123; 'Swaroop' : 'swaroop@swaroopch.com' 'Larry' : 'larry@wall.org' &#125;print("Swaroop's address is", ab['Swaroop'])for name, adderss in ab: # iterate the dictåœ¨å­—å…¸ä¸­ï¼Œä½¿ç”¨é”®æ¥å……å½“ç´¢å¼•æˆåˆ†ã€‚å­—å…¸å¯ä»¥é€šè¿‡ items() æ–¹æ³•æ¥è¿”å›žé”®å€¼å¯¹çš„åˆ—è¡¨ï¼Œä½†æ˜¯æ˜¯æ— åºçš„ã€‚æ³¨æ„å­—å…¸æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼ˆä¸èƒ½ç»´æŒæ’å…¥æ—¶çš„é¡ºåºï¼‰ï¼Œè¦ä½¿ç”¨æ—¶æœ€å¥½å…ˆæŽ’åºã€‚ 4. åºåˆ—åˆ—è¡¨ï¼Œå…ƒç»„å’Œå­—ç¬¦ä¸²éƒ½æ˜¯åºåˆ—ï¼Œåºåˆ—å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šæ”¯æŒç´¢å¼•æ“ä½œç¬¦ [] éšæœºè®¿é—®ç´¢å¼•ä»Ž 0 å¼€å§‹ï¼Œå¯ä»¥æ”¯æŒè´Ÿæ•°å½“ç´¢å¼•æ˜¯è´Ÿæ•°æ—¶ï¼Œå®ƒä¼šæŠ“å–å€’æ•°çš„é¡¹ç›®å¯ä»¥é‡‡å–åˆ‡ç‰‡æ“ä½œå³è¿”å›žä¸€ä¸ªåºåˆ—çš„å­é›†ï¼Œä¾‹å¦‚å­æ•°ç»„ç­‰åˆ‡ç‰‡æ“ä½œé€šè¿‡å†’å·å®Œæˆï¼Œä¾‹å¦‚ä¸‹é¢çš„ shoplist[1:3]ã€‚åˆ‡ç‰‡æ“ä½œçš„åŒºé—´æ˜¯å·¦é—­å³å¼€ï¼Œä¸Šé¢è¿”å›žçš„æ˜¯ shoplist[1] å’Œ shoplist[2] ç»„æˆçš„å­åˆ—è¡¨å‡å¦‚å‰ä¸€ä¸ªä¸ºç©ºï¼Œåˆ‡ç‰‡ä»Žåºåˆ—å¤´å¼€å§‹ï¼ŒåŽä¸€ä¸ªä¸ºç©ºï¼Œåˆ‡ç‰‡åœ¨åºåˆ—å°¾åœæ­¢ã€‚ï¼ˆåŽä¸€ä¸ªä¸ºç©ºï¼Œæœ€åŽç»“æžœåŒ…æ‹¬æœ€åŽä¸€ä¸ªå…ƒç´ ï¼Œshoplist[:] è¿”å›žæ•´ä¸ªåˆ—è¡¨ï¼‰ä¹Ÿå¯ä»¥ä½¿ç”¨è´Ÿæ•°ä½œåˆ‡ç‰‡ï¼Œæ­¤æ—¶çš„è´Ÿæ•°åªä½œä¸ºä¸€ä¸ªå®šä½å…ƒç´ çš„ç´¢å¼•ï¼Œä¾‹å¦‚ shoplist[:-1] ä¼šåœ¨å€’æ•°ç¬¬ä¸€ä¸ªåœæ­¢ï¼Œä¹Ÿå°±æ˜¯ä¸åŒ…æ‹¬æœ€åŽä¸€ä¸ªå…ƒç´ çš„å­åˆ—è¡¨ä¹Ÿå¯ä»¥ç»™åˆ‡ç‰‡å®šä¹‰ç¬¬ä¸‰ä¸ªå‚æ•°â€”â€”åˆ‡ç‰‡çš„æ­¥é•¿ã€‚å…¶å®žå°±æ˜¯åˆ‡ç‰‡æ“ä½œåœ¨éåŽ†æ•°ç»„æ—¶çš„æ­¥é•¿ã€‚æ­¥é•¿é€šè¿‡ä¸¤ä¸ªå†’å·çš„æœ€åŽä¸€ä¸ªå‚æ•°å®šä¹‰shoplist[::3] ==&gt; shoplist[0], shoplist[3], shoplist[6]...1234567891011121314151617181920# Indexing or 'Subscription' operationprint('Item 0 is', shoplist[0])print('Item 1 is', shoplist[1])print('Item 2 is', shoplist[2])print('Item 3 is', shoplist[3])print('Item -1 is', shoplist[-1])print('Item -2 is', shoplist[-2])print('Character 0 is', name[0])# Slicing on a listprint('Item 1 to 3 is', shoplist[1:3])print('Item 2 to end is', shoplist[2:])print('Item 1 to -1 is', shoplist[1:-1])print('Item start to end is', shoplist[:])# Slicing on a stringprint('characters 1 to 3 is', name[1:3])print('characters 2 to end is', name[2:])print('characters 1 to -1 is', name[1:-1])print('characters start to end is', name[:]) 5. é›†åˆé›†åˆæ˜¯æ— é¡ºåºçš„ç®€å•å¯¹è±¡çš„èšé›†ã€‚ä½¿ç”¨é›†åˆï¼Œå¯ä»¥æ£€æŸ¥æ˜¯å¦æ˜¯æˆå‘˜ï¼Œæ˜¯å¦æ˜¯å¦ä¸€ä¸ªé›†åˆçš„å­é›†ï¼Œå¾—åˆ°ä¸¤ä¸ªé›†åˆçš„äº¤é›†1234567891011&gt;&gt;&gt; bri = set(['brazil', 'russia', 'india'])&gt;&gt;&gt; 'india' in briTrue&gt;&gt;&gt; 'usa' in briFalse&gt;&gt;&gt; bric = bri.copy() &gt;&gt;&gt; bric.add('china')&gt;&gt;&gt; bric.issuperset(bri)True&gt;&gt;&gt; bri.remove('russia')&gt;&gt;&gt; bri &amp; bric # OR bri.intersection(bric)&#123;'brazil', 'india'&#125; 6. å¼•ç”¨è¿™ä¸ªæ¦‚å¿µå’Œ Java ä¸­çš„å¼•ç”¨ç›¸åŒã€‚æ³¨æ„åˆ‡ç‰‡æ“ä½œå¯ä»¥å¯¹ä¸€ä¸ªåºåˆ—è¿›è¡Œæ·±æ‹·è´(deep copy)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 Control Flow]]></title>
    <url>%2F%2FPython%2FPython%203%20Control%20Flow%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿° 2. if è¯­å¥ 3. while è¯­å¥ 4. for è¯­å¥ 5. å…¶ä»–æµç¨‹æŽ§åˆ¶ 1. æ¦‚è¿°æŽ§åˆ¶æµç¨‹åŒ…æ‹¬ if for å’Œ whilePython çš„æµç¨‹æŽ§åˆ¶è¯­å¥æœ‰äº›ç‰¹æ®Šé¦–å…ˆï¼Œå…³äºŽæµç¨‹æŽ§åˆ¶ä¸ä½¿ç”¨æ‹¬å·ï¼Œåªæœ‰å‡½æ•°å’Œè¡¨è¾¾å¼æ‰ä½¿ç”¨å°æ‹¬å·ä½¿ç”¨å†’å·æŒ‡ç¤ºè¯­å¥å—çš„å¼€å¤´ 2. if è¯­å¥ä¸‹é¢æ˜¯ä¸€ä¸ª if è¯­å¥çš„ä¾‹å­1234567891011121314#!/usr/bin/python# Filename: if.pynumber = 23guess = int(input('Enter an integer : '))if guess == number: print('Congratualtions, you guessed it!') print('But you do not win any prizes!')elif guess &lt; number: print('No, it is a little higher than that')else: print('No, it is a little lower than that')print('Done')å‡ ä¸ªæ³¨æ„è¦ç‚¹ï¼šPython ä¸­ä¸ºäº†å‡å°‘ç¼©è¿›ï¼Œä½¿ç”¨ elif æ¥ä»£æ›¿ if...else if...elseæ³¨æ„ç¼©è¿›ï¼ŒåŒæ ·çš„ç¼©è¿›ç­‰çº§è¡¨ç¤ºäº†åŒä¸€ä¸ªä»£ç å—Python ä¸­æ²¡æœ‰ switch è¯­å¥ï¼Œä½¿ç”¨ç›¸åº”çš„ if..eles ç»“æž„æ¥æ›¿ä»£æ³¨æ„ä¸è¦æ¼æŽ‰å†’å· 3. while è¯­å¥while è¯­å¥ä¸Žå…¶ä»–è¯­è¨€æ— å¤ªå¤§å·®åˆ«ï¼Œè®²å‡ ä¸ªæ³¨æ„äº‹é¡¹æ³¨æ„ä¸è¦æ¼æŽ‰ while è¯­å¥æœ«å°¾çš„å†’å·Ture å’Œ False ä»£è¡¨å¸ƒå°”ç±»åž‹while å¯ä»¥æœ‰ else è¯­å¥ï¼Œä½†ä¸€èˆ¬ä¸ä½¿ç”¨ 4. for è¯­å¥for è¯­å¥å’Œå…¶ä»–è¯­è¨€æœ‰è¾ƒå¤§åŒºåˆ«ï¼Œä»¥ä¸‹æ˜¯ Python å’Œ Java è¯­è¨€çš„å¯¹æ¯”123# Pythonfor i in range(0, 4): print(i)ä¸‹é¢æ˜¯ç­‰ä»·çš„ Java1234// Javafor(int i = 0; i &lt; 4; i++) &#123; System.out.println(i);&#125;å®žé™…ä¸Š Python çš„ for è¯­å¥æ›´åƒ Java ä¸­çš„ foreach è¯­å¥ï¼Œä¸‹é¢æ˜¯ä¸¤ç§ç­‰ä»·çš„è¯­æ³•å½¢å¼123# Pythonfor word in wordList: print(word)ä¸‹é¢æ˜¯ Java è¯­æ³•è¡¨è¿°1234// Javafor(word : wordList) &#123; System.out.println(word);&#125;éœ€è¦æ³¨æ„çš„å‡ ä¸ªè¦ç‚¹ï¼šrange() å‡½æ•°çš„æŒ‡ç¤ºåŒºé—´ä¸ºå·¦é—­å³å¼€print() å‡½æ•°ä¼šé»˜è®¤æ‰“å°æ¢è¡Œç¬¦é€šè¿‡æŒ‡ç¤º end æ¥è¿›è¡Œå•è¡Œæ‰“å°print(word, end='')å¦‚æžœç¼“å†²åŒºä¸­æœ‰å­—ç¬¦ï¼Œé‚£ä¹ˆæŒ‡å®š flush ä¸º True æ¥æ¸…é™¤ç¼“å†²åŒºprint(word, end='', flush=True) 5. å…¶ä»–æµç¨‹æŽ§åˆ¶break å’Œ continue éƒ½å’Œå…¶ä»–è¯­è¨€æ— å¼‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 Exception]]></title>
    <url>%2F%2FPython%2FPython%203%20Exception%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿° 2. å¤„ç†å¼‚å¸¸ 3. å¼•å‘å¼‚å¸¸ 4. Tryâ€¦Finally è¯­å¥ 5. with è¯­å¥ 1. æ¦‚è¿°Python çš„å¼‚å¸¸å¤„ç†å’Œ Java ç›¸ä¼¼ï¼Œå‡½æ•°æ‹¼å†™é”™è¯¯ç­‰ä¹Ÿä¼šè§¦å‘å¼‚å¸¸ã€‚ 2. å¤„ç†å¼‚å¸¸é€šè¿‡ try...except è¯­å¥æ¥å¤„ç†å¼‚å¸¸123456789try: text = input('Enter something --&gt; ')except EOFError: print('Why did you do an EOF on me?')except KeyboardInterrupt: print('You cancelled the operation.')else: print('You entered &#123;0&#125;'.format(text))try è¿˜å¯ä»¥å¸¦ä¸€ä¸ª else è¯­å¥ï¼Œä½œç”¨ä¸Ž while çš„è¯­å¥ç±»ä¼¼ 3. å¼•å‘å¼‚å¸¸é€šè¿‡ raise è¯­å¥æ¥å¼•å‘å¼‚å¸¸123456789101112131415161718192021class ShortInputException(Exception):'''A user-defined exception class''' def __init__(self, length,atleast): Exception.__init__(self) self.length = length self.atleast = atleasttry: text = input('Enter something--&gt;') if len(text) &lt; 3: raise ShortInputException(len(text),3) #other work can continue as usual hereexcept EOFError: print('Why did you do an EOF on me')except ShortInputException as ex: print('ShortInputException The input was &#123;0&#125; long, excepted \atleast &#123;1&#125;'.format(ex.length, ex.atleast))else: print('No exception was raised.') 4. Tryâ€¦Finally è¯­å¥è¿™ç‚¹ä¸Ž Java ç›¸ä¼¼ï¼ŒPython ä½¿ç”¨ finally è¯­å¥æ¥å¯¹æµè¿›è¡Œä¸€äº›æ”¶å°¾æ“ä½œ1234567891011121314151617181920#!/usr/bin/python# Filename: finally.pyimport timetry: f = open('poem.txt') while True: # our usual file-reading idiom line = f.readline() if len(line) == 0: break print(line, end = '') time.sleep(2) # To make sure it runs for a whileexcept KeyboardInterrupt: print('!! You cancelled the reading from the file.')finally: f.close() print('(Cleanig up: closed the file)') 5. with è¯­å¥è¿™ä¸ªè¯­å¥ç±»ä¼¼ Java ä¸­çš„å¸¦èµ„æºçš„ try å—é€šè¿‡ä½¿ç”¨ with æ¥æ‰“å¼€ä¸€ä¸ªå¸¦èµ„æºçš„æ“ä½œï¼Œåˆ™å…¶ä¼šè‡ªåŠ¨åœ¨æœ€åŽå°†èµ„æºå…³é—­12345#!/usr/bin/python# Filename: using_with.pywith open("poem.txt") as f: for line in f: print(line,end='')]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 Function]]></title>
    <url>%2F%2FPython%2FPython%203%20Function%2F</url>
    <content type="text"><![CDATA[1. å‡½æ•°çš„å®šä¹‰å‡½æ•°é€šè¿‡ def å…³é”®å­—æ¥å®šä¹‰ã€‚def åŽè·Ÿä¸€ä¸ªå‡½æ•°åç§°ï¼Œç„¶åŽè·Ÿä¸€å¯¹åœ†æ‹¬å·ï¼Œè¡¨ç¤ºå‡½æ•°ã€‚æ³¨æ„ä¸è¦æ¼æŽ‰æ‹¬å·1234567#!/usr/bin/python# Filename: function1.pydef sayHello(): print('Hello, World!')sayHello() # è°ƒç”¨å‡½æ•° 2. å‡½æ•°å‚æ•°åœ¨å‡½æ•°å®šä¹‰çš„åœ†æ‹¬å·ä¸­å¯ä»¥æŒ‡å®šå½¢å‚ã€‚æ³¨æ„ï¼Œä¸éœ€è¦å£°æ˜Žå½¢å‚ç±»åž‹1234567def printMax(a, b): if a &gt; b: print(a, 'is maximum') elif a == b: print(a, 'is equal to', b) else: print(b, 'is maximum')æ³¨æ„ï¼ŒPython çš„æ–¹æ³•æ˜¯ Pass by referenceå…¶ä¸­ a, b æ˜¯å½¢å‚è¿™é‡Œç”±äºŽå½¢å‚ç±»åž‹ä¸ç¡®å®šï¼Œä¸€èˆ¬çš„ IDE æ— æ³•è¿›è¡Œæç¤ºã€‚æ‰€ä»¥å¯ä»¥ä½¿ç”¨å†’å·æŒ‡æ˜Žå…¶ç±»åž‹1def printMax(a:int, b:int): 3. å˜é‡ä½œç”¨åŸŸå‡½æ•°å†…å£°æ˜Žçš„å˜é‡ç§°ä½œå±€éƒ¨å˜é‡å¯ä»¥ä½¿ç”¨ global è¯­å¥æ¥è°ƒç”¨å’Œä¿®æ”¹å‡½æ•°å¤–éƒ¨å£°æ˜Žçš„å˜é‡ä½†æ˜¯ï¼Œä¸å»ºè®®ä½¿ç”¨ global è¯­å¥ã€‚åº”é€šè¿‡å…¶ä»–æ–¹å¼å®žçŽ°ã€‚éžå±€éƒ¨å˜é‡åœ¨åµŒå¥—å®šä¹‰å‡½æ•°çš„æƒ…å†µä¸‹ä¼šé‡åˆ°ã€‚é€šè¿‡ nonlocal æ¥è°ƒç”¨å¤–éƒ¨å‡½æ•°å®šä¹‰çš„å˜é‡1234567def funcOuter(): x = 2 print('x is ', x) def funcInner(): nonlocal x x = 5æœ‰æ¯’æ€§ï¼Œæœ€å¥½ä¸è¦è¿™ä¹ˆæž 4. é»˜è®¤å‚æ•°é€šè¿‡åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å¯¹å½¢å‚è¿›è¡ŒæŒ‡å®šï¼Œå¯ä»¥æŒ‡å®šé»˜è®¤å‚æ•°12def say(message, times = 1): print(message * times)åªæœ‰å½¢å‚è¡¨æœ«å°¾çš„å½¢å‚æ‰èƒ½æœ‰é»˜è®¤å‚æ•°12def func(a, b = 5) # Correctdef func(a = 5, b) # Wrong 5. å…³é”®å‚æ•°åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™å¯¹å½¢å‚è¿›è¡ŒæŒ‡å®šï¼Œå¯ä»¥å¿½ç•¥å½¢å‚é¡ºåºæŒ‡å®šå®žå‚123456def func(a, b = 5, c = 10): print('a is ', a, 'and b is ', b, 'and c is ', c)func(3, 7)func(25, c = 24)func(c = 50, a = 100) 6. ä¸å®šå‚æ•°é€šè¿‡åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™ä½¿ç”¨æ˜Ÿå·æ ‡è¯†å½¢å‚123456789101112#!/usr/bin/python# Filename: total.pydef total(initial = 5, *numbers, **keywords): count = initial for number in numbers: count += number for key in keywords: count += keywords[key] return countprint(total(10, 1, 2, 3, vegetables = 50, fruits = 100))å¸¦ä¸€ä¸ªæ˜Ÿå·çš„å‚æ•°èŒƒå›´å†…çš„å‚æ•°ä¼šè¢«æ”¶é›†ä¸ºä¸€ä¸ªåˆ—è¡¨å¦‚ä¸Šé¢çš„å‡½æ•°ä¼šå°† 1, 2, 3 æ”¶é›†ä¸ºä¸€ä¸ªå«åš numbers çš„åˆ—è¡¨ã€‚å¸¦ä¸¤ä¸ªæ˜Ÿå·çš„å‚æ•°èŒƒå›´å†…çš„å‚æ•°ä¼šè¢«æ”¶é›†ä¸ºä¸€ä¸ªå­—å…¸å¦‚ä¸Šé¢çš„å‡½æ•°ä¼šå°† vegetables = 50, fruits = 100 æ”¶é›†ä¸ºä¸€ä¸ªå«åš keywords çš„å­—å…¸ã€‚ 7. Keyword-only å‚æ•°åœ¨å¸¦æ˜Ÿå‚æ•°ä¹‹åŽçš„æ™®é€šå‚æ•°ä¼šæˆä¸º Keyword-only å‚æ•°ï¼Œå³åªèƒ½é€šè¿‡å…³é”®å‚æ•°å½¢å¼æ¥ä¼ é€’å®žå‚å‡å¦‚ä¸éœ€è¦ä¸å®šå‚æ•°è€Œåˆæƒ³ä½¿ç”¨ Keyword-only å‚æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨æ²¡æœ‰åå­—çš„ç©ºæ˜Ÿï¼Œå¦‚ä¸‹æ‰€ç¤º1234567&gt;&gt;&gt; def foo(a,b,*,c,d):... print(a,b,c,d)...&gt;&gt;&gt; foo(1,2,3,4)Traceback (most recent call last):File "&lt;stdin&gt;", line 1, in &lt;module&gt;TypeError: foo() takes exactly 2 positional arguments (4 given) 8. return è¯­å¥Python çš„å‡½æ•°é»˜è®¤ä¸ºæ²¡æœ‰è¿”å›žå€¼ä¸€ä¸ªæ²¡æœ‰è¿”å›žå€¼çš„å‡½æ•°çš„ return è¯­å¥ç­‰ä»·äºŽ return None 9. DocStringsè¿™ä¸€ç‰¹æ€§å¾ˆç±»ä¼¼ Java çš„ javadocã€‚ä¸Ž Java ä¸åŒçš„æ˜¯ï¼ŒPython çš„ DocStrings åœ¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªé€»è¾‘è¡Œå¤„å®šä¹‰ç‰¹ç‚¹å¦‚ä¸‹ï¼šä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œå¥å·ç»“å°¾ç¬¬äºŒè¡Œæ˜¯ç©ºè¡ŒPython çš„æ¯ä¸ªå‡½æ•°éƒ½æ‹¥æœ‰ __doc__ å±žæ€§ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨è¿™ä¸ªå±žæ€§æ¥æ˜¾ç¤º DocStringsåœ¨ DocStrings ä¸­å¯ä»¥ä½¿ç”¨ reStructureText çš„æ ¼å¼æ¥å®žçŽ° Javadoc ä¸­çš„ @parma @retrun åŠŸèƒ½1234567891011def foo(a, b): '''This is the foo function It is just a foo function :parma a: This is the parma a :type a: int :parma b: This is the parma b :type b: int ''' passä¹Ÿå¯ä»¥ä½¿ç”¨ Google çš„è§„èŒƒ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859def module_level_function(param1, param2=None, *args, **kwargs): """This is an example of a module level function. Function parameters should be documented in the ``Args`` section. The name of each parameter is required. The type and description of each parameter is optional, but should be included if not obvious. Parameter types -- if given -- should be specified according to `PEP 484`_, though `PEP 484`_ conformance isn't required or enforced. If \*args or \*\*kwargs are accepted, they should be listed as ``*args`` and ``**kwargs``. The format for a parameter is:: name (type): description The description may span multiple lines. Following lines should be indented. The "(type)" is optional. Multiple paragraphs are supported in parameter descriptions. Args: param1 (int): The first parameter. param2 (Optional[str]): The second parameter. Defaults to None. Second line of description should be indented. *args: Variable length argument list. **kwargs: Arbitrary keyword arguments. Returns: bool: True if successful, False otherwise. The return type is optional and may be specified at the beginning of the ``Returns`` section followed by a colon. The ``Returns`` section may span multiple lines and paragraphs. Following lines should be indented to match the first line. The ``Returns`` section supports any reStructuredText formatting, including literal blocks:: &#123; 'param1': param1, 'param2': param2 &#125; Raises: AttributeError: The ``Raises`` section is a list of all exceptions that are relevant to the interface. ValueError: If `param2` is equal to `param1`. .. _PEP 484: https://www.python.org/dev/peps/pep-0484/ """ if param1 == param2: raise ValueError('param1 may not be equal to param2') return True 10. æ³¨è§£(Annotations) 10.1 å‚æ•°æ³¨è§£Python çš„å‚æ•°æ³¨è§£å®šä¹‰åœ¨å½¢å‚å£°æ˜Žçš„ä½ç½®ï¼Œä¸Žå½¢å‚ä»¥æ‹¬å·é—´éš”ï¼Œç½®äºŽå‚æ•°é»˜è®¤å€¼ä¹‹å‰1def foo(a: "This is param a", b: "This is param b" = 5): 10.2 è¿”å›žå€¼æ³¨è§£Python çš„è¿”å›žå€¼æ³¨è§£å®šä¹‰åœ¨å‡½æ•°å¤´æœ«å°¾çš„å†’å·ä¹‹å‰ï¼Œä½¿ç”¨ -&gt; å’Œå‡½æ•°å¤´åˆ†éš”1def haul(item: Haulable, *vargs: PackAnimal) -&gt; Distance:æ³¨æ„ï¼Œæ³¨è§£å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ç±»åž‹ã€‚å¯ä»¥é€šè¿‡æ³¨è§£å®žçŽ°ç±»åž‹æ£€æŸ¥ 10.3 Lambda è¡¨è¾¾å¼Lambda è¡¨è¾¾å¼ä¸æ”¯æŒæ³¨è§£]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 IO]]></title>
    <url>%2F%2FPython%2FPython%203%20IO%2F</url>
    <content type="text"><![CDATA[1. ä½¿ç”¨ input() è¿›è¡Œè¾“å…¥Python3 ä½¿ç”¨ input() å‡½æ•°èŽ·å–ç”¨æˆ·è¾“å…¥ã€‚input() å‡½æ•°ä¼šè¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒéšåŽå¯ä»¥ä½¿ç”¨ int() float() ç­‰æ–¹æ³•å°†å­—ç¬¦ä¸²è½¬ä¸ºå¯¹åº”çš„ç±»åž‹æˆ–è€…æ ¼å¼åœ¨ Python 3 ä¸­ï¼Œraw_input() è¢«æ•´åˆåˆ° input() å‡½æ•°ä¸­ï¼ŒPython 2 çš„ input() å‡½æ•°çš„åŠŸèƒ½è¢«æŠ›å¼ƒäº†ã€‚ 2. æ–‡ä»¶è¾“å…¥è¾“å‡ºä¸Ž C++ å’Œ Java è¯»å–æ–‡ä»¶æµçš„å½¢å¼ä¸€æ ·ï¼ŒPython é€šè¿‡ä½¿ç”¨ file ç±»çš„å‡½æ•°æ¥å¯¹æ–‡ä»¶è¿›è¡Œè¯»å–å†™å…¥123456789101112131415161718poem = '''\ Programming is funWhen the work is doneif you wanna make your work also fun: use Python!'''f = open('poem.txt', 'w') # open for 'w'ritingf.write(poem) # write text to filef.close() # close the filef = open('poem.txt') # if no mode is specified, 'r'ead mode is assumed by defaultwhile True: line = f.readline() if len(line) == 0: # Zero length indicates EOF break print(line, end='')f.close() # close the fileä½¿ç”¨ open() æ‰“å¼€æ–‡ä»¶ï¼Œæ¨¡å¼è§„åˆ™å’Œ C++ çš„ç›¸åŒæ–‡ä»¶äº¤äº’å®Œæ¯•åŽï¼Œä½¿ç”¨ close() æ¥å…³é—­æ–‡ä»¶æµ 3. pickle æ¨¡å—Python æä¾›äº†ä¸€ä¸ª pickle çš„æ ‡å‡†æ¨¡å—ï¼Œç”¨äºŽå°†å¯¹è±¡å‚¨å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œç§°ä¸ºå¯¹è±¡çš„æŒä¹…åŒ–ä¿å­˜1234567891011121314151617181920#!/usr/bin/python# Filename: pickling.pyimport pickle# the name of the file where we will store the objectshoplistfile = 'shoplist.data'# the list of things to buyshoplist = ['apple','mango','carrot']# Write to the filef = open(shoplistfile,'wb')pickle.dump(shoplist, f) #dump the object to a file f.close()del shoplist # detroy the shoplist variable# Read back from the storagef = open(shoplistfile,'rb')storedlist = pickle.load(f) # load the object from the fileprint(storedlist)æ³¨æ„ï¼ŒæŒä¹…åŒ–ä¿å­˜è¦æ±‚ä½¿ç”¨äºŒè¿›åˆ¶æ¨¡å¼é€šè¿‡ dump() å’Œ load() å°±å¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œå¯¼å…¥å’Œå¯¼å‡º]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 3 Module]]></title>
    <url>%2F%2FPython%2FPython%203%20Module%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°æ¨¡å—æœ‰ç‚¹ç±»ä¼¼ C++ ä¸­çš„ Namespaceï¼Œä½†å¹¶ä¸å®Œå…¨ç›¸åŒ 2. å¯¼å…¥æ¨¡å—é€šè¿‡ä½¿ç”¨ import è¯­å¥æ¥å¯¼å…¥ä¸€ä¸ªæ¨¡å—è¿›è¡Œä½¿ç”¨12345678910#!/usr/bin/python# Filename: using_sys.pyimport sysprint ('The conmmand line arguments are:')for i in sys.argv: print(i)print('\n\nThe PYTHONPATH is', sys.path, '\n')åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé€šè¿‡ä½¿ç”¨ import sys å°±å¯ä»¥é€šè¿‡ sys.function çš„å½¢å¼æ¥è°ƒç”¨ sys æ¨¡å—ä¸­çš„å‡½æ•°å’Œå˜é‡ã€‚ç”¨æˆ·è‡ªå®šä¹‰æ¨¡å—åœ¨ç¬¬ä¸€æ¬¡å¯¼å…¥æ—¶ï¼Œä¼šç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶ï¼Œè¿™æ˜¯ Python å¤„ç†çš„ï¼Œå¯ä»¥æé«˜æ¨¡å—å¯¼å…¥çš„æ•ˆçŽ‡ã€‚è¿™äº›æ–‡ä»¶ä»¥ .pyc ä¸ºæ‰©å±•åï¼Œå¦‚æžœ Python æ²¡æœ‰å½“å‰ç›®å½•çš„è®¿é—®æƒé™ï¼Œé‚£ä¹ˆå°±ä¸ä¼šåˆ›å»º .pyc æ–‡ä»¶ç¬¬ä¸‰æ–¹æ¨¡å—å¯ä»¥é€šè¿‡ Python è‡ªå¸¦çš„ pip è¿›è¡Œå®‰è£…å¦å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨ from...import... è¯­å¥æ¥å¯¼å…¥è¯­å¥ï¼›å®ƒå’Œ import è¯­å¥çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯åœ¨æ¨¡å—å¯¼å…¥ä¹‹åŽï¼Œä¸ç”¨å†åœ¨è°ƒç”¨çš„æ—¶å€™å¡«å†™æ¨¡å—åç§°ã€‚1234567891011# Import statementimport sysprint(sys.path)# From...import... statementfrom sys import argvprint(argv)# If you want to import all the identifiers,# use this statement.form sys import *æ³¨æ„ï¼Œfrom...import * è¯­å¥ä¸ä¼šå¯¼å…¥ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´çš„æ ‡è¯†ç¬¦ï¼Œå¦‚ __version__ä¸€èˆ¬æ¥è¯´ï¼Œä¸å»ºè®®ä½¿ç”¨ from...import... è¯­å¥ 3. åˆ›å»ºæ¨¡å—åˆ›å»ºæ¨¡å—æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ç¼–å†™ .py æ–‡ä»¶ï¼›ä¸€ä¸ª .py æ–‡ä»¶å°±æ˜¯ä¸€ä¸ª Python æ¨¡å—ã€‚ä¾‹å¦‚ï¼š1234567#!/usr/bin/python# Filename: mymodule.py__version__ = '0.1'def sayHi(): print('Hi')Module Demo:1234567#!/usr/bin/python# Filename: mymodule_demo.pyimport mymodulemymodule.sayHi()print('Version', mymodule.__version__) 4. æ¨¡å—çš„é»˜è®¤å˜é‡æ¯ä¸ªæ¨¡å—éƒ½æœ‰å‡ ä¸ªé»˜è®¤å˜é‡ï¼Œå®ƒä»¬æ˜¯ç”± Python è‡ªåŠ¨æž„å»ºçš„ï¼›å¦‚ __name__ å˜é‡ï¼Œè¿™æ˜¯æ¨¡å—çš„åå­—ï¼ˆå³ .py æ–‡ä»¶çš„åå­—ï¼‰å¯ä»¥ä½¿ç”¨ __name__ å˜é‡æ¥æ£€æµ‹å…¶è‡ªèº«æ˜¯å¦æ˜¯ä½œä¸ºä¸»ç¨‹åºè¿è¡Œ1234567#!/usr/bin/python# Filename: using_name.pyif __name__ == '__main__': print('This program is being run by itself')else: print('I am being imported from another module')'__main__' æ˜¯ä¸»æ¨¡å—çš„åå­—ï¼Œä¹Ÿå°±æ˜¯ä¸»ç¨‹åºçš„æ–‡ä»¶å 5. dir() å‡½æ•°dir() å‡½æ•°æ˜¯å†…å»ºå‡½æ•°ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥åˆ—å‡ºæ¨¡å—å®šä¹‰çš„æ ‡è¯†ç¬¦ï¼ŒåŒ…æ‹¬å‡½æ•°ã€ç±»å’Œå˜é‡å¦‚æžœä¸æä¾›å‚æ•°ï¼Œåˆ™è¿”å›žå½“å‰æ¨¡å—ä¸­å®šä¹‰çš„åç§°åˆ—è¡¨12345&gt;&gt;&gt; a = [1, 2, 3, 4, 5]&gt;&gt;&gt; import fibo&gt;&gt;&gt; fib = fibo.fib&gt;&gt;&gt; dir()['__builtins__', '__name__', 'a', 'fib', 'fibo', 'sys']ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œä¸»æ¨¡å—å…·æœ‰ __buitins__ å¯¹è±¡ï¼Œå®žé™…ä¸Šè¿™å°±æ˜¯ Python çš„å†…å»ºå‡½æ•°å’Œç±»dir() å‡½æ•°ä¸€èˆ¬ä¸ä¼šå°†å†…å»ºå‡½æ•°åˆ—å‡ºï¼Œå¦‚æžœéœ€è¦æŸ¥çœ‹ï¼Œå¯ä»¥é€šè¿‡ dir(builtins) æŸ¥çœ‹ 6. åŒ…(Package)åŒ…æ˜¯æ¨¡å—çš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«äº†å¾ˆå¤šæ¨¡å—ï¼›åŒæ—¶ä¸€ä¸ªåŒ…ä¹Ÿå¯ä»¥åŒ…å«å¦ä¸€ä¸ªåŒ…ã€‚ä¸€ä¸ªåŒ…å¿…é¡»åŒ…å« __init__.py æ–‡ä»¶ï¼Œä»¥å… Python å°†åŒ…è¯†åˆ«ä¸ºæ™®é€šç›®å½•å¯ä»¥ä½¿ç”¨ç‚¹å·æ¥è®¿é—®åˆ°åŒ…ä¸­çš„æ¨¡å—ä¾‹å¦‚ï¼š1234567891011121314151617181920212223sound/ Top-level package __init__.py Initialize the sound package formats/ Subpackage for file format conversions __init__.py wavread.py wavwrite.py aiffread.py aiffwrite.py auread.py auwrite.py ... effects/ Subpackage for sound effects __init__.py echo.py surround.py reverse.py ... filters/ Subpackage for filters __init__.py equalizer.py vocoder.py karaoke.py ...å…³äºŽ __init__.py:ä¸€ä¸ªåŒ…å¿…é¡»åŒ…å«è¿™ä¸ªæ–‡ä»¶è¿™ä¸ªæ–‡ä»¶å¯ä»¥æ˜¯ç©ºçš„ï¼Œä¹Ÿå¯ä»¥åšä¸€äº›åŒ…çš„åˆå§‹åŒ–å·¥ä½œï¼Œæ¯”å¦‚å®šä¹‰ __all__ å˜é‡ 6.1 å¯¼å…¥åŒ…åŒ…çš„å¯¼å…¥æœ‰å¦‚ä¸‹å‡ ç§å½¢å¼ï¼šä½¿ç”¨ import è¯­å¥ä¾‹å¦‚ import sound.effects.echo, å°† sound/effects/echo æ¨¡å—å¯¼å…¥ï¼›ä½¿ç”¨æ–¹æ³•ä¸º sound.effects.echo.echofilter(input, output, delay = 0.7, atten = 4ä½¿ç”¨ from package import itemåœ¨åŒ…(Package)å±‚é¢ï¼ŒPython æŽ¨èè¿™ä¹ˆå¯¼å…¥ï¼Œä¸»è¦çš„ä¼˜ç‚¹åœ¨äºŽèƒ½å¤Ÿå‡å°‘æ²¡æœ‰å¿…è¦çš„å‰ç¼€ä¿®é¥°ã€‚ä¾‹å¦‚ï¼š from sound.effects import echo å°† echo æ¨¡å—å¯¼å…¥ä½¿ç”¨æ–¹æ³•ä¸ºï¼šecho.echofilter(input, output, delay = 0.7, atten = 4)è¡¥å……ï¼šå…³äºŽ from package import * å’Œ __all__ å˜é‡__all__ å˜é‡é€šå¸¸åœ¨ __init__.py æ–‡ä»¶ä¸­å®šä¹‰ï¼Œç”¨äºŽæŒ‡å®šå…è®¸ import * è¯†åˆ«çš„æ ‡è¯†ç¬¦ï¼Œå³å…è®¸å¯¼å‡ºçš„æ ‡è¯†ç¬¦ï¼›å¦‚æžœæ²¡æœ‰æŒ‡å®šè¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨ import * æ—¶ä¾¿ä¼šè‡ªåŠ¨å¿½ç•¥ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„æ ‡è¯†ç¬¦å†…åŒ…å¯¼å…¥å¯¹äºŽåŒ…ä¸­çš„æ¨¡å—ï¼Œåœ¨å¯èƒ½éœ€è¦åˆ°å¦ä¸€ä¸ªå…„å¼ŸåŒ…æ¨¡å—çš„æ—¶å€™ï¼Œç”±äºŽå®ƒä»¬å¤„åœ¨åŒä¸€ä¸ªç›®å½•ç»“æž„ä¸­ï¼Œæ‰€ä»¥å¯ä»¥ç®€å•åœ°çœç•¥ä¸€äº›å‰ç¼€ã€‚Python åœ¨å¯¼å…¥åŒ…æ—¶ï¼Œé¦–å…ˆä¼šæœå¯»å½“å‰ç›®å½•ï¼Œå¦‚æžœæœç´¢ä¸åˆ°ï¼Œåˆ™å†åˆ°ç³»ç»Ÿ PATH ä¸­è¿›è¡Œæœç´¢ä¾‹å¦‚ srround æƒ³è¦åˆ©ç”¨ echo æ¨¡å—ï¼Œåˆ™ç›´æŽ¥ç®€å•åœ° import echo å³å¯ã€‚åœ¨ Python 2.5 ä¹‹åŽï¼Œå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„è¿›è¡ŒåŒ…å¯¼å…¥ï¼Œä¾‹å¦‚ï¼š12345# ä¸€ä¸ªç‚¹ä»£è¡¨å½“å‰ç›®å½•# ä¸¤ä¸ªç‚¹ä»£è¡¨çˆ¶ç›®å½•from . import echofrom .. import formatsfrom ..filters import equalizerç›®å‰ï¼ŒPython æŽ¨èä½¿ç”¨ from package import item çš„åŒ…å±‚é¢å¯¼å…¥ï¼Œå’Œ import module çš„æ¨¡å—å±‚é¢å¯¼å…¥æ–¹æ³•ï¼Œèƒ½æ›´å¥½åœ°é¿å…å†—ä½™å’Œå˜é‡åç§°å†²çªã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç‰¹æ®Šå‘éŸ³]]></title>
    <url>%2F%2FJapanese%2F%E7%89%B9%E6%AE%8A%E5%8F%91%E9%9F%B3%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ç‰¹æ®Šå‘éŸ³æŒ‡çš„æ˜¯åœ¨å‘éŸ³è¿‡ç¨‹ä¸­ï¼Œä¸€äº›äº”åéŸ³çš„å‘éŸ³æ–¹å¼è¦å‘ç”Ÿæ”¹å˜çš„æƒ…å†µã€‚åŒ…æ‹¬æµŠéŸ³ã€åŠæµŠéŸ³ã€æ‹—éŸ³ã€ä¿ƒéŸ³å’Œé•¿éŸ³ï¼Œä»¥åŠåŒä¸€ä¸ªå‡åå¯èƒ½åœ¨ä¸åŒåœºæ™¯ä¸‹éœ€è¦éŸ³å˜çš„æƒ…å†µã€‚ 2. æµŠéŸ³æµŠéŸ³å€¼å¾—æ˜¯ ã€ŒãŸã€ã€Œã•ã€ã€Œã‹ã€ã€Œã¯ã€è¡Œå‡åæ´¾ç”Ÿå‡ºæ¥çš„ï¼Œå…·ä½“çš„æµŠåŒ–éŸ³å’Œè‹±è¯­çš„æµŠåŒ–å·®ä¸å¤šï¼šta -&gt; da; sa -&gt; za; ka -&gt; ga;ã‚ã„ã†ãˆãŠãŒãŽãã’ã”ã‚¬ã‚®ã‚°ã‚²ã‚´ã–ã˜ãšãœãžã‚¶ã‚¸ã‚ºã‚¼ã‚¾ã ã¢ã¥ã§ã©ãƒ€ãƒ‚ãƒ…ãƒ‡ãƒ‰ã°ã³ã¶ã¹ã¼ãƒãƒ“ãƒ–ãƒ™ãƒœ 2.1 é¼»æµŠéŸ³ç‰¹åˆ«æ³¨æ„ï¼Œå½“ ã€ŒãŒã€è¡Œä½äºŽ å¥ä¸­æˆ–è€…å¥æœ« æ—¶ï¼Œå‘é¼»æµŠéŸ³ã€‚å³åœ¨å‘ ã€ŒãŒã€æ—¶ï¼Œå…ˆå‘ ã€Œã‚“ã€çš„éŸ³ã€‚å½“ ã€ŒãŒã€è¡Œä½äºŽè¯é¦–çš„æ—¶å€™ï¼Œåªå‘æ™®é€šçš„æµŠéŸ³ï¼Œè€Œä¸æ˜¯é¼»æµŠéŸ³ã€‚å½“ ã€ŒãŒã€ç”¨ä½œ åŠ©è¯ æ—¶ï¼Œä¹Ÿå‘ é¼»æµŠéŸ³å…·ä½“å¯ä»¥å‚è€ƒæ­¤è§†é¢‘é“¾æŽ¥ 2.2 åŠæµŠéŸ³éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ€åŽä¸€ä¸ª ã€Œã¯ã€çš„æµŠåŒ–ã€‚æœ‰æµŠéŸ³å’Œ åŠæµŠéŸ³ çš„åŒºåˆ«ã€‚ã€Œã¯ã€çš„æµŠéŸ³å°±æ˜¯ ha -&gt; ba (ã€Œã°ã€)è€Œ ã€Œã¯ã€çš„åŠæµŠéŸ³æ˜¯ ha -&gt; pa (ã€Œã±ã€)æ³¨æ„å‡åå³ä¸Šè§’æ ‡æ³¨çš„ä¸åŒï¼ŒæµŠéŸ³æ ‡æ³¨ä¸¤ç‚¹ï¼Œè€ŒåŠæµŠéŸ³æ ‡æ³¨ä¸€ä¸ªåœˆ 3. é€æ°”éŸ³å’Œä¸é€æ°”éŸ³é€æ°”éŸ³æ˜¯ ã€Œã‹ã€ã€ŒãŸã€ã€Œã±ã€è¡Œå‡åç‰¹æœ‰çŽ°è±¡ã€‚ä¸»è¦æ˜¯ä¸ºäº†æ»¡è¶³è¾ƒå¿«çš„è¯­é€Ÿï¼Œä¿è¯è¯´è¯çš„è¿žè´¯æ€§ã€‚å½“è¿™äº›å‡åä¸åœ¨è¯é¦–ã€å¥é¦–æ—¶ï¼Œå‘ä¸é€æ°”éŸ³ã€‚å³ï¼Œ å‘éŸ³ä¸å˜ï¼Œå°†é€æ°”é‡å‡å°‘ï¼Œå¬èµ·æ¥å°±ä¼šåƒæµŠéŸ³ï¼Œä½†æ˜¯å®žé™…ä¸Šè¿˜æ˜¯æ¸…éŸ³æˆ–è€…åŠæµŠéŸ³ã€‚è¿™é‡Œè¦å¤šå¤šç»ƒä¹ æ‰èƒ½æŽŒæ¡ï¼Œæ³¨æ„å¤šå¬å¤šç»ƒï¼Œé‡ç‚¹åœ¨ æ°”æµé‡çš„å‡å°‘ è€Œéž å‘éŸ³çš„æ”¹å˜ï¼Œä¸ç„¶ä¼šå¯¼è‡´ ã€Œã‹ã€ã€ŒãŒã€ä¸åˆ†ã€‚ 4. æ¯éŸ³æ— å£°åŒ–æ¯éŸ³æ— å£°åŒ–æŒ‡çš„æ˜¯åœ¨ä¸€äº›æƒ…å†µä¸‹ çœç•¥å…ƒéŸ³ï¼Œè€Œåªä¿ç•™æ°”éŸ³çš„çŽ°è±¡ã€‚è¿™ä¹Ÿæ˜¯ä¸ºæ—¥è¯­çš„é«˜è¯­é€Ÿè€ŒæœåŠ¡çš„ã€‚ 4.1 ã€Œã„ã€ã€Œã†ã€ç»“å°¾ + æ— å£°å­éŸ³æ— å£°å­éŸ³æŒ‡çš„æ˜¯å£°å¸¦ä¸éœ‡åŠ¨çš„æ°”éŸ³ã€‚åŒ…æ‹¬ ã€Œã‹ã€ã€Œã•ã€ã€ŒãŸã€ã€Œã¯ã€ã€Œã±ã€è¡Œï¼Œä»¥åŠæ‹—éŸ³ ãã‚ƒè¡Œã€ã—ã‚ƒè¡Œã€ã¡ã‚ƒè¡Œã€ã²ã‚ƒè¡Œã€ã´ã‚ƒè¡Œå¦‚æžœé‡åˆ° ã€Œã„ã€ã€Œã†ã€ç»“å°¾çš„è¯åŠ ä¸Šæ— å£°å­éŸ³ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆæ¯éŸ³æ— å£°åŒ–ã€‚å…¶æœ€ä¸»è¦çš„ç‰¹å¾å°±æ˜¯å‘å‰é¢çš„è¯æ—¶ï¼Œ å£°å¸¦ä¸ä¼šéœ‡åŠ¨ï¼å…·ä½“å¯ä»¥çœ‹è¿™ä¸ªè§†é¢‘ 4.2 ã€Œã„ã€ã€Œã†ã€å‡åç»“å°¾æ—¶æ¯”å¦‚è¯´å¸¸è§çš„ ã§ã™ å’Œ ã¾ã™ï¼Œå…¶ä¸­çš„ ã™ å°±ä¼šå‡ºçŽ°æ¯éŸ³æ— å£°åŒ–ã€‚å¿µåš ã€Œï½“ã€è€Œä¸æ˜¯ ã€Œsuã€ã€‚æ³¨æ„ ã™ çš„è¯»éŸ³ä¹Ÿæœ‰æ¯”è¾ƒéš¾å‘çš„åœ°æ–¹ï¼Œæ³¨æ„è¯»å‡† 5. ä¿ƒéŸ³ä¿ƒéŸ³æŒ‡çš„æ˜¯ ã£ ï¼Œå…¶æœ¬èº« ä¸å‘éŸ³ï¼Œä½†æ˜¯å ç”¨è¯è¯­çš„ä¸€ä¸ªèŠ‚æ‹ã€‚æ‰€è°“èŠ‚æ‹ï¼Œå°±æ˜¯æœ‰ä¿ƒéŸ³çš„ï¼Œè¯»çš„æ—¶å€™ï¼Œä¿æŒå£åž‹ï¼Œä¸å‘éŸ³ï¼Œç­‰ä¸€é˜µå­å†å‘ä¸‹ä¸€ä¸ªå‡åã€‚å…·ä½“çœ‹ http://www.learnjapanese.aiyori.org/hiragana-sokuon.html 6. é•¿éŸ³é•¿éŸ³æŒ‡çš„æ˜¯ å°†å‰ä¸€ä¸ªå­—æ¯çš„éŸ³æ‹‰é•¿ä¸€æ‹ï¼Œå’Œä¿ƒéŸ³ç›¸åã€‚åœ¨ å†™æ³•ä¸Šï¼Œæœ‰å¦‚ä¸‹è§„åˆ™ï¼šæ¯éŸ³é‡å¤å¦‚ ã€Œã‚ã€ã€Œã„ã€ã€Œã†ã€åªéœ€è¦é‡å¤å‡åå³å¯ã€Œãˆã€æ®µåŠ ã€Œã„ã€å¦‚ ã€Œãã‚Œã„ã€ç¾Žä¸½çš„ã€ŒãŠã€æ®µåŠ ã€Œã†ã€å¦‚ ã€ŒãŠã¨ã†ã•ã‚“ã€çˆ¶äº²ç‰‡å‡åä½¿ç”¨ã€Œãƒ¼ã€è¡¨ç¤ºæ—¥æ–‡è¾“å…¥æ³•è¾“å…¥å‡å·å³å¯æ³¨æ„ï¼Œã€Œãˆã€å’Œ ã€ŒãŠã€ä¼šå‡ºçŽ°æ¯éŸ³é‡å¤çŽ°è±¡ï¼Œå¦‚ ã€ŒãŠãŠã„ã€ã€‚åŒæ—¶ï¼Œã€Œãˆã€æ®µæœ‰æ—¶ä¹Ÿæœ‰åŠ ã€Œãˆã€çš„æƒ…å†µï¼Œå¦‚ ã€ŒãŠã­ãˆã•ã‚“ã€å¯èƒ½éœ€è¦æ€»ç»“å½’çº³ã€‚ 7. æ‹—éŸ³æ‹—éŸ³æ˜¯ ã€Œã‚¤ã€æ®µå‡åçš„ç‰¹æœ‰çŽ°è±¡ï¼Œæ­¤æ®µå‡ååŠ ä¸Š ã‚‡ãƒ»ã‚ƒãƒ»ã‚‡ å³ç»„æˆæ‹—éŸ³ã€‚æ³¨æ„æ‹—éŸ³çš„å­—è¦ç¼©å°ã€‚æ‹—éŸ³è¿žæˆä¸€ä¸ªéŸ³èŠ‚æ¥è¯»ï¼Œè€Œä¸æ˜¯åˆ†å¼€ä¸¤ä¸ªéŸ³èŠ‚ï¼Œç›¸å¯¹æ¥è¯´è¾ƒä¸ºç®€å•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‹—éŸ³çš„ç½—é©¬å­—ä¼šçœç•¥æŽ‰ iï¼Œå¦‚ ã€Œãã‚ƒã€çš„ç½—é©¬å­—æ˜¯ã€Œkyaã€ï¼Œåœ¨æ‰“å­—æ—¶æ³¨æ„å³å¯ã€‚å¦‚æžœè¦å•ç‹¬æ‰“åŽé¢çš„ç¼©å°çš„å­—ï¼Œé‚£ä¹ˆåœ¨å‡åå‰é¢åŠ ä¸Š x å³å¯ï¼Œå¦‚ ã‚ƒ ä½¿ç”¨ ã€Œxyaã€å³å¯ã€‚ 8. åŠ©è¯éŸ³å˜ä¸€äº›å‡ååœ¨ç”¨ä½œåŠ©è¯æ—¶ï¼Œä¼šå‘ç”ŸéŸ³å˜çŽ°è±¡ï¼Œæ¯”å¦‚ï¼šã€Œã¯ã€-&gt; ã€Œã‚ã€ã€Œã¸ã€-&gt; ã€Œãˆã€]]></content>
      <categories>
        <category>Japanese</category>
      </categories>
      <tags>
        <tag>Japanese</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨è¯å˜åŒ–å½¢å¼]]></title>
    <url>%2F%2FJapanese%2F%E5%8A%A8%E8%AF%8D%E5%8F%98%E5%8C%96%E5%BD%A2%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[1. æ•¬ä½“å½¢å¼(ã¾ã™å½¢) 2. è¿žç”¨å½¢å®žé™…ä¸Šå°±æ˜¯ ã¾ã™ å½¢åŽ»æŽ‰ ã¾ã™ï¼Œå°±æ˜¯åŠ¨è¯è¿žç”¨å½¢ã€‚ 2.1 æ•¬ä½“æ³¨æ„ï¼Œè¿™é‡Œçš„æ•¬ä½“æ—¶æ€å˜å½¢éƒ½æ˜¯å±žäºŽæ•¬ä½“ã€‚ä¸­é¡¿å½¢ç”¨çš„æ¯”è¾ƒå°‘ã€‚å§‹ã‚ã¾ã—ã¦ 2.2 åè¯åŠ¨è¯è¿žç”¨å½¢å°±æ˜¯åŠ¨è¯çš„ åè¯å½¢å¼ã€‚é€šå¸¸å’Œ ã« è¿žç”¨ï¼Œè¡¨ç¤ºç›®çš„ã€‚ã« ä½œä¸ºåŠ©è¯åªèƒ½æŽ¥åè¯ï¼Œè¡¨ç¤ºç›®çš„æ—¶ï¼Œåªèƒ½ä½¿ç”¨åŠ¨è¯çš„åè¯å½¢å¼ï¼Œå³è¿žç”¨å½¢ã€‚ 2.3 æž„æˆå¤åˆè¯ 3. å¦å®šå½¢ç”±åŠ¨è¯åŽŸå½¢å˜åŒ–è€Œæ¥ 4. æ„å¿—å½¢(æƒ³è¦åš)ç”¨ä½œç¬¬äºŒäººç§°æ—¶ï¼Œä¸»è¦è¡¨è¾¾åŠè¯±å’Œå»ºè®®çš„æ„ä¹‰ã€‚æ³¨æ„ï¼Œæ„å¿—å½¢å’ŒæŽ¨é‡å½¢æœ‰åŒºåˆ«ï¼ŒæŽ¨é‡å½¢è¡¨ç¤º æŽ¨æµ‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæŽ¨é‡å½¢ä¸èƒ½ç”¨äºŽç¬¬äºŒäººç§°ï¼Œè€Œæ„å¿—å½¢ä¸èƒ½ç”¨äºŽç¬¬ä¸‰äººç§°ã€‚ 5. ãŸ å½¢/ã¦ å½¢ 5.1 éŸ³å˜è§„å¾‹ä»…ä»…é€‚ç”¨äºŽäº”æ®µåŠ¨è¯ 5.2 ä½œç”¨ãŸ å½¢è¡¨ç¤º å®Œæˆæ—¶å’Œè¿‡åŽ»å¼ã¦ å½¢è¡¨ç¤º ä¸­é¡¿ï¼Œå¦‚æžœæœ‰ä¸¤ä¸ªåŠ¨è¯éœ€è¦éš”å¼€æ¥è¯´ï¼Œé‚£ä¹ˆä½¿ç”¨ ã¦ å½¢ 6. å‡å®šå½¢(å¦‚æžœ)ç›´æŽ¥ä½¿ç”¨ å°¾å˜ ãˆ æ®µ + ã° å³å¯ï¼Œä¸éœ€è¦åŒºåˆ†ã€‚ 6.1 å‡å®šå½¢è¡¨è¾¾æ–¹å¼å‡å®šå½¢è¡¨è¾¾æ–¹å¼æœ‰å››ç§ï¼š ã¨ã€ã°ã€ãªã‚‰ã€ãŸã‚‰ 6.1.1 ã¨ å½¢å¼å‰é¢çš„åŠ¨ä½œå‘ç”Ÿä¹‹åŽï¼Œå°± ä¸€å®šä¼š (100%) å‘ç”ŸåŽé¢çš„åŠ¨ä½œï¼›è¡¨ç¤ºä¸€ç§è‡ªç„¶çŠ¶æ€å’Œå¿…å®šå‘ç”Ÿçš„äº‹æƒ…ã€‚ä½¿ç”¨ åŠ¨è¯åŽŸå½¢ã€å¦å®šå½¢ + ã¨ã‚³ã‚¤ãƒ³ã‚’å…¥ ã„ ã‚Œã‚‹ã¨ã€ç¼¶ (ã‹ã‚“) ãƒ“ãƒ¼ãƒ«ãŒå‡º ã§ ã‚‹ 6.1.2 ã° å½¢å¼ä¸»è¦æ˜¯å›ºå®šæ­é…ã€è°šè¯­å’ŒæŽ¥ç‰¹å®šçš„åŠ¨è¯ï¼ŒåŸºæœ¬å±žäºŽå›ºå®šæ­é…ã€‚å°±æ˜¯ä¸Šé¢çš„ PPT çš„å½¢å¼ã€‚å¹³ (ã¸ã„) æ—¥ (ã˜ã¤) ã¯å­¦ (ãŒã£) æ ¡ (ã“ã†) ã«è¡Œ ã„ ã‹ãªã‘ã‚Œã°ãªã‚‰ãªã„ç ” ã‘ã‚“ ç©¶ ãã‚…ã† ã™ã‚Œã°ã™ã‚‹ã»ã©ã€é¢ ãŠã‚‚ ç™½ ã—ã‚ ããªã‚‹ã€‚ä½ ã™ ã‚ã°éƒ½ ã¿ã‚„ã“ ã€‚è¡¨ç¤ºä¹ æƒ¯äº†éƒ½æ˜¯å¥½åœ°æ–¹ ï¼ˆè°šè¯­ï¼‰å–‰ ã®ã© å…ƒ ã‚‚ã¨ éŽ ã™ ãŽã‚Œã°ç†± ã‚ã¤ ã•ã‚’å¿˜ ã‚ã™ ã‚Œã‚‹ã€‚æ¯”å–»äº«ä¹æ—¶å€™å°±ä¼šå¿˜äº†ä»¥å‰çš„è‰°è¾›éº ã˜ã‚ƒ ã‚ã‚Œã°é¦™ ã‹ã‚“ã° ã—ã€‚æ¯”å–»æœ‰å®žåŠ›çš„äººæœ€ç»ˆéƒ½èƒ½å¾—åˆ°è®¤åŒã“ã®ä»• ã— äº‹ ã”ã¨ ã¯ã‚„ã‚Œã°ã§ãã‚‹ã¨æ€ ãŠã‚‚ ã†ã€‚å…ˆ ã›ã‚“ ç”Ÿ ã›ã„ ã«èž ã ã‘ã°åˆ† ã‚ ã‹ã‚‹ã€‚å­¦ ãŒã ç”Ÿ ã›ã„ ã¯ã¡ã‚ƒã‚“ã¨å®¿ ã—ã‚…ã é¡Œ ã ã„ ã‚’ã™ã‚Œã°ã„ã„æŽ¥ç‰¹å®šçš„åŠ¨è¯ï¼Œä¸»è¦æœ‰ã‚„ã‚Œã°èžã‘ã°ã™ã‚Œã°å›ºå®šæ­é…ï¼Œä¸»è¦æœ‰ã€œ ã° ã€œ ã»ã©è¶Šâ€¦ å°±è¶Š â€¦å¦å®šå½¢åŽ» ã„ ï¼‹ ã‘ã‚Œã°ãªã‚‰ãªã„ä¸â€¦çš„è¯ï¼Œå°±ä¸è¡Œã€‚å‰©ä¸‹çš„éƒ½è¡¨ç¤º å¿…ç„¶ç»“æžœ 6.1.3 ãªã‚‰ å½¢å¼å‡è®¾å‰é¢çš„åŠ¨ä½œ å°šæœªè¿›è¡Œï¼Œè€Œç»™äºˆåŽé¢çš„å»ºè®®å’Œæ„è§ã€åŽæžœã€‚ç”¨æ³•ï¼š åŠ¨è¯åŽŸå½¢ã€å¦å®šå½¢ã€åè¯ + ãªã‚‰æ³¨æ„ä¸éœ€è¦å˜åŒ–ï¼Œåªä½¿ç”¨åŽŸå½¢å³å¯ã€‚é€šå¸¸åªæŽ¥åŽŸå½¢ã€‚ã‚¹ãƒ¼ãƒ‘ãƒ¼ã«è¡Œ ã„ ããªã‚‰ã€ãƒ¡ãƒ­ãƒ³ã‚’è²· ã‹ ã£ã¦ãã¦ãã ã•ã„ 6.1.4 ãŸã‚‰ å½¢å¼åŠ¨è¯ ãŸ å½¢ + ãªã‚‰ çš„çœç•¥ã€‚è¡¨ç¤º å¦‚æžœäº‹æƒ…å·²ç»å‘ç”Ÿäº†ï¼Œè€Œå¯¹åŽæ–¹çš„æ•ˆæžœã€åŽæžœã€‚(å·²ç»å‘ç”Ÿäº†) çš„è¯â€¦å°±â€¦ç”¨æ³•ï¼š åŠ¨è¯ ãŸ å½¢ + ã‚‰å­¦ ãŒã£ æ ¡ ã“ã† ã«è¡Œ ã„ ã£ãŸã‚‰ã€å…ˆ ã›ã‚“ ç”Ÿ ã›ã„ ã«ä¼‘ ã‚„ã™ ã¿ã®ã“ã¨ã‚’ä¼ ã¤ãŸ ãˆã¦ãã ã•ã„åˆ°äº†å­¦æ ¡ä¹‹åŽï¼Œå’Œè€å¸ˆè¯´ä¼‘å‡çš„äº‹æƒ…ã€‚ 6.1.5 ãªã‚‰ å’Œ ãŸã‚‰ çš„åŒºåˆ«ãªã‚‰è¡¨ç¤ºå‰é¢çš„åŠ¨ä½œ å°šæœªè¿›è¡Œï¼Œå¤šç”¨äºŽè¡¨ç¤ºå»ºè®®ãŸã‚‰è¡¨ç¤ºå‰é¢çš„åŠ¨ä½œ å·²ç»è¿›è¡Œä½†æ˜¯åœ¨æŽ¥å½¢å®¹è¯å’Œåè¯ï¼ŒåŒºåˆ«ä¸å¤§ã€‚è¿˜æœ‰å°±æ˜¯ ãªã‚‰ æ¯”è¾ƒæ­£å¼åŒ–ï¼Œè€Œ ãŸã‚‰ æ¯”è¾ƒå£è¯­åŒ–ï¼›éœ€è¦æ³¨æ„çš„å°±æ˜¯å®ƒä»¬åœ¨æŽ¥åŠ¨è¯çš„åŒºåˆ«ã€‚ 7. å‘½ä»¤å½¢è¯­æ³•ä¸Šæ¯”è¾ƒå‡¶æ‚ï¼Œå¤§å¤šæ•°æƒ…å†µä¸è¦ä½¿ç”¨ã€‚ä¸€æ®µåŠ¨è¯ä¸­çš„ ã‚ˆ æ˜¯ä¸€ä¸ª ä¹¦é¢ç”¨è¯­ï¼Œå£è¯­ä¸­ä¸€èˆ¬ä¸ç”¨ã€‚ 7.1 å‘½ä»¤çš„è¡¨è¾¾æ–¹å¼æœ€åŽä¸€ç§æ˜¯ å¦å®šå½¢å¼ çš„å‘½ä»¤è¡¨è¾¾ã€‚åœ¨è¿™é‡Œæ˜¯åŒé‡å¦å®šï¼Œæ³¨æ„åŒºåˆ†ã€‚]]></content>
      <categories>
        <category>Japanese</category>
      </categories>
      <tags>
        <tag>Japanese</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªåŠ¨è¯å’Œä»–åŠ¨è¯]]></title>
    <url>%2F%2FJapanese%2F%E8%87%AA%E5%8A%A8%E8%AF%8D%E5%92%8C%E4%BB%96%E5%8A%A8%E8%AF%8D%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ç›¸å½“äºŽè‹±è¯­ä¸­çš„åŠç‰©åŠ¨è¯å’Œä¸åŠç‰©åŠ¨è¯ã€‚è‡ªåŠ¨è¯æ˜¯ä¸åŠç‰©çš„ï¼›ä»–åŠ¨è¯æ˜¯åŠç‰©çš„ã€‚ 2. ç”¨æ³•åŒºåˆ«è¿™é‡Œæœ‰ä¸ªè€ƒç‚¹ï¼Œå°±æ˜¯è‡ªä»–åŠ¨è¯çš„ç”¨æ³•åŒºåˆ«ä¸»è¯­ ãŒ + è‡ªåŠ¨è¯è‡ªåŠ¨è¯å‰é¢çš„æ ¼åŠ©è¯æ˜¯ ãŒä¸»è¯­ ãŒ + å®¾è¯­ ã‚’ + ä»–åŠ¨è¯ä»–åŠ¨è¯å‰é¢çš„æ ¼åŠ©è¯æ˜¯ ã‚’ã‚’ åŽé¢è¿˜å¯ä»¥æŽ¥è‡ªåŠ¨è¯ï¼Œè¡¨ç¤ºç»è¿‡ã€ç¦»å¼€ã€‚ 3. æŒ‰ç…§æ„æ€åŒºåˆ†é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§æ„æ€æ¥åŒºåˆ†ã€‚å¦‚æžœåŠ¨ä½œå¯ä»¥ è‡ªç„¶å‘ç”Ÿï¼Œä¸éœ€è¦å¤–åŠ›å¸®åŠ©ï¼Œé‚£ä¹ˆå°±æ˜¯è‡ªåŠ¨è¯ã€‚æ¯”å¦‚è¯´ï¼Œé›¨ãŒé™ã‚‹ è¿™é‡Œçš„ é™ã‚‹ æ˜¯è‡ªåŠ¨è¯ï¼›è€Œ æ–™ç†ã‚’é£Ÿã¹ã‚‹ ä¸­çš„ é£Ÿã¹ã‚‹ å°±æ˜¯ä»–åŠ¨è¯ã€‚é›¨æ˜¯è‡ªç„¶è½ä¸‹çš„ï¼Œä¸å­˜åœ¨å¤–åŠ›ï¼›æ–™ç†æ˜¯è¢«åƒçš„ï¼Œå­˜åœ¨å¤–åŠ›ã€‚ 4. è‡ªä»–åŠ¨è¯æŒ‰ç…§è¯´è¯ç«‹åœºæœ‰æ‰€ä¸åŒä¾‹å¦‚ï¼Œå¼€é—¨ é–‹ã æ˜¯è‡ªåŠ¨è¯ï¼›è€Œ é–‹ã‘ã‚‹ æ˜¯ä»–åŠ¨è¯ã€‚åŒºåˆ«åœ¨äºŽè¯´è¯äººç«‹åœºä¸åŒï¼Œé–‹ã æŒ‡çš„æ˜¯ä¹˜å®¢çœ‹åˆ°ç”µè½¦é—¨æ‰“å¼€äº†ï¼Œæ­¤æ—¶å¯¹äºŽ ä¹˜å®¢è€Œè¨€ï¼Œè½¦é—¨æ‰“å¼€ä¸ä¾é å¤–åŠ›ï¼›è€Œ é–‹ã‘ã‚‹ æŒ‡çš„æ˜¯ï¼Œç”µè½¦å¸æœºæŠŠé—¨æ‰“å¼€äº†ï¼Œæ­¤æ—¶ å¯¹äºŽç”µè½¦å¸æœºè€Œè¨€ï¼Œè½¦é—¨æ‰“å¼€ä¾é å¤–åŠ›æŒ‡å‘ã€‚ 5. åŒºåˆ†æŠ€å·§å¯¹äºŽåŒä¸ªæ„æ€çš„è‡ªä»–åŠ¨è¯ï¼Œç§°ä¸ºä¸€å¯¹è‡ªä»–åŠ¨è¯ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§åŒºåˆ†æŠ€å·§ã€‚ 5.1 æŠ€å·§ä¸€ã‚ æ˜¯è‡ªåŠ¨è¯ï¼Œ ãˆ æ˜¯ä»–åŠ¨è¯æ³¨æ„ï¼Œå­˜åœ¨åä¾‹ï¼Œä¸ä¸€å®šæ­£ç¡®ã€‚ 5.2 æŠ€å·§äºŒã™ ç»“å°¾çš„åŠ¨è¯ï¼Œå‡ ä¹Žå¯ä»¥ç¡®å®šä¸ºä»–åŠ¨è¯ï¼›å¦å¤–ä¸€ä¸ªå°±æ˜¯ä»–åŠ¨è¯ã€‚ 5.3 æŠ€å·§ä¸‰æ³¨æ„ï¼Œå¦ä¸€ä¸ªåŠ¨è¯æ²¡æœ‰ ã‚‹ æ‰èƒ½ä½¿ç”¨ã€‚å¦‚æžœæ²¡æœ‰ ã™ï¼Œé‚£ä¹ˆ ã‚‹ å°±æŠŠ ã™ çš„åœ°ä½æ›¿ä»£æŽ‰ï¼Œæˆä¸ºä»–åŠ¨è¯ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæŠ€å·§ä¸é è°±æ¦‚çŽ‡è¾ƒé«˜ï¼Œæ…Žç”¨ã€‚ 5.4 åä¾‹é ã‹ã‚‹ï¼šåˆ«äººçš„ä¸œè¥¿æ”¾åœ¨è‡ªå·±è¿™é‡Œ -&gt; ä¿ç®¡é ã‘ã‚‹ï¼šè‡ªå·±çš„ä¸œè¥¿æ”¾åœ¨åˆ«äººé‚£é‡Œ -&gt; å¯„å­˜æ­¤å¤–è¿˜æœ‰ä¸€äº›åä¾‹èžã æ˜¯è‡ªåŠ¨è¯ï¼›èžã“ãˆã‚‹ æ˜¯ä»–åŠ¨è¯èžã æ˜¯å¬èžã“ãˆã‚‹ æ˜¯å¬å¾—åˆ°å›ºå®šæ­é… ãªã‚‹ å’Œ ã™ã‚‹ã€œãŒã€œã«ãªã‚‹ï¼Œè¡¨ç¤ºè‡ªç„¶å˜åŒ–ã€œã‚’ã€œã«ã™ã‚‹ï¼Œè¡¨ç¤ºäººä¸ºæ”¹å˜ã€‚ã€œã«ãªã‚‹ï¼Œè¡¨ç¤ºå®¢è§‚ç»“æžœã€œã«ã™ã‚‹ï¼Œè¡¨ç¤ºä¸»è§‚å†³å®šå…¥ã‚‹ æ˜¯è‡ªåŠ¨è¯ï¼Œå…¥ã‚Œã‚‹ æ˜¯ä»–åŠ¨è¯]]></content>
      <categories>
        <category>Japanese</category>
      </categories>
      <tags>
        <tag>Japanese</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¡¥åŠ©åŠ¨è¯]]></title>
    <url>%2F%2FJapanese%2F%E8%A1%A5%E5%8A%A9%E5%8A%A8%E8%AF%8D%2F</url>
    <content type="text"><![CDATA[1. ã€œã¦ã„ã‚‹ä¸»è¦è¡¨ç¤ºä»¥ä¸‹æ„æ€ï¼šæ­£åœ¨è¿›è¡Œçš„åŠ¨ä½œåå¤è¿›è¡Œçš„åŠ¨ä½œè‡ªç„¶ç»´æŒçš„çŠ¶æ€ç”µè§†æœºåäº†è¿‡åŽ»çš„ç»åŽ†åŽ»è¿‡ 3 æ¬¡åŒ—æµ·é“æœªæ¥å®Œæˆçš„ç»“æžœåˆ°â€¦æ—¶å€™ï¼Œ å·²ç»â€¦ äº†å§ 2. ã€œã¦ã‚ã‚‹åŽæŽ¥ä»–åŠ¨è¯ï¼Œè¡¨ç¤ºçŠ¶æ€ã€œã¦ã„ã‚‹ ä¸€èˆ¬æŽ¥ è‡ªåŠ¨è¯ï¼Œè¡¨ç¤ºè‡ªç„¶ä¿æŒçš„çŠ¶æ€ã€œã¦ã‚ã‚‹ åŽæŽ¥ ä»–åŠ¨è¯ï¼Œè¡¨ç¤ºäººä¸ºç»´æŒçš„çŠ¶æ€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šè¿°ä¸¤ä¸ªçš„æ ¼åŠ¨è¯éƒ½ä½¿ç”¨ ãŒå®žé™…ä¸Šï¼Œã€œã¦ã„ã‚‹ è®©ä»–åŠ¨è¯å…·æœ‰è¡¨è¾¾çŠ¶æ€çš„èƒ½åŠ›ï¼Œæ•´ä½“ä¸Šæˆä¸ºäº†è‡ªåŠ¨è¯è¿˜æœ‰å°±æ˜¯ï¼Œä¸Šè¿°çš„ä¸¤ç§çŠ¶æ€ï¼Œéƒ½æ˜¯ é™æ­¢çŠ¶æ€ï¼Œæ‰€ä»¥æ ¼åŠ©è¯ä½¿ç”¨ ã«ã€‚åŽæŽ¥ä»–åŠ¨è¯ï¼Œè¡¨ç¤º äº‹å…ˆåšå¥½äº†æŸç§å‡†å¤‡ç¥¨å·²ç»ä¹°å¥½äº†ï¼Œå‡†å¤‡å·²ç»åšå¥½äº† 3. ã€œã¦ãŠã]]></content>
      <categories>
        <category>Japanese</category>
      </categories>
      <tags>
        <tag>Japanese</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨è¯ç‰¹å¾å’Œåˆ†ç±»]]></title>
    <url>%2F%2FJapanese%2F%E5%8A%A8%E8%AF%8D%E7%89%B9%E5%BE%81%E5%92%8C%E5%88%86%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[1. åŠ¨è¯ç‰¹å¾ 2. åŠ¨è¯åˆ†ç±»å¦‚æžœæ˜¯ æ±‰å­—ç›´æŽ¥åŠ  ã‚‹ï¼Œå¹¶ä¸” ä¸æ˜¯ä¸¤ä¸ªå‡åï¼Œé‚£ä¹ˆå®ƒæ˜¯ äº”æ®µåŠ¨è¯ã€‚å¦‚æžœæ˜¯ ä¸¤ä¸ªå‡å çš„ï¼Œé‚£ä¹ˆå°±ä¸º ä¸€æ®µåŠ¨è¯ã€‚æ¯”å¦‚ä¸Šé¢çš„ å¸°ã‚‹ æœ‰ä¸‰ä¸ªå‡åï¼Œæ˜¯ äº”æ®µåŠ¨è¯ã€‚ä½†æ˜¯ è¦‹ã‚‹ åªæœ‰ä¸¤ä¸ªå‡åï¼Œè€Œä¸”ï¼Œã‚‹ å‰é¢æ˜¯ ã¿(ã„ æ®µå‡å)ï¼Œæ˜¯ ä¸€æ®µåŠ¨è¯]]></content>
      <categories>
        <category>Japanese</category>
      </categories>
      <tags>
        <tag>Japanese</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ—¶é—´æ•°è¯]]></title>
    <url>%2F%2FJapanese%2F%E6%97%B6%E9%97%B4%E6%95%B0%E8%AF%8D%2F</url>
    <content type="text"><![CDATA[1. æ—¥æœŸä¸€å·ä¸€æ—¥ï¼ˆã¤ã„ãŸã¡ï¼‰/ï¼ˆã„ã¡ã«ã¡ï¼‰/ä¸€å·äºŒå·äºŒæ—¥ï¼ˆãµã¤ã‹ï¼‰/äºŒå·ä¸‰å·ä¸‰æ—¥ï¼ˆã¿ã£ã‹ï¼‰/ä¸‰å·å››å·å››æ—¥ï¼ˆã‚ˆã£ã‹ï¼‰/å››å·äº”å·äº”æ—¥ï¼ˆã„ã¤ã‹ï¼‰/äº”å·å…­å·å…­æ—¥ï¼ˆã‚€ã„ã‹ï¼‰/å…­å·ä¸ƒå·ä¸ƒæ—¥ï¼ˆãªã®ã‹ï¼‰/ä¸ƒå·å…«å·å…«æ—¥ï¼ˆã‚ˆã†ã‹ï¼‰/å…«å·æ³¨æ„ï¼Œå…«å·å’Œå››å·å¾ˆåƒï¼Œå…«å·æœ‰é•¿éŸ³ä¹å·ä¹æ—¥ï¼ˆã“ã“ã®ã‹ï¼‰/ä¹å·åå·åæ—¥ï¼ˆã¨ãŠã‹ï¼‰/åå·äºŒåå·äºŒåæ—¥ï¼ˆã¯ã¤ã‹ï¼‰å‡ å·è¡¨ç¤ºç–‘é—®ä½•æ—¥ï¼ˆãªã‚“ã«ã¡ï¼‰/å‡ å·,å‡ æ—¥ 2. æ˜ŸæœŸæ˜ŸæœŸç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œè®°ä½ æ—¥æœˆç«æ°´æœ¨é‡‘åœŸ å³å¯ã€‚ 3. æ—¶é—´å‰åŽè¡¨è¾¾ 3.1 æ—¥ä»Šå¤©ãã‚‡ã†æ˜Žå¤©ã‚ã—ãŸ/ã¿ã‚‡ã†ã«ã¡æ˜¨å¤©ãã®ã†å‰å¤©ãŠã¨ã¨ã„åŽå¤©ã‚ã•ã£ã¦ 3.2 æ˜ŸæœŸæœ¬å‘¨ã“ã‚“ã—ã‚…ã† (ä»Šå‘¨)ä¸Šå‘¨ã›ã‚“ã—ã‚…ã† (å…ˆå‘¨)ä¸Šä¸Šå‘¨ã›ã‚“ã›ã‚“ã—ã‚…ã† (å…ˆã€…å‘¨)ä¸‹å‘¨ã‚‰ã„ã—ã‚…ã† (æ¥å‘¨)ä¸‹ä¸‹å‘¨ã•ã‚‰ã„ã—ã‚…ã† (å†æ¥å‘¨) 3.3 æœˆè¿™ä¸ªæœˆã“ã‚“ã’ã¤ ï¼ˆæœ¬æœˆï¼‰ä¸‹ä¸ªæœˆã‚‰ã„ã’ã¤ ï¼ˆæ¥æœˆï¼‰ä¸‹ä¸‹ä¸ªæœˆã•ã‚‰ã„ã’ã¤ ï¼ˆå†æ¥æœˆï¼‰ä¸Šä¸ªæœˆã›ã‚“ã’ã¤ (å…ˆæœˆ)ä¸Šä¸Šä¸ªæœˆã›ã‚“ã›ã‚“ã’ã¤ (å…ˆã€…æœˆ) 3.4 å¹´ä»Šå¹´ã“ã¨ã— (ä»Šå¹´)åŽ»å¹´ãã‚‡ã­ã‚“ (åŽ»å¹´) / ã•ãã­ã‚“ (æ˜¨å¹´)å‰å¹´ãŠã¨ã¨ã— / ãœã‚“ã­ã‚“ (å‰å¹´)æ˜Žå¹´ã‚‰ã„ã­ã‚“ (æ¥å¹´)åŽå¹´ã•ã‚‰ã„ã­ã‚“ (å†æ¥å¹´) 4. ä¸€å¤©ä¹‹å†…çš„è¡¨è¾¾æ—©ä¸Šã‚ã•ä¸Šåˆã”ãœã‚“ (åˆå‰)ä¸­åˆã²ã‚‹ (æ˜¼)ä¸‹åˆã”ã” (åˆåŽ)å‚æ™šã‚†ã†ãŒãŸ (å¤•æ–¹)æ™šä¸Šã‚ˆã‚‹ (å¤œ)ç™½å¤©ã²ã‚‹ (æ˜¼) 5. é•¿æ—¶é—´æœ«å°¾çš„è¡¨è¾¾å‘¨æœ«å‘¨æœ«ï¼ˆã—ã‚…ã†ã¾ã¤ï¼‰æœˆæœ«æœˆæœ«ï¼ˆã’ã¤ã¾ã¤ï¼‰å¹´æœ«å¹´æœ«ï¼ˆã­ã‚“ã¾ã¤ï¼‰]]></content>
      <categories>
        <category>Japanese</category>
      </categories>
      <tags>
        <tag>Japanese</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŽˆå—å…³ç³»]]></title>
    <url>%2F%2FJapanese%2F%E6%8E%88%E5%8F%97%E5%85%B3%E7%B3%BB%2F</url>
    <content type="text"><![CDATA[1. æˆ‘ -&gt; ä»–äººéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ ã•ã—ã‚ã’ã‚‹ æ˜¯ ã‚ã’ã‚‹ çš„è‡ªè°¦è¯­ã€‚å®žé™…ä¸Šï¼Œåˆ¤æ–­è‡ªè°¦è¯­å’Œå°Šæ•¬è¯­ä¸»è¦çœ‹ä¸»è¯­æˆåˆ†ï¼Œå³ ã¯ çš„ä¿®é¥°è¯ã€‚ 2. ä»–äºº -&gt; æˆ‘è¿™é‡Œæœ‰ä¸ªå¸¸è€ƒç‚¹ï¼Œä¸»è¦æ˜¯è€ƒ æ ¼åŠ©è¯ å’ŒåŽé¢çš„å¥æœ«ä¿®é¥°çš„å…³ç³»ã€‚éœ€è¦è®°å¿†ã€‚åŒç†ï¼Œä¸Šè¿°çš„ ãã ã•ã‚‹ æ˜¯ ãã‚Œã‚‹ çš„å°Šæ•¬è¯­ï¼›ã„ã ã ã æ˜¯ ã‚‚ã‚‰ã† çš„ è‡ªè°¦è¯­ã€‚ä¸»è¦çœ‹ä¸»è¯­ï¼Œã„ã ã ã è™½ç„¶æ˜¯ è‡ªè°¦è¯­ï¼Œä½†æ˜¯ç”¨äºŽæè¿°åˆ«äººçš„åŠ¨ä½œï¼Œè¡¨ç¤ºå¯¹åˆ«äººçš„å°Šæ•¬ã€‚ 3. ç»“åˆä½¿å½¹ï¼Œé€»è¾‘é¢ å€’ï¼è¿™é‡Œçš„é€»è¾‘é¢ å€’ï¼Œä¸»è¦æ˜¯ è¡Œä¸ºäºº çš„å˜åŒ–ã€‚è¿™é‡Œçš„ç¬¬ä¸‰å¥å¹¶æ²¡æœ‰ è¯·æ±‚ çš„æ„æ€ï¼Œæ‰€è¡¨è¾¾çš„å°±æ˜¯ â€œæˆ‘è¦è¯´è‡ªå·±çš„æ„è§â€ï¼Œè€Œä¸åŒ…å«æœ‰è¯·æ±‚æ„å‘³ã€‚ 4. è¯·æ±‚åˆ«äººä¸ºè‡ªå·±åšæŸäº‹è¿™é‡Œçš„å¥å¼æ‰å…·æœ‰ è¯·æ±‚æ„å‘³ï¼›éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œã„ãŸã ã çš„è¯·æ±‚å¥å¼éœ€è¦ä½¿ç”¨ åŠ¨è¯çš„å¯èƒ½æ€ï¼Œä¹Ÿå°±æ˜¯åŠ¨è¯æœ«å°¾å˜ä¸ºåŒè¡Œçš„ ãˆ æ®µã€‚ 5. è¯·æ±‚åˆ«äººå…è®¸è‡ªå·±åšæŸäº‹åœ¨è¯·æ±‚å¥å¼åŠ ä¸Š ä½¿å½¹æ€ï¼Œå˜æˆ è¯·æ±‚å…è®¸ çš„æ„æ€ã€‚ 6. æ³¨æ„æŽˆå—å…³ç³»ä¸­éšå«äº†ä¸€ä¸ª æ©æƒ ç»™äºˆ çš„æ„æ€ã€‚å¦‚æžœæ²¡æœ‰åŒ…å«æ­¤æ„æ€ï¼Œå°±ä¸åº”è¯¥ä½¿ç”¨æ­¤å¥å¼ã€‚]]></content>
      <categories>
        <category>Japanese</category>
      </categories>
      <tags>
        <tag>Japanese</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# Basic]]></title>
    <url>%2F%2FCSharp%2FCSharp%20Basic%2F</url>
    <content type="text"><![CDATA[1. Hello, World! 2. åŸºæœ¬ç±»åž‹ 2.1 å£°æ˜Žå’Œåˆå§‹åŒ– 2.2 é»˜è®¤å€¼ 2.3 åŸºæœ¬ç±»åž‹çš„å¯¹è±¡æˆå‘˜ 2.4 Big Number 3. å­—ç¬¦ä¸² 3.1 é€å­—å­—ç¬¦ä¸² 3.2 ç›¸ç­‰æ€§åˆ¤åˆ« 3.3 å­—ç¬¦ä¸²æ ¼å¼åŒ– 4. ç±»åž‹è½¬æ¢ 4.1 checked å’Œ unchecked 5. éšå¼ç±»åž‹ var çœŸæ­£ç”¨é€” 1. Hello, World!123456789101112namespace SimpleCSharpApp&#123; class Program &#123; static void Main(string[] app) &#123; Console.WriteLine("Hello, World!"); Console.ReadLine(); &#125; &#125;&#125;â€‹ åŸºæœ¬çš„ç¼–ç è§„èŒƒï¼šåŒºåˆ†å¤§å°å†™å‘½åç©ºé—´ã€ç±»ã€æˆå‘˜ï¼ˆåŒ…æ‹¬æ–¹æ³•ï¼‰é‡‡ç”¨å¤§é©¼å³°å¤§æ‹¬å·å¦èµ·ä¸€è¡Œ 2. åŸºæœ¬ç±»åž‹C# ä¸­çš„åŸºæœ¬ç±»åž‹éƒ½æ˜¯å¯¹è±¡ï¼Œäº‹å®žä¸Šï¼ŒåŸºæœ¬ç±»åž‹çš„å…³é”®å­—éƒ½å¯¹åº”ä¸€ä¸ª System å‘½åç©ºé—´ä¸­çš„ä¸€ä¸ªç±»æ˜¾ç„¶æ˜¯ç›¸å¯¹äºŽ Java çš„é‡å¤§è¿›æ­¥ä¸‹è¡¨ç»™å‡ºäº† C# åŸºæœ¬ç±»åž‹å’Œ CLSï¼Œç³»ç»Ÿç±»åž‹çš„å¯¹åº”å…³ç³»ã€‚åŸºæœ¬ç±»åž‹ç¬¦åˆ CLSï¼Ÿç³»ç»Ÿç±»åž‹èŒƒå›´ä½œç”¨boolTSystem.Booleantrue or falseå¸ƒå°”å€¼sbyteFSystem.SByte-128 ~ 127æœ‰ç¬¦å·çš„ 8 bit æ•´æ•°byteTSystem.Bute0 ~255æ— ç¬¦å·çš„ 8 bit æ•´æ•°shortTSystem.Int16-32768 ~32767æœ‰ç¬¦å·çš„ 16 bit æ•´æ•°ushortFSystem.UInt160 ~ 65535æ— ç¬¦å·çš„ 16 bit æ•´æ•°intTSystem.Int32-2312^{31}231 ~ 231âˆ’12^{31} -1231âˆ’1å¸¦ç¬¦å·çš„ 32 bit æ•´æ•°uintFSystem.UInt320 ~ 2322^{32}232æ— ç¬¦å·çš„ 32 bit æ•´æ•°longTSystem.Int64-2632^{63}263 ~ 263âˆ’12^{63} -1263âˆ’1æœ‰ç¬¦å·çš„ 64 bit æ•´æ•°ulongFSytem.UInt640 ~ 2642^{64}264æ— ç¬¦å·çš„ 64 bit æ•´æ•°charTSystem.CharU+0000 ~U+ffff16 bit çš„ Unicode å­—ç¬¦floatTSystem.Singleâˆ’3.4Ã—1038âˆ¼+3.4Ã—1038-3.4 \times 10^{38} \sim +3.4 \times 10^{38}âˆ’3.4Ã—1038âˆ¼+3.4Ã—103832 bit æµ®ç‚¹æ•°doubleTSystem.DoubleÂ±5.0Ã—10âˆ’324âˆ¼ Â±1.7Ã—10308\pm 5.0 \times 10^{-324} \sim \ \pm 1.7 \times 10 ^{308}Â±5.0Ã—10âˆ’324âˆ¼ Â±1.7Ã—1030864 bit æµ®ç‚¹æ•°decimalTSystem.Decimal(âˆ’7.9Ã—1028âˆ¼7.9Ã—1028)/(100âˆ¼28)(-7.9 \times 10^{28} \sim 7.9 \times 10^{28})/(10^{0 \sim 28})(âˆ’7.9Ã—1028âˆ¼7.9Ã—1028)/(100âˆ¼28)128 bit å¸¦ç¬¦å·æ•°stringTSystem.Stringå—ç³»ç»Ÿå†…å­˜é™åˆ¶å­—ç¬¦ä¸²objectTSystem.Objectä»»ä½•ç±»åž‹éƒ½èƒ½ä¿å­˜åœ¨ä¸€ä¸ª object å˜é‡ä¸­æ‰€æœ‰ç±»çš„åŸºç±» 2.1 å£°æ˜Žå’Œåˆå§‹åŒ–C# å˜é‡å£°æ˜Žå’Œåˆå§‹åŒ–é‡‡ç”¨ C ç³»è¯­è¨€çš„ä¸€è´¯è¯­æ³•ï¼š123456int myInt = 0;string myString;myString = "This is my string";bool b1 = true, b2 = false, b3 = true;å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¨åæ¥å£°æ˜Žä¸€ä¸ªåŸºæœ¬å˜é‡ï¼Œä¸è¿‡åŸºæœ¬æ²¡äººè¿™ä¹ˆå¹²ã€‚ 2.2 é»˜è®¤å€¼ä¸Ž Java ä¸€æ ·ï¼ŒC# çš„åŸºæœ¬å˜é‡éƒ½å…·æœ‰ä¸€å®šçš„é»˜è®¤å€¼ã€‚bool é»˜è®¤ä¸º falseæ•°å€¼ç±»åž‹é»˜è®¤ä¸º 0ï¼Œå¦‚æžœæ˜¯æµ®ç‚¹æ•°ï¼Œåˆ™ä¸º 0.0char ç±»åž‹é»˜è®¤ä¸ºç©ºå­—ç¬¦BigInteger é»˜è®¤ä¸º 0DateTime ç±»åž‹è®¾ç½®ä¸º 1/1/0001/ 12:00:00 AMå¯¹è±¡å¼•ç”¨é»˜è®¤ä¸º null 2.3 åŸºæœ¬ç±»åž‹çš„å¯¹è±¡æˆå‘˜C# ä¸Ž Java æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼Œå–æ¶ˆäº†åŽŸå§‹ç±»åž‹ï¼Œæ‰€æœ‰çš„ç±»åž‹éƒ½æ˜¯å¯¹è±¡ã€‚æ‰€ä»¥ï¼ŒåŸºæœ¬å¯¹è±¡ä¹Ÿå…·æœ‰æˆå‘˜ï¼Œé€šå¸¸é›†æˆäº†ä¸€äº›å¯¹æœ¬ç±»åž‹çš„ä¸€äº›å¤„ç†æ–¹æ³•ï¼Œå’Œ Java ä¸­çš„ Integer Long ç­‰ç±»åž‹ä¸åŒã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŸºæœ¬ç±»åž‹å†…ç½®äº† Parse() æ–¹æ³•ï¼Œç”¨äºŽå°† string å­—é¢é‡è½¬æ¢æˆå¯¹åº”çš„å¯¹è±¡ã€‚1bool b = bool.Parse("True"); 2.4 Big Numberä¸Ž Java ä¸€æ ·ï¼ŒC# ä¹Ÿå†…ç½®äº† BigNumber ç±»åž‹ï¼Œå®ƒéœ€è¦ä½¿ç”¨ System.Numerics å‘½åç©ºé—´æ‰èƒ½ä½¿ç”¨ã€‚ 3. å­—ç¬¦ä¸²C# çš„å­—ç¬¦ä¸²å’Œ Java çš„å¤§ä½“ç›¸ä¼¼ï¼Œåªæœ‰å°‘æ•°çš„æ‰©å±•åŠŸèƒ½ã€‚å­—ç¬¦ä¸²ä½¿ç”¨ string å®šä¹‰ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¤§å†™çš„ã€‚åŒæ ·ï¼Œæ”¯æŒåŠ å·æ‹¼æŽ¥ã€è½¬ä¹‰ã€StringBuilderã€‚å­—ç¬¦ä¸²ä¹Ÿæ˜¯ä¸å¯å˜çš„ã€‚ä¸è¿‡ï¼ŒC# å­—ç¬¦ä¸²ç›¸å¯¹äºŽ Java æ¥è¯´ä¹Ÿæœ‰ä¸€äº›æ‰©å±•åŠŸèƒ½ã€‚ 3.1 é€å­—å­—ç¬¦ä¸²å®žé™…ä¸Šå°±æ˜¯åŽŸå§‹å­—ç¬¦ä¸²ï¼Œåœ¨å­—ç¬¦ä¸²å¼•å·å‰åŠ ä¸Š @ï¼Œåˆ™ç¼–è¯‘å™¨ä¸ä¼šå¯¹è½¬ä¹‰å­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼ŒåŒæ—¶ï¼Œç©ºæ ¼ä¹Ÿä¼šå¾—åˆ°ä¿ç•™ï¼ˆå³å¯ä»¥å£°æ˜Žå¤šè¡Œå­—ç¬¦ä¸²ï¼‰ã€‚123456string raw = @"C:\MyApp\bin\Debug";string multipleLine = @"This is mutiple line string"; 3.2 ç›¸ç­‰æ€§åˆ¤åˆ«è°¢å¤©è°¢åœ°ï¼ŒC# æ”¯æŒäº†æ“ä½œç¬¦é‡è½½åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ç”¨ == å’Œ != è¿›è¡Œå­—ç¬¦ä¸²ç›¸ç­‰æ€§åˆ¤åˆ«ï¼Œè€Œä¸æ˜¯ Java çš„å¼•ç”¨åˆ¤åˆ«ã€‚ä¸Žæ­¤åŒæ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„ Equals() æ¥è¿›è¡Œå­—ç¬¦ä¸²ç›¸ç­‰æ€§åˆ¤æ–­ã€‚123string s1 = "hello";Console.WriteLine(s1 == "hello"); // trueConsole.WriteLine(s1.Equals("hello")); 3.3 å­—ç¬¦ä¸²æ ¼å¼åŒ–C# ä¸­ä½¿ç”¨ {0} {1} ç­‰å¯ä»¥å®žçŽ°å­—ç¬¦ä¸²æ ¼å¼åŒ–ã€‚123string hehe = "hhe";string s = "&#123;0&#125;, &#123;1&#125;, $hehe";Console.WriteLine(string.Format(s, 1, 2));åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨åŸºæœ¬çš„æ ¼å¼åŒ–å­—ç¬¦ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨äºŽæŽ§åˆ¶å°è¾“å‡ºã€‚1Console.WriteLine("c format: &#123;0:c&#125;", 99999); //$99999.00æ¯”èµ· Java åªèƒ½ç”¨æ ¼å¼åŒ–å­—ç¬¦ï¼Œä¸çŸ¥é“é«˜åˆ°å“ªé‡ŒåŽ»äº†ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„æ ¼å¼åŒ–å­—ç¬¦ï¼šæ ¼å¼åŒ–å­—ç¬¦ä½œç”¨C æˆ– cç”¨äºŽæ ¼å¼åŒ–è´§å¸ï¼Œè¿™ä¸ªæ ‡è¯†ä¼šä»¥å½“åœ°çš„è´§å¸ç¬¦å·ä¸ºå‰ç¼€D æˆ– dç”¨äºŽæ ¼å¼åŒ–åè¿›åˆ¶æ•°ï¼Œè¿˜å¯ä»¥æŒ‡å®šæœ€å°çš„å¡«å……ä¸ªæ•°E æˆ– eç”¨äºŽæŒ‡æ•°è®¡æ•°æ³•ï¼Œå­—æ¯çš„å¤§å°å†™å†³å®šäº†æ•°å­—åŽçš„ E çš„å¤§å°å†™F æˆ– fç”¨äºŽé¡¶ç‚¹å°æ•°çš„æ ¼å¼åŒ–ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæœ€å°çš„å¡«å……ä¸ªæ•°G æˆ– gä»£è¡¨ generalã€‚è¿™ä¸ªå­—ç¬¦èƒ½ç”¨æ¥å°†ä¸€ä¸ªæ•°æ ¼å¼åŒ–ä¸ºå®šç‚¹æˆ–è€…æŒ‡æ•°æ ¼å¼N æˆ– nç”¨äºŽåŸºæœ¬çš„æ•°å€¼æ ¼å¼åŒ–ï¼ˆå¸¦é€—å·ï¼‰X æˆ– xç”¨äºŽåå…­è¿›åˆ¶ï¼Œå­—æ¯çš„å¤§å°å†™å†³å®šäº†åå…­è¿›åˆ¶å­—æ¯çš„å¤§å°å†™å…¶ä¸­ï¼Œç»™å®šçš„å ä½ç¬¦ç”±å†’å·åˆ†éš”ï¼Œå¦‚ä¸Šé¢çš„ {0:c}èƒ½æŒ‡å®šå¡«å……ä¸ªæ•°çš„ï¼Œåœ¨æ ¼å¼åŒ–å­—ç¬¦åŽæ·»åŠ ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼š{0:d9} 4. ç±»åž‹è½¬æ¢ä¸Ž C ç³» è¯­è¨€ä¸€æ ·ï¼ŒC# å¯¹äºŽæ•°æ®ç±»åž‹ï¼Œä¼šä½¿ç”¨éšå¼å‘ä¸Šè½¬æ¢ï¼Œæˆ–è€…ç§°ä¸ºå®½åŒ–ã€‚ä½¿ç”¨ () å¯¹ç±»åž‹è¿›è¡Œå¼ºåˆ¶è½¬æ¢(cast)ï¼Œä¹Ÿå«åšçª„åŒ–ã€‚12345short s1 = 30000;short s2 = 30000;s1 + s2; // è½¬æ¢ä¸º int(short)(s1 + s2); // å¼ºåˆ¶è½¬æ¢ä¸º shortï¼Œä¸¢å¤±æ•°æ®ã€‚ 4.1 checked å’Œ uncheckedå½“æˆ‘ä»¬ä¸å¸Œæœ›æ•°æ®ä¸¢å¤±æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ checkedï¼Œè¿™ä¸ªå…³é”®å­—åœ¨æ•°æ®å‡ºçŽ°æº¢å‡ºæ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚1checked((short)(s1 + s2)); // OverflowExceptionåŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ checked å—ã€‚1234checked &#123; byte sum = (byte)Add(b1, b2); Console.WriteLine("sum = &#123;0&#125;", sum);&#125;å½“ç„¶ï¼Œå¦‚æžœè¿ç®—è¿‡å¤šï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥å¼€å¯ checked ç¼–è¯‘é€‰é¡¹ï¼Œæ­¤æ—¶å¯¹æ‰€æœ‰è¿ç®—éƒ½ä¼šè¿›è¡Œ checkede æ“ä½œã€‚å½“ç„¶ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿä¼šæœ‰ä¸€äº›ä¸æƒ³è¢« check çš„è¿ç®—ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨ unchecked å…³é”®å­—æ¥é¿å… checkedã€‚ç”¨æ³•ç±»ä¼¼ checkedï¼Œå°±ä¸ä¸¾ä¾‹äº†ã€‚ 5. éšå¼ç±»åž‹ varC# ä¸­ï¼Œå¯ä»¥åˆ©ç”¨ var å…³é”®å­—æ¥è®©ç¼–è¯‘å™¨å¯¹å˜é‡çš„ç±»åž‹è¿›è¡Œè‡ªåŠ¨æŽ¨æ–­ã€‚è¿™ä¸ªç‰¹æ€§æœ‰ç‚¹ç±»ä¼¼ C++ 11 çš„ auto1var myInt = 0;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œvar ä»ç„¶æ˜¯å¼ºç±»åž‹çš„ï¼Œåªä¸è¿‡ç±»åž‹å¹¶ä¸åœ¨ç¼–è¾‘æ—¶ç¡®å®šï¼Œä½†æ˜¯ä¹Ÿæ˜¯åœ¨ç¼–è¯‘æœŸé—´å°±ç¡®å®šç±»åž‹ï¼Œè€Œä¸”ä¸èƒ½æ”¹å˜ã€‚è¿™å’Œ JS ä¸­çš„ var æœ‰å¾ˆå¤§ä¸åŒã€‚ çœŸæ­£ç”¨é€”è™½ç„¶æœ‰è¿™ä¹ˆå¥½ç”¨çš„ç‰¹æ€§ï¼Œä½†æ˜¯ C# å¹¶ä¸é¼“åŠ±æ»¥ç”¨ï¼Œå¦‚æžœéœ€è¦ intï¼Œé‚£ä¹ˆå°±å£°æ˜Ž intã€‚è¿™ä¸ªç‰¹æ€§é€šå¸¸åªåœ¨ LINQ æŸ¥è¯¢ä¸­ä½¿ç”¨ï¼Œç”±äºŽæŸäº›æƒ…å†µä¸‹æ— æ³•å¾—çŸ¥æ•°æ®åº“æŸ¥è¯¢ç»“æžœçš„çœŸæ­£ç±»åž‹ï¼Œæ‰€ä»¥æ­¤æ—¶ä½¿ç”¨ var æ˜¯åˆç†çš„ã€‚1var subset = from i in numbers where i &lt; 10 select i;]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# Control Flow]]></title>
    <url>%2F%2FCSharp%2FCSharp%20Control%20Flow%2F</url>
    <content type="text"><![CDATA[1. if/elseåªæŽ¥å—å¸ƒå°”å€¼ 2. é€»è¾‘è¿ç®—ç¬¦&amp;&amp; || !éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&amp;&amp; å’Œ || åœ¨æœ‰å¿…è¦çš„æ—¶å€™éƒ½ä¼šâ€œçŸ­è·¯â€ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœåªæ£€æŸ¥ä¸€ä¸ªè¡¨è¾¾å¼å°±èƒ½ç¡®å®š if çš„å¸ƒå°”å€¼ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæ£€æŸ¥å¦ä¸€ä¸ªäº†ã€‚ 3. switchswitch ç›¸æ¯” Java æ¥è¯´ï¼Œå¯ä»¥æ”¯æŒ å­—ç¬¦ä¸² å’Œ æžšä¸¾ å€¼ã€‚ä¸è¿‡å¹¶ä¸æ”¯æŒç±»åž‹æ£€æµ‹ï¼Œç›¸æ¯” Kotlin æ¥è¯´å·®äº†ä¸€æˆªã€‚ 4. for123for(int i = 0; i &lt; 4; i++) &#123; // for body&#125; 5. foreaché—æ†¾çš„æ˜¯ï¼ŒC# å°† foreach è¯­æ³•ç”¨äº†ä¸€ä¸ªå•ç‹¬çš„å…³é”®å­— foreach123foreach(string c in carTypes) &#123; Console.WriteLine(c);&#125;å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨éšå«ç±»åž‹ var123foreach(var i in linqSubset) &#123; Console.Write("&#123;0&#125;", i);&#125; 6. while/do-whileå’Œ Java æ²¡ä»€ä¹ˆä¸åŒï¼›éœ€è¦æ³¨æ„ä¸€ä¸‹ do while æœ€åŽè¦æœ‰ä¸ªåˆ†å·ã€‚123while(condition) &#123; // hehe&#125;123do &#123; // hehe&#125;while(condition);]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# Method]]></title>
    <url>%2F%2FCSharp%2FCSharp%20Method%2F</url>
    <content type="text"><![CDATA[1. å®šä¹‰C# ä¸­çš„æ–¹æ³•å®šä¹‰å’Œ Java æ²¡æœ‰åŒºåˆ«ã€‚1234int Add(int x, int y)&#123; return x + y;&#125; 2. é»˜è®¤æŒ‰å€¼ä¼ é€’C# é»˜è®¤çš„å‚æ•°ä¼ é€’æ˜¯ æŒ‰å€¼ä¼ é€’ çš„ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹æ³•ä¸­æ‹¿åˆ°çš„å‚æ•°å®žé™…ä¸Šæ˜¯å®žå‚çš„ä¸€ä¸ª å‰¯æœ¬ 3. è¾“å‡ºå‚æ•°C# æ”¯æŒ è¾“å‡ºå‚æ•°ï¼Œ è¿™æ˜¯ C/C++ è¯­è¨€ä¸­å¸¸ç”¨çš„ä¸€ç§æŠ€å·§ï¼›å³ï¼Œé€šè¿‡å¯¹ä¼ å…¥çš„æŒ‡é’ˆè¿›è¡Œèµ‹å€¼ï¼Œç„¶åŽåœ¨è°ƒç”¨å®Œæ¯•åŽè¿›è¡ŒæŒ‡é’ˆè§£å¼•ç”¨ï¼Œä»Žè€Œå¾—åˆ°å¤šä¸ªè¿”å›žå€¼ã€‚C# æ²¡æœ‰æŒ‡é’ˆï¼Œæ‰€ä»¥ä½¿ç”¨äº† out å…³é”®å­—ç”¨ä½œæŒ‡æ˜Žè¾“å‡ºå‚æ•°ã€‚ä½¿ç”¨è¾“å‡ºå‚æ•°çš„æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š1234void Add(int x, int y, out int ans)&#123; ans = x + y;&#125;è°ƒç”¨æ—¶ï¼Œ ä¹Ÿéœ€è¦ ä½¿ç”¨ out å…³é”®å­—ã€‚12int ans;Add(90, 90, out ans);ç”¨ä½œè¾“å‡ºå‚æ•°çš„å˜é‡å¯ä»¥ä¸è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚åŒä¸Šé¢çš„ ans ä¸€æ ·ï¼›ä½†æ˜¯ï¼Œ å¿…é¡» åœ¨æ–¹æ³•å†…éƒ¨å¯¹è¾“å‡ºå‚æ•°è¿›è¡Œèµ‹å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ä½¿ç”¨è¿™ä¸ªæŠ€å·§ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§è¿”å›žå¤šä¸ªå€¼ã€‚1234void Hehe(out int a, out int b, out int c)&#123; // hehe&#125; 4. æŒ‰å¼•ç”¨ä¼ é€’C# æ¯” Java é«˜æ˜Žçš„åœ°æ–¹å°±åœ¨äºŽï¼ŒC# å¯ä»¥ æŒ‰å¼•ç”¨ä¼ é€’ï¼Œæ‰€ä»¥å¯ä»¥åšåˆ° Java æ¯”è¾ƒéš¾åšåˆ°çš„ äº¤æ¢ä¸¤ä¸ª intï¼›åªè¦ä½¿ç”¨ ref å…³é”®å­—ï¼ŒæŒ‡æ˜Žéœ€è¦æŒ‰ç…§å¼•ç”¨ä¼ é€’çš„å‚æ•°å³å¯123456public static void swapStrings(ref string s1, ref string s2)&#123; string temp = s1; s1 = s2; s2 = temp;&#125;æ­¤æ—¶ï¼Œç”±äºŽä¸¤ä¸ªå‚æ•°æ˜¯æŒ‰ç…§ å¼•ç”¨ ä¼ é€’çš„ï¼Œæ‰€ä»¥ä¸Šè¿°ä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚ 5. ä¸å®šå‚æ•°åŒ Java ä¸€æ ·ï¼ŒC# ä¹Ÿæ”¯æŒä¸å®šå‚æ•°ã€‚åªè¦ä½¿ç”¨ params å…³é”®å­—æŒ‡æ˜Žä¸å®šå‚æ•°å³å¯ã€‚1234void addToList(params int[] args)&#123; // Add to list&#125;ä¸Ž Java ä¸€æ ·ï¼Œä¸å®šå‚æ•°åªæ”¯æŒ æ•°ç»„ ç±»åž‹ï¼Œè€Œä¸æ”¯æŒå…¶ä»–é›†åˆç±»åž‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒC# åªæ”¯æŒ ä¸€ä¸ª params å‚æ•°ï¼Œ è€Œä¸”å¿…é¡»æ˜¯å‚æ•°åˆ—è¡¨ä¸­ æœ€åŽä¸€ä¸ª å‚æ•°ã€‚ 6. å¯é€‰å‚æ•°C# ä¹Ÿæ”¯æŒå¯é€‰å‚æ•°ï¼ˆä¹Ÿå«åš é»˜è®¤å‚æ•°ï¼‰ï¼Œå³ç»™å‚æ•°èµ‹äºˆé»˜è®¤å€¼çš„è¡Œä¸ºã€‚1234static void EnterLogData(string message, string owner = "Programmer")&#123; // hehe&#125;åªè¦åœ¨ å®šä¹‰ æ–¹æ³•æ—¶ï¼Œç»™å½¢å‚è¿›è¡Œ â€œèµ‹å€¼â€ å³å¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯é€‰å‚æ•°çš„é»˜è®¤å€¼å¿…é¡»åœ¨ ç¼–è¯‘æ—¶ç¡®å®šï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½å°†ä¸€äº›è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šçš„é‡ä½œä¸ºé»˜è®¤å€¼1234static void EnterLogData(string message, string owner = "Programmer", DateTime timeStamp = DateTime.Now) &#123; // ERROR! // DateTime.Now determined at runtime!&#125; 7. å‘½åå‚æ•°C# è¿˜æ”¯æŒ å‘½åå‚æ•°ï¼Œå³ï¼Œé€šè¿‡å½¢å‚åå­—æ¥æŒ‡å®šå¯¹åº”çš„å®žå‚ï¼Œè€Œä¸éœ€è¦éµå®ˆå‚æ•°é¡ºåºã€‚123DisplayFancyMessage(message: "Wow! Very Fancy indeed!", textColor: ConsoleColor.DarkRed, backgroundColor: ConsoleColor.White)é€šè¿‡ å†’å· (:) æ¥åˆ†éš”å½¢å‚å’Œå®žå‚ã€‚é€šè¿‡å‘½åå‚æ•°ï¼Œå¯ä»¥å¾ˆå¥½åœ°ç»“åˆå¯é€‰å‚æ•°æ¥ä½¿ç”¨ã€‚ 8. æ–¹æ³•é‡è½½å’Œå…¶ä»–çŽ°ä»£è¯­è¨€ä¸€æ ·ï¼ŒC# ä¹Ÿæ”¯æŒæ–¹æ³•é‡è½½ã€‚æ³¨æ„æ–¹æ³•ç­¾ååªç”±ä¸¤éƒ¨åˆ†å†³å®šï¼šæ–¹æ³•åå­—å’Œæ–¹æ³•å‚æ•°ï¼ˆç±»åž‹å’Œæ•°é‡ï¼‰ã€‚å’Œ Java çš„æ–¹æ³•é‡è½½æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# å¤æ‚ç±»åž‹]]></title>
    <url>%2F%2FCSharp%2FCSharp%20%E5%A4%8D%E6%9D%82%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[1. æ•°ç»„ä½¿ç”¨ç±»ä¼¼ Java çš„è¯­æ³•è¿›è¡Œæ•°ç»„åˆå§‹åŒ–123int[] intArray = new int[];string[] stringArray = new string[] &#123;"1", "2", "3"&#125;;å½“ç„¶ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨ var å£°æ˜Ž12// c is a int arrayvar c = new[] &#123;1, 2, 3&#125;; 1.1 å¤šç»´æ•°ç»„C# æ¯”è¾ƒç¥žå¥‡çš„ä¸€ç‚¹å°±æ˜¯å®ƒæœ‰ ä¸¤ç§ å¤šç»´æ•°ç»„ç±»åž‹ï¼šçŸ©å½¢æ•°ç»„å’Œäº¤é”™æ•°ç»„ã€‚ 1.1.1 çŸ©å½¢æ•°ç»„çŸ©å½¢æ•°ç»„æ—¶ä¸€ä¸ªæ¯ä¸€è¡Œé•¿åº¦éƒ½ç›¸ç­‰çš„å¤šç»´æ•°ç»„12// 6*6 çš„æ•°ç»„int [,] matrix = new int[6, 6]; 1.1.2 äº¤é”™æ•°ç»„äº¤é”™æ•°ç»„æ˜¯ æ•°ç»„çš„æ•°ç»„ï¼Œå…¶ä¸­åŒ…æ‹¬äº†å†…éƒ¨æ•°ç»„ã€‚12// 5 ä¸ªä¸åŒæ•°ç»„int[][] jagArray = new int[5][]; 1.1.3 åŒºåˆ«çŸ©å½¢æ•°ç»„æ˜¯ ä¸€ä¸ªæ•°ç»„äº¤é”™æ•°ç»„æ˜¯ æ•°ç»„çš„æ•°ç»„ï¼Œå®žé™…ä¸Šä¹Ÿå°±æ˜¯ Java çš„æ™®é€šå¤šç»´æ•°ç»„çŸ©å½¢æ•°ç»„æ¶‰åŠæ–¹æ³•è°ƒç”¨ï¼Œè€Œäº¤é”™æ•°ç»„åªæ¶‰åŠå†…å­˜è®¿é—®ã€‚äº¤é”™æ•°ç»„æ¯”çŸ©å½¢æ•°ç»„è¦å¿«ã€‚ 1.2 æ•°ç»„åŸºç±»æ•°ç»„å®žé™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨åŸºç±» System.Array çš„é™æ€æ–¹æ³•æ¥è¿›è¡Œä¸€äº›å·¥ä½œã€‚ä¸»è¦çš„æ–¹æ³•æœ‰ï¼šClear()CopyTo()LengthRankReverse()Sort() 2. æžšä¸¾ 2.1 å£°æ˜Žä¸Žä½¿ç”¨ä½¿ç”¨ enum å®šä¹‰æžšä¸¾ã€‚é»˜è®¤ä¼šä»¥ int æ¥å­˜å‚¨æžšä¸¾å€¼ã€‚1234567enum EmpType&#123; Manager, // 0 Grunt, // 1 Contractor, // 2 VicePresident = 101 // 101&#125;å¯ä»¥é€šè¿‡ å†’å· (:) æ¥æŒ‡å®šæžšä¸¾å‚¨å­˜çš„ç±»åž‹1234567enum EmpType : byte&#123; Manager, // 0 Grunt, // 1 Contractor, // 2 VicePresident // 3&#125; 2.2 èŽ·å–æžšä¸¾å€¼æ¯ä¸ªæžšä¸¾å¯¹è±¡éƒ½æœ‰ä¸ª ToString() æ–¹æ³•ï¼Œå¯ä»¥ç”¨å®ƒèŽ·å–æžšä¸¾çš„ åå­—123EmpType emp = EmpType.Manager;emp.ToString(); // "Manager"å¦‚æžœæƒ³èŽ·å–æžšä¸¾å­˜å‚¨çš„å˜é‡å€¼ï¼Œé‚£ä¹ˆä½¿ç”¨å¼ºåˆ¶è½¬æ¢å³å¯ã€‚1Console.WriteLine("&#123;0&#125; = &#123;1&#125;", emp.ToString(), (byte)emp);System.Enum è¿˜æä¾›äº† GetValues() æ–¹æ³•æ¥èŽ·å–æžšä¸¾ä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚ 2.3 æ³¨æ„äº‹é¡¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œswitch å¯ä»¥æŽ¥å— 0 ä½œä¸º æžšä¸¾å€¼ è¿›è¡Œå¤„ç†ï¼›ä½†æ˜¯ï¼Œå¯¹äºŽå…¶ä»–çš„æ•°å€¼åˆ™ä¸è¡Œã€‚æ‰€ä»¥æœ€å¥½è¿˜æ˜¯ä½¿ç”¨ç±»ä¼¼ Java çš„æžšä¸¾ä½¿ç”¨æ–¹æ³•ã€‚ 3. ç»“æž„ (struct)ç»“æž„ç±»åž‹å’Œç±»å¾ˆç›¸ä¼¼ï¼Œéƒ½å¯ä»¥å…·æœ‰æž„é€ å‡½æ•°ã€åŸŸå’Œæ–¹æ³•ï¼›åŒæ—¶ä¹Ÿå¯ä»¥ç»™å®ƒä»¬é™„ä¸Šå¯è§æ€§ä¿®é¥°ç¬¦ã€‚12345678910struct Point&#123; public int x; public int y; public void Display() &#123; Console.WriteLine("X = &#123;0&#125;, Y = &#123;1&#125;", x, y); &#125;&#125;ç»“æž„å’Œç±»çš„ä¸åŒç‚¹ä¸»è¦åœ¨äºŽï¼šç»“æž„æ˜¯ä¸€ä¸ª å€¼ç±»åž‹ï¼Œè€Œç±»æ˜¯ä¸€ä¸ª å¼•ç”¨ç±»åž‹ã€‚ä¸‹é¢ä¼šè¯¦ç»†æè¿°ä¸¤ç§ç±»åž‹çš„ä¸åŒç‚¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»“æž„åœ¨å£°æ˜Žæ—¶å¿…é¡»ä¸º æ¯ä¸ªåŸŸ èµ‹å€¼ï¼›æˆ–è€…ä½¿ç”¨ é»˜è®¤æž„é€ å‡½æ•°ï¼Œå¦åˆ™åœ¨ä½¿ç”¨ç»“æž„æ—¶å°±ä¼šæŠ¥é”™ã€‚ 4. å€¼ç±»åž‹å’Œå¼•ç”¨ç±»åž‹å€¼ç±»åž‹åˆ†é…åœ¨æ ˆä¸­ï¼Œå¼•ç”¨ç±»åž‹åˆ†é…åœ¨å †ä¸­å€¼ç±»åž‹åœ¨ä½¿ç”¨ç­‰å·(=)èµ‹å€¼æ—¶ï¼Œå¯¹åº”å†…å®¹çš„å€¼è¢«å¤åˆ¶ï¼Œè€Œå¼•ç”¨ç±»åž‹åªå¤åˆ¶æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨å³ï¼Œå€¼ç±»åž‹åœ¨å¤åˆ¶æ—¶ï¼Œæž„é€ å‡ºäº†æ–°çš„å¯¹è±¡è€Œå¼•ç”¨ç±»åž‹åªæ˜¯å¤åˆ¶æŒ‡é’ˆï¼Œå¹¶æ²¡æœ‰æž„é€ å‡ºæ–°çš„å¯¹è±¡åŸºæœ¬ç±»åž‹å’Œæžšä¸¾ã€ç»“æž„éƒ½æ˜¯å€¼ç±»åž‹ç±»ã€æ•°ç»„ã€å­—ç¬¦ä¸²éƒ½æ˜¯å¼•ç”¨ç±»åž‹ç»“æž„ä¸­åŒ…å«å¼•ç”¨ç±»åž‹æ—¶ï¼Œå¤åˆ¶ç»“æž„ï¼Œåªå¤åˆ¶å¼•ç”¨ç±»åž‹çš„å¼•ç”¨æŒ‰å€¼ä¼ é€’å¼•ç”¨ç±»åž‹æ—¶ï¼Œå¼•ç”¨æœ¬èº«è¿›è¡Œå¤åˆ¶ï¼Œç„¶åŽä¼ å…¥æ–¹æ³•ä¸­ï¼Œä¸ä¼šæ”¹å˜åŽŸæœ‰çš„å¼•ç”¨çš„æŒ‡å‘æŒ‰å¼•ç”¨ä¼ é€’å¼•ç”¨ç±»åž‹æ—¶ï¼Œå¼•ç”¨æœ¬èº«è¢«ä¼ å…¥æ–¹æ³•ä¸­ï¼Œä¼šæ”¹å˜åŽŸæœ‰å¼•ç”¨çš„æŒ‡å‘ 5. å¯ç©ºç±»åž‹å¯ç©ºç±»åž‹(nullable-type) åªèƒ½ç”¨äºŽ å€¼ç±»åž‹ã€‚å®ƒä½¿ç”¨ ? æ¥è¡¨ç¤ºä¸€ä¸ªå€¼ç±»åž‹æ˜¯ å¯ä»¥ä¸ºç©ºçš„ã€‚1int? nullableInt = null;è¿™é€šå¸¸ç”¨äºŽæ•°æ®åº“ç¼–ç¨‹ä¸­ã€‚æ­¤è¯­æ³•ä¸èƒ½ç”¨äºŽå¼•ç”¨ç±»åž‹ï¼Œå› ä¸ºå¼•ç”¨ç±»åž‹å¯ä»¥ä¸ºç©ºã€‚è¿™å’Œ Kotlin ä¸­çš„ ? ä¸åŒï¼ŒKotlin ä¸­ä¸æŒ‡æ˜Ž ? çš„ç±»åž‹éƒ½æ˜¯ä¸å¯ç©ºçš„ã€‚å¯ä»¥ä½¿ç”¨ ?? æ“ä½œç¬¦ä¸ºç©ºç±»åž‹èµ‹äºˆåˆå§‹å€¼ã€‚1int myData = dr.GetIntFromDatabase() ?? 100;]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[.NET å¹³å°åŸºç¡€çŸ¥è¯†]]></title>
    <url>%2F%2FCSharp%2Fdot%20NET%20%E5%B9%B3%E5%8F%B0%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[1 . æ¦‚è¿°.NET æ˜¯å¾®è½¯å…¬å¸å¼€å‘çš„ä¸€ä¸ªè¿è¡Œåº“å’Œå¹³å°ï¼Œå®ƒæ˜¯å¹³å°æ— å…³å’Œè¯­è¨€æ— å…³çš„ï¼Œå¯ä»¥æ”¯æŒå¤šç§è¯­è¨€åˆ›å»º .NET åº”ç”¨å¹¶è·¨å¹³å°è¿è¡Œã€‚è¿™æœ‰ç‚¹ç±»ä¼¼ Java çš„ â€œwrite once, run anywhereâ€ çš„æ€æƒ³ 2. .NET å¹³å°çš„æž„æˆ.NET å¹³å°ä¸»è¦æœ‰å¹³å°æž„é€ å—ï¼ˆCLR, CTS, CLSï¼‰å’ŒåŸºç¡€ç±»åº“æž„æˆã€‚ 2.1 å¹³å°æž„é€ å—.NET çš„å¹³å°æž„é€ å—æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«ä¸º CLR, CTS å’Œ CLSã€‚ 2.1.1 CLR â€”â€” å…¬å…±è¯­è¨€è¿è¡Œåº“CLR å…¨ç§°å«åš Common Langurage Runtimeã€‚å…¶ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºæˆ‘ä»¬å®šä½ã€åŠ è½½å’Œç®¡ç† .NET ç±»åž‹ï¼ŒåŒæ—¶è´Ÿè´£åº•å±‚ç»†èŠ‚çš„å·¥ä½œï¼Œå¦‚å†…å­˜ç®¡ç†ã€åº”ç”¨æ‰˜ç®¡ã€å¤„ç†çº¿ç¨‹ã€å®‰å…¨æ£€æŸ¥ç­‰ã€‚ä»Ž Java çš„è§’åº¦çœ‹ï¼ŒCLR ç›¸å½“äºŽ Java çš„ JRE 2.1.2 CTS â€”â€” å…¬å…±ç±»åž‹ç³»ç»ŸCTS çš„å…¨ç§°å«åš Common Type Systemã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå…¬å…±çš„ .NET ç±»åž‹ç³»ç»Ÿï¼Œæè¿° .NET æ”¯æŒçš„æ•°æ®ç»“æž„å’Œç±»åž‹ï¼Œè¿™æ˜¯ .NET çš„å¤šè¯­è¨€æ”¯æŒçš„ç‰¹ç‚¹ã€‚ 2.1.3 CLS â€”â€” å…¬å…±è¯­è¨€è§„èŒƒCLS å…¨ç§°ä¸º Common Language Specificationã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªè®©æ‰€æœ‰çš„ .NET è¯­è¨€éƒ½æ”¯æŒçš„å…¬å…±ç±»åž‹å’Œç¼–ç¨‹ç»“æž„çš„å­é›†ï¼Œè¿™ä¸»è¦æ˜¯ä¿è¯å„ä¸ªè¯­è¨€çš„å…¼å®¹æ€§è€Œè®¾è®¡çš„ã€‚å¦‚æžœæž„é€ çš„ .NET ç±»åž‹ä»…å…¬å¼€ä¸Ž CLS å…¼å®¹çš„éƒ¨åˆ†ï¼Œé‚£ä¹ˆæ‰€ç¼–å†™çš„ .NET åº“å°±èƒ½ä¸Žå…¶ä»–è¯­è¨€è¿›è¡Œäº¤äº’ã€‚ 2.2 åŸºç¡€ç±»åº“.NET é™¤äº†ä¸‰å¤§æž„ä»¶ä»¥å¤–ï¼Œè¿˜æä¾›äº†ä¸€ä¸ªä½¿ç”¨ä¸Žå…¨éƒ¨ .NET ç¨‹åºè¯­è¨€çš„åŸºç¡€åº“ã€‚ç›¸å½“äºŽ Java å’Œ C ++ ä¸­çš„æ ‡å‡†åº“åŸºç¡€ç±»åº“åŒ…æ‹¬å„ç§åŸºæœ¬ç±»åž‹ï¼Œæ–‡ä»¶ IO ï¼Œçº¿ç¨‹ï¼ŒGUI ä»¥åŠä¸Žå„ç§å¤–éƒ¨è®¾å¤‡çš„äº¤äº’ç­‰ç­‰ã€‚ä¸‹é¢çš„å›¾æ˜¾ç¤ºäº† .NET æž„ä»¶ä¸ŽåŸºç¡€ç±»åº“çš„å…³ç³»ã€‚ 3. C# çš„ç‰¹ç‚¹ä¸éœ€è¦æŒ‡é’ˆè‡ªåŠ¨ç®¡ç†å†…å­˜å’Œåžƒåœ¾å›žæ”¶æ‰€ä»¥ä¸æ”¯æŒ delete å…³é”®å­—ç±»ã€æŽ¥å£ã€ç»“æž„ã€æžšä¸¾ã€å§”æ‰˜éƒ½æœ‰æ­£å¼çš„è¯­æ³•ç»“æž„å¯ä»¥é‡è½½æ“ä½œç¬¦æ”¯æŒåŸºäºŽç‰¹æ€§çš„ç¼–ç¨‹å±žæ€§(property) è€Œéžå­—æ®µ(field)ä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç›´æŽ¥ç”¨ç‚¹æ“ä½œç¬¦è€Œä¸æ˜¯ä½¿ç”¨ getter å’Œ setterã€‚await å’Œ async å…³é”®å­—ï¼Œç±»ä¼¼åŒæ­¥è°ƒç”¨çš„å¼‚æ­¥è°ƒç”¨æ–¹æ³•åŒæ—¶è¿˜å…·æœ‰å…¶ä»–è¯­è¨€çš„æ³›åž‹ã€åŒ¿åç±»ã€åå°„ç­‰ç‰¹æ€§ã€‚ 4. æ‰˜ç®¡ä»£ç å’Œéžæ‰˜ç®¡ä»£ç å’Œ Java ä¸€æ ·ï¼ŒC# è¯­è¨€éœ€è¦ç”Ÿæˆç±»ä¼¼ Java å­—èŠ‚ç çš„ä¸€ç§ä¸­é—´ä»£ç æ‰èƒ½å¤Ÿè¿è¡Œã€‚æ‰€ä»¥ C# ç¼–è¯‘ç”Ÿæˆçš„ä»£ç åªèƒ½åœ¨ .NET è¿è¡Œåº“ä¸­æ‰§è¡Œã€‚å°±åƒ Java å¿…é¡»ä½¿ç”¨ JRE è¿è¡Œä¸€æ ·æ­£ç¡®çš„æ¥è¯´ï¼Œè¿™ç§å¿…é¡»åœ¨ .NET è¿è¡Œåº“ä¸­æ‰§è¡Œçš„ä»£ç è¢«ç§°ä¸ºæ‰˜ç®¡ä»£ç (managed code)ï¼›åŒ…å«æ‰˜ç®¡ä»£ç çš„äºŒè¿›åˆ¶å•å…ƒç§°ä¸ºç¨‹åºé›†(assembly)ã€‚åä¹‹ï¼Œä¸èƒ½ç›´æŽ¥åœ¨ .NET è¿è¡Œåº“æ‰¿è½½çš„ä»£ç è¢«ç§°ä¸ºéžæ‰˜ç®¡ä»£ç (unmanaged code) 5. å…¶ä»–æ”¯æŒ .NET çš„ç¼–ç¨‹è¯­è¨€é™¤äº† C# ä»¥å¤–ï¼Œ.NET æ¡†æž¶ä¹Ÿæ”¯æŒå…¶ä»–çš„ç¼–ç¨‹è¯­è¨€ã€‚å®žé™…ä¸Šï¼Œåœ¨å®‰è£…äº† Visual Studio ä¹‹åŽï¼Œå¾®è½¯ä¼šæä¾› C#, Visual Basic, C++/CLI , JavaScript å’Œ F# çš„ .NET æ”¯æŒ 6. .NET ç¨‹åºé›†æ¦‚è§ˆä¸ºäº†å®žçŽ°å¹³å°æ— å…³æ€§ï¼Œ.NET é‡‡ç”¨äº†ç¨‹åºé›†çš„æ¦‚å¿µã€‚ä¸åŒçš„è¯­è¨€é€šè¿‡ç‰¹å®šçš„ç¼–è¯‘å™¨ï¼Œç¼–è¯‘å¾—åˆ°ä¸€ä¸ªä¸­é—´è¯­è¨€(IL)å’Œå…ƒæ•°æ®ï¼ŒéšåŽæ‰“åŒ…æˆä¸€ä¸ªç¨‹åºé›†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ.NET ä¸­é—´è¯­è¨€æ‹¥æœ‰å¾ˆå¤šç§ç¼©å†™ï¼ŒIL åªæ˜¯å…¶ä¸­ä¸€ç§ï¼Œå…¶ä½™çš„è¿˜æœ‰ MSIL æˆ–è€… CILã€‚IL, MSIL, CIL éƒ½æ˜¯ç­‰ä»·çš„ï¼ŒæŒ‡çš„å°±æ˜¯ä¸­é—´è¯­è¨€ã€‚ç¨‹åºé›†æ˜¯äºŒè¿›åˆ¶å¤§å¯¹è±¡æ‰€æ‰“åŒ…æˆçš„é›†åˆï¼Œå¤§è‡´åˆ†ä¸ºä¸¤ç±»ï¼›ä¸€ç±»æ˜¯åº”ç”¨ç¨‹åºï¼Œæ‹¥æœ‰ä¸€ä¸ª .exe å…¥å£ã€‚å¦ä¸€ç±»æ˜¯åº“ï¼Œå…·æœ‰ .dll æ‰©å±•åã€‚CIL ç±»ä¼¼äºŽ Java çš„å­—èŠ‚ç ï¼Œä¹Ÿæ˜¯å¹³å°æ— å…³æ€§çš„ä¸€ä¸ªé‡è¦çš„åŽŸå› ã€‚åœ¨è¿è¡Œæ—¶ï¼ŒCIL é€šè¿‡ JIT ç¼–è¯‘å™¨ç¼–è¯‘æˆä¸ºç‰¹å®šçš„æœºå™¨ç ï¼Œåœ¨ä¸åŒçš„è®¾å¤‡ä¸Šè¿›è¡Œè¿è¡Œã€‚ç¨‹åºé›†é™¤äº†åŒ…å« CIL ä»¥å¤–ï¼Œè¿˜åŒ…å«äº†å…ƒæ•°æ®ã€‚å…ƒæ•°æ®æ˜¯è®¸å¤š C# ç‰¹æ€§çš„æ”¯æŸ±ï¼ˆä¾‹å¦‚åå°„ï¼Œæ™šæœŸç»‘å®šç­‰ï¼‰ï¼ŒåŒæ—¶ï¼Œä¸€äº›çŽ°ä»£ IDE (Visual Studio)å¯ä»¥åˆ©ç”¨å…ƒæ•°æ®è¿›è¡Œæ™ºèƒ½æ„ŸçŸ¥ã€‚æ­¤å¤–ï¼Œç¨‹åºé›†è¿˜åŒ…å«äº†æè¿°ç¨‹åºé›†æœ¬èº«çš„å…ƒæ•°æ®ï¼Œå®ƒä»¬å«åšæ¸…å•(manifest)ã€‚ 7. CTSCTS æ˜¯ .NET çš„å…¬å…±ç±»åž‹ç³»ç»Ÿï¼Œå®ƒåŒ…æ‹¬äº”ä¸ªå†…å®¹ï¼šç±»æŽ¥å£ç»“æž„æžšä¸¾å§”æ‰˜å¤§ä½“ä¸Šä¸Ž Java ç±»ä¼¼ï¼Œä¸‹é¢é‡ç‚¹è®²è®²å’Œ Java ä¸åŒçš„éƒ¨åˆ†ã€‚ 7.1 å§”æ‰˜(delegate)è¿™å¯ä»¥ç®—æ˜¯ C# ç›¸å¯¹ Java çš„ä¸€ä¸ªè¿›æ­¥çš„æ–¹é¢ã€‚å§”æ‰˜ç›¸å½“äºŽä¸€ä¸ªç±»åž‹å®‰å…¨çš„å‡½æ•°æŒ‡é’ˆï¼Œå®žé™…ä¸Šå§”æ‰˜æ˜¯ä¸€ä¸ªæ´¾ç”Ÿè‡ª System.MultcastDelegate çš„ç±»ï¼Œä½¿ç”¨ delegate å…³é”®å­—å¯ä»¥å£°æ˜Žä¸€ä¸ªå§”æ‰˜ã€‚1delegate int BinaryOp(int x, int y);è¿™æ ·ï¼Œå°±å¯ä»¥ä½¿ç”¨å§”æ‰˜æ¥å®žçŽ°å›žè°ƒï¼Œè€Œä¸éœ€è¦åƒ Java ä¸€æ ·ä½¿ç”¨è‡ƒè‚¿çš„æŽ¥å£æ¥è¿›è¡Œå›žè°ƒåŠ¨ä½œã€‚ 7.2 ç»“æž„(struct)C# çš„ç»“æž„å’Œ C99 ä¹‹åŽçš„ç»“æž„å¾ˆåƒï¼Œç”¨æ³•ä¹Ÿè¶‹è¿‘ï¼›å¯ä»¥åŒ…å«å­—æ®µã€æž„é€ å‡½æ•°ã€å®šä¹‰æ–¹æ³•ç­‰ã€‚ä¸è¿‡ä¸€èˆ¬å½“åšä¸€ä¸ªå®¹å™¨ç±»æ¥ä½¿ç”¨ã€‚ 8. å†…å»ºç±»åž‹åŒæ ·ï¼Œ.NET å…·æœ‰ä¸€ä¸ªå…§å»ºçš„æ ¸å¿ƒæ•°æ®ç±»åž‹ï¼Œç”¨äºŽå…¼å®¹ä¸åŒå¹³å°çš„ç±»åž‹ç»“æž„ã€‚ä¸‹è¡¨ç»™å‡ºäº†ä¸€ä¸ª CTS æ•°æ®ç±»åž‹å’Œ C# ã€C++ çš„ç›¸åº”å¯¹æ¯”ã€‚CTSCC++System.Bytebyteunsigned charSystem.SBytesbytesigned cahrSystem.Int16shortshortSystem.Int32intint æˆ– longSystem.Int64longint64_tSystem.UInt16ushortunsigned shortSystem.UInt32uintunsigned int æˆ– unsigned longSystem.UInt64ulongunsigned int64_tSystem.SinglefloatfloatSystem.DoubledoubledoubleSystem.Objectobjectobject^System.Charcharwchar_tSystem.StringstringString^System.DecimaldecimalDecimalSystem.Booleanboolbool 9. CLRCLR ç±»ä¼¼äºŽ JVMï¼Œåˆ©ç”¨ mscoree.dll åº“æ¥è¿›è¡Œ .NET ç¨‹åºåŠ è½½å·¥ä½œã€‚ä¸‹å›¾æ˜¯ mscoree.dll çš„å·¥ä½œæµã€‚ 10. åç§°ç©ºé—´(namespace)è¿™ä¸ªç‰¹æ€§ç±»ä¼¼äºŽ Java çš„ package ã€‚è¯­æ³•å’Œ C++ ä¸­çš„åç§°ç©ºé—´è¯­æ³•ç›¸åŒï¼Œä½¿ç”¨ using æ¥å¼•å…¥åç§°ç©ºé—´ï¼ˆç›¸å½“äºŽ Java çš„ importï¼‰ æ¥è¿›è¡Œä½¿ç”¨ã€‚123456789using System;public class MyApp&#123; static void Main() &#123; Console.WriteLine("Hi from C#"); &#125;&#125;å½“ç„¶ï¼ŒåŒ Java ä¸€æ ·ï¼Œåœ¨ä½¿ç”¨å¯¹åº”çš„åç§°ç©ºé—´ä¹‹å‰ï¼Œé¦–å…ˆè¦å¼•å…¥ä¾èµ–ç¨‹åºé›†ã€‚]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>CSharp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin `this` è¡¨è¾¾å¼]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%60this%60%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Tags: KotlinKotlin æä¾›äº†ä¸€ä¸ª this è¡¨è¾¾å¼ï¼Œä¸»è¦å°±æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„ thisï¼Œç”¨äºŽåœ¨å†…éƒ¨ç±»ã€æ‰©å±•ä¸­èŽ·å–æ­£ç¡®çš„ç±»å¯¹è±¡å®žä¾‹ã€‚12345678910111213141516171819202122class A &#123; // implicit label @A inner class B &#123; // implicit label @B fun Int.foo() &#123; // implicit label @foo val a = this@A // A's this val b = this@B // B's this val c = this // foo()'s receiver, an Int val c1 = this@foo // foo()'s receiver, an Int val funLit = lambda@ fun String.() &#123; val d = this // funLit's receiver &#125; val funLit2 = &#123; s: String -&gt; // foo()'s receiver, since enclosing lambda expression // doesn't have any receiver val d1 = this &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin å†…è”å‡½æ•°]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ä½¿ç”¨ lambda å’Œé«˜é˜¶å‡½æ•°å›ºç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯ç”±äºŽéœ€è¦ç”Ÿæˆå‡½æ•°å¯¹è±¡å’Œè¿›è¡Œé—­åŒ…æ“ä½œï¼Œè¿™ä¹Ÿé€ æˆäº†ä¸€äº›ä¸å¿…è¦çš„å†…å­˜å’Œæ—¶é—´å¼€é”€ã€‚ä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å‡½æ•°å’Œ Lambda è¡¨è¾¾å¼å†…è”åŒ–è¿›è¡Œå¼€é”€çš„å‡å…ã€‚å†…è”å‡½æ•°æŒ‡çš„æ˜¯å°†æ•´ä¸ªå‡½æ•°ç›´æŽ¥æ›¿æ¢ä¸ºå‡½æ•°å®žé™…ä»£ç çš„æŠ€æœ¯ï¼Œå®ƒå¯ä»¥å‡å°‘å‡½æ•°è°ƒç”¨æ—¶ç”±äºŽè·³è½¬äº§ç”Ÿçš„å¼€é”€æµªè´¹ã€‚ 2. Kotlin å†…è”è¯­æ³•ä¾‹å¦‚ lock() å‡½æ•°ï¼Œå®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨è°ƒç”¨ç‚¹è¿›è¡Œå†…è”åŒ–æ“ä½œï¼š1lock(l) &#123; foo() &#125;é€šè¿‡è¿™ç§å†™æ³•ï¼Œç¼–è¯‘å™¨å¹¶æ²¡æœ‰ä¸º lambda è¡¨è¾¾å¼åˆ›å»ºä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè€Œæ˜¯ç”Ÿæˆäº†å¦‚ä¸‹ä»£ç ï¼š1234567l.lock()try &#123; foo()&#125;finally &#123; l.unlock()&#125;ä¸ºäº†è®©ç¼–è¯‘å™¨è¿›è¡Œè¿™ç§æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡½æ•°ä½¿ç”¨ inline ä¿®é¥°ç¬¦ã€‚123inline fun lock&lt;T&gt;(lock: Lock, body: () -&gt; T): T &#123; // ...&#125;æ³¨æ„ï¼Œinline ä¿®é¥°ç¬¦ä¼šå¯¹æ•´ä¸ªå‡½æ•°å’Œå…¶ lambda è¡¨è¾¾å¼éƒ½æœ‰æ•ˆï¼Œå³æ•´ä¸ªå‡½æ•°å’Œ lambda éƒ½è¢«æ›¿æ¢æˆå®žé™…ä»£ç ã€‚123456789101112// å†…è”å‡½æ•°inline fun &lt;T&gt; inlineLock(lock: Lock, body: () -&gt; T): T &#123; lock.lock() try &#123; return body() &#125; finally &#123; lock.unlock() &#125;&#125;// æ™®é€šå‡½æ•°fun echo() = println("foo")è°ƒç”¨è¯¥å†…è”å‡½æ•°ï¼š12val lock = ReentrantLock()inlineLock(lock, &#123; echo() &#125;)ä»¥ä¸Šä»£ç ä¼šè¢«ç¼–è¯‘ä¸ºå¦‚ä¸‹ä»£ç ï¼š1234567val lock = ReentrantLock()lock.lock()try &#123; println("foo")&#125; finally &#123; lock.unlock()&#125;å‡½æ•°å†…è”æŠ€æœ¯ä¼šå¯¼è‡´ä»£ç ä½“ç§¯è†¨èƒ€ï¼Œä¸ºäº†å‡å°‘ä»£ç ä½“ç§¯è†¨èƒ€ï¼Œä¸è¦å†…è”å¤§ä½“ç§¯çš„å‡½æ•°ã€‚ 3. Noinlineæœ‰æ—¶å€™æˆ‘ä»¬åªå¸Œæœ›å¯¹å‡½æ•°æœ¬èº«è¿›è¡Œå†…è”åŒ–æ“ä½œï¼Œè€Œå¯¹å…¶ lambda å‚æ•°ä¸ä½¿ç”¨å†…è”ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å¯¹å‚æ•°ä½¿ç”¨ noinline æ ‡è¯†ç¬¦123inline fun foo(inlined: () -&gt; Unit, noinline notInlined: () -&gt; Unit) &#123; // ...&#125;å†…è”çš„ lambda åªèƒ½åœ¨å†…è”å‡½æ•°å†…éƒ¨è°ƒç”¨ï¼Œæˆ–è€…ä½œä¸ºä¸€ä¸ª inline å‚æ•°ä¼ ç»™å†…è”å‡½æ•°ï¼›ä½†æ˜¯éžå†…è”çš„ labmda å¯ä»¥å‚¨å­˜åœ¨å˜é‡ä¸­ï¼Œæˆ–è€…ä¼ é€’å®ƒã€‚ 4. éžå±€éƒ¨è¿”å›žæ™®é€šçš„ return é»˜è®¤è¿”å›žçš„å‡½æ•°æ˜¯æœ€è¿‘çš„ fun æ‰€å®šä¹‰çš„å‡½æ•°ï¼Œè¿™å«åšå±€éƒ¨è¿”å›ž(local return)æ‰€ä»¥ï¼Œç”±äºŽåœ¨ lambda è¡¨è¾¾å¼å†…éƒ¨ä¸èƒ½è®©å¤–éƒ¨å‡½æ•°è¿”å›žï¼Œæ‰€ä»¥åœ¨ lambda è¡¨è¾¾å¼ä¸­ä½¿ç”¨ return æ˜¯è¢«ç¦æ­¢çš„ã€‚12345fun foo() &#123; ordinaryFunction &#123; return // ERROR: can not make `foo` return here &#125;&#125;ä½†æ˜¯å†…è”å‡½æ•°ç”±äºŽä½¿ç”¨å®šä¹‰æ›¿ä»£äº†è°ƒç”¨ï¼Œæ‰€ä»¥åœ¨å…¶ä¸­ä½¿ç”¨ return æ˜¯å¯ä»¥çš„ã€‚12345fun foo() &#123; inlineFunction &#123; return // OK: the lambda is inlined &#125;&#125;è¿™ä¸ªä¾‹å­ä¸­ï¼Œreturn ä¼šè®© foo() è¿”å›žã€‚è¿™ç§è¿”å›žæ–¹å¼è¢«ç§°ä½œéžå±€éƒ¨è¿”å›žã€‚è¿™ç§ç‰¹æ€§ååˆ†æœ‰æ•ˆï¼Œæ‰€ä»¥è¢«å†…å»ºåœ¨æ ‡å‡†çš„å¾ªçŽ¯ä¸­123456fun hasZeros(ints: List&lt;Int&gt;): Boolean &#123; ints.forEach &#123; if (it == 0) return true // returns from hasZeros &#125; return false&#125;æœ‰æ—¶å€™ï¼Œåœ¨è°ƒç”¨å¤„ä¼ å…¥çš„ lambda å¯èƒ½å¹¶ä¸ä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ä¼ å…¥åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œæˆ–è€…å¦ä¸€ä¸ªæœ¬åœ°å¯¹è±¡æˆ–æœ¬åœ°æ–¹æ³•ä¸­ï¼Œæ­¤æ—¶ï¼Œéžæœ¬åœ°è¿”å›žåŒæ ·ä¼šè¢«ç¦æ­¢ã€‚ä¸ºäº†æç¤ºç¼–è¯‘å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ crossinline æ ‡è¯†ç¬¦æ¥æŒ‡æ˜Žå½“å‰çš„å‡½æ•°å¯¹è±¡ä¼šåœ¨ä¸€ä¸ªå†…åµŒçš„å‡½æ•°æˆ–è€…å¯¹è±¡ï¼Œæˆ–æ˜¯åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œã€‚123456inline fun f(crossinline body: () -&gt; Unit) &#123; val f = object: Runnable &#123; override fun run() = body() &#125; // ...&#125;break å’Œ continue å°šæœªå†™å…¥æ”¯æŒï¼Œä½†æ˜¯ Kotlin å¼€å‘ç»„é¢„è®¡ä¼šåœ¨æœªæ¥å®žçŽ°è¿™ä¸¤ä¸ªåŠŸèƒ½ã€‚ 5. ç±»åž‹å‚æ•°æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„ç±»åž‹å‚æ•°ï¼Œä¾‹å¦‚ Classï¼Œåœ¨ Java ä¸­ï¼Œè¿™é€šå¸¸æ˜¯é€šè¿‡åå°„æœºåˆ¶æ¥å®žçŽ°çš„ã€‚12345678fun &lt;T&gt; TreeNode.findParentOfType(clazz: Class&lt;T&gt;): T? &#123; var p = parent while (p != null &amp;&amp; !clazz.isInstance(p)) &#123; p = p.parent &#125; @Suppress("UNCHECKED_CAST") return p as T&#125;è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼š12345678910val root = DefaultMutableTreeNode("root")val node1 = DefaultMutableTreeNode("node1")val node1_1 = DefaultMutableTreeNode("node1_1")val node2 = DefaultMutableTreeNode("node2")node1.add(node1_1)root.add(node1)root.add(node2)var parent = node1_1.findParentOfType(DefaultMutableTreeNode::class.java)println(parent) // node1å¯ä»¥çœ‹åˆ°ç”±äºŽä¾èµ–äºŽåå°„ï¼Œæ‰€ä»¥åœ¨å‡½æ•°ä½“å†…ä¸ä½†è¦å¤„ç†æœªæ£€æŸ¥ç±»åž‹è½¬æ¢çš„è­¦å‘Šä¹Ÿå¾ˆéš¾å¤„ç†å…·ä½“ç±»åž‹çš„ä¿¡æ¯ã€‚è€Œå†…è”å‡½æ•°ç”±äºŽæ˜¯å¤åˆ¶åˆ°è°ƒç”¨å¤„ï¼Œæ‰€ä»¥å®žé™…åœ¨è¿è¡Œæ—¶æ— éœ€ä¾èµ–åå°„ï¼Œå¯ä»¥ç›´æŽ¥å¾—åˆ°çœŸå®žç±»åž‹ã€‚è¦å¼€å¯æ­¤åŠŸèƒ½ï¼Œåªéœ€åœ¨æ³›åž‹å‚æ•°å‰åŠ ä¸Š reified å…³é”®å­—ã€‚1234567inline fun &lt;reified T&gt; TreeNode.inlineFindParentOfType(): T? &#123; var p = parent while (p != null &amp;&amp; p !is T) &#123; p = p.parent &#125; return p as T&#125;è°ƒç”¨è¯¥å‡½æ•°12val parent = node1_1.inlineFindParentOfType&lt;DefaultMutableTreeNode&gt;()println(parent) // node1éžå†…è”çš„å‡½æ•°ä¸èƒ½ä½¿ç”¨ reified æ ‡è¯†ç¬¦ã€‚ä¸€ä¸ªä¸å…·å¤‡è¿è¡Œæ—¶è¡¨ç¤ºç±»åž‹çš„ç±»åž‹ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ²¡æœ‰ reified çš„ç±»åž‹å‚æ•°ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç±»åž‹ï¼Œå¦‚ Nothingï¼‰ï¼Œä¸èƒ½å½“åš reified å‡½æ•°å‚æ•°ä½¿ç”¨ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin å†…éƒ¨ç±»]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%86%85%E9%83%A8%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[1. å£°æ˜Ž12345678class Outer &#123; private val bar: Int = 1 class Nested &#123; fun foo() = 2 &#125;&#125;val demo = Outer.Nested().foo() // == 2 2. inner å…³é”®å­—éœ€è¦ä½¿ç”¨ inner å…³é”®å­—æ¥æŒ‡æ˜Žä¸€ä¸ªå†…éƒ¨ç±»å…è®¸è®¿é—®å¤–éƒ¨ç±»å±žæ€§ã€‚12345678class Outer &#123; private val bar: Int = 1 inner class Inner &#123; fun foo() = bar &#125;&#125;val demo = Outer().Inner().foo() // == 1 3. èŽ·å–å¤–éƒ¨ç±»å®žä¾‹é€šè¿‡ä½¿ç”¨å¸¦æ ‡ç­¾çš„ this å¯ä»¥èŽ·å–å¤–éƒ¨ç±»å®žä¾‹ã€‚ 4. åŒ¿åå†…éƒ¨ç±»Kotlin æ²¡æœ‰ Java ä¸­çš„åŒ¿åç±»ï¼Œåä¹‹ï¼ŒKotlin ä½¿ç”¨**å¯¹è±¡è¡¨è¾¾å¼(object expression)**æ¥å®žçŽ°è¿™ä¸€åŠŸèƒ½ã€‚123456789window.addMouseListener(object: MouseAdapter() &#123; override fun mouseClicked(e: MouseEvent) &#123; // ... &#125; override fun mouseEntered(e: MouseEvent) &#123; // ... &#125;&#125;)å¦‚æžœå†…éƒ¨ç±»å¯¹åº”çš„æŽ¥å£åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä½¿ç”¨ lambda è¡¨è¾¾å¼æ¥åˆ›å»ºè¿™ä¸ªå†…éƒ¨ç±»ã€‚1val listener = ActionListener &#123; println("clicked") &#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin å‡½æ•°]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[1. å£°æ˜Žå‡½æ•°ä½¿ç”¨ fun å…³é”®å­—è¿›è¡Œå£°æ˜Žã€‚12fun double(x: Int): Int &#123;&#125; 2. è°ƒç”¨å‡½æ•°çš„è°ƒç”¨å’Œå…¶ä»–è¯­è¨€ä¸€æ ·1val result = double(2) 2.1 ç±»æˆå‘˜å‡½æ•°è°ƒç”¨ç±»æˆå‘˜å‡½æ•°ä½¿ç”¨ . è¿›è¡Œè°ƒç”¨ã€‚1Sample().foo() // create instance of class Sample and calls foo 2.2 ä¸­ç»§è°ƒç”¨ä½¿ç”¨äº† infix æ ‡è¯†ç¬¦çš„å‡½æ•°å¯ä»¥è¿›è¡Œä¸­ç»§è°ƒç”¨ 2.2.1 æ¡ä»¶å‡½æ•°æ˜¯æˆå‘˜å‡½æ•°æˆ–è€…æ‰©å±•å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ä½¿ç”¨ infix è¿›è¡Œæ ‡è¯† 2.2.2 ä¾‹å­123456789101112// Define extension to Intinfix fun Int.shl(x: Int): Int &#123;...&#125;// call extension function using infix notation1 shl 2// is the same as1.shl(2) 3. å‚æ•°å‡½æ•°çš„å‚æ•°ä½¿ç”¨ Pascal çš„å½¢å¼è¿›è¡Œè°ƒç”¨ã€‚(name: Type)ä½¿ç”¨é€—å·åˆ†éš”ä¸åŒçš„å‚æ•°ã€‚æ¯ä¸ªå‚æ•°éƒ½å¿…é¡»æ˜¾å¼æŒ‡æ˜Žç±»åž‹123fun powerOf(number: Int, exponent: Int) &#123;...&#125; 3.1 é»˜è®¤å‚æ•°Kotlin ä¸­å…è®¸ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œè¿™æ ·ç›¸æ¯” Java å°±å‡å°‘äº†å‡½æ•°é‡è½½çš„ä½¿ç”¨ã€‚åœ¨ Java ä¸­ï¼Œå¦‚æžœå‡ºçŽ°å¤šä¸ªé‡è½½å‡½æ•°ï¼Œå¼€é”€å°†è¿…é€Ÿå¢žé•¿ã€‚ä½†æ˜¯ Kotlin ç›¸å¯¹äºŽ Python æ¥è¯´ä»ç„¶æ”¯æŒå‡½æ•°é‡è½½ç‰¹æ€§ä½¿ç”¨ = æ¥æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œè€Œä¸” Kotlin ä¸å¯¹é»˜è®¤å‚æ•°çš„ä½ç½®è¿›è¡Œè¦æ±‚ã€‚123fun read(b: Array&lt;Byte&gt;, off: Int = 0, len: Int = b.size()) &#123;...&#125;é€šè¿‡ç±»é‡è½½çš„æ–¹æ³•ä¸å…è®¸æ‹¥æœ‰é»˜è®¤å‚æ•°1234567open class A &#123; open fun foo(i: Int = 10) &#123; ... &#125;&#125;class B : A() &#123; override fun foo(i: Int) &#123; ... &#125; // no default value allowed&#125; 3.2 å‚æ•°æŒ‡å®šåœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼ŒKotlin æ”¯æŒå‚æ•°çš„æŒ‡å®šï¼Œç±»ä¼¼ Pythonä¾‹å¦‚ï¼Œå¯¹å¦‚ä¸‹å‡½æ•°ï¼š1234567fun reformat(str: String, normalizeCase: Boolean = true, upperCaseFirstLetter: Boolean = true, divideByCamelHumps: Boolean = false, wordSeparator: Char = ' ') &#123;...&#125;åœ¨è°ƒç”¨æ—¶ä½¿ç”¨ = æ¥æŒ‡å®šå‚æ•°ã€‚123456reformat(str, normalizeCase = true, upperCaseFirstLetter = true, divideByCamelHumps = false, wordSeparator = '_' )å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸æŒ‡å®šæ‰€æœ‰çš„å‚æ•°ï¼Œå¦‚æžœå‚æ•°æœ‰é»˜è®¤å€¼çš„è¯ã€‚æ­¤æ—¶ï¼Œæ²¡æœ‰è¢«æŒ‡å®šçš„å®žå‚æŒ‰ç…§é¡ºåºèµ‹äºˆå½¢å‚ã€‚1reformat(str, wordSeparator = '_')éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè°ƒç”¨ Java çš„æ–¹æ³•æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å‚æ•°æŒ‡å®šã€‚ 3.3 ä¸å®šå‚æ•°Kotlin åŒæ ·æ”¯æŒä¸å®šå‚æ•°ï¼Œåªéœ€è¦ç»™å‚æ•°æ ‡è¯†ä¸Š vararg å³å¯ã€‚ä¾‹å¦‚ï¼š123456fun &lt;T&gt; asList(vararg ts: T): List&lt;T&gt; &#123; val result = ArrayList&lt;T&gt;() for (t in ts) // ts is an Array result.add(t) return result&#125;ä¸Ž Java ä¸€æ ·ï¼Œä¸å®šå‚æ•°ä¼šè¢«è§†ä½œä¸€ä¸ª Array å¯¹è±¡æ¥è¿›è¡Œå¤„ç†ã€‚åªæœ‰ä¸€ä¸ªå‚æ•°èƒ½è¢«æ ‡è®°ä¸º varargã€‚ä¸å®šå‚æ•°å¯ä»¥ä¸å¤„äºŽæœ€åŽä½ç½®ï¼Œæ­¤æ—¶ï¼Œåªèƒ½é€šè¿‡å‚æ•°æŒ‡å®šçš„å½¢å¼å¯¹å‰©ä¸‹çš„å‚æ•°è¿›è¡Œèµ‹å€¼ï¼Œæˆ–è€…å¦‚æžœå…¶ä¸­ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨æ‹¬å·å¤–ä½¿ç”¨ lambda è¡¨è¾¾å¼ã€‚æ­¤å¤–ï¼ŒKotlin ä¸­å¯ä»¥å°†ä¸€ä¸ª Array å¯¹è±¡ä¼ ç»™ä¸å®šå‚æ•°ï¼Œé€šè¿‡ä½¿ç”¨ spread operator (*) æ¥å®žçŽ°ã€‚12val a = arrayOf(1, 2, 3)val list = asList(-1, 0, *a, 4) 4. è¿”å›žå€¼å¦‚æžœä¸€ä¸ªå‡½æ•°æ²¡æœ‰æŒ‡æ˜Žè¿”å›žå€¼æˆ–è€…æ²¡æœ‰ä½¿ç”¨ return è¯­å¥ï¼Œé‚£ä¹ˆé»˜è®¤è¿”å›ž Unitã€‚Unit æ˜¯ä¸€ç§ç‰¹æœ‰ç±»åž‹ï¼Œåªå…·æœ‰ Unit ä¸€ä¸ªå€¼ã€‚ä½¿ç”¨ Unit çš„åŽŸå› åœ¨äºŽï¼ŒKotlin ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œä½¿ç”¨ä¸€ä¸ªå…·ä½“ç±»åž‹èƒ½ä½¿æ³›åž‹æ›´å¥½çš„å·¥ä½œä¸ä½¿ç”¨ Void çš„åŽŸå› ï¼šå› ä¸ºå·²ç»å­˜åœ¨äº†ä¸€ä¸ª Nothing ç±»ï¼Œä¸ºäº†é˜²æ­¢æ„æ€å†²çªï¼Œæ‰€ä»¥ä½¿ç”¨ Unit æ¥æŒ‡ä»£ Java ä¸­çš„ void1234567fun printHello(name: String?): Unit &#123; if (name != null) println("Hello $&#123;name&#125;") else println("Hi there!") // `return Unit` or `return` is optional&#125;å½“ç„¶ï¼ŒUnit çš„è¿”å›žå€¼å£°æ˜Žä¹Ÿæ˜¯å¯ä»¥çœç•¥çš„ã€‚å®žé™…ä¸Šï¼Œåœ¨ç¼–ç è§„èŒƒä¸­ï¼Œè¦æ±‚å¯¹å…¶çœç•¥ã€‚123fun printHello(name: String?) &#123; ...&#125; 4.1 å•ä¸€è¡¨è¾¾å¼å‡½æ•°å½“ä¸€ä¸ªå‡½æ•°åªå…·æœ‰ä¸€æ¡è¡¨è¾¾å¼æ—¶ï¼ŒèŠ±æ‹¬å·å¯ä»¥è¢«çœç•¥ã€‚1fun double(x: Int): Int = x * 2æ­¤æ—¶ï¼Œå¦‚æžœç¼–è¯‘å™¨èƒ½æŽ¨æ–­å‡ºè¡¨è¾¾å¼çš„å€¼ï¼Œé‚£ä¹ˆè¿”å›žç±»åž‹çš„å£°æ˜Žä¹Ÿæ˜¯å¯ä»¥çœç•¥çš„ã€‚1fun double(x: Int) = x * 2 4.2 éžå•ä¸€è¡¨è¾¾å¼å‡½æ•°å¦‚æžœå‡½æ•°ä¸æ˜¯å•ä¸€è¡¨è¾¾å¼ï¼Œè€Œä¸”å…·æœ‰è¿”å›žå€¼ï¼Œé‚£ä¹ˆè¿”å›žç±»åž‹å°±å¿…é¡»è¢«å£°æ˜Žã€‚ 5. å‡½æ•°ä½œç”¨åŸŸåœ¨ Kotlin ä¸­ï¼Œå‡½æ•°å¯ä»¥åœ¨ Top-level å£°æ˜Žï¼Œä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦ç”¨ç±»æ¥åŒ…è£¹å‡½æ•°ã€‚å‡½æ•°åŒæ ·ä¹Ÿå¯ä»¥æ˜¯å±€éƒ¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯ä»¥æ˜¯æˆå‘˜å‡½æ•°æˆ–è€…å‡½æ•°çš„æ‰©å±•ã€‚ 5.1 å±€éƒ¨å‡½æ•°Kotlin æ”¯æŒå±€éƒ¨å‡½æ•°ï¼Œä¾‹å¦‚åµŒå¥—å‡½æ•°123456789fun dfs(graph: Graph) &#123; fun dfs(current: Vertex, visited: Set&lt;Vertex&gt;) &#123; if (!visited.add(current)) return for (v in current.neighbors) dfs(v, visited) &#125; dfs(graph.vertices[0], HashSet())&#125;åŒæ—¶ï¼Œå†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œä¹Ÿå°±æ˜¯é—­åŒ…å±žæ€§ã€‚æ‰€ä»¥å¯¹äºŽä¸Šé¢çš„ä¾‹å­ï¼Œvisited å¯ä»¥ä½œä¸ºä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚12345678910fun dfs(graph: Graph) &#123; val visited = HashSet&lt;Vertex&gt;() fun dfs(current: Vertex) &#123; if (!visited.add(current)) return for (v in current.neighbors) dfs(v) &#125; dfs(graph.vertices[0])&#125; 6. å°¾è°ƒç”¨å¯¹äºŽä¸€äº›ç®—æ³•å®žçŽ°æ¥è¯´ï¼Œä½¿ç”¨é€’å½’å®žçŽ°ä¼šä»¤ç®—æ³•è¿‡ç¨‹æ›´åŠ æ˜Žæ™°ã€‚å¯¹æ­¤ï¼ŒKotlin æ‹¥æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å…³é”®å­— tailrecï¼Œä½¿ç”¨å®ƒå¯ä»¥æ”¯æŒä½¿ç”¨å°¾è°ƒç”¨(tail recursion)å½¢å¼çš„å‡½æ•°ã€‚ä½¿ç”¨ tailrec å…³é”®å­—çš„åŽŸå› åœ¨äºŽï¼šè™½ç„¶ä¸ä½¿ç”¨è¿™ä¸ªå…³é”®å­—ä¹Ÿå¯ä»¥å®žçŽ°å°¾è°ƒç”¨å½¢å¼çš„å‡½æ•°ï¼Œä½†æ˜¯ tailrec ä¼šæŒ‡ç¤ºç¼–è¯‘å™¨å°†å…¶ä¼˜åŒ–ä¸ºç›¸åº”çš„å¾ªçŽ¯å½¢å¼ï¼Œä»Žè€Œé¿å…äº†å› é€’å½’è°ƒç”¨è¿‡å¤šé€ æˆçš„ StackOverflowã€‚12tailrec fun findFixPoint(x: Double = 1.0): Double = if (x == Math.cos(x)) x else findFixPoint(Math.cos(x))ä½¿ç”¨ tailrec çš„å‡½æ•°å¿…é¡»æ»¡è¶³å°¾è°ƒç”¨å½¢å¼ï¼Œå³å‡½æ•°çš„æœ€åŽä¸€ä¸ªæ“ä½œå°±æ˜¯è°ƒç”¨å…¶è‡ªèº«ã€‚å½“ä½ çš„é€’å½’è°ƒç”¨æ“ä½œä¹‹åŽè¿˜å­˜åœ¨æ›´å¤šä»£ç æ—¶ï¼Œä¸èƒ½å¯¹å‡½æ•°ä½¿ç”¨ tailrec]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin å¯è§æ€§ä¿®é¥°ç¬¦]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%8F%AF%E8%A7%81%E6%80%A7%E4%BF%AE%E9%A5%B0%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Kotlin çš„å¯è§æ€§ä¿®é¥°ç¬¦å’Œ Java åŠ C++ æœ‰æ¯”è¾ƒå¤§çš„åŒºåˆ«ã€‚é¦–å…ˆï¼ŒKotlin æ‹¥æœ‰å››ç§å¯è§æ€§ä¿®é¥°ç¬¦:public private protected internalé»˜è®¤çš„å¯è§æ€§ä¿®é¥°ç¬¦ä¸º publicã€‚ 2. åŒ…çº§åˆ«å‡½æ•°ï¼Œå˜é‡ï¼Œç±»éƒ½å¯ä»¥åœ¨ â€œtop-levelâ€ çº§åˆ«å£°æ˜Žï¼Œå³ç›´æŽ¥åœ¨åŒ…å†…å£°æ˜Žã€‚12345// file name: example.ktpackage foofun baz() &#123;&#125;class Bar &#123;&#125;åœ¨åŒ…çº§åˆ«ä¸­çš„å¯è§æ€§è§„åˆ™å¦‚ä¸‹ï¼šå¦‚æžœæ²¡æœ‰æ˜¾å¼æŒ‡å®šï¼Œé‚£ä¹ˆ public æ˜¯é»˜è®¤çš„å¯è§æ€§ï¼Œå³ä½ å£°æ˜Žçš„å†…å®¹åœ¨ä»»æ„åœ°æ–¹å‡å¯è§å¦‚æžœæŒ‡å®šäº† privateï¼Œé‚£ä¹ˆåªæœ‰åŒæ–‡ä»¶å¯è§å¦‚æžœæŒ‡å®šäº† internalï¼Œé‚£ä¹ˆåªæœ‰åœ¨åŒä¸€ä¸ªæ¨¡å—å¯è§protected ä¿®é¥°ç¬¦ä¸æ”¯æŒåœ¨åŒ…çº§åˆ«ä½¿ç”¨ä¾‹å¦‚ï¼š123456789// file name: example.ktpackage fooprivate fun foo() &#123;&#125; // visible inside example.ktpublic var bar: Int = 5 // property is visible everywhere private set // setter is visible only in example.ktinternal val baz = 6 // visible inside the same module 3. ç±»çº§åˆ«å½“åœ¨ç±»æˆ–è€…æŽ¥å£ä¸­å£°æ˜Žå±žæ€§æˆ–æ–¹æ³•æ—¶ï¼Œä¹ŸåŒæ ·æœ‰å¯è§æ€§çš„ä¿®é¥°ç¬¦ä½œç”¨ã€‚æ­¤æ—¶ï¼Œè§„åˆ™å¦‚ä¸‹ã€‚å¦‚æžœæ²¡æœ‰æ˜¾å¼æŒ‡å®šï¼Œé‚£ä¹ˆé»˜è®¤ä¸º publicï¼Œæ­¤æ—¶ï¼Œå†…å®¹å¯¹æ‰€æœ‰èƒ½çœ‹è§è¿™ä¸ªç±»çš„å¯¹è±¡éƒ½æ˜¯å¯è§çš„å¦‚æžœæŒ‡å®šäº† privateï¼Œé‚£ä¹ˆåªæœ‰åœ¨ç±»çš„å†…éƒ¨æ‰å¯è§å¦‚æžœæŒ‡å®šäº† protectedï¼Œé‚£ä¹ˆåªåœ¨ç±»å†…éƒ¨å’Œå…¶å­ç±»å¯è§ï¼Œå¦‚æžœ override äº†ä¸€ä¸ª protected å˜é‡ï¼Œé‚£ä¹ˆ override åŽçš„å˜é‡è‡ªåŠ¨å…·æœ‰ protected å±žæ€§å¦‚æžœæŒ‡å®šäº† internalï¼Œé‚£ä¹ˆåœ¨æ¨¡å—å†…å¯è§éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åƒ Javaï¼Œå¤–éƒ¨ç±»ä¸èƒ½çœ‹è§å†…éƒ¨ç±»çš„ private å˜é‡ã€‚123456789101112131415161718192021222324open class Outer &#123; private val a = 1 protected open val b = 2 internal val c = 3 val d = 4 // public by default protected class Nested &#123; public val e: Int = 5 &#125;&#125;class Subclass : Outer() &#123; // a is not visible // b, c and d are visible // Nested and e are visible override val b = 5 // 'b' is protected&#125;class Unrelated(o: Outer) &#123; // o.a, o.b are not visible // o.c and o.d are visible (same module) // Outer.Nested is not visible, and Nested::e is not visible either&#125; 4. æž„é€ å™¨åŒæ ·çš„ï¼Œæž„é€ å™¨ä¹Ÿå¯ä»¥æŒ‡å®šå¯è§æ€§ï¼Œä½†æ˜¯å¦‚æžœå¯è§æ€§è¢«æŒ‡å®šäº†ï¼Œé‚£ä¹ˆ constructor å…³é”®å­—å°±å¿…é¡»å­˜åœ¨ã€‚1class C private constructor(a: Int) &#123; ... &#125;æž„é€ å™¨çš„é»˜è®¤å¯è§æ€§ä¸º publicï¼Œå³èƒ½çœ‹åˆ°ç±»ï¼Œå°±èƒ½çœ‹åˆ°æž„é€ å™¨ã€‚ 5. å…³äºŽæ¨¡å—ä¸€ä¸ªå…·æœ‰ internal å¯è§æ€§çš„å˜é‡ï¼Œæ–¹æ³•ï¼Œç±»ï¼Œå‡½æ•°åœ¨å…¶æ¨¡å—å†…å¯è§ã€‚æ‰€è°“çš„æ¨¡å—ï¼Œæ›´é€šä¿—ä¸€ç‚¹æ¥è¯´å°±æ˜¯åœ¨ä¸€èµ·ç¼–è¯‘çš„ Kotlin æ–‡ä»¶ï¼Œæ¯”å¦‚è¯´ï¼šä¸€ä¸ª IntelliJ IDEA moduleä¸€ä¸ª Maven æˆ–è€… Gradle å·¥ç¨‹ä¸€ä¸ªä½¿ç”¨åŒä¸€ä¸ª Ant Task è°ƒç”¨çš„æ–‡ä»¶é›†åˆ]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin å§”æ‰˜å±žæ€§]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%A7%94%E6%89%98%E5%B1%9E%E6%80%A7%2F</url>
    <content type="text"><![CDATA[1. ä½¿ç”¨åœºæ™¯æœ‰äº›æ—¶å€™ï¼Œå¯¹äºŽä¸€äº›ç‰¹æ®Šçš„å˜é‡ï¼Œè™½ç„¶æˆ‘ä»¬æ¯æ¬¡éƒ½åŽ»æ‰‹åŠ¨ç”Ÿæˆå®ƒä»¬ï¼Œä½†æ˜¯å¦‚æžœä¸€æ¬¡æ€§ç”Ÿæˆå®ƒä»¬ï¼Œç„¶åŽå­˜è¿›åº“ä¸­ä¼šæ›´åŠ æ–¹ä¾¿ï¼Œä¾‹å¦‚ï¼šlazy å±žæ€§ï¼šåªåœ¨ç¬¬ä¸€æ¬¡è®¿é—®å®ƒä»¬çš„æ—¶å€™è®¡ç®—å®ƒä»¬ã€‚observable å±žæ€§ï¼šå½“å®ƒè¢«ä¿®æ”¹çš„æ—¶å€™ï¼Œä¼šé€šçŸ¥å®ƒçš„ç›‘å¬è€…ã€‚å°†å±žæ€§å‚¨å­˜åœ¨ä¸€ä¸ª Map ä¸­ï¼Œè€Œä¸æ˜¯ç”¨å­—æ®µå­˜å‚¨ã€‚å¯¹äºŽè¿™äº›ä½¿ç”¨åœºæ™¯ï¼ŒKotlin æ”¯æŒä½¿ç”¨å§”æ‰˜å±žæ€§ 2. å£°æ˜Ž123class Example &#123; var p: String by Delegate()&#125;å£°æ˜Žå§”æ‰˜å±žæ€§çš„è¯­æ³•ä¸ºï¼šval/var &lt;property name&gt;: &lt;Type&gt; by &lt;expression&gt;ã€‚å…¶ä¸­ï¼Œåœ¨ by ä¹‹åŽçš„è¡¨è¾¾å¼å°±æ˜¯å§”æ‰˜æ“ä½œã€‚ä¸Šé¢çš„ä¾‹å­è¯´æ˜Žäº† p å˜é‡çš„æ“ä½œå°†ä¼šå§”æ‰˜ç»™ Delegate ç±»æ¥è¿›è¡Œã€‚ä¸ºäº†æ›¿ä»£ p çš„ getter å’Œ setterï¼ŒDelegate ç±»å¿…é¡»æä¾› getValue() å’Œ setValue() æ–¹æ³•ï¼Œå§”æ‰˜ä¹‹åŽï¼Œå¯¹ p çš„è°ƒç”¨æ“ä½œå°†ä¼šç”±è¿™ä¸¤ä¸ªæ–¹æ³•æ¥å®Œæˆã€‚123456789class Delegate &#123; operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String &#123; return "$thisRef, thank you for delegating '$&#123;property.name&#125;' to me!" &#125; operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) &#123; println("$value has been assigned to '$&#123;property.name&#125; in $thisRef.'") &#125;&#125;é‚£ä¹ˆå½“æˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹è°ƒç”¨ï¼š12val e = Example()println(e.p)æ‰“å°ç»“æžœä¸º1Example@33a17727, thank you for delegating â€˜pâ€™ to me!åŒç†ï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œ1e.p = "NEW"å°†ä¼šæ‰“å°å¦‚ä¸‹ç»“æžœï¼š1NEW has been assigned to â€˜pâ€™ in Example@33a17727. 3. éœ€è¦æ»¡è¶³çš„æ¡ä»¶å¯¹äºŽåªè¯»å±žæ€§(val)ï¼Œè¢«å§”æ´¾çš„ç±»å¿…é¡»æä¾› getValue() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¿…é¡»æ‹¥æœ‰å¦‚ä¸‹å‚æ•°æŽ¥æ”¶è€…ï¼šå¿…é¡»æ˜¯å½“å‰å±žæ€§çš„æ‹¥æœ‰è€…ï¼ˆå±žæ€§æ‰€å±žçš„ç±»ï¼‰æˆ–è€…å…¶è¶…ç±»çš„å®žä¾‹å¯¹è±¡ã€‚å…ƒæ•°æ®ï¼šå¿…é¡»æ˜¯ KProperty&lt;*&gt; æˆ–è€…å®ƒçš„è¶…ç±»getValue() å¿…é¡»æ‹¥æœ‰è¿”å›žå€¼ï¼Œè€Œä¸”ç±»åž‹ä¸Žå½“å‰å§”æ‰˜çš„å±žæ€§ç±»åž‹ç›¸åŒã€‚å¯¹äºŽå¯å˜å±žæ€§(var)ï¼Œè¢«å§”æ‰˜çš„ç±»å¿…é¡»é¢å¤–æä¾›ä¸€ä¸ª setValue() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¿…é¡»æ‹¥æœ‰å¦‚ä¸‹å‚æ•°ï¼šæŽ¥æ”¶è€…ï¼šå’Œ getValue() ç›¸åŒå…ƒæ•°æ®ï¼šå’Œ getValue() ç›¸åŒæ–°å€¼ï¼šå…¶ç±»åž‹å¿…é¡»å’Œæ‰€å§”æ‰˜çš„ç±»åž‹ç›¸åŒï¼Œæˆ–è€…æ˜¯å®ƒçš„è¶…ç±»ã€‚getValue() å’Œ setValue() æ–¹æ³•æ—¢å¯ä»¥æ˜¯è¢«å§”æ‰˜ç±»çš„æˆå‘˜ï¼Œä¹Ÿå¯ä»¥æ˜¯å®ƒçš„æ‰©å±•ã€‚ä¸¤ä¸ªæ–¹æ³•éƒ½éœ€è¦ä½¿ç”¨ operator æ¥ä¿®é¥°ã€‚ 4. ä¸€èˆ¬çš„å§”æ‰˜åœºæ™¯Kotlin çš„æ ‡å‡†åº“æä¾›äº†ä¸€äº›å·¥åŽ‚æ–¹æ³•ï¼Œç”¨æ¥å®žçŽ°ç¯‡å¤´æ‰€è¯´çš„å‡ ç§åœºæ™¯ã€‚ 4.1 lazy å˜é‡Kotlin æä¾›äº†ä¸€ä¸ª lazy() æ–¹æ³•ç”¨äºŽ lazy å˜é‡çš„ç”Ÿæˆã€‚lazy() æ–¹æ³•æŽ¥å—ä¸€ä¸ª lambda è¡¨è¾¾å¼ï¼Œè¿”å›žä¸€ä¸ª Lazy&lt;T&gt; å®žä¾‹ï¼Œç”¨äºŽå§”æ‰˜å±žæ€§ã€‚123456789val lazyValue: String by lazy &#123; println("computed!") "Hello"&#125;fun main(args: Array&lt;String&gt;) &#123; println(lazyValue) println(lazyValue)&#125;main ä¸­çš„ç¬¬ä¸€ä¸ªè°ƒç”¨ä¼š**è§¦å‘ lazy()**è¿›è¡Œ lazyValue çš„è®¡ç®—ï¼Œè€Œç¬¬äºŒä¸ªè°ƒç”¨åªä¼šè¿”å›ž lazyValue çš„å€¼ã€‚ç»“æžœä¸º123computed!HelloHelloé»˜è®¤æƒ…å†µä¸‹ï¼Œlazy() çš„è°ƒç”¨æ˜¯åŒæ­¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šè¿›è¡Œå˜é‡çš„è®¡ç®—ï¼Œå®ŒæˆåŽï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½èƒ½çœ‹åˆ°å…¶ç»“æžœã€‚å¦‚æžœä¸éœ€è¦åˆå§‹åŒ–åŒæ­¥ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å°† LazyThreadSafetyMode.PUBLICATION ä½œä¸ºå‚æ•°ä¼ ç»™ lazy() æ–¹æ³•æ¥å®žçŽ°ã€‚å¦‚æžœç¡®ä¿å˜é‡çš„åˆå§‹åŒ–åªä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹æ¥å®Œæˆï¼Œé‚£ä¹ˆå¯ä»¥å°† LazyThreadSafetyMode.NONE ä½œä¸ºå‚æ•°ä¼ ç»™ lazy()ï¼Œè¿™æ ·ä¸€æ¥ï¼ŒKotlin å°±ä¸ä¼šå¯¹è¯¥å˜é‡çš„ç”Ÿæˆå¯ç”¨çº¿ç¨‹å®‰å…¨æœºåˆ¶ã€‚ 4.2 ObservableKotlin æ ‡å‡†åº“ç”¨ Delegates.observable() æ¥å®žçŽ°å¯è§‚å¯Ÿå±žæ€§(observable property)ã€‚1234567891011121314import kotlin.properties.Delegatesclass User &#123; var name: String by Delegates.observable("&lt;no name&gt;") &#123; prop, old, new -&gt; println("$old -&gt; $new") &#125;&#125;fun main(args: Array&lt;String&gt;) &#123; val user = User() user.name = "first" user.name = "second"&#125;Delegates.observable() æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯åˆå§‹åŒ–å€¼ï¼Œå¦ä¸€ä¸ªæ˜¯ handlerã€‚Handler ä¼šåœ¨æ¯æ¬¡æˆ‘ä»¬å¯¹å˜é‡è¿›è¡Œèµ‹å€¼æ“ä½œåŽè¢«è°ƒç”¨ã€‚å®ƒå…·æœ‰ä¸‰ä¸ªå‚æ•°ï¼šè¢«èµ‹å€¼çš„å˜é‡æ—§çš„å˜é‡å€¼æ–°çš„å˜é‡å€¼ä¸Šé¢çš„ä¾‹å­çš„æ‰“å°ç»“æžœä¸ºï¼š12&lt;no name&gt; -&gt; firstfirst -&gt; secondä½¿ç”¨ vetoable() ä»£æ›¿ observable() æ–¹æ³•å¯ä»¥å¯¹å˜é‡èµ‹å€¼è¿›è¡Œæ‹¦æˆªæ“ä½œã€‚vetoable() çš„ handler ä¼šåœ¨æ¯æ¬¡èµ‹å€¼æ“ä½œå‰è¢«è°ƒç”¨ã€‚ 4.3 åœ¨ Map ä¸­å‚¨å­˜å±žæ€§è¿™ä¸ªåœºæ™¯é€šå¸¸åœ¨è¿›è¡Œ JSON è§£æžæˆ–è€…å¯¹å…¶ä»–æ•°æ®è¿›è¡ŒåŠ¨æ€è§£æžæ—¶å¸¸ç”¨çš„ã€‚å¯¹äºŽ JSON æ•°æ®ï¼Œæˆ‘ä»¬é€šå¸¸å°†å…¶è§£æžä¸ºä¸€ä¸ª Mapï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹ Map è¿›è¡Œå§”æ´¾ï¼Œä»Žè€Œå®žçŽ°ååºåˆ—åŒ–æ“ä½œã€‚1234class User(val map: Map&lt;String, Any?&gt;) &#123; val name: String by map val age: Int by map&#125;ä¸€ä¸ªè°ƒç”¨çš„ä¾‹å­ï¼š1234val user = User(mapOf( "name" to "John Doe", "age" to 25))12println(user.name) // Prints "John Doe"println(user.age) // Prints 25User ç±»ä¼šé€šè¿‡ Map å°†æ•°æ®å–å‡ºã€‚è¿™ä¸ªæ–¹æ³•åŒæ ·é€‚ç”¨äºŽ var å˜é‡ï¼Œåªè¦æŠŠ Map æ”¹æˆ MutableMap å³å¯ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin å§”æ‰˜æ¨¡å¼]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%A7%94%E6%89%98%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[1. å§”æ‰˜æ¨¡å¼å§”æ‰˜æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼ä¸­çš„ä¸€é¡¹åŸºæœ¬æŠ€å·§ã€‚åœ¨å§”æ‰˜æ¨¡å¼ä¸­ï¼Œæœ‰ä¸¤ä¸ªå¯¹è±¡å‚ä¸Žå¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼ŒæŽ¥å—è¯·æ±‚çš„å¯¹è±¡å°†è¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡æ¥å¤„ç†ã€‚å§”æ‰˜æ¨¡å¼æ˜¯ä¸€é¡¹åŸºæœ¬æŠ€å·§ï¼Œè®¸å¤šå…¶ä»–çš„æ¨¡å¼ï¼Œå¦‚çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯åœ¨æ›´ç‰¹æ®Šçš„åœºåˆé‡‡ç”¨äº†å§”æ‰˜æ¨¡å¼ã€‚å§”æ‰˜æ¨¡å¼ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç”¨èšåˆæ¥æ›¿ä»£ç»§æ‰¿ã€‚ 2. Java ä¾‹å­1234567891011121314151617181920212223242526272829303132333435363738interface I &#123; void f(); void g(); &#125; class A implements I &#123; public void f() &#123; System.out.println("A: doing f()"); &#125; public void g() &#123; System.out.println("A: doing g()"); &#125; &#125; class B implements I &#123; public void f() &#123; System.out.println("B: doing f()"); &#125; public void g() &#123; System.out.println("B: doing g()"); &#125; &#125; class C implements I &#123; // delegation I i = new A(); public void f() &#123; i.f(); &#125; public void g() &#123; i.g(); &#125; // normal attributes public void toA() &#123; i = new A(); &#125; public void toB() &#123; i = new B(); &#125; &#125; public class Main &#123; public static void main(String[] args) &#123; C c = new C(); c.f(); // output: A: doing f() c.g(); // output: A: doing g() c.toB(); c.f(); // output: B: doing f() c.g(); // output: B: doing g() &#125; &#125;C å°† I æŽ¥å£çš„å·¥ä½œå§”æ‰˜ç»™ A æˆ–è€… B æ¥åšã€‚å¯ä»¥çœ‹å‡ºï¼ŒJava ä¸­çš„å§”æ‰˜æ¨¡å¼çš„ç¼ºç‚¹åœ¨äºŽè¦æ±‚æ¯”è¾ƒå¤šçš„ä»£ç ã€‚ 3. Kotlin çš„å§”æ‰˜æ¨¡å¼è€Œåœ¨ Kotlin ä¸­ï¼Œå§”æ‰˜æ¨¡å¼è¦æ±‚çš„ä»£ç é‡éžå¸¸ä½Žã€‚åªéœ€è¦ä¸€ä¸ª by è¡¨è¾¾å¼å°±èƒ½å®žçŽ°å§”æ‰˜æ¨¡å¼1234567891011121314interface Base &#123; fun print()&#125;class BaseImpl(val x: Int) : Base &#123; override fun print() &#123; print(x) &#125;&#125;class Derived(b: Base) : Base by bfun main(args: Array&lt;String&gt;) &#123; val b = BaseImpl(10) Derived(b).print() // prints 10&#125;åœ¨è¿™é‡Œ by è¡¨è¾¾å¼è¡¨ç¤ºï¼Œå˜é‡ b ä¼šå‚¨å­˜åœ¨ç±» Derived ä¸­ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ Derived ç”Ÿæˆæ‰€æœ‰çš„ Base çš„æ–¹æ³•ï¼Œå¹¶å°†å®ƒä»¬éƒ½ç”¨ b æ¥æ‰§è¡Œã€‚ 4. æ³¨æ„äº‹é¡¹ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒKotlin çš„å§”æ‰˜ç›®å‰åªæ”¯æŒåˆå§‹å€¼ã€‚ä¹Ÿå°±æ˜¯ä¸€æ—¦ç±»è¢«å»ºç«‹ï¼Œé‚£ä¹ˆå§”æ‰˜å°±ä¸å¯æ”¹å˜ï¼Œå³ä½¿å§”æ‰˜çš„å¯¹è±¡æ˜¯ varã€‚åªæœ‰é€šè¿‡é‡æ–°å»ºç«‹ç±»æ‰èƒ½æ”¹å˜å§”æ‰˜ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin å¼‚å¸¸]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E5%BC%82%E5%B8%B8%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°å’Œ Java ä¸€æ ·ï¼ŒKotlin çš„å¼‚å¸¸éƒ½ç»§æ‰¿äºŽ Throwable ç±»ã€‚æ¯ä¸ªå¼‚å¸¸éƒ½æ‹¥æœ‰ message stacktrace å’Œ cause 2. æŠ›å‡ºå¼‚å¸¸ä½¿ç”¨ throw æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸1throw MyException("Hi There!")æ³¨æ„åˆ°ï¼Œæ²¡æœ‰ new 3. æ•èŽ·å¼‚å¸¸ä½¿ç”¨ try-catch-finally æ¥è¿›è¡Œå¼‚å¸¸æ•èŽ·å’Œå¤„ç†ã€‚123456789try &#123; // some code&#125;catch (e: SomeException) &#123; // handler&#125;finally &#123; // optional finally block&#125;å¯ä»¥æœ‰å¤šä¸ª catch å—ï¼Œfinally å—æ˜¯å¯é€‰çš„ï¼›ä½†æ˜¯å¿…é¡»å­˜åœ¨è‡³å°‘ä¸€ä¸ª catch å—ï¼Œå¦åˆ™å°±å¿…é¡»æœ‰ finallyã€‚ 4. try è¡¨è¾¾å¼try ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯ä»¥æ‹¥æœ‰è¿”å›žå€¼1val a: Int? = try &#123; parseInt(input) &#125; catch (e: NumberFormatException) &#123; null &#125;è¡¨è¾¾å¼çš„è¿”å›žå€¼ä¸æ˜¯ try å—çš„æœ€åŽä¸€ä¸ªå€¼ï¼Œå°±æ˜¯ catch å—çš„æœ€åŽä¸€ä¸ªå€¼ã€‚finally å—ä¸­çš„è¯­å¥ä¸ä¼šè¢«ä½œä¸ºè¿”å›žå€¼è¿”å›žã€‚ 5. å·²æ£€æŸ¥å¼‚å¸¸ä¸åƒ Javaï¼ŒKotlin ä¸­æ²¡æœ‰å·²æ£€æŸ¥å¼‚å¸¸ï¼›ä¹Ÿå°±è¯´å®ƒä¸éœ€è¦ä¹Ÿä¸ä¼šåœ¨å‡½æ•°å¤´è¿›è¡Œ throws å£°æ˜Žã€‚åŽŸå› åœ¨äºŽï¼Œå¦‚æžœç±»ä¼¼ Java æ‹¥æœ‰å·²æ£€æŸ¥å¼‚å¸¸ï¼Œé‚£ä¹ˆï¼š1Appendable append(CharSequence csq) throws IOException;å½“æˆ‘åœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œæˆ‘å°±å¿…é¡»è¿›è¡Œå¼‚å¸¸æ•èŽ·ï¼ˆæœ‰å¾ˆå¤šæ–¹æ³•å†…éƒ¨ä¸å…è®¸å†æ¬¡æŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚123456try &#123; log.append(message)&#125;catch (IOException e) &#123; // Must be safe&#125;å¾ˆå¤šæ—¶å€™ï¼Œå°±ä¼šå†™å‡ºä¸Šé¢çš„ä»£ç ï¼Œç”±äºŽç”Ÿåžäº†å¼‚å¸¸ï¼Œè¿™æ˜¯ä¸€ç§éžå¸¸ä¸å¥½çš„å†™æ³•ï¼ŒåŒæ—¶è¿™ä¹Ÿè¿åäº†ã€ŠEffective Javaã€‹ä¸­çš„æ¡æ¬¾ã€‚ã€ŠEffective Javaã€‹ç¬¬å…­åäº”æ¡ï¼šä¸è¦å¿½ç•¥å¼‚å¸¸åŒæ ·ä¹Ÿæœ‰å¾ˆå¤šå…³äºŽå·²æ£€æŸ¥å¼‚å¸¸çš„æ‰¹è¯„æ„è§see here]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin æ‰©å±•ç±»åž‹]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E6%89%A9%E5%B1%95%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»Kotlin æ”¯æŒç±»ä¼¼ C# çš„å¯¹ç±»è¿›è¡Œæ‰©å±•ï¼Œè€Œä¸éœ€è¦å¯¹è¯¥ç±»è¿›è¡Œç»§æ‰¿æ“ä½œã€‚è¿™ä¸ªç‰¹æ€§è¢«ç§°ä½œæ‰©å±•(extension)ã€‚ 2. æ–¹æ³•çš„æ‰©å±•ç»™ç±»å†™ä¸€ä¸ªæ‰©å±•æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨ç±»æˆå‘˜è¿ç®—ç¬¦(.)å³å¯ã€‚12345fun MutableList&lt;Int&gt;.swap(index1: Int, index2: Int) &#123; val tmp = this[index1] // 'this' corresponds to the list this[index1] = this[index2] this[index2] = tmp&#125;ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç»™ MutableList&lt;Int&gt; ç±»æ‰©å±•äº†ä¸€ä¸ªæ–¹æ³• swap()ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ç§° MutableList&lt;Int&gt; ä¸ºæŽ¥æ”¶è€…ç±»åž‹ï¼Œä¾‹å­ä¸­çš„ this æ ‡è¯†ç¬¦æŒ‡çš„å°±æ˜¯æŽ¥æ”¶è€…ç±»åž‹çš„å¯¹è±¡æœ¬èº«ã€‚å¯¹ç±»è¿›è¡Œæ–¹æ³•æ‰©å±•åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥è°ƒç”¨æ™®é€šæ–¹æ³•ä¸€æ ·è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚12val l = mutableListOf(1, 2, 3)l.swap(0, 2) // 'this' inside 'swap()' will hold the value of 'l'å½“ç„¶ï¼Œå¯ä»¥çœ‹å‡º MutableList æ˜¯ä¸ªæ³›åž‹ç±»ï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬çš„æ‰©å±•æ–¹æ³•ä¹Ÿæ”¯æŒæ³›åž‹ç‰¹æ€§ã€‚12345fun &lt;T&gt; MutableList&lt;T&gt;.swap(index1: Int, index2: Int) &#123; val tmp = this[index1] // 'this' corresponds to the list this[index1] = this[index2] this[index2] = tmp&#125; 3. æ–¹æ³•çš„æ‰©å±•æ˜¯é™æ€çš„è¿™æŒ‡çš„æ˜¯å†³å®šæ‰©å±•æ–¹æ³•è°ƒç”¨çš„ï¼Œæ˜¯å½¢å¼ä¸Šçš„è°ƒç”¨å¯¹è±¡ç±»åž‹ï¼Œè€Œéžå®žé™…çš„è°ƒç”¨å¯¹è±¡ç±»åž‹ã€‚ä¾‹å¦‚ï¼š12345678910111213open class Cclass D: C()fun C.foo() = "c"fun D.foo() = "d"fun printFoo(c: C) &#123; println(c.foo())&#125;printFoo(D())æ­¤æ—¶ï¼ŒprintFoo() çš„ç»“æžœæ˜¯ â€œcâ€ è€Œä¸æ˜¯ â€œdâ€ã€‚è™½ç„¶ä¼ å…¥ printFoo() æ–¹æ³•çš„æ˜¯ D å¯¹è±¡ï¼Œä½†æ˜¯åœ¨è¯¥æ–¹æ³•å®šä¹‰ä¸­ï¼Œä½¿ç”¨çš„æ˜¯ C çš„ foo() æ–¹æ³•ï¼Œæ‰€ä»¥å³ä½¿ä¼ å…¥çš„æ˜¯ Dï¼Œè€Œç»“æžœå´ä¾ç„¶æ˜¯ C çš„æ‰“å°ç»“æžœã€‚è¿™å°±æ˜¯æ‰©å±•æ–¹æ³•çš„é™æ€ç‰¹æ€§ã€‚ 4. æ–¹æ³•æ‰©å±•çš„ä¼˜å…ˆçº§å’Œé‡è½½ 4.1 ä¼˜å…ˆçº§å¦‚æžœç±»ä¸­å·²ç»å­˜åœ¨äº†ä¸€ä¸ªå’Œæˆ‘ä»¬æ‰©å±•æ–¹æ³•ç›¸åŒçš„æˆå‘˜ï¼Œé‚£ä¹ˆåœ¨æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼˜å…ˆè°ƒç”¨ç±»æˆå‘˜12345class C &#123; fun foo() &#123; println("member") &#125;&#125;fun C.foo() &#123; println("extension") &#125;å¦‚æžœæˆ‘ä»¬è°ƒç”¨å¯¹äºŽä¸€ä¸ªä»»æ„çš„ C å¯¹è±¡è°ƒç”¨ c.foo() ï¼Œç»“æžœéƒ½ä¼šæ˜¯ â€œmenberâ€ ï¼Œè€Œä¸æ˜¯ â€œextensionâ€ã€‚ 4.2 é‡è½½ä½†æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬çš„æ‰©å±•æ–¹æ³•å’Œç±»æˆå‘˜æ‹¥æœ‰ä¸åŒçš„å‡½æ•°ç­¾åï¼Œé‚£ä¹ˆä¸¤è€…äº’ä¸å¹²æ¶‰ï¼Œå°±åƒå‡½æ•°é‡è½½ä¸€æ ·ã€‚12345class C &#123; fun foo() &#123; println("member") &#125;&#125;fun C.foo(i: Int) &#123; println("extension") &#125;å¦‚æžœæˆ‘ä»¬è°ƒç”¨ C().foo(1)ï¼Œåˆ™ä¾æ—§ä¼šæ‰“å° &quot;extension&quot; 5. å¯ä»¥ä¸ºç©ºçš„æŽ¥æ”¶è€…æ‰©å±•å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸ºç©ºçš„æŽ¥æ”¶è€…ç±»åž‹ï¼Œè¿™æ ·çš„æ‰©å±•æ–¹æ³•åœ¨å¯¹è±¡ä¸º null çš„æ—¶å€™ä»ç„¶èƒ½è¢«è°ƒç”¨ï¼Œæ­¤æ—¶å¯ä»¥åœ¨æ‰©å±•æ–¹æ³•ä¸­è¿›è¡Œ null æ£€æŸ¥ï¼Œå¯¹äºŽè°ƒç”¨è€…æ¥è¯´ï¼Œå°±ç›´æŽ¥è°ƒç”¨æ–¹æ³•å³å¯ã€‚123456fun Any?.toString(): String &#123; if (this == null) return "null" // after the null check, 'this' is autocast to a non-null type, so the toString() below // resolves to the member function of the Any class return toString()&#125;æ³¨æ„åˆ°ï¼ŒKotlin åœ¨ç»è¿‡ if(this == null) è¿™ä¸€ null æ£€æŸ¥ä¹‹åŽï¼Œä¼šè‡ªåŠ¨å°†å¯¹è±¡ cast æˆä¸ºä¸€ä¸ªéžç©ºå¯¹è±¡ã€‚ 6. å±žæ€§çš„æ‰©å±•ä¸Žæ–¹æ³•çš„æ‰©å±•ä¸€æ ·ï¼ŒKotlin ä¸­åŒæ ·å¯ä»¥å¯¹å±žæ€§è¿›è¡Œæ‰©å±•ã€‚12val &lt;T&gt; List&lt;T&gt;.lastIndex: Int get() = size - 1éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºŽæ‰©å±•é‡‡ç”¨é™æ€å¤„ç†ï¼Œè€Œä¸æ˜¯æ’å…¥ä¸€ä¸ªæ–°æˆå‘˜ï¼Œæ‰€ä»¥ï¼Œæ‰©å±•çš„å±žæ€§æ²¡æœ‰ backing field çš„æ”¯æŒï¼Œå› æ­¤ï¼Œæ‰©å±•å±žæ€§ä¸èƒ½è¢«åˆå§‹åŒ–ï¼Œå®ƒä»¬åªèƒ½ç”¨æ˜¾å¼çš„ getter å’Œ setter æ¥è¿›è¡Œåˆå§‹åŒ–ã€‚ 7. å‹å…ƒå¯¹è±¡çš„æ‰©å±•å¦‚æžœä¸€ä¸ªç±»å…·æœ‰å‹å…ƒå¯¹è±¡(Companion Object)ï¼Œé‚£ä¹ˆï¼Œä¹Ÿå¯ä»¥å¯¹å…¶è¿›è¡Œæ‰©å±•ã€‚1234567class MyClass &#123; companion object &#123; &#125; // will be called "Companion"&#125;fun MyClass.Companion.foo() &#123; // ...&#125;æ‰©å±•çš„å‹å…ƒå¯¹è±¡å°±åƒç±»çš„å‹å…ƒå¯¹è±¡ä¸€æ ·ï¼Œä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚ 8. æ‰©å±•ç±»åž‹çš„ä½œç”¨åŸŸé€šå¸¸ï¼Œæˆ‘ä»¬ä¼šå°†æ‰©å±•å®šä¹‰åœ¨ top-levelï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨ import è¯­å¥æ¥è°ƒç”¨è¿™ä¸ªæ‰©å±•ã€‚ 9. å°†æ‰©å±•ä½œä¸ºç±»æˆå‘˜æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰å¦ä¸€ä¸ªç±»çš„æ‰©å±•æ–¹æ³•12345678910111213141516class D &#123; fun bar() &#123; ... &#125;&#125;class C &#123; fun baz() &#123; ... &#125; fun D.foo() &#123; bar() // calls D.bar baz() // calls C.baz &#125; fun caller(d: D) &#123; d.foo() // call the extension function &#125;&#125;æ­¤æ—¶ï¼Œæˆ‘ä»¬ç§° C ä¸ºè°ƒåº¦æŽ¥æ”¶è€…ï¼ŒD ä¸ºæ‰©å±•æŽ¥æ”¶è€…ã€‚å½“æ‰©å±•åç§°å’Œç±»æˆå‘˜å†²çªæ—¶ï¼Œæ­¤æ—¶ï¼Œåœ¨æ‰©å±•å†…éƒ¨ï¼Œæ‰©å±•æŽ¥æ”¶è€…å…·æœ‰æ›´é«˜ä¼˜å…ˆçº§ï¼›è€Œåœ¨æ‰©å±•å¤–éƒ¨ï¼Œè°ƒåº¦æŽ¥æ”¶è€…å…·æœ‰æ›´é«˜ä¼˜å…ˆçº§ã€‚12345678910111213141516171819202122232425262728class C &#123; fun foo() &#123; println("C foo") &#125;&#125;class D &#123; fun foo() &#123; println("D foo") &#125; fun C.fooBar() &#123; foo() // "C foo" this@D.foo() // "D foo" &#125; fun caller(c: C) &#123; c.fooBar() &#125;&#125;fun main(args: Array&lt;String&gt;) &#123; val d = D() val c = C() d.foo() // "D foo" c.foo() // "C foo"&#125;å¦‚æžœéœ€è¦åœ¨æ‰©å±•å†…éƒ¨è®¿é—®å¤–éƒ¨ç±»ï¼ˆå³ Dï¼‰ï¼Œåˆ™éœ€è¦ä¸€ä¸ªå¸¦æ ‡ç­¾çš„ this æ¥è¿›è¡Œã€‚å¸¦æ ‡ç­¾çš„ this é€šå¸¸ç”¨äºŽå†…éƒ¨ç±»æ¥è®¿é—®å¤–éƒ¨ç±»ã€‚æ³¨æ„ï¼Œæ‰©å±•æˆå‘˜éœ€è¦ä½¿ç”¨ä¸€ä¸ªå¦å¤–çš„è°ƒç”¨å™¨æ¥æ‰§è¡Œã€‚åœ¨ç±»çš„å¤–éƒ¨å®ƒæ˜¯ä¸å¯è§çš„ã€‚ 10. æ‰©å±•æˆå‘˜çš„ç»§æ‰¿ä¸Žå…¶ä»–æˆå‘˜ä¸€æ ·ï¼Œæ‰©å±•æˆå‘˜ä¹Ÿå¯ä»¥è¿›è¡Œç»§æ‰¿å’Œé‡è½½æ“ä½œã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰©å±•æŽ¥æ”¶è€…æ˜¯é™æ€çš„ï¼Œè€Œè°ƒåº¦æŽ¥æ”¶è€…æ˜¯åŠ¨æ€çš„ã€‚å³ï¼Œæ‰©å±•æŽ¥æ”¶è€…ä¸å—å¤šæ€å½±å“123456789101112131415161718192021222324252627282930313233open class D &#123;&#125;class D1 : D() &#123;&#125;open class C &#123; open fun D.foo() &#123; println("D.foo in C") &#125; open fun D1.foo() &#123; println("D1.foo in C") &#125; fun caller(d: D) &#123; d.foo() // call the extension function &#125;&#125;class C1 : C() &#123; override fun D.foo() &#123; println("D.foo in C1") &#125; override fun D1.foo() &#123; println("D1.foo in C1") &#125;&#125;C().caller(D()) // prints "D.foo in C"C1().caller(D()) // prints "D.foo in C1" - dispatch receiver is resolved virtuallyC().caller(D1()) // prints "D.foo in C" - extension receiver is resolved statically 11. å¼€å‘æ‰©å±•çš„åŠ¨æœºæä¾›æ‰©å±•è¿™ä¸€ç‰¹æ€§ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ– Java ä»£ç ä¸­å…³äºŽå·¥å…·ç±»çš„è°ƒç”¨ã€‚å°†è¿™æ ·çš„ä»£ç 12345// JavaCollections.swap( list, Collections.binarySearch(list,Collections.max(otherList)), Collections.max(list))è½¬æ¢æˆè¿™æ ·çš„12// Javalist.swap(list.binarySearch(otherList.max()), list.max())]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin æ•°æ®ç±»]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E6%95%B0%E6%8D%AE%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»æˆ‘ä»¬ç»å¸¸è¦ä½¿ç”¨å®¹å™¨ç±»ç»“æž„ï¼Œæ‰€ä»¥ Kotlin æä¾›äº†ä¸€ç§æ–°ç‰¹æ€§ï¼Œä¸“é—¨ç”¨äºŽç”Ÿæˆå®¹å™¨ç±»ï¼Œç§°ä¸ºæ•°æ®ç±»(data class) 2. åˆ›å»ºKotlin ä½¿ç”¨ data å®šä¹‰ä¸€ä¸ªæ•°æ®ç±»1data class User(val name: String, val age: Int)ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºè¿™ä¸ªç±»ç”Ÿæˆå¦‚ä¸‹æ–¹æ³•ï¼šequal() å’Œ hashCode()toString()ï¼šç”Ÿæˆ &quot;User(name=John, age=42)&quot;componentN() æ–¹æ³•ï¼Œç”¨äºŽç±»çš„è§£æž„copy() æ–¹æ³•ï¼Œç”¨äºŽå¤åˆ¶è¿™ä¸ªç±»å¦‚æžœè¿™äº›æ–¹æ³•å·²ç»è¢«æ˜¾å¼å£°æ˜Žäº†ï¼Œé‚£ä¹ˆåˆ™ä¸è¿›è¡Œç”Ÿæˆã€‚ 3. éœ€è¦æ»¡è¶³çš„æ¡ä»¶ä¸€ä¸ª Kotlin æ•°æ®ç±»éœ€è¦æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼šprimary constructor å¿…é¡»å…·æœ‰è‡³å°‘ä¸€ä¸ªå‚æ•°æ‰€æœ‰çš„ primary constructor å‚æ•°å¿…é¡»ä½¿ç”¨ val æˆ– varæ•°æ®ç±»ä¸èƒ½å…·æœ‰ open abstract sealed ä¿®é¥°ç¬¦ï¼Œè€Œä¸”ä¸èƒ½æ˜¯å†…éƒ¨ç±»ã€‚æ•°æ®ç±»ä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»ï¼Œä½†æ˜¯å¯ä»¥å®žçŽ°æŽ¥å£å¦‚æžœéœ€è¦åœ¨ JVM ä¸Šä½¿å¾—ç±»å…·æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æž„é€ å™¨ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„ primary constructor å‚æ•°éƒ½å¿…é¡»æœ‰é»˜è®¤å€¼ 4. å¤åˆ¶æ•°æ®ç±»è‡ªåŠ¨å®žçŽ°äº† copy() æ–¹æ³•ï¼Œå¯ä»¥è¿›è¡Œæ•°æ®ç±»çš„æ·±æ‹·è´ã€‚12val jack = User(name = "Jack", age = 1)val olderJack = jack.copy(age = 2)copy() æ–¹æ³•çš„å£°æ˜Žå¦‚ä¸‹ï¼š1fun copy(name: String = this.name, age: Int = this.age) = User(name, age) 5. æ•°æ®ç±»çš„è§£æž„æ•°æ®ç±»è‡ªåŠ¨ç”Ÿæˆäº† componentN() æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥ç”¨ä½œæ•°æ®ç±»çš„è§£æž„ã€‚è§£æž„æŒ‡çš„æ˜¯ç±»ä¼¼ Python ä¸­çš„è¿”å›žå…ƒç»„ï¼Œå°†æ•°æ®ç±»ä¸­çš„æ•°æ®æ‹†åˆ†å¼€ï¼Œç”¨ä¸åŒçš„å˜é‡æ¥æ‰¿æŽ¥çš„ç‰¹æ€§ã€‚123val jane = User("Jane", 35)val (name, age) = janeprintln("$name, $age years of age") // prints "Jane, 35 years of age"ä¸Šé¢è¿™ä¸ªä¾‹å­å®žé™…ä¸Šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆ12val name = jane.component1()val age = jane.component2()æ‰€ä»¥ name å’Œ age å¯ä»¥ç›´æŽ¥è¢«ä½¿ç”¨12println(name)println(age)componentN() æ–¹æ³•çš„é¡ºåºå’Œ primary constructor ä¸­å‚æ•°çš„é¡ºåºç›¸åŒã€‚componentN() æ–¹æ³•çš„è‡ªå®šä¹‰å®žé™…ä¸Šï¼Œä¸ºäº†æ”¯æŒä¸Šé¢çš„ç±»ä¼¼å…ƒç»„çš„æ“ä½œï¼Œéœ€è¦ä½¿ç”¨ operator æ ‡è¯†ç¬¦æ¥å£°æ˜Ž componentN() æ–¹æ³•ã€‚1234operator fun &lt;K, V&gt; Map&lt;K, V&gt;.iterator(): Iterator&lt;Map.Entry&lt;K, V&gt;&gt; = entrySet().iterator()operator fun &lt;K, V&gt; Map.Entry&lt;K, V&gt;.component1() = getKey()operator fun &lt;K, V&gt; Map.Entry&lt;K, V&gt;.component2() = getValue()&gt;å®šä¹‰ä¹‹åŽï¼Œå°±å¯ä»¥åƒè¿™æ ·è°ƒç”¨1234for ((key, value) in map) &#123; // do something with the key and the value&#125;&gt;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin æžšä¸¾ç±»]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E6%9E%9A%E4%B8%BE%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°äº‹å®žä¸Šï¼ŒKotlin çš„æžšä¸¾å’Œ Java ä¸€æ ·ï¼Œåªæ˜¯æä¾›äº†ä¸€ä¸ªç±»åž‹é™å®šèŒƒå›´ã€‚è€Œå¦‚æžœè¦ä½¿ç”¨åœ¨ switchï¼Œéƒ½å¿…é¡»ä½¿ç”¨ valueOf() æ–¹æ³•ï¼ŒåŒæ—¶ä½¿ç”¨ try-catchã€‚å½“ç„¶ï¼Œåœ¨ Kotlin ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ sealed clasdd æ¥æ–¹ä¾¿çš„å®žçŽ°éœ€è¦ switch çš„æƒ…æ™¯ã€‚ 2. å£°æ˜Ž123enum class Direction &#123; NORTH, SOUTH, WEST, EAST&#125; 3. åˆå§‹åŒ–ä¸Ž Java ä¸€æ ·ï¼Œæžšä¸¾ç±»ä¹Ÿå¯ä»¥è¢«åˆå§‹åŒ–12345enum class Color(val rgb: Int) &#123; RED(0xFF0000), GREEN(0x00FF00), BLUE(0x0000FF)&#125; 4. åŒ¿åç±»æ¯ä¸€ä¸ªæžšä¸¾é¡¹éƒ½èƒ½æ‹¥æœ‰å®ƒè‡ªå·±çš„åŒ¿åç±»å’Œé‡è½½æ–¹æ³•ã€‚1234567891011enum class ProtocolState &#123; WAITING &#123; override fun signal() = TALKING &#125;, TALKING &#123; override fun signal() = WAITING &#125;; abstract fun signal(): ProtocolState&#125; 5. åˆ›å»ºæžšä¸¾åˆ›å»ºæžšä¸¾å’Œ Java ç›¸åŒï¼Œåªèƒ½ä½¿ç”¨ valueOf() æ–¹æ³•ã€‚è€Œä¸”ï¼Œæ­¤æ–¹æ³•åœ¨å‚æ•°ä¸ç¬¦åˆæžšä¸¾å€¼æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚åŒæ—¶ Kotlin ä¹Ÿæä¾›äº† values() æ–¹æ³•æ¥éåŽ†æ‰€æœ‰çš„æžšä¸¾å€¼ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin æ³›åž‹]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E6%B3%9B%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[1. å£°æ˜Žå’Œå®žä¾‹åŒ–å’Œ Java ä¸€æ ·ï¼ŒKotlin ä½¿ç”¨ç±»åž‹å‚æ•°æ¥å£°æ˜Žä¸€ä¸ªæ³›åž‹ç±»123class Box&lt;T&gt;(t: T) &#123; var value = t&#125;è€Œåœ¨å®žä¾‹åŒ–æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ˜¾å¼ç»™å‡ºç±»åž‹å‚æ•°1val box: Box&lt;Int&gt; = Box&lt;Int&gt;(1)ä½†æ˜¯ï¼Œå¦‚æžœç±»åž‹èƒ½å¤Ÿè¢«æŽ¨æ–­å‡ºï¼Œé‚£ä¹ˆç±»åž‹å‚æ•°å¯ä»¥è¢«çœç•¥1val box = Box(1) // 1 has type Int, so the compiler figures out that we are talking about Box&lt;Int&gt; 2. Java ä¸­çš„æ³›åž‹å¯å˜æ€§åœ¨ Java ä¸­ï¼Œæ³›åž‹æ˜¯ä¸å¯å˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ List&lt;Object&gt; ä¸èƒ½æŽ¥å—ä¸€ä¸ª String å¯¹è±¡ã€‚1234567// JavaList&lt;String&gt; strs = new ArrayList&lt;String&gt;();List&lt;Object&gt; objs = strs; // !!! The cause of the upcoming problem sits here. Java prohibits this!objs.add(1); // Here we put an Integer into a list of StringsString s = strs.get(0); // !!! ClassCastException: Cannot cast Integer to Stringä½†æ˜¯æˆ‘ä»¬åˆéœ€è¦å®žçŽ°ä¸€ä¸ªæŽ¥å—æ³›åž‹å¯¹è±¡çš„æ–¹æ³•ï¼Œä¾‹å¦‚ addAll()12345// Java// Wrong implementationinterface Collection&lt;E&gt; ... &#123; void addAll(Collection&lt;E&gt; items);&#125;ä½†æ˜¯ç”±äºŽæ³›åž‹ä¸å¯å˜ï¼Œè¿™æ ·çš„å®žçŽ°å®žé™…ä¸Šæ˜¯é”™è¯¯çš„ã€‚æ‰€ä»¥ Java å¼•å…¥äº†é€šé…ç¬¦(?)ï¼Œä½¿ç”¨ extends å’Œ super æ¥å¯¹é€šé…ç¬¦è¿›è¡Œé™åˆ¶ã€‚12345// Java// Correct implementationinterface Collection&lt;E&gt; ... &#123; void addAll(Collection&lt;? extends E&gt; items);&#125; 2.1.1 &lt;? extends T&gt; å’Œ &lt;? super T&gt; çš„åŒºåˆ«ä½•æ—¶ä½¿ç”¨ extends å’Œ superï¼ŒJava æœ‰ä¸€ä¸ª PECS åŽŸåˆ™ã€‚PECS çš„æ„æ€æ˜¯ Producer Extends, Consumer Superã€‚å³å¯¹äºŽç”Ÿäº§è€…ï¼Œä½¿ç”¨ extendsï¼Œå¯¹äºŽæ¶ˆè´¹è€…ï¼Œä½¿ç”¨ superï¼Œå¦‚æžœä¸€ä¸ªç±»æ—¢è¦ç”Ÿäº§ï¼Œä¹Ÿè¦æ¶ˆè´¹ï¼Œé‚£ä¹ˆå°±ä¸å¯¹é€šé…ç¬¦è¿›è¡Œé™åˆ¶ã€‚ç©¶å…¶åŽŸå› ï¼Œè¿˜æ˜¯å¾—ä»Žè¿™ä¸¤è€…ç‰¹æ€§è¯´èµ·ã€‚ 2.1.1.1 &lt;? extends T&gt;å®žé™…ä¸Šï¼Œå¯¹äºŽä½¿ç”¨äº† &lt;? extends T&gt; çš„ç±»ï¼Œç¼–è¯‘å™¨ä¼šé˜»æ­¢å‘å…¶åŠ å…¥ä»»ä½•çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼š123List&lt;Apple&gt; apples = new ArrayList&lt;Apple&gt;();List&lt;? extends Fruit&gt; fruits = apples; //works, apple is a subclass of Fruit.fruits.add(new Strawberry()); //compile errorfruits æ˜¯ä¸€ä¸ª Fruit çš„å­ç±»çš„ List ,ç”±äºŽ Apple æ˜¯ Fruit çš„å­ç±»ï¼Œå› æ­¤å°† apples èµ‹ç»™ fruits æ˜¯åˆæ³•çš„ã€‚ä½†æ˜¯ç¼–è¯‘å™¨ä¼šé˜»æ­¢å°† Strawberry åŠ å…¥ fruitsã€‚å› ä¸ºç¼–è¯‘å™¨åªçŸ¥é“ fruits æ˜¯ Fruit çš„æŸä¸ªå­ç±»çš„ Listï¼Œä½†å¹¶ä¸çŸ¥é“ç©¶ç«Ÿæ˜¯å“ªä¸ªå­ç±»ï¼Œä¸ºäº†ç±»åž‹å®‰å…¨ï¼Œåªå¥½é˜»æ­¢å‘å…¶ä¸­åŠ å…¥ä»»ä½•å­ç±»ã€‚é‚£ä¹ˆå¯ä¸å¯ä»¥åŠ å…¥ Fruit å‘¢ï¼Ÿå¾ˆé—æ†¾ï¼Œä¹Ÿä¸å¯ä»¥ã€‚ä½†æ˜¯ç”±äºŽç¼–è¯‘å™¨çŸ¥é“ fruits ä¸­çš„å…ƒç´ æ€»æ˜¯ Fruit çš„å­ç±»ï¼Œæ‰€ä»¥å¯ä»¥å®‰å…¨çš„å°†å…¶å–å‡ºã€‚1Fruit fruit = fruits.get(0); 2.1.1.2 &lt;? super T&gt;ä½¿ç”¨ super çš„åŽŸå› å…¶å®žå¹¶ä¸å¦‚ä½¿ç”¨ extends çš„åŽŸå› é‚£æ ·å¤æ‚ã€‚ä½¿ç”¨ super åªæ˜¯ä¸ºäº†ä¸ºäº†ä¿è¯èƒ½å‘å…¶åŠ å…¥ Tï¼Œæˆ–è€…æ˜¯å¯¹å…¶è°ƒç”¨æŽ¥å— T ä½œä¸ºå‚æ•°çš„æ–¹æ³•ã€‚æœ‰è¶£çš„æ˜¯ï¼Œç¼–è¯‘å™¨å¹¶æ²¡æœ‰ç¦æ­¢åœ¨è¿™ç§ç±»åž‹ä¸Šè°ƒç”¨ get() æ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœè°ƒç”¨ get()ï¼Œè¿”å›žçš„æ˜¯ Object è€Œä¸æ˜¯å…·ä½“çš„ T ç±»åž‹ã€‚æ‰€ä»¥åœ¨ &lt;? super T&gt; å¯¹è±¡ä¸Šï¼Œåªèƒ½è¿›è¡Œæ¶ˆè´¹ï¼Œå³è°ƒç”¨ä»¥ T ä¸ºå‚æ•°çš„æ–¹æ³•ã€‚ç¥žå¥‡çš„æ˜¯ï¼Œè™½ç„¶ç±»åž‹æ˜¯ superï¼Œä½†æ˜¯å´ä¸èƒ½åŠ å…¥ä¸€ä¸ªå…·ä½“çš„è¶…ç±»ï¼Œè€Œå¯ä»¥åŠ å…¥ä¸€ä¸ªå…·ä½“çš„å­ç±»ã€‚å…¶åŽŸå› å°±æ˜¯ç¼–è¯‘å™¨æ— æ³•ç¡®å®šåŠ å…¥çš„è¶…ç±»ç©¶ç«Ÿæ˜¯å“ªä¸€ä¸ªï¼Œè€Œ T ä½œä¸ºå‚æ•°æ—¶ï¼Œå¯ä»¥æŽ¥å—ä¸€ä¸ªå­ç±»ã€‚ 3. Kotlin çš„æ”¹è¿›ï¼š Declaration-site varianceåœ¨ Java ä¸­ï¼Œå¦‚æžœä¸€ä¸ªæŽ¥å£åªè¿”å›žæ³›åž‹ï¼Œè€Œä¸å¯¹æ³›åž‹è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆå°†å…¶èµ‹ç»™è¶…ç±»æ³›åž‹å°±æ˜¯å®‰å…¨çš„ã€‚123456789// Javainterface Source&lt;T&gt; &#123; T nextT();&#125;void demo(Source&lt;String&gt; strs) &#123; Source&lt;Object&gt; objects = strs; // !!! Not allowed in Java // ...&#125;ç”±äºŽ Source&lt;T&gt; ä¸­åªæœ‰è¿”å›ž T çš„æ–¹æ³•ï¼Œæ‰€ä»¥å³ä½¿å¯¹ objects è¿›è¡Œæ“ä½œï¼Œä¹Ÿåªèƒ½è¿”å›ž Tï¼Œè€Œ Object æ˜¯ T çš„è¶…ç±»æˆ–è€…å®ƒæœ¬èº«ï¼Œæ‰€ä»¥è¿™æ˜¯å®‰å…¨çš„ã€‚ä½†æ˜¯åœ¨ Java ä¸­ä¸å…è®¸è¿™æ ·çš„å†™æ³•ï¼Œä½ ä¾æ—§è¦ä½¿ç”¨ Sorce&lt;? extends String&gt;ï¼Œè¿™æ˜¾å¾—æ¯«æ— æ„ä¹‰ã€‚åœ¨ Kotlin ä¸­ï¼Œå¯¹äºŽè¿™æ ·çš„æƒ…å½¢ï¼Œå®šä¹‰äº† out æ ‡è¯†ç¬¦ï¼Œä½¿ç”¨ out æ ‡è¯†ç¬¦æ¥è¯´æ˜Žï¼Œç±»ã€æŽ¥å£åªä¼šè¿”å›žæ³›åž‹ï¼Œè€Œä¸ä¼šæŽ¥å—æ³›åž‹ä½œä¸ºå‚æ•°ã€‚12345678abstract class Source&lt;out T&gt; &#123; abstract fun nextT(): T&#125;fun demo(strs: Source&lt;String&gt;) &#123; val objects: Source&lt;Any&gt; = strs // This is OK, since T is an out-parameter // ...&#125;åŒæ ·çš„ï¼Œå®šä¹‰äº† in æ ‡è¯†ç¬¦ï¼Œç”¨äºŽè¡¨æ˜Žç±»ã€æŽ¥å£åªä¼šæŽ¥å— T ä½œä¸ºå‚æ•°ï¼Œè€Œä¸ä¼šè¿”å›žå®ƒã€‚123456789abstract class Comparable&lt;in T&gt; &#123; abstract fun compareTo(other: T): Int&#125;fun demo(x: Comparable&lt;Number&gt;) &#123; x.compareTo(1.0) // 1.0 has type Double, which is a subtype of Number // Thus, we can assign x to a variable of type Comparable&lt;Double&gt; val y: Comparable&lt;Double&gt; = x // OK!&#125;ä¸Ž Java ä¸åŒçš„æ˜¯ï¼ŒKotlin å¹¶æ²¡æœ‰å®šä¹‰ä¸€ä¸ªå£è¯€æ¥å¸®åŠ©è®°å¿†ï¼Œout å’Œ in å·²ç»è¶³å¤Ÿè¯´æ˜Žå…¶å±žæ€§ã€‚out ä»£è¡¨ç€ç±»ã€æŽ¥å£åªä¼šç»™å‡ºTï¼Œç›¸å½“äºŽ T çš„ç”Ÿäº§è€…ï¼›in ä»£è¡¨ç€ç±»ã€æŽ¥å£åªä¼šæŽ¥å— Tï¼Œç›¸å½“äºŽ T çš„æ¶ˆè´¹è€…ã€‚è¿™äº›è¯è¯­çš„è¡¨æ„æ€§å·²ç»ååˆ†æ˜Žç¡®äº†ã€‚ 4. ç±»åž‹é¢„æµ‹å¯¹äºŽä¸€ä¸ªæ—¢èƒ½ç”Ÿäº§åˆèƒ½æ¶ˆè´¹çš„ç±»ï¼Œæˆ‘ä»¬å°±ä¸èƒ½åœ¨å£°æ˜Žé˜¶æ®µé™å®šå®ƒçš„æ³›åž‹ç±»åž‹ã€‚ä¾‹å¦‚ï¼š1234class Array&lt;T&gt;(val size: Int) &#123; fun get(index: Int): T &#123; /* ... */ &#125; fun set(index: Int, value: T) &#123; /* ... */ &#125;&#125;ä½†æ˜¯å¯¹äºŽå¦‚ä¸‹æ–¹æ³•12345fun copy(from: Array&lt;Any&gt;, to: Array&lt;Any&gt;) &#123; assert(from.size == to.size) for (i in from.indices) to[i] = from[i]&#125;è¿™ä¸ªæ–¹æ³•çš„ç›®çš„æ˜¯å°†ä¸€ä¸ªç±»çš„å…ƒç´ å¤åˆ¶åˆ°å¦ä¸€ä¸ªç±»ä¸­åŽ»ï¼Œå¦‚æžœè¿›è¡Œå¦‚ä¸‹çš„è°ƒç”¨ï¼š123val ints: Array&lt;Int&gt; = arrayOf(1, 2, 3)val any = Array&lt;Any&gt;(3)copy(ints, any) // Error: expects (Array&lt;Any&gt;, Array&lt;Any&gt;)ä¸€ä¸ª Array&lt;Any&gt; å½“ç„¶å¯ä»¥æŽ¥å—ä¸€ä¸ª Int çš„å€¼ï¼Œç†è®ºä¸Šæ¥è¯´è¿™æ®µä»£ç æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯ç¼–è¯‘å™¨é˜»æ­¢è¿™ä¹ˆä½¿ç”¨çš„åŽŸå› åœ¨äºŽï¼šArray&lt;T&gt; ç±»æ—¢å¯ä»¥ç”Ÿäº§åˆå¯ä»¥æ¶ˆè´¹ï¼Œå¦‚æžœæˆ‘ä»¬å‘ from ä¸­æ·»åŠ ä¸€ä¸ª Any å¯¹è±¡ï¼ˆå› ä¸º from çš„å½¢å‚æ˜¯ Array&lt;Any&gt;ï¼‰ï¼Œä½†æ˜¯å½“å‰ from æ˜¯ Intï¼Œ å½“ç„¶è¿™å°±ä¼šå¯¼è‡´ ClassCastExceptionã€‚ä¸ºäº†é˜²æ­¢è¿™ç§ä¸å®‰å…¨çš„äº‹æƒ…å‘ç”Ÿï¼Œç¼–è¯‘å™¨å°±ç¦æ­¢äº†ä¸Šè¿°æ“ä½œã€‚ä½†æ˜¯ï¼Œåªè¦ from ä¸è¿›è¡Œæ¶ˆè´¹æ“ä½œï¼Œé‚£ä¹ˆè¿™æ®µä»£ç å°±æ˜¯ç±»åž‹å®‰å…¨çš„ã€‚æ‰€ä»¥ï¼ŒKotlin é™¤äº†æä¾›åœ¨å£°æ˜Žé˜¶æ®µè¿›è¡Œæ³›åž‹é™åˆ¶ä»¥å¤–ï¼Œè¿˜å¯ä»¥åœ¨è°ƒç”¨é˜¶æ®µè¿›è¡Œæ³›åž‹é™åˆ¶ã€‚åœ¨ copy() æ–¹æ³•ä¸­ï¼Œå¦‚æžœæˆ‘ä»¬é™åˆ¶ from åªä¼šç”Ÿäº§ï¼Œè€Œä¸ä¼šæ¶ˆè´¹ï¼Œé‚£ä¹ˆä¸Šé¢çš„è°ƒç”¨å°±æ˜¯å®‰å…¨çš„äº†ã€‚123fun copy(from: Array&lt;out Any&gt;, to: Array&lt;Any&gt;) &#123; // ...&#125;Kotlin çš„è¿™ç§ç‰¹æ€§ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç±»åž‹é¢„æµ‹ï¼šfrom ä¸ä»…ä»…åªæ˜¯ä¸€ä¸ªç®€å•çš„ Arrayï¼Œè€Œä¸”å®ƒå—åˆ°äº†é™åˆ¶ï¼Œå®ƒçš„ç±»åž‹å·²ç»è¢«é¢„æµ‹äº†ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ in æ¥æŒ‡æ˜Žä¸€ä¸ªå˜é‡åªä¼šæ¶ˆè´¹ï¼Œè€Œä¸ä¼šç”Ÿäº§ã€‚123fun fill(dest: Array&lt;in String&gt;, value: String) &#123; // ...&#125;äº‹å®žä¸Šï¼Œ &lt;out T&gt; ç›¸å½“äºŽ Java çš„ &lt;? extends T&gt;ï¼›&lt;in T&gt; ç›¸å½“äºŽ Java çš„ &lt;? super T&gt; 5. æ˜Ÿå·é™¤äº†ä¸Šè¿°çš„æ³›åž‹ç±»åž‹é™åˆ¶å¤–ï¼ŒKotlin è¿˜æä¾›äº†ä¸€ä¸ªæ˜Ÿå·ç±»åž‹(*)ã€‚è¿™å’Œ Java çš„é€šé…ç¬¦(?)å¾ˆç›¸ä¼¼ï¼Œå½“ä½ ä¸çŸ¥é“å…·ä½“çš„æ³›åž‹ç±»åž‹ï¼Œè€Œåˆæƒ³ä½¿ç”¨å®ƒæ—¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨æ˜Ÿå·ç±»åž‹ã€‚å…·ä½“æ¥è¯´ï¼šå¯¹äºŽ Foo&lt;out T&gt;ï¼ŒFoo&lt;*&gt; æ„å‘³ç€ Foo&lt;out TUpper&gt;ï¼ŒTUpper æŒ‡çš„æ˜¯ Foo() æ–¹æ³•æ‰€ç»™å®šçš„æ³›åž‹ä¸Šç•Œã€‚ä¹Ÿå°±æ˜¯è¯´å½“ T æ˜¯æœªçŸ¥çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä»Ž Foo&lt;*&gt;è¯»å–**T çš„ä¸Šç•Œ**å¯¹äºŽ Foo&lt;in T&gt;ï¼ŒFoo&lt;*&gt; æŒ‡çš„æ˜¯ Foo&lt;in Nothing&gt;ï¼Œæ„æ€æ˜¯å½“ T æœªçŸ¥æ—¶ï¼Œä½ ä¸èƒ½å‘ Foo&lt;*&gt; ä¸­å†™å…¥ä»»ä½•ä¸œè¥¿ã€‚å¯¹äºŽ Foo&lt;T&gt;ï¼ŒT æ˜¯ä¸€ä¸ªä¸å¯å˜çš„æ³›åž‹ç±»åž‹ï¼Œæ‰€ä»¥ Foo&lt;*&gt; è¡¨ç¤º Foo&lt;out TUpper&gt; å’Œ Foo&lt;in Nothing&gt;ä¸€ä¸ªæ›´ä¸ºé€šä¿—çš„è§£é‡Šå¦‚ä¸‹ï¼šå¯¹äºŽæŽ¥å£å£°æ˜Ž interface Function&lt;in T, out U&gt;ï¼šFunction&lt;*, String&gt; è¡¨ç¤º Function&lt;in Nothing, String&gt;Function&lt;String, *&gt; è¡¨ç¤º Function&lt;String, out Any?&gt;Function&lt;*, *&gt; è¡¨ç¤º Function&lt;in Nothing, out Any?&gt; 6. æ³›åž‹æ–¹æ³•ä¸Ž Java ä¸€æ ·ï¼ŒKotlin ä¸­çš„æ–¹æ³•ä¹Ÿå¯ä»¥æœ‰æ³›åž‹ã€‚1234567fun &lt;T&gt; singletonList(item: T): List&lt;T&gt; &#123; // ...&#125;fun &lt;T&gt; T.basicToString() : String &#123; // extension function // ...&#125;è°ƒç”¨æ–¹æ³•ï¼š1val l = singletonList&lt;Int&gt;(1) 7. æ³›åž‹çº¦æŸä¸Ž Java ä¸€æ ·ï¼ŒKotlin ä¹Ÿæ‹¥æœ‰æ³›åž‹çº¦æŸï¼Œè¿™ç”¨åœ¨å½“æ³›åž‹å‚æ•° T æœªçŸ¥æ—¶ï¼Œç”¨äºŽå¯¹ T çš„ç±»åž‹åšå‡ºé™åˆ¶ï¼Œå³ TUpperæœ€å¸¸ç”¨çš„æ³›åž‹çº¦æŸå°±æ˜¯ä¸Šç•Œï¼ŒJava ä¸­ä½¿ç”¨ extends æ¥æŒ‡æ˜Žä¸Šç•Œã€‚Kotlin ä½¿ç”¨ å†’å·(:) æ¥æŒ‡æ˜Žä¸Šç•Œã€‚123fun &lt;T : Comparable&lt;T&gt;&gt; sort(list: List&lt;T&gt;) &#123; // ...&#125;ç”¨æ³•ä¸¾ä¾‹ï¼š12sort(listOf(1, 2, 3)) // OK. Int is a subtype of Comparable&lt;Int&gt;sort(listOf(HashMap&lt;Int, String&gt;())) // Error: HashMap&lt;Int, String&gt; is not a subtype of Comparable&lt;HashMap&lt;Int, String&gt;&gt;é»˜è®¤çš„ä¸Šç•Œæ˜¯ Any?ï¼ˆ? è¯´æ˜Žå¯ä»¥ä¸ºç©ºnullableï¼‰ã€‚åªæœ‰ä¸€ä¸ªä¸Šç•Œå¯ä»¥åœ¨å°–æ‹¬å·ä¸­è¢«æŒ‡å®šï¼Œå¦‚æžœéœ€è¦å¯¹åŒä¸€ä¸ªæ³›åž‹å‚æ•°æŒ‡å®šå¤šä¸ªä¸Šç•Œï¼Œåˆ™éœ€è¦ä½¿ç”¨ where è¯­å¥ã€‚12345fun &lt;T&gt; cloneWhenGreater(list: List&lt;T&gt;, threshold: T): List&lt;T&gt; where T : Comparable, T : Cloneable &#123; return list.filter &#123; it &gt; threshold &#125;.map &#123; it.clone() &#125;&#125;æ³¨æ„ Comparable å’Œ Cloneable éƒ½æ˜¯æŽ¥å£ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin ç›¸ç­‰æ€§]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E7%9B%B8%E7%AD%89%E6%80%A7%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Kotlin ä¸­æ‹¥æœ‰ä¸¤ç§ç›¸ç­‰æ€§ç±»åž‹å¼•ç”¨ç›¸ç­‰æ€§ï¼šä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ç»“æž„ç›¸ç­‰æ€§ï¼šç±»ä¼¼ Java ä¸­çš„ equals() 2. å¼•ç”¨ç›¸ç­‰æ€§å¼•ç”¨ç›¸ç­‰æ€§ä½¿ç”¨ ===ï¼ˆå…¶å¦å®šåˆ¤æ–­ä¸º !==ï¼‰ï¼Œ æ¥è¿›è¡Œåˆ¤åˆ«ï¼Œå®ƒåªåˆ¤æ–­ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æŒ‡å‘äº†åŒä¸€ä¸ªå¯¹è±¡ã€‚a === b ä¸ºçœŸå½“ä¸”ä»…å½“ a å’Œ b æŒ‡å‘äº†åŒä¸€ä¸ªå¯¹è±¡ã€‚ 3. ç»“æž„ç›¸ç­‰æ€§ç»“æž„ç›¸ç­‰æ€§çš„åˆ¤æ–­ç±»ä¼¼ Java ä¸­çš„ equals()ï¼Œåœ¨ Kotlin ä¸­ï¼Œä½¿ç”¨ == æ“ä½œç¬¦æ¥è¿›è¡Œåˆ¤æ–­ï¼ˆå…¶å¦å®šä¸º !=ï¼‰ã€‚ä¸€ä¸ª == æ“ä½œç¬¦ä¼šè¢«è½¬æ¢æˆä»¥ä¸‹çš„ç›¸åº”ä»£ç 1a?.equals(b) ?: (b === null)ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ a éžç©ºæ—¶ï¼Œå®ƒä¼šè°ƒç”¨ equal(Any?)ï¼Œå½“ a ä¸ºç©ºæ—¶ï¼Œå®ƒä¼šæ£€æŸ¥ b æ˜¯å¦ä¹Ÿä¸ºç©ºã€‚æ³¨æ„ï¼Œåœ¨ç©ºæ£€æŸ¥æ—¶ï¼Œæ²¡æœ‰å¿…è¦è½¬æ¢ä½ çš„ä»£ç ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°† a == null ä¼˜åŒ–ä¸º a === null]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin ç±»åž‹æ£€æŸ¥å’Œé€ åž‹]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E9%80%A0%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[1. ç±»åž‹æ£€æŸ¥ä½¿ç”¨ is å’Œ !is æ¥æ£€æŸ¥ä¸€ä¸ªå˜é‡çš„ç±»åž‹12345678910if (obj is String) &#123; print(obj.length)&#125;if (obj !is String) &#123; // same as !(obj is String) print("Not a String")&#125;else &#123; print(obj.length)&#125; 2. æ™ºèƒ½é€ åž‹(Smart Cast)æ™ºèƒ½é€ åž‹æŒ‡çš„æ˜¯ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ»¡è¶³ä¸€ä¸ª is è¡¨è¾¾å¼æ—¶ï¼Œå®ƒå°±ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆè¿™ä¸ªç±»åž‹ã€‚12345fun demo(x: Any) &#123; if (x is String) &#123; print(x.length) // x is automatically cast to String &#125;&#125;åŒæ ·çš„ï¼Œå®ƒä¹Ÿæ”¯æŒå¦å®šæ£€æŸ¥12if (x !is String) returnprint(x.length) // x is automatically cast to Stringä¹Ÿæ”¯æŒ &amp;&amp; å’Œ || è¡¨è¾¾å¼123456// x is automatically cast to string on the right-hand side of `||`if (x !is String || x.length == 0) return// x is automatically cast to string on the right-hand side of `&amp;&amp;`if (x is String &amp;&amp; x.length &gt; 0) print(x.length) // x is automatically cast to StringåŒæ ·ï¼Œåœ¨ when å’Œ while è¯­å¥ä¸­ä¹Ÿæ”¯æŒè¿™ä¸ªç‰¹æ€§12345when (x) &#123; is Int -&gt; print(x + 1) is String -&gt; print(x.length + 1) is IntArray -&gt; print(x.sum())&#125;ä½†æ˜¯ï¼Œæ™ºèƒ½é€ åž‹åœ¨ç¼–è¯‘å™¨æ— æ³•ä¿è¯åœ¨æ£€æŸ¥å’Œä½¿ç”¨çš„è¿‡ç¨‹ä¸­ç±»åž‹ä¸ä¼šå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸èƒ½ä½¿ç”¨ã€‚å…·ä½“æ¥è¯´ï¼Œæ™ºèƒ½é€ åž‹åœ¨ä»¥ä¸‹åœºæ™¯ä¸­æœ‰æ•ˆï¼šval å±€éƒ¨å˜é‡ï¼šæ€»æ˜¯æœ‰æ•ˆval å±žæ€§è¿™ä¸ªå±žæ€§æ˜¯ private æˆ–è€… internalï¼›å¯¹äºŽå®ƒçš„æ£€æŸ¥ä»£ç ä¸Žå®ƒçš„å£°æ˜Žåœ¨åŒä¸€ä¸ªæ¨¡å—ä¸­æ—¶æ³¨æ„ï¼Œæ™ºèƒ½é€ åž‹ä¸é€‚ç”¨äºŽå…·æœ‰è‡ªå®šä¹‰ getter æˆ–è€…å¼€æ”¾çš„å˜é‡(public)var å±€éƒ¨å˜é‡è¿™ä¸ªå˜é‡æ²¡æœ‰åœ¨æ£€æŸ¥å’Œä½¿ç”¨ä»£ç é—´è¿›è¡Œæ”¹åŠ¨è¿™ä¸ªå˜é‡æ²¡æœ‰è¢«ä¿®æ”¹å®ƒçš„ lambda è¡¨è¾¾å¼æ•èŽ·var å±žæ€§ï¼šæ€»æ˜¯æ— æ•ˆ 3. ä¸å®‰å…¨çš„é€ åž‹é€šå¸¸æ¥è¯´ï¼Œå½“ä¸€ä¸ªé€ åž‹æ“ä½œä¼šä¸¢å‡ºå¼‚å¸¸æ—¶ï¼Œè¯´æ˜Žè¿™ä¸ªé€ åž‹æ“ä½œæ˜¯ä¸å®‰å…¨çš„ã€‚å¯¹äºŽè¿™ç§é€ åž‹æ“ä½œï¼ŒKotlin ä½¿ç”¨ as å…³é”®å­—ã€‚1val x: String = y as Stringæ³¨æ„ï¼Œnull ä¸èƒ½å¼ºåˆ¶è½¬æ¢æˆ Stringï¼Œå¦‚æžœ y æ˜¯ nullï¼Œé‚£ä¹ˆä¸Šè¿°ä»£ç å°†ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª nullable å¯¹è±¡æ¥è¿›è¡Œé€ åž‹1val x: String? = y as String? 4. å®‰å…¨çš„é€ åž‹ä¸ºäº†é¿å…åœ¨é€ åž‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå®‰å…¨çš„é€ åž‹æ“ä½œç¬¦ as?ã€‚å®ƒä¼šåœ¨é€ åž‹å¤±è´¥æ—¶è¿”å›ž null1val x: String? = y as? Stringæ³¨æ„ï¼Œè™½ç„¶ as? å³è¾¹æ˜¯ä¸€ä¸ªéžç©ºç±»åž‹ï¼Œä½†æ˜¯é€ åž‹è¿”å›žçš„ç»“æžœä¹Ÿå¯ä»¥ä¸ºç©ºã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin èŒƒå›´]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E8%8C%83%E5%9B%B4%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°è™½ç„¶ Kotlin æ”¯æŒäº†ç®€å•æ˜“ç”¨çš„ foreach è¯­æ³•ï¼Œä½†æ˜¯ï¼Œæœ‰äº›æ—¶å€™ä¹Ÿæœ‰å¿…è¦èŽ·å–ä¸‹æ ‡ï¼Œå¹¶æ˜¾å¼çš„é™å®šå…¶èŒƒå›´ï¼Œæˆ–è€…ä½ éœ€è¦åˆ¤å®šä¸€ä¸ªå€¼æ˜¯å¦åœ¨ä¸€ä¸ªèŒƒå›´å†…ã€‚Kotlin å¯¹æ­¤æ”¯æŒ Range è¯­æ³•ï¼Œå®ƒå°±æ˜¯ç®€å•çš„ä½¿ç”¨ .. æ¥è¡¨ç¤ºèŒƒå›´ï¼Œå¹¶ä¸”æ”¯æŒä½¿ç”¨ in å’Œ !in æ¥è¿›è¡Œåˆ¤å®šï¼›ä»¥åŠ for è¿›è¡ŒéåŽ†ã€‚ 2. åˆ¤å®š123if (i in 1..10) &#123; // equivalent of 1 &lt;= i &amp;&amp; i &lt;= 10 println(i)&#125; 3. éåŽ†å¯¹äºŽæ ‡å‡†åº“ä¸­çš„èŒƒå›´ï¼ˆIntRange LongRange CharRangeï¼‰ï¼ŒKotlin æ”¯æŒéåŽ†æ“ä½œã€‚123for (i in 1..4) print(i) // prints "1234"for (i in 4..1) print(i) // prints nothingä¸Šé¢çš„ç¬¬äºŒç§å†™æ³•ä¸ä¼šæ‰“å°å‡ºå€¼ï¼Œä½†æ˜¯ï¼Œå¦‚æžœä½ éœ€è¦é€†åºéåŽ†ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨ downTo() æ–¹æ³•å³å¯ã€‚1for (i in 4 downTo 1) print(i) // prints "4321"å¦‚æžœéœ€è¦å®šä¹‰æ­¥é•¿ï¼Œä½¿ç”¨ step() æ–¹æ³•123for (i in 1..4 step 2) print(i) // prints "13"for (i in 4 downTo 1 step 2) print(i) // prints "42" 4. åŽŸç†èŒƒå›´éœ€è¦å®žçŽ°ä¸€ä¸ª ClosedRange&lt;T&gt; æŽ¥å£ã€‚ClosedRange&lt;T&gt; ä»£è¡¨ç€ä¸€ä¸ªé—­åŒºé—´ï¼Œå®ƒæœ‰ä¸¤ä¸ªå˜é‡ start å’Œ endInclusiveï¼Œåˆ†åˆ«ä»£è¡¨ç€åŒºé—´çš„ä¸¤ç«¯ã€‚å®ƒä¸»è¦çš„æ–¹æ³•æ˜¯ contains() ä¸€èˆ¬åº”ç”¨åœ¨ in å’Œ !in çš„èŒƒå›´æ£€æŸ¥ä¸­ã€‚å¯¹äºŽæ­¥é•¿å’Œé€†åºæ–¹æ³•ï¼Œå®ƒä»¬ä¸»è¦æ˜¯é€šè¿‡ *Progression æ¥å®žçŽ°çš„ï¼›ç›®å‰ Kotlin æ‹¥æœ‰ IntProgression, LongProgression, CharProgressionProgresssion æŽ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œfirst ã€last å’Œä¸€ä¸ªéžé›¶çš„ incrementã€‚Progression ä¸»è¦å®žçŽ°äº† Iterable&lt;N&gt; æŽ¥å£ï¼Œè¿›è¡ŒéåŽ†çš„æ“ä½œå’Œä»¥ä¸‹çš„ Java ä»£ç ç±»ä¼¼123for (int i = first; i != last; i += increment) &#123; // ...&#125;Progression ç±»ä¸»è¦é€šè¿‡ä»¥ä¸‹æ–¹æ³•è¿›è¡Œæž„å»º1IntProgression.fromClosedRange(start, end, increment)æ³¨æ„ increment ä¸èƒ½æ˜¯è´Ÿçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å…è®¸å‡ºçŽ°1(last - first) % increment == 0 5. å…¶ä»–æœ‰ç”¨çš„æ–¹æ³•é™¤äº†ä¸Šé¢ä»‹ç»çš„æœ‰ç”¨çš„æ–¹æ³•å¤–ï¼Œè¿˜æœ‰ä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„æ–¹æ³•ã€‚ 5.1 reversed()å¾ˆç®€å•ï¼Œç”¨äºŽåè½¬æ•´ä¸ªæµç¨‹ã€‚123fun IntProgression.reversed(): IntProgression &#123; return IntProgression.fromClosedRange(last, first, -increment)&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin è°ƒç”¨ Java ä»£ç ]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E8%B0%83%E7%94%A8%20Java%20%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Kotlin å®Œç¾Žæ”¯æŒ Javaï¼Œä½ å¯ä»¥æ— ç¼åœ°åœ¨ Kotlin ä¸­å¼•å…¥ Java åº“ï¼Œè°ƒç”¨ Java ç±»ç­‰ã€‚1234567891011import java.util.*fun demo(source: List&lt;Int&gt;) &#123; val list = ArrayList&lt;Int&gt;() // 'for'-loops work for Java collections: for (item in source) list.add(item) // Operator conventions work as well: for (i in 0..source.size() - 1) list[i] = source[i] // get and set are called&#125; 2. è°ƒç”¨ getter å’Œ setterJava ä¸­çš„ getter å’Œ setter åœ¨ Kotlin ä¸­éƒ½ä¼šè¢«è½¬æ¢ä¸º Kotlin çš„æ ¼å¼ï¼Œå³åªéœ€è¦ç›´æŽ¥å¼•ç”¨å±žæ€§å€¼å³å¯ã€‚12345678import java.util.Calendarfun calendarDemo() &#123; val calendar = Calendar.getInstance() if (calendar.firstDayOfWeek == Calendar.SUNDAY) &#123; // call getFirstDayOfWeek() calendar.firstDayOfWeek = Calendar.MONDAY // call setFirstDayOfWeek() &#125;&#125; 3. è¿”å›ž void çš„æ–¹æ³•Java ä¸­è¿”å›ž void çš„æ–¹æ³•ï¼Œåœ¨ Kotlin ä¸­ä¼šè½¬æ¢ä¸ºè¿”å›ž Unit 4. è½¬ä¹‰ Java æ–¹æ³•Kotlin ä¸­æ‹¥æœ‰ä¸€äº› Java æ²¡æœ‰çš„å…³é”®å­—ï¼ˆæ¯”å¦‚ is in object ç­‰ï¼‰ã€‚å¯¹äºŽè¿™äº›å…³é”®å­—ï¼Œå¦‚æžœ Java ä»£ç ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•åæˆ–å˜é‡åï¼Œå¯ä»¥é€šè¿‡å¯¹å…¶è¿›è¡Œè½¬ä¹‰æ¥è°ƒç”¨å®ƒã€‚ä½¿ç”¨ `` æ¥è¿›è¡Œè½¬ä¹‰å·¥ä½œã€‚1foo.`is`(bar) 5. Null Safety å’Œ Platform Typeåœ¨ Java ä¸­ï¼Œä»»ä½•å¼•ç”¨éƒ½æœ‰å¯èƒ½ä¸ºç©ºï¼Œä½†æ˜¯åœ¨ Kotlin ä¸­ï¼Œä¸¥æ ¼çš„ç±»åž‹ç³»ç»Ÿä¸å…è®¸ç©ºå€¼ã€‚å¯¹äºŽè¿™ç§å†²çªï¼ŒKotlin é‡‡ç”¨ Platform Typeï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ Java ä»£ç ä¸­çš„å¼•ç”¨ï¼ŒKotlin ç±»åž‹ç³»ç»Ÿä¼šå¯¹å…¶æ”¾æ¾é™åˆ¶ã€‚æ‰€ä»¥å®ƒä»¬çš„å®‰å…¨æ€§ä¿éšœå°±å’Œåœ¨ Java ä»£ç ä¸­ä¸€æ ·ã€‚å¯¹äºŽ Platform Typeï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª nullable çš„ Kotlin ç±»åž‹æ¥æ‰¿æŽ¥å®ƒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ non-nullable å¯¹è±¡ã€‚12val nullable: String? = item // allowed, always worksval notNull: String = item // allowed, may fail at runtimeå½“æˆ‘ä»¬ä½¿ç”¨ non-null å¯¹è±¡æ¥æ‰¿æŽ¥ Platform Type æ—¶ï¼ŒKotlin ä¼šè‡ªåŠ¨åœ¨èµ‹å€¼è¯­å¥ä¸Šæ–¹æ’å…¥æ–­è¨€ï¼Œæ¥ä¿è¯ Kotlin å˜é‡çš„éžç©ºæ€§ã€‚åŒæ ·çš„ï¼Œå½“æˆ‘ä»¬æŠŠ Platform Type ä¼ ä¸ªä¸€ä¸ªæŽ¥å—éžç©ºç±»åž‹çš„å‡½æ•°å‚æ•°æ—¶ï¼ŒKotlin ä¹Ÿä¼šè‡ªåŠ¨åœ¨å‡½æ•°è°ƒç”¨å‰æ’å…¥æ–­è¨€è¯­å¥ã€‚ä¸è¿‡æœ‰æ—¶å€™ä¹Ÿä¸ä¸€å®šä¼šè¿›è¡Œæ–­è¨€ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨æ³›åž‹çš„æ—¶å€™ã€‚ 6. Platform Type çš„ç¬¦å·ç”±äºŽ Platform Type ä¸èƒ½è¢«æ˜¾å¼ç¡®å®šï¼Œæ‰€ä»¥æ²¡æœ‰å…³äºŽå®ƒä»¬çš„è¯­æ³•ã€‚ä½†æ˜¯æœ‰æ—¶å€™ IDE éœ€è¦ç”Ÿæˆå‡½æ•°æç¤ºï¼Œæ‰€ä»¥å¯¹äºŽ Platfrom Type ä¹Ÿæœ‰ä¸€äº›ç¬¦å·ç”¨äºŽè¯´æ˜Žã€‚T! è¡¨ç¤º T æˆ–è€… T?(Mutable)Collection&lt;T&gt;! è¡¨ç¤ºå…³äºŽ T çš„ Java é›†åˆï¼Œå¯èƒ½ä¼šè¢«ä¿®æ”¹ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šï¼›å¯èƒ½ä¸ºç©ºï¼Œä¹Ÿå¯èƒ½ä¸ä¼šArray&lt;(out) T&gt;! è¡¨ç¤ºå…³äºŽ T æˆ–è€…å…¶å­ç±»åž‹çš„ Java æ•°ç»„ï¼Œæœ‰å¯èƒ½ä¸ºç©ºï¼Œä¹Ÿå¯èƒ½ä¸ä¸ºç©ºã€‚ 7. Nullability æ³¨è§£ä½¿ç”¨äº†æ³¨è§£è¡¨æ˜Ž nullability çš„ Platform Type ä¼šè¢«å½“åšçœŸæ­£çš„ Kotlin å˜é‡æ¥å¤„ç†ã€‚Kotlin ç›®å‰æ”¯æŒä»¥ä¸‹æ³¨è§£ï¼šJetBrains (@Nullable and @NotNull from the org.jetbrains.annotations package)Android (com.android.annotations and android.support.annotations)JSR-305 (javax.annotation)FindBugs (edu.umd.cs.findbugs.annotations)Eclipse (org.eclipse.jdt.annotation)Lombok (lombok.NonNull). 8. ç±»åž‹çš„å¯¹åº”å…³ç³»ç”±äºŽ Kotlin ä¸­æ²¡æœ‰åŽŸå§‹ç±»åž‹ï¼Œæ‰€ä»¥å¯¹äºŽ Java çš„åŽŸå§‹ç±»åž‹ï¼Œä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆå¯¹åº”çš„ Kotlin ç±»ã€‚è¿™ä¸ªè½¬æ¢åªä¼šå‘ç”Ÿåœ¨ç¼–è¯‘æœŸé—´ï¼Œåœ¨è¿è¡ŒæœŸé—´æ˜¯ä¸å˜çš„ï¼Œä¼šä¿æŒ Platfrom Typeã€‚Java typeKotlin typebytekotlin.Byteshortkotlin.Shortintkotlin.Intlongkotlin.Longcharkotlin.Charfloatkotlin.Floatdoublekotlin.Doublebooleankotlin.Booleanä¸€äº›éžåŽŸå§‹ç±»åž‹çš„ç±»ä¹Ÿä¼šè¢«è½¬æ¢Java typeKotlin typejava.lang.Objectkotlin.Any!java.lang.Cloneablekotlin.Cloneable!java.lang.Comparablekotlin.Comparable!java.lang.Enumkotlin.Enum!java.lang.Annotationkotlin.Annotation!java.lang.Deprecatedkotlin.Deprecated!java.lang.Voidkotlin.Nothing!java.lang.CharSequencekotlin.CharSequence!java.lang.Stringkotlin.String!java.lang.Numberkotlin.Number!java.lang.Throwablekotlin.Throwable!é›†åˆç±»åž‹åœ¨ Kotlin æœ‰å¯å˜å’Œä¸å¯å˜ä¸¤ç§ç±»åž‹ï¼Œæ‰€ä»¥ Java çš„é›†åˆç±»åž‹ä¹Ÿä¼šè¿›è¡Œç›¸åº”çš„è½¬æ¢ã€‚Java typeKotlin read-only typeKotlin mutable typeLoaded platform typeIterator&lt;T&gt;Iterator&lt;T&gt;MutableIterator&lt;T&gt;(Mutable)Iterator&lt;T&gt;!Iterable&lt;T&gt;Iterable&lt;T&gt;MutableIterable&lt;T&gt;(Mutable)Iterable&lt;T&gt;!Collection&lt;T&gt;Collection&lt;T&gt;MutableCollection&lt;T&gt;(Mutable)Collection&lt;T&gt;!Set&lt;T&gt;Set&lt;T&gt;MutableSet&lt;T&gt;(Mutable)Set&lt;T&gt;!List&lt;T&gt;List&lt;T&gt;MutableList&lt;T&gt;(Mutable)List&lt;T&gt;!ListIterator&lt;T&gt;ListIterator&lt;T&gt;MutableListIterator&lt;T&gt;(Mutable)ListIterator&lt;T&gt;!Map&lt;K, V&gt;Map&lt;K, V&gt;MutableMap&lt;K, V&gt;(Mutable)Map&lt;K, V&gt;!Map.Entry&lt;K, V&gt;Map.Entry&lt;K, V&gt;MutableMap.MutableEntry&lt;K,V&gt;(Mutable)Map.(Mutable)Entry&lt;K, V&gt;!åŒæ ·çš„ï¼ŒJava çš„æ•°ç»„ä¹Ÿä¼šè¿›è¡Œè½¬æ¢Java typeKotlin typeint[]kotlin.IntArray!String[]kotlin.Array&lt;(out) String&gt;! 9. Java æ³›åž‹Kotlin ä¸­çš„æ³›åž‹ç³»ç»Ÿå’Œ Java æœ‰äº›ä¸åŒï¼Œæ‰€ä»¥å½“ä½¿ç”¨çš„ Java ä»£ç å­˜åœ¨æ³›åž‹æ—¶ï¼Œåšå¦‚ä¸‹è½¬æ¢ï¼šJava æ³›åž‹é€šé…ç¬¦è¢«è½¬æ¢æˆç±»åž‹é¢„æµ‹Foo&lt;? extends Bar&gt; è½¬æ¢ä¸º Foo&lt;out Bar!&gt;!Foo&lt;? super Bar&gt; è½¬æ¢ä¸º Foo&lt;in Bar!&gt;!Java çš„åŽŸå§‹ç±»åž‹è¢«è½¬æ¢æˆæ˜Ÿå½¢é¢„æµ‹List è½¬æ¢ä¸º List&lt;*&gt;!ï¼Œä¹Ÿå°±æ˜¯ List&lt;out Any?&gt;!å’Œ Java ä¸€æ ·ï¼ŒKotlin çš„æ³›åž‹åœ¨è¿è¡ŒæœŸé—´æ˜¯ä¸ä¼šä¿ç•™çš„ã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹è±¡åœ¨æž„å»ºçš„æ—¶å€™ä¸ä¼šæºå¸¦æ³›åž‹çš„çœŸæ­£ç±»åž‹çš„ä¿¡æ¯ã€‚ä¹Ÿå°±è¯´è¯´ Kotlin ä¸èƒ½åŒºåˆ† ArrayList&lt;Integer&gt; å’Œ ArrayList&lt;Character&gt;ã€‚è¿™é™åˆ¶äº† is è¯­å¥çš„ä½¿ç”¨ï¼Œå¯¹äºŽæ³›åž‹ï¼Œis åªèƒ½ç”¨äºŽæ˜Ÿå½¢é¢„æµ‹ç±»åž‹çš„æ£€æŸ¥ï¼Œè€Œä¸èƒ½åº”ç”¨äºŽå…¶ä»–æ™®é€šæ³›åž‹ç±»åž‹çš„æ£€æŸ¥ã€‚123if (a is List&lt;Int&gt;) // Error: cannot check if it is really a List of Ints// butif (a is List&lt;*&gt;) // OK: no guarantees about the contents of the list 10. Java æ•°ç»„ä¸Ž Java ä¸åŒï¼Œæ•°ç»„åœ¨ Kotlin ä¸­æ˜¯ä¸å¯å˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ Kotlin ä¸å…è®¸å°† Array&lt;Int&gt; èµ‹äºˆ Array&lt;Any&gt;ï¼Œè¿™é¿å…äº†ä¸€äº›è¿è¡ŒæœŸé—´çš„é”™è¯¯ã€‚åŒæ ·çš„ï¼ŒKotlin ä¹Ÿä¸å…è®¸ä¸€ä¸ªå­ç±»çš„æ•°ç»„ä¼ å…¥ä¸€ä¸ªè¶…ç±»æ•°ç»„çš„å½¢å‚ä¸­ã€‚åœ¨ Java å¹³å°ä¸­ï¼Œä½¿ç”¨åŽŸç”Ÿç±»åž‹çš„æ•°ç»„èƒ½é¿å…è£…ç®±å’Œæ‹†ç®±æ‰€å¸¦æ¥çš„æ€§èƒ½æŸå¤±ï¼›ä½†æ˜¯åœ¨ Kotlin ä¸­ï¼Œè¿™äº›ç»†èŠ‚è¢«éšè—äº†èµ·æ¥ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨ Java ä»£ç æ—¶å°±éœ€è¦ä¸€äº›ç‰¹æ®Šæ–¹æ³•æ¥è¿›è¡Œæ²Ÿé€šã€‚Kotlin å¯¹æ­¤ä¸ºæ¯ä¸ªåŽŸå§‹ç±»åž‹éƒ½æä¾›äº†ä¸€ä¸ªå¯¹åº”çš„æ•°ç»„ç±»åž‹ï¼Œä¾‹å¦‚ IntArray LongArray CharArray ç­‰ï¼Œè¿™äº›ç±»å’Œ Array ç±»æ²¡æœ‰å…³ç³»ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œè¿™äº›æ•°ç»„ç±»åž‹ä¼šè¢«ç¼–è¯‘ä¸º Java çš„åŽŸç”Ÿç±»åž‹æ•°ç»„ï¼Œä»¥æé«˜æ€§èƒ½ã€‚IntArray å’Œ Array&lt;Int&gt; çš„åŒºåˆ«ï¼šIntArray ç›¸å½“äºŽ Java ä¸­çš„ int[]ï¼Œä¸è¿›è¡Œè£…ç®±å’Œæ‹†ç®±æ“ä½œï¼›Array&lt;Int&gt; ç›¸å½“äºŽ Java ä¸­çš„ Integer[]ï¼Œè¿›è¡Œè£…ç®±å’Œæ‹†ç®±æ“ä½œã€‚see hereæ‰€ä»¥å¯¹äºŽä¸€ä¸ªæŽ¥å— int[] çš„ Java æ–¹æ³•123456public class JavaArrayExample &#123; public void removeIndices(int[] indices) &#123; // code here... &#125;&#125;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ IntArray å°†å‚æ•°ä¼ å…¥ï¼š123val javaObj = JavaArrayExample()val array = intArrayOf(0, 1, 2, 3)javaObj.removeIndices(array) // passes int[] to methodå½“ä»£ç è¢«ç¼–è¯‘ä¸º JVM å­—èŠ‚ç æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå¯¹ä»¥ä¸Šç±»åž‹è¿›è¡Œä¼˜åŒ–ï¼Œå–æ¶ˆ getter å’Œ setter çš„ä½¿ç”¨ï¼Œè€Œæ˜¯ç›´æŽ¥å–å€¼èµ‹å€¼ã€‚1234val array = arrayOf(1, 2, 3, 4)array[x] = array[x] * 2 // no actual calls to get() and set() generatedfor (x in array) // no iterator created print(x)åŒæ ·ï¼Œåœ¨éåŽ†è¿™æ ·çš„ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œä¸ä¼šåˆ›å»º iteratorã€‚12for (i in array.indices) // no iterator created array[i] += 2æœ€åŽï¼Œåœ¨ in è¯­å¥ä¸­ï¼Œå¯¹äºŽè¿™æ ·çš„æ•°ç»„ä¹Ÿä¸ä¼šè°ƒç”¨ contains() æ–¹æ³•ã€‚123if (i in array.indices) &#123; // same as (i &gt;= 0 &amp;&amp; i &lt; array.size) print(array[i])&#125; 11. Java ä¸å®šå‚æ•°å¯¹äºŽ Java çš„ä¸å®šå‚æ•°ï¼Œä½ éœ€è¦åƒ Kotlin ä¸­ä¸€æ ·ï¼Œä½¿ç”¨ spread operator(*) æ¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„ã€‚123456public class JavaArrayExample &#123; public void removeIndices(int... indices) &#123; // code here... &#125;&#125;123val javaObj = JavaArray()val array = intArrayOf(0, 1, 2, 3)javaObj.removeIndicesVarArg(*array) 12. æ“ä½œç¬¦ç”±äºŽ Java æ²¡æœ‰æ“ä½œç¬¦é‡è½½ï¼Œæ‰€ä»¥ Kotlin å…è®¸å°†ä»»ä½•çš„æ‹¥æœ‰æ­£ç¡®å‘½åå’Œå‡½æ•°å‚æ•°çš„ Java æ–¹æ³•å½“åšæ“ä½œç¬¦é‡è½½ä½¿ç”¨ã€‚ä¸è¿‡ä¸å…è®¸åœ¨ä¸­ç¼€å‡½æ•°ä¸­è°ƒç”¨ Java æ–¹æ³•ã€‚ 13. å·²æ£€æŸ¥å¼‚å¸¸ç”±äºŽ Kotlin æ²¡æœ‰å·²æ£€æŸ¥å¼‚å¸¸ï¼Œæ‰€ä»¥ Kotlin ä¸ä¼šå¼ºåˆ¶è¦æ±‚ä½ è¿›è¡Œå¼‚å¸¸æ•èŽ·ï¼›å³ä½¿ä½ è°ƒç”¨çš„ Java æ–¹æ³•å£°æ˜Žäº†å·²æ£€æŸ¥å¼‚å¸¸ä¹Ÿä¸€æ ·ã€‚ 14. Java Object ç±»æ–¹æ³•å¼•ç”¨ Java ä»£ç æ—¶ï¼ŒJava çš„ Object ç±»ä¼šè¢«è½¬æ¢æˆ Anyï¼›ä½†æ˜¯ Any ç±»åªå£°æ˜Žäº† toString()ï¼ŒhashCode() å’Œ equals()æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†å®Œæ•´å®žçŽ° Object ç±»çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ä½¿ç”¨æ‰©å±•æ¥å®žçŽ°ã€‚ 14.1 wait() å’Œ notify()ã€ŠEffective Javaã€‹ç¬¬ 69 æ¡ä¸­å¼ºè°ƒï¼šå°½é‡ä½¿ç”¨å¤šçº¿ç¨‹å·¥å…·è€Œä¸æ˜¯ä½¿ç”¨ wait() å’Œ notify() æ–¹æ³•ï¼›æ‰€ä»¥ Any ç±»ä¸­å¹¶æ²¡æœ‰å®žçŽ°è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ä½†æ˜¯å¦‚æžœä½ çœŸçš„éœ€è¦ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æŠŠ Any é€ åž‹ä¸º Object æ¥ä½¿ç”¨ã€‚1(foo as java.lang.Object).wait() 14.2 getClass() æ–¹æ³•åœ¨ Kotlin ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ javaClass å˜é‡æ¥èŽ·å–å¯¹åº”çš„ Class å˜é‡ã€‚1val fooClass = foo.javaClasså¯¹äºŽ Java ä¸­çš„ Foo.classï¼ŒKotlin ä¸­ä½¿ç”¨ Foo::class.java1val fooClass = Foo::class.java 14.3 clone() æ–¹æ³•è¦é‡è½½ clone() æ–¹æ³•ï¼Œä½ çš„ç±»å¿…é¡»å®žçŽ° kotlin.Cloneableï¼š123class Example : Cloneable &#123; override fun clone(): Any &#123; ... &#125;&#125;ä¸è¦å¿˜è®° ã€ŠEffective Javaã€‹çš„å¿ å‘Šï¼Œç¬¬ 11 æ¡ï¼šæ˜Žæ™ºåœ°é‡è½½ clone() æ–¹æ³• 14.4 finalize() æ–¹æ³•è¦é‡è½½ finalize() æ–¹æ³•ï¼Œä½ åªéœ€è¦å£°æ˜Žå®ƒå³å¯ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ override ã€‚12345class C &#123; protected fun finalize() &#123; // finalization logic &#125;&#125;æ³¨æ„ï¼Œfinalize() ä¸èƒ½æ˜¯ private çš„ã€‚ 15. ç»§æ‰¿ Java ç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªåŸºç±»ï¼›å¯ä»¥å®žçŽ°å¤šä¸ªæŽ¥å£ã€‚ 16. è®¿é—®é™æ€æˆå‘˜Java ç±»çš„é™æ€æˆå‘˜ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆè¿™ä¸ªç±»çš„ä¼´ç”Ÿå¯¹è±¡ã€‚æˆ‘ä»¬ä¸èƒ½ç›´æŽ¥å°†è¿™ä¸ªä¼´ç”Ÿå¯¹è±¡ä½œä¸ºå‚æ•°æˆ–è€…å˜é‡ï¼›ä½†æ˜¯æˆ‘ä»¬ä¾æ—§å¯ä»¥æ˜¾å¼çš„è°ƒç”¨å®ƒçš„é™æ€æˆå‘˜ã€‚123if (Character.isLetter(a)) &#123; // ...&#125; 17. Java åå°„Java çš„åå°„æœºåˆ¶å¯ä»¥åº”ç”¨äºŽ Kotlin ä¸Šï¼Œåä¹‹äº¦ç„¶ã€‚åˆšæ‰ä¹Ÿæåˆ°ï¼Œä½ å¯ä»¥ä½¿ç”¨ instance.javaClass æˆ–è€… ClassName::class.java æ¥ä½¿ç”¨ Java çš„åå°„æœºåˆ¶ã€‚åŒæ ·çš„ï¼ŒKotlin ä¹Ÿæ”¯æŒä½¿ç”¨ Java æ–¹æ³•æ¥ç”Ÿæˆ getterã€setter å’Œ backing fieldã€‚KProperty æŒ‡ä»£ Java çš„å­—æ®µï¼ŒKFunction æŒ‡ä»£ Java æ–¹æ³•ï¼Œåä¹‹äº¦ç„¶ã€‚ 18. SAM æ–¹æ³•å’Œ Java 8 ä¸€æ ·ï¼ŒKotlin ä¹Ÿæ”¯æŒ SAM ç±»åž‹ï¼Œè¿™æ„å‘³ç€ Kotlin çš„ç›´æŽ¥å‡½æ•°å®šä¹‰ï¼ˆlambda å‡½æ•°ä¸»ä½“ï¼‰å¯ä»¥è¢«è½¬æ¢ä¸ºä¸€ä¸ªåªæœ‰å•ä¸ªæ–¹æ³•çš„æŽ¥å£å®žçŽ°ï¼Œåªè¦å‡½æ•°æŽ¥å£èƒ½å¤Ÿå¯¹åº”çš„ä¸Šçš„è¯ï¼Œè½¬æ¢å°±èƒ½æˆåŠŸã€‚1val runnable = Runnable &#123; println("This runs in a runnable") &#125;ä¹Ÿå¯ä»¥åº”ç”¨äºŽæ–¹æ³•è°ƒç”¨ä¸­ï¼š123val executor = ThreadPoolExecutor()// Java signature: void execute(Runnable command)executor.execute &#123; println("This runs in a thread pool") &#125;å¦‚æžœä¸€ä¸ª Java ç±»æœ‰å¤šä¸ªè¿™ç§æ–¹æ³•çš„é‡è½½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹ SAM ç±»åž‹æŒ‡å®šå¯¹åº”çš„è½¬æ¢å™¨ã€‚1executor.execute(Runnable &#123; println("This runs in a thread pool") &#125;)æ³¨æ„ï¼ŒSAM åªèƒ½åº”ç”¨äºŽæŽ¥å£ï¼Œè€Œä¸èƒ½åº”ç”¨äºŽæŠ½è±¡ç±»ï¼Œå³ä½¿è¿™ä¸ªç±»åªæœ‰ä¸€ä¸ªæ–¹æ³•ã€‚è¿˜æœ‰ï¼Œè¿™ä¸ªç‰¹æ€§åªæ”¯æŒ Java ä»£ç ï¼ŒKotlin æ‹¥æœ‰ç›¸åº”çš„å‡½æ•°ç±»åž‹ï¼Œæ‰€ä»¥å°†å…¶è½¬æ¢ä¸º Kotlin æŽ¥å£çš„å®žçŽ°æ˜¯éžå¿…é¡»çš„ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰å®žçŽ°è¿™ä¸ªç‰¹æ€§ã€‚ 19. ä½¿ç”¨ JNIé€šè¿‡ external å…³é”®å­—æ¥æŒ‡æ˜Žä¸€ä¸ªæ–¹æ³•ä¼šè°ƒç”¨ native çš„ C æˆ–è€… C++ ä»£ç ã€‚1external fun foo(x: Int): Double 20. å…¶ä»–æ–¹é¢åœ¨å…¶ä»–æ–¹é¢ï¼ŒKotlin å’Œ Java å·¥ä½œç¨‹åºä¸€è‡´ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin é›†åˆ]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E9%9B%86%E5%90%88%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°å’Œè®¸å¤šå…¶ä»–è¯­è¨€ä¸åŒçš„æ˜¯ï¼Œ Kotlin å°†é›†åˆåˆ†æˆäº†å¯å˜å’Œä¸å¯å˜ä¸¤å¤§ç±»ã€‚ç†è§£å’ŒåŒºåˆ†å¯å˜é›†åˆå’Œä¸å¯å˜é›†åˆæ˜¯å¾ˆé‡è¦çš„ï¼ŒKotlin è‡´åŠ›äºŽå°½é‡å°†äº‹åŠ¡æ˜¾å¼åŒ–ï¼Œæ‰€ä»¥ Kotlin å¯¹è¿™ä¸¤ç§é›†åˆè¿›è¡Œäº†åŒºåˆ†ã€‚ 2. ä¸Ž Java çš„åŒºåˆ«ä¸Ž Java ç›¸æ¯”çš„å¾ˆå¤§çš„ä¸åŒç‚¹åœ¨äºŽï¼ŒKotlin çš„ List æ˜¯ List&lt;out T&gt;ï¼Œè€Œä¸æ˜¯ List&lt;T&gt;ï¼Œä¹Ÿå°±æ˜¯è¯´ Kotlin çš„ List æ˜¯åªè¯»çš„ï¼Œè€Œå¯¹åº”çš„ MutableList&lt;T&gt; æ‰æ˜¯å¯å†™çš„ã€‚å…¶ä»–çš„é›†åˆç±»åž‹å¦‚ Setã€Map åŒæ ·ç»§æ‰¿äº†è¿™ä¸ªç‰¹ç‚¹ã€‚123456789val numbers: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3)val readOnlyView: List&lt;Int&gt; = numbersprintln(numbers) // prints "[1, 2, 3]"numbers.add(4)println(readOnlyView) // prints "[1, 2, 3, 4]"readOnlyView.clear() // -&gt; does not compileval strings = hashSetOf("a", "b", "c", "c")assert(strings.size == 3) 3. åˆ›å»ºKotlin æ²¡æœ‰ä¸“é—¨çš„è¯­æ³•æˆ–è€…æž„é€ å™¨æ¥æž„å»ºä¸€ä¸ªé›†åˆç±»åž‹ï¼›åä¹‹ï¼ŒKotlin ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ–¹æ³•å¯¹é›†åˆç±»åž‹è¿›è¡Œæž„å»ºï¼Œæ¯”å¦‚è¯´ listOf() mutableListOf() setOf() mutableSetOf()éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢çš„ readOnlyView å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚æžœä¸€ä¸ªåˆ—è¡¨åªæœ‰ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å®ƒï¼Œè€Œä¸”è¯¥å¼•ç”¨æ˜¯ä¸å¯å˜ç±»åž‹çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªåˆ—è¡¨å°±æ˜¯ä¸å¯å˜çš„ã€‚ä¹Ÿå°±è¯´ä¸€ä¸ªä¸å¯å˜çš„é›†åˆå¯ä»¥æŽ¥å—ä¸€ä¸ªå¯å˜é›†åˆçš„å¼•ç”¨ç”Ÿæˆè¿™æ ·çš„ä¸€ä¸ªåˆ—è¡¨çš„ç®€æ˜“æ–¹æ³•æ˜¯ï¼š1val items = listOf(1, 2, 3)ç›®å‰ï¼ŒlistOf() æ–¹æ³•è¿”å›žçš„æ˜¯ä¸€ä¸ª array listï¼Œä»¥åŽå¯èƒ½ä¼šé‡‡ç”¨æ›´ä¸ºèŠ‚çœå†…å­˜çš„å®žçŽ°æ–¹æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸å¯å˜é›†åˆæ˜¯åå˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª List&lt;Shape&gt; å¯ä»¥æŽ¥å—ä¸€ä¸ª List&lt;Rectangle&gt; å˜é‡ï¼Œå¦‚æžœ Rectangle æ˜¯ç»§æ‰¿äºŽ Shape çš„è¯ã€‚ç›¸åï¼Œå¯å˜ç±»åž‹çš„é›†åˆæ²¡æœ‰è¿™ä¸ªç‰¹æ€§ã€‚ 4. è¿”å›žä¸€ä¸ªåªè¯»åˆ—è¡¨çš„å¿«ç…§æœ‰æ—¶å€™ï¼Œè™½ç„¶ç±»ä¸­çš„åˆ—è¡¨åœ¨ä¸æ–­å˜åŠ¨ï¼Œä½†æ˜¯ä½ åªæƒ³ç»™è°ƒç”¨è€…å‘ˆçŽ°ä¸€ä¸ªæŸæ—¶åˆ»çš„åªè¯»åˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•1234class Controller &#123; private val _items = mutableListOf&lt;String&gt;() val items: List&lt;String&gt; get() = _items.toList()&#125;toList() æ–¹æ³•åªæ˜¯ç®€å•çš„å¤åˆ¶äº†åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œè€Œä¸”ä¿è¯å®ƒæ˜¯åªè¯»çš„ï¼Œè¿™æ ·è°ƒç”¨è€…å°±å¯ä»¥å¾—åˆ°è°ƒç”¨æ—¶åˆ—è¡¨çš„çŠ¶æ€ï¼Œè€Œä¸”æ˜¯åªè¯»çš„ã€‚ 5. å…¶ä»–æœ‰ç”¨çš„æ–¹æ³•åˆ—è¡¨ç±»ä¸­è¿˜æ‹¥æœ‰å…¶ä»–ååˆ†æœ‰ç”¨çš„æ‰©å±•æ–¹æ³•ã€‚123456789val items = listOf(1, 2, 3, 4)items.first() == 1items.last() == 4items.filter &#123; it % 2 == 0 &#125; // returns [2, 4]val rwList = mutableListOf(1, 2, 3)rwList.requireNoNulls() // returns [1, 2, 3]if (rwList.none &#123; it &gt; 6 &#125;) println("No items above 6") // prints "No items above 6"val item = rwList.firstOrNull()åŒæ ·ï¼ŒMap ä¹Ÿç»§æ‰¿äº†è¿™ä¸ªç‰¹ç‚¹123val readWriteMap = hashMapOf("foo" to 1, "bar" to 2)println(readWriteMap["foo"]) // prints "1"val snapshot: Map&lt;String, Int&gt; = HashMap(readWriteMap)]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin é«˜é˜¶å‡½æ•°å’Œ Lambda]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E5%92%8C%20Lambda%2F</url>
    <content type="text"><![CDATA[1. é«˜é˜¶å‡½æ•°Kotlin å…è®¸å‡½æ•°æŽ¥å—ä¸€ä¸ªå‡½æ•°å¼•ç”¨ä½œä¸ºå‚æ•°ï¼Œè¿™æ ·çš„å‡½æ•°è¢«ç§°ä½œé«˜é˜¶å‡½æ•°ã€‚è¿™ä½¿å¾—å›žè°ƒæœºåˆ¶åœ¨ Kotlin ä¸­æ›´å®¹æ˜“è¢«å®žçŽ°ã€‚ 1.1 å£°æ˜Ž123456789fun &lt;T&gt; lock(lock: Lock, body: () -&gt; T): T &#123; lock.lock() try &#123; return body() &#125; finally &#123; lock.unlock() &#125;&#125;ä¸Šé¢çš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œbody å°±æ˜¯ä¸€ä¸ªå‡½æ•°å¼•ç”¨ï¼Œå®ƒçš„ç±»åž‹æ˜¯ () -&gt; Tï¼Œè¡¨ç¤ºè¯¥å‡½æ•°ä¸æŽ¥å—å‚æ•°ï¼Œè¿”å›žç±»åž‹æ˜¯ Tã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªé«˜é˜¶å‡½æ•°ä¸­ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨ body() å¯¹ body å‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚ 1.2 è°ƒç”¨è°ƒç”¨é«˜é˜¶å‡½æ•°éœ€è¦ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå…¶å‚æ•°ï¼Œè¿™æ˜¯ Kotlin åå°„æœºåˆ¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚Kotlin ä½¿ç”¨å‡½æ•°å¼•ç”¨æ¥æŒ‡æ˜Žä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå…¶å½¢å¼æ˜¯ ::functionNameï¼Œä¾‹å¦‚ï¼š123fun toBeSynchronized() = sharedResource.operation()val result = lock(lock, ::toBeSynchronized)è¿™ä¸ªä¾‹å­ä¸­ ::toBeSynchronized å°±æ˜¯å‡½æ•° toBeSynchronized() çš„å‡½æ•°å¼•ç”¨ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé«˜é˜¶å‡½æ•°è¿˜å¯ä»¥æŽ¥å—ä¸€ä¸ª Lambda è¡¨è¾¾å¼ä½œä¸ºå…¶å‡½æ•°å‚æ•°ã€‚1val result = lock(lock, &#123; sharedResource.operation() &#125;)Lambda ä¼šåœ¨æŽ¥ä¸‹æ¥çš„ç« èŠ‚ä»‹ç»ï¼Œä½†æ˜¯ä¸ºäº†æ›´å¥½åœ°ç†è§£é«˜é˜¶å‡½æ•°ï¼Œå…ˆæ¥å‡ ç‚¹ç®€å•çš„æ¦‚è¿°ï¼šLambda è¡¨è¾¾å¼æ— è®ºä½•æ—¶éƒ½ä½¿ç”¨ {} å’Œå…¶ä»–è¡¨è¾¾å¼åˆ†éš”-&gt; ä¹‹å‰çš„æ˜¯ Lambda è¡¨è¾¾å¼çš„å‚æ•°-&gt; ä¹‹åŽçš„æ˜¯ Lambda è¡¨è¾¾å¼çš„ä¸»ä½“ç‰¹åˆ«çš„ï¼Œå¦‚æžœä¸€ä¸ªé«˜é˜¶å‡½æ•°çš„å‡½æ•°å¼•ç”¨å‚æ•°åœ¨æœ€åŽä¸€ä½ï¼Œé‚£ä¹ˆè¯¥å‚æ•°èƒ½åœ¨æ‹¬å·å¤–è¢«æŒ‡å®šã€‚123lock (lock) &#123; sharedResource.operation()&#125;å¦ä¸€ä¸ªé«˜é˜¶å‡½æ•°çš„ä¾‹å­æ˜¯ map() å‡½æ•°ã€‚123456fun &lt;T, R&gt; List&lt;T&gt;.map(transform: (T) -&gt; R): List&lt;R&gt; &#123; val result = arrayListOf&lt;R&gt;() for (item in this) result.add(transform(item)) return result&#125;å®ƒå¯ä»¥è¿™æ ·è¢«è°ƒç”¨ï¼š1val doubled = ints.map &#123; it -&gt; it * 2 &#125;æ³¨æ„åˆ°ï¼Œå¦‚æžœé«˜é˜¶å‡½æ•°åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸”è¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ç±»åž‹çš„ï¼Œé‚£ä¹ˆè°ƒç”¨å®ƒçš„åœ†æ‹¬å·ä¹Ÿå¯ä»¥è¢«çœç•¥ã€‚ 1.3 it å‚æ•°å¦‚æžœä¸€ä¸ª Lambda è¡¨è¾¾å¼åªæ‹¥æœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå…¶å‚æ•°çš„å£°æ˜Žå’Œç®­å¤´ç¬¦å·(-&gt;)éƒ½å¯ä»¥çœç•¥ã€‚1ints.map &#123; it * 2 &#125;è¿™ä¸ªå”¯ä¸€çš„å‚æ•°è¢«å‘½åä¸º itï¼Œè¿™æ˜¯ä¸€ä¸ªéšå¼çš„é»˜è®¤å•å‚æ•°åç§°ã€‚å½“ Lambda è¡¨è¾¾å¼åƒä¸Šé¢é‚£æ ·è¢«è°ƒç”¨æ—¶ï¼Œä¸èƒ½ä½¿ç”¨ it ä»¥å¤–çš„åç§°æ¥æŒ‡ä»£å”¯ä¸€çš„å‚æ•°ã€‚ 2. Lambda è¡¨è¾¾å¼Lambda è¡¨è¾¾å¼æ˜¯ä¸€ç§åŒ¿åçš„å‡½æ•°ï¼Œå®ƒåªæœ‰æ–‡å­—ä¸Šçš„å‡½æ•°å®šä¹‰ï¼Œè€Œæ²¡æœ‰å®žé™…çš„åç§°ã€‚ä¹Ÿå°±æ˜¯è¯´ Lambda è¡¨è¾¾å¼æ˜¯ä¸€ç§æ²¡æœ‰è¢«å£°æ˜Žï¼Œå´ä¼šè¢«ç«‹å³æ‰§è¡Œçš„å‡½æ•°ã€‚è€ƒè™‘å¦‚ä¸‹çš„é«˜é˜¶å‡½æ•°1max(strings, &#123; a, b -&gt; a.length &lt; b.length &#125;)å…¶ä¸­çš„ Lambda è¡¨è¾¾å¼å’Œ compare() æ–¹æ³•æ˜¯ç­‰ä»·çš„ã€‚1fun compare(a: String, b: String): Boolean = a.length &lt; b.lengthæ³¨æ„åˆ°ï¼Œlambda æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ‰€ä»¥å®ƒæœ€åŽä¸€ä¸ªè¯­å¥çš„æ‰§è¡Œç»“æžœå°±æ˜¯å®ƒçš„è¿”å›žå€¼ã€‚ 2.1 å‡½æ•°ç±»åž‹å¯¹äºŽä¸Šé¢çš„ max() æ–¹æ³•ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š1234567fun &lt;T&gt; max(collection: Collection&lt;T&gt;, less: (T, T) -&gt; Boolean): T? &#123; var max: T? = null for (it in collection) if (max == null || less(max, it)) max = it return max&#125;å®ƒæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå…¶ä¸­ï¼Œ less çš„ç±»åž‹æ˜¯ä¸€ä¸ªå‡½æ•°(T, T) -&gt; Booleanï¼Œæ„å‘³ç€ less å‡½æ•°æŽ¥å—ä¸¤ä¸ª T ç±»åž‹çš„å‚æ•°ï¼Œè¿”å›žå¸ƒå°”å€¼ã€‚å¯¹äºŽå‡½æ•°ç±»åž‹ï¼Œé™¤äº†ä¸Šé¢çš„è¿™ç§å£°æ˜Žæ–¹æ³•å¤–ï¼Œä¹Ÿå¯ä»¥ç»™å‡½æ•°ç±»åž‹ä¸­çš„å„ä¸ªå˜é‡èµ‹ä¸Šåç§°ã€‚è¿™å°†æœ‰åŠ©äºŽè¯´æ˜Žè¯¥å‡½æ•°ç±»åž‹çš„è°ƒç”¨æ–¹æ³•å’Œä½œç”¨ã€‚1val compare: (x: T, y: T) -&gt; Int = ... 2.2 Lambda è¡¨è¾¾å¼çš„è¯­æ³•ä¸€ä¸ª lambda è¡¨è¾¾å¼æ€»æ˜¯åœ¨èŠ±æ‹¬å·å†…ï¼›å‚æ•°çš„å®šä¹‰åœ¨æ‹¬å·ä¹‹å†…ï¼Œ-&gt; ä¹‹å‰ï¼Œè€Œä¸”å¯ä»¥çœç•¥ç±»åž‹ï¼›å‡½æ•°çš„ä¸»é¢˜åœ¨ -&gt; ä¹‹åŽã€‚1val sum: (Int, Int) -&gt; Int = &#123; x, y -&gt; x + y &#125;åŒæ—¶ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°çš„ lambda è¡¨è¾¾å¼å¯ä»¥ç›´æŽ¥çœç•¥å‚æ•°å£°æ˜Žå’Œ -&gt;å¦‚æžœé«˜é˜¶å‡½æ•°çš„å‡½æ•°ç±»åž‹å‚æ•°åœ¨æœ€åŽä¸€ä½ï¼Œé‚£ä¹ˆ lambda è¡¨è¾¾å¼å¯ä»¥åœ¨åœ†æ‹¬å·ä¹‹å¤–ã€‚ 2.3 åŒ¿åå‡½æ•°lambda è¡¨è¾¾å¼è¯­æ³•ä¸­ç¼ºå°‘å¯¹è¿”å›žç±»åž‹çš„æŒ‡å®šï¼Œåœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™æ˜¯éžå¿…é¡»çš„ï¼Œå› ä¸ºå¤§å¤šæ•°çš„è¿”å›žç±»åž‹éƒ½å¯ä»¥è¢«è‡ªåŠ¨æŽ¨æ–­å‡ºæ¥ã€‚å½“ç„¶ï¼Œå¦‚æžœä½ éœ€è¦æ˜¾å¼åœ°å£°æ˜Žè¿”å›žç±»åž‹ï¼Œå¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°1fun(x: Int, y: Int): Int = x + yä¸€ä¸ªåŒ¿åå‡½æ•°å’Œå¸¸è§„çš„å‡½æ•°å£°æ˜Žå¾ˆåƒï¼Œåªä¸è¿‡å®ƒçš„åå­—è¢«çœç•¥äº†ã€‚åŒ¿åå‡½æ•°é™¤äº†è¡¨è¾¾å¼ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¯­å¥å—ä½œä¸ºå‡½æ•°ä¸»ä½“ã€‚123fun(x: Int, y: Int): Int &#123; return x + y&#125;å½“åŒ¿åå‡½æ•°çš„å‚æ•°ç±»åž‹èƒ½å¤Ÿè¢«æŽ¨æ–­å¾—å‡ºæ—¶ï¼Œå…¶å‚æ•°ç±»åž‹å¯ä»¥è¢«çœç•¥ã€‚1ints.filter(fun(item) = item &gt; 0)åŒæ ·çš„ï¼ŒåŒ¿åå‡½æ•°çš„è¿”å›žç±»åž‹ä¹Ÿå¯ä»¥ä¸æ˜¾å¼æŒ‡æ˜Žï¼Œç›´æŽ¥ç”±å‡½æ•°ä¸»ä½“æŽ¨æ–­å¾—å‡ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŒ¿åå‡½æ•°çš„å‚æ•°å¿…é¡»åœ¨åœ†æ‹¬å·ä¹‹ä¸­ï¼Œåªæœ‰ Lambda è¡¨è¾¾å¼ææ‰å…è®¸åœ¨åœ†æ‹¬å·å¤–ä¼ é€’å‚æ•°ã€‚åŒ¿åå‡½æ•°å’Œ Lambda è¡¨è¾¾å¼çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«æ˜¯ï¼šåœ¨ Lambda è¡¨è¾¾å¼ä¸­çš„ return è¯­å¥ä¼šä»Žå…¶å¤–éƒ¨å‡½æ•°è¿”å›žï¼ˆå³å¯¹åº”çš„é«˜é˜¶å‡½æ•°ï¼‰ï¼›è€Œåœ¨åŒ¿åå‡½æ•°ä¸­çš„ return å°†ä¼šåœ¨åŒ¿åå‡½æ•°è‡ªèº«è¿”å›žã€‚å®žé™…ä¸Šï¼Œreturn æ‰€å¯¹åº”çš„æ˜¯æœ€è¿‘çš„ fun å‡½æ•°ï¼ˆè¿™ç§°ä¸º local returnï¼‰ï¼Œä½†æ˜¯æ ¹æ®è¿™ä¸ªå¸–å­ï¼Œéžæœ¬åœ°è¿”å›žç‰¹æ€§åªæ”¯æŒå†…è”å‡½æ•°ï¼Œæ‰€ä»¥ä»Žä¸€ä¸ªéžå†…è”çš„ lambda ä½¿ç”¨ returnï¼Œæ˜¯ä¸å¯èƒ½çš„ã€‚ä½†æ˜¯åŒ¿åå‡½æ•°å¯ä»¥è¿›è¡Œè¿™ç§æ“ä½œï¼Œå½“ä½ éœ€è¦ä»Ž lambda ä½¿ç”¨ return æ—¶ï¼Œä½¿ç”¨åŒ¿åå‡½æ•°æ¥ä»£æ›¿å®ƒã€‚https://www.reddit.com/r/Kotlin/comments/3yybyf/returning_from_lambda_functions/ 2.4 é—­åŒ…é—­åŒ…æŒ‡çš„æ˜¯å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å˜é‡ï¼ŒKotlin çš„ lambda è¡¨è¾¾å¼ã€åŒ¿åå‡½æ•°ã€å±€éƒ¨å‡½æ•°å’Œ object expression éƒ½æ”¯æŒè¿™ä¸€ç‰¹æ€§ã€‚12345var sum = 0ints.filter &#123; it &gt; 0 &#125;.forEach &#123; sum += it&#125;print(sum)è€Œä¸”å’Œ Java ä¸åŒçš„æ˜¯ï¼Œè¢«é—­åŒ…æ•èŽ·çš„å¤–éƒ¨å˜é‡æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚ 2.5 å¸¦æŽ¥æ”¶è€…çš„å‡½æ•°Kotlin è¿˜æ”¯æŒå®šä¹‰ä¸€ä¸ªå¸¦æŽ¥æ”¶è€…çš„å‡½æ•°å­—é¢é‡ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ lambda è¡¨è¾¾å¼å’ŒåŒ¿åå‡½æ•°å†…éƒ¨è°ƒç”¨æŽ¥æ”¶è€…çš„æˆå‘˜ã€‚1sum : Int.(other: Int) -&gt; Intä¸Žæ‰©å±•å‡½æ•°çš„åŒºåˆ«ï¼šå¸¦æŽ¥æ”¶è€…çš„å‡½æ•°æ²¡æœ‰åå­—ï¼Œåªèƒ½é€šè¿‡åŒ¿åå‡½æ•°æˆ–è€… lambda è¡¨è¾¾å¼æ¥ä½¿ç”¨è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ª sum() å‡½æ•°ï¼Œå®ƒçš„æŽ¥æ”¶è€…æ˜¯ä¸€ä¸ª Int å¯¹è±¡ã€‚é‚£ä¹ˆå°±å¯ä»¥åƒè¿™æ ·è°ƒç”¨ï¼š11.sum(2)é€šè¿‡åŒ¿åå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå¸¦æŽ¥æ”¶è€…å‡½æ•°çš„å˜é‡ã€‚1val sum = fun Int.(other: Int): Int = this + otherå½“æŽ¥æ”¶è€…èƒ½ä»Žä¸Šä¸‹æ–‡è¢«æŽ¨æ–­å‡ºæ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ lambda è¡¨è¾¾å¼æ¥è°ƒç”¨æŽ¥æ”¶è€…æˆå‘˜ã€‚1234567891011121314class HTML &#123; fun body() &#123; ... &#125;&#125;fun html(init: HTML.() -&gt; Unit): HTML &#123; val html = HTML() // create the receiver object html.init() // pass the receiver object to the lambda return html&#125;html &#123; // lambda with receiver begins here body() // calling a method on the receiver object&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHP]]></title>
    <url>%2F%2FPHP%2FPHP%2F</url>
    <content type="text"><![CDATA[1. BasicBegins with &lt;?php and ends with ?&gt;123&lt;?phpecho strlen("Hello, World!");?&gt;Comments// and # for a single line./* */ for block.12345678910&lt;?php// Single line Comment.# Also single line./*And comment block,Crossmultiplelines.*/?&gt;Case SensitivityAll the function() class and the key word is NOt cAse SenSiTivE123456&lt;?php// They all do the same things.ECHO "Hello World!&lt;br&gt;";echo "Hello World!&lt;br&gt;";EcHo "Hello World!&lt;br&gt;";?&gt;But the $variable is CASE SENSITIVE1234567&lt;?php// Only the FIRST statement can do the right output.$color="red";echo "My car is " . $color . "&lt;br&gt;";echo "My house is " . $COLOR . "&lt;br&gt;";echo "My boat is " . $coLOR . "&lt;br&gt;";?&gt; 2. VariableThe $variable begins with the $ char.123456&lt;?php// They are all variables$x = 5;$txt = "Hello, World!";$y = 10.5;?&gt;Weak TypePHP is an weak type language, you do not have to announce the type when you create the variableAs the above, $x is an int, $txt is an string and $y is an floatScopeLocal- The variable can only be konwn inside the function or the current statementGlobal- The variable can be konwn at any whereStatic- The variable whose value can be maintain]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Retrofit2 ä½¿ç”¨ç®€æ˜Žæ‰‹å†Œ]]></title>
    <url>%2F%2FAndroid%2FRetrofit%2FRetrofit2%20%E4%BD%BF%E7%94%A8%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»Retrofit æ˜¯ Square å…¬å¸å‡ºå“çš„ Android å¼€æºç½‘ç»œæ¡†æž¶ï¼Œä½¿ç”¨æ³¨è§£å’Œä»£ç†å®žçŽ°å„é¡¹ HTTP æ“ä½œå’Œ body è§£æžå¤„ç†ç­‰ã€‚Retrofit2 é€šè¿‡ä¸Ž Square å…¬å¸çš„å¦ä¸€å¼€æºåº“ OkHttp3 åˆå¹¶ï¼Œç”± OkHttp è¿›è¡Œ HTTP æ“ä½œï¼Œé‡å®šå‘å“åº”ï¼Œä»¥åŠç¼“å­˜æ”¯æŒã€‚ 2. åˆå§‹åŒ–è®¾ç½® 2.1 æ·»åŠ ä¾èµ–1compile &apos;com.squareup.retrofit2:retrofit:2.1.0&apos;æ³¨æ„çŽ°åœ¨å·²ç»æ˜¯ Retrofit2 çš„å¹´ä»£äº†ã€‚ 2.2 é…ç½® Proguard12345678910# Platform calls Class.forName on types which do not exist on Android to determine platform.-dontnote retrofit2.Platform# Platform used when running on RoboVM on iOS. Will not be used at runtime.-dontnote retrofit2.Platform$IOS$MainThreadExecutor# Platform used when running on Java 8 VMs. Will not be used at runtime.-dontwarn retrofit2.Platform$Java8# Retain generic type information for use by reflection by converters and adapters.-keepattributes Signature# Retain declared checked exceptions for use by a Proxy instance.-keepattributes Exceptions 3. åŸºæœ¬ä½¿ç”¨ 3.1 åˆ›å»º ApiService interfaceåˆ›å»ºä¸€ä¸ª interfaceï¼Œç”¨äºŽå‚¨å­˜éœ€è¦è¿›è¡Œçš„ç½‘ç»œæ“ä½œ API1234public interface GitHubService &#123; @GET("users/&#123;user&#125;/repos") Call&lt;List&lt;Repo&gt;&gt; listRepos(@Path("user") String user);&#125;å…¶ä¸­ï¼Œæ–¹æ³•çš„è¿”å›žå€¼æ˜¯ä¸€ä¸ª Call å¯¹è±¡ï¼Œæ³›åž‹å†…éƒ¨çš„ List&lt;Repo&gt; æ˜¯ GET è¯·æ±‚èŽ·å–åˆ°çš„ HTTP Body è§£æžåŽçš„å†…å®¹ã€‚æ–¹æ³•çš„å‚æ•°é€šè¿‡æ³¨è§£æ¥åŒºåˆ†æ˜¯ Request çš„ URL å‚æ•°è¿˜æ˜¯ Body å‚æ•°ã€‚æ–¹æ³•é¡¶ä¸Šçš„æ³¨è§£è¡¨æ˜Žäº†è¯¥è¯·æ±‚çš„ HTTP methodï¼Œæ‹¬å·ä¸­çš„å†…å®¹æ˜¯è¯·æ±‚æ‰€æ¶‰åŠåˆ°çš„ URL éƒ¨åˆ†ã€‚URL çš„åŸºç¡€éƒ¨åˆ†ç”± Retrofit ç±»æž„å»ºæ—¶æŒ‡å®šã€‚ 3.2 æž„å»º Retrofit ç±»ï¼ŒèŽ·å– ApiService å®žä¾‹12345Retrofit retrofit = new Retrofit.Builder() .baseUrl("https://api.github.com/") .build();GitHubService service = retrofit.create(GitHubService.class); 3.3 é€šè¿‡ ApiService å®žä¾‹å‘èµ·è¯·æ±‚å‘èµ·åŒæ­¥è¯·æ±‚12Call&lt;List&lt;Repo&gt;&gt; repos = service.listRepos;repos.execute();å‘èµ·å¼‚æ­¥è¯·æ±‚12Call&lt;List&lt;Repo&gt;&gt; repos = service.listRepos;repos.enqueue(new CallBack()); 3.4 å–æ¶ˆè¯·æ±‚1repos.cancel(); 4. å¯å˜ URL å’Œ GET è¯·æ±‚å‚æ•° 4.1 å¯å˜ URL12@GET("group/&#123;id&#125;/users")Call&lt;List&lt;User&gt;&gt; groupList(@Path("id") int groupId);ä¸Šé¢çš„ id åœ¨ç¨‹åºè¿è¡Œæ—¶å¯èƒ½ä¼šåŠ¨æ€å˜åŒ–ï¼Œå¯¹äºŽè¿™ç§å‚æ•°ï¼Œ retrofit2 é‡‡ç”¨ {} å°†å…¶åŒ…ä½è¿›è¡ŒåŒºåˆ†ï¼Œå¹¶åœ¨æ–¹æ³•å½¢å‚ä¸­ä½¿ç”¨ @Path æ³¨è§£æ¥æŒ‡å®šåŠ¨æ€å‚æ•°ã€‚ 4.2 Query å‚æ•°12@GET("group/&#123;id&#125;/users")Call&lt;List&lt;User&gt;&gt; groupList(@Path("id") int groupId, @Query("sort") String sort);é€šè¿‡ä½¿ç”¨ @Query æ³¨è§£æ¥æŒ‡å®šè¯·æ±‚å‚æ•°ã€‚åŒæ—¶ä¹Ÿå¯ä»¥ç›´æŽ¥åœ¨ URL ä¸­æ·»åŠ ã€‚1@GET("users/list?sort=desc")å¦‚æžœ query å‚æ•°è¿‡äºŽå¤æ‚ï¼Œå¯ä»¥ä½¿ç”¨ Map å¯¹è±¡æ¥æŒ‡å®šï¼Œæ­¤æ—¶éœ€è¦ä½¿ç”¨ @QueryMap æ³¨è§£æ¥è¡¨ç¤º12@GET("group/&#123;id&#125;/users")Call&lt;List&lt;User&gt;&gt; groupList(@Path("id") int groupId, @QueryMap Map&lt;String, String&gt; options); 5. é€šè¿‡ Body è¯·æ±‚12@POST("users/new")Call&lt;User&gt; createUser(@Body User user);POST ç­‰æ–¹æ³•å‡æ˜¯é€šè¿‡ HTTP Body æ¥ä¼ è¾“å†…å®¹çš„ï¼Œ retrofit ä¸­é€šè¿‡ä½¿ç”¨ @Body æ³¨è§£æ¥è¡¨ç¤ºè¯¥å‚æ•°é€šè¿‡ HTTP Body æ¥è¿›è¡Œä¼ è¾“ã€‚Body çš„ç±»åž‹ä¼šé€šè¿‡è½¬æ¢å™¨(converter)ååºåˆ—åŒ–æˆå¯¹åº”çš„ç±»ï¼Œå¦‚æžœæ²¡æœ‰æŒ‡å®šè½¬æ¢å™¨ï¼Œåˆ™åªèƒ½ä½¿ç”¨ Okhttp çš„ RequestBody ä½œä¸ºè½¬æ¢çš„å¯¹è±¡ã€‚ 6. Form URL encode æ•°æ®ä½¿ç”¨ @FormUrlEncoded æ³¨è§£æ¥å‘é€ application/x-www-form-urlencoded ç±»åž‹çš„æ•°æ®ã€‚ä½¿ç”¨ @Field æ³¨è§£æ¥æŒ‡ç¤ºè¡¨å•çš„é¡¹ã€‚123@FormUrlEncoded@POST("user/edit")Call&lt;User&gt; update: 2016-11-26application/x-www-form-urlencoded å’Œ application/json çš„å¼‚åŒå‰è€…è¯´æ˜Žï¼Œå®¢æˆ·ç«¯ä¼šå°†è¡¨å•å‚æ•°é€šè¿‡ URL åŠ å¯†ä¼ è¾“ï¼ŒåŽè€…è¯´æ˜Žå®¢æˆ·ç«¯ä¼šä½¿ç”¨ HTTP Body æ¥ä¼ é€ jsonã€‚application/x-www-form-urlendoced12&gt; &#123; Name : &apos;John Smith&apos;, Age: 23&#125;&gt;application/json12&gt; Name=John+Smith&amp;Age=23&gt; 7. ä¸Šä¼ æ–‡ä»¶ä½¿ç”¨ @Multipart æ³¨è§£æ¥è¡¨ç¤ºè¦ä¸Šä¼ æ–‡ä»¶123@Multipart@PUT("user/photo")Call&lt;User&gt; update: 2016-11-26 7. æŒ‡å®š Headeré€šè¿‡ @Header æ³¨è§£æ¥æŒ‡å®š HTTP Header123@Headers("Cache-Control: max-age=640000")@GET("widget/list")Call&lt;List&lt;Widget&gt;&gt; widgetList();è¿™ä¸ªæ–¹æ³•åªé€‚åˆç”¨äºŽå•ç‹¬çš„ä¸€ä¸ªæˆ–è€…å‡ ä¸ª API è®¾ç½®å¤´ï¼Œå¦‚æžœéœ€è¦åŠ å…¥å…¬æœ‰å¤´ï¼Œåˆ™éœ€è¦ä½¿ç”¨ OkHttp æ‹¦æˆªå™¨å®žçŽ°ã€‚ 8. æŒ‡å®šè½¬æ¢å™¨retrofit é™¤äº† okhttp é»˜è®¤çš„ RequestBody å¤–ï¼Œè¿˜æä¾›äº†å…¶ä»–çŸ¥åçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åº“ç”¨ä½œè½¬æ¢å™¨ã€‚å…¶ä¸­åŒ…æ‹¬ï¼šGson: com.squareup.retrofit2:converter-gsonJackson: com.squareup.retrofit2:converter-jacksonMoshi: com.squareup.retrofit2:converter-moshiProtobuf: com.squareup.retrofit2:converter-protobufWire: com.squareup.retrofit2:converter-wireSimple XML: com.squareup.retrofit2:converter-simplexmlScalars (primitives, boxed, and String): com.squareup.retrofit2:converter-scalarsé€šè¿‡åœ¨æž„å»º Retorfit å®žä¾‹æ—¶ï¼Œä½¿ç”¨ addConverterFactory() æ¥å®žçŽ°ã€‚123456Retrofit retrofit = new Retrofit.Builder() .baseUrl("https://api.github.com") .addConverterFactory(GsonConverterFactory.create()) .build();GitHubService service = retrofit.create(GitHubService.class);å‚è€ƒèµ„æ–™ï¼šRetrofit ä¸»é¡µï¼šhttp://square.github.io/retrofit/]]></content>
      <categories>
        <category>Android</category>
        <category>Retrofit</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Retrofit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Network API]]></title>
    <url>%2F%2FProjects%2FMdzzProject%2FNetwork%20API%2F</url>
    <content type="text"><![CDATA[1. è¯´æ˜Žå¿…é¡»å…ˆçœ‹è¯´æ˜Žï¼ï¼æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚ API å‡ä½äºŽ NetworkUtils ç±»ä¸­ï¼Œä»¥é™æ€æ–¹æ³•å½¢å¼å‘ˆçŽ°ã€‚API æ–¹æ³•åŒ…æ‹¬ä¸‰ä¸ªå‚æ•°â€”â€”å‘èµ·è¯·æ±‚çš„å¿…è¦ä¿¡æ¯ï¼Œä¸€ä¸ªç»“æžœå›žè°ƒç›‘å¬å™¨å’Œä¸€ä¸ªé”™è¯¯å›žè°ƒç›‘å¬å™¨ï¼Œå¹¶è¿”å›žä¸€ä¸ª Request å¯¹è±¡ç”¨äºŽå–æ¶ˆè¯·æ±‚å¦‚ä¸‹ï¼ŒregisterInfo æ˜¯å­˜å‚¨æ³¨å†Œä¿¡æ¯çš„å¯¹è±¡ï¼Œlistener æ˜¯ç»“æžœç›‘å¬å™¨ï¼Œ errorListener æ˜¯é”™è¯¯ç›‘å¬å™¨ã€‚123public static Request register(RegisterInfo registerInfo, Response.Listener listener, Response.ErrorListener errorListener)å–æ¶ˆè¯·æ±‚è°ƒç”¨ Request ç±»çš„ cancel() æ–¹æ³•å³å¯ã€‚API æ–¹æ³•ä¸­çš„ä¸¤ä¸ªç›‘å¬å™¨éœ€è¦è°ƒç”¨è€…è‡ªè¡Œå®žçŽ°å¯¹ç»“æžœå’Œé”™è¯¯çš„å¤„ç†å¦‚ä¸‹æ˜¯ä¸€ä¸ªåŒ¿åç±»çš„ç›‘å¬å™¨å®žçŽ°ï¼š123456789101112131415register(registerInfo, // è¿™ä¸ªæ˜¯ç»“æžœç›‘å¬å™¨ new Response.Listener&lt;BaseResponse&gt;() &#123; @Override public void onResponse(BaseResponse response) &#123; // Do with response &#125; &#125;, // è¿™ä¸ªæ˜¯é”™è¯¯ç›‘å¬å™¨ new Response.ErrorListener() &#123; @Override public void onError(VolleyError error) &#123; // Handle error &#125; &#125;);å›žè°ƒç»“æžœ(Response)é‡‡ç”¨ç»§æ‰¿æ¨¡åž‹ï¼Œæ‰€æœ‰ç½‘ç»œç»“æžœå‡æ˜¯æˆ–ç»§æ‰¿äºŽBaseResponseï¼Œç”±å…¶æ´¾ç”Ÿä»¥å¢žåŠ ç›¸åº”å­—æ®µã€‚å³æ‰€æœ‰çš„å›žè°ƒç»“æžœéƒ½è‡³å°‘åŒ…å« BaseResponse çš„å­—æ®µBaseResponse åŒ…æ‹¬ä¸¤ä¸ªå­—æ®µï¼Œstatus å’Œ messageã€‚BaseResponsestatus(boolean): ç”¨äºŽè¡¨ç¤ºè¯·æ±‚çš„æˆåŠŸçŠ¶æ€message(String): ç”¨äºŽæè¿°ç»“æžœä¿¡æ¯ï¼Œä¸€èˆ¬æ¥è¯´å°†å…¶ç›´æŽ¥å‘ˆçŽ°ç»™ç”¨æˆ·å³å¯å…¶ä½™å…·æœ‰ç‰¹æ®Šç›¸åº”å­—æ®µçš„ç»“æžœå‡ç»§æ‰¿è‡ª BaseResponseï¼Œé€šè¿‡æ´¾ç”Ÿå¢žåŠ æ–°å­—æ®µã€‚å¦‚ç™»é™†çš„å›žè°ƒç»“æžœéœ€è¦åŒ…å« tokenï¼Œåˆ™é€šè¿‡å»ºç«‹æ–°çš„ LoginResponse ç»§æ‰¿ BaseResponse ï¼Œåœ¨ LoginResponse ä¸­å¢žåŠ  token å­—æ®µã€‚å›žè°ƒç»“æžœç±»å‡å­˜å‚¨åœ¨ models.response åŒ…ä¸­ã€‚å…³äºŽå„ä¸ª API å›žè°ƒç»“æžœçš„è¯´æ˜Žï¼Œè¯·å‚ç…§æœåŠ¡å™¨ç«¯æ–‡æ¡£è¯·é€šè¿‡ä½¿ç”¨ VolleyErrorHelper ç±»æ¥èŽ·å–ç½‘ç»œé”™è¯¯ä¿¡æ¯çš„å½¢å¼æ¥å¤„ç†ç½‘ç»œé”™è¯¯ï¼Œä¸è¦è‡ªå·±å¤„ç†ã€‚VolleyErrorHelper ç±»ä½äºŽ utils åŒ…ä¸­ã€‚å…¶ä¸­ä¹ŸåŒ…å«äº†ä¸€ä¸ªå±•ç¤ºé»˜è®¤ Snackbar çš„ display() æ–¹æ³• 2. API åˆ—è¡¨è¿™é‡Œåªåˆ—å‡ºå‘èµ·è¯·æ±‚çš„å¿…è¦å‚æ•°ï¼Œå‰©ä¸‹çš„ä¸¤ä¸ªç›‘å¬å™¨ä¸äºˆåˆ—å‡ºã€‚è¿”å›žçš„ Request å¯¹è±¡åŒä¸Šï¼Œä¸äºˆåˆ—å‡ºã€‚ 2.1 æ³¨å†Œ1register(RegisterInfo registerInfo)registerInfoï¼šä¿å­˜ç”¨æˆ·æ³¨å†Œä¿¡æ¯çš„å®¹å™¨ç±»å¯¹è±¡ï¼Œä»…åŒ…æ‹¬ç”¨æˆ·åœ¨æ³¨å†Œç•Œé¢å¡«å†™çš„ä¿¡æ¯ã€‚ 2.2 èŽ·å–éªŒè¯ç 1getAuthCode(String phoneNumber)phoneNumberï¼šç”¨äºŽèŽ·å–éªŒè¯ç çš„ç”¨æˆ·æ‰‹æœºå·ï¼Œè¦æ±‚ 11 ä½ï¼Œä»¥ 1 å¼€å¤´ã€‚]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
        <category>MDZZ</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹</tag>
        <tag>MDZZ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Storage API]]></title>
    <url>%2F%2FProjects%2FMdzzProject%2FStorage%20API%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°æ‰€æœ‰çš„å‚¨å­˜ä¿¡æ¯å’Œæ“ä½œå‡é€šè¿‡å®žä½“å®žçŽ°ã€‚æ‰€æœ‰å®žä½“å‡å­˜æ”¾åœ¨ models åŒ…ä¸­ã€‚SharedPreferences å­˜æ”¾åœ¨ models/shared_preferences åŒ…ä¸­æ•°æ®åº“ç›¸å…³çš„å®žä½“å­˜æ”¾åœ¨ models/db åŒ…ä¸­ã€‚å–æ¶ˆ Intant Run å†è¿è¡Œï¼Œå¦åˆ™ç¨‹åºå°†ä¼šæŠ¥é”™ï¼ï¼ï¼ 2. SharedPreferences éƒ¨åˆ†æ­¤éƒ¨åˆ†çš„æ•°æ®éœ€è¦å…ˆèŽ·å–å®žä½“ instance ä¹‹åŽå†è¿›è¡Œæ“ä½œã€‚é€šè¿‡å®žä½“çš„ getter å’Œ setter å¯¹æ•°æ®è¿›è¡ŒèŽ·å–å’Œæ›´æ”¹ï¼Œæ›´æ”¹åŽæ•°æ®ä¼šè‡ªåŠ¨è¿›è¡ŒæŒä¹…åŒ–ä¿å­˜ã€‚ 2.1 å‚¨å­˜çš„æ•°æ®ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼ŒåŒ…æ‹¬æ³¨å†Œä¿¡æ¯å’Œæ˜¯å¦å•èº«ï¼Œæ˜¯å¦ç¬¬ä¸€æ¬¡ç™»é™†ç­‰ï¼Œå®žä½“ä¸º UserInfoç³»ç»Ÿçš„ä¿¡æ¯ï¼Œç›®å‰åªåŒ…æ‹¬æ˜¯å¦ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼Œå®žä½“ä¸º AppInfo 3. æ•°æ®åº“éƒ¨åˆ†æ•°æ®åº“ä½¿ç”¨ Sugar ORMï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤åº“éœ€è¦å–æ¶ˆ Instant Run æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚é€šè¿‡ç›¸åº”çš„ find æ–¹æ³•æ¥èŽ·å–ç›¸åº”çš„å®žä½“ï¼Œå¯¹å®žä½“è¿›è¡Œæ•°æ®æ“ä½œä¹‹åŽï¼Œä½¿ç”¨ save() æ–¹æ³•å¯¹å…¶è¿›è¡Œæ›´æ–°ã€‚æ­¤åº“å·²ç»æžå…¶ç®€å•ï¼Œå…·ä½“çš„ä½¿ç”¨è¯´æ˜Žè¯·å‚ç…§https://github.com/satyan/sugar#exampleshttp://satyan.github.io/sugar/]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
        <category>MDZZ</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹</tag>
        <tag>MDZZ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç­–ç•¥æ¨¡å¼(Strategy Pattern)]]></title>
    <url>%2F%2FDesignPattern%2F%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F(Strategy%20Pattern)%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ç­–ç•¥æ¨¡å¼ï¼šå®šä¹‰ç®—æ³•æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚æ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºŽä½¿ç”¨ç®—æ³•çš„ç”¨æˆ·ã€‚ 2. OO åŸºç¡€æŠ½è±¡å°è£…å¤šæ€ç»§æ‰¿ 3. è®¾è®¡åŽŸåˆ™å°è£…å˜åŒ–å°†åº”ç”¨ï¼ˆç±»ï¼‰ä¸­æœ‰å¯èƒ½å˜åŒ–çš„éƒ¨åˆ†å°è£…å‡ºæ¥ï¼Œå’Œç¨³å®šçš„éƒ¨åˆ†ç›¸äº’éš”ç¦»é’ˆå¯¹æŽ¥å£ç¼–ç¨‹ï¼Œè€Œéžé’ˆå¯¹ å®žçŽ°ç¼–ç¨‹ä¸ºäº†è¿è¡Œæ—¶èƒ½åŠ¨æ€æ”¹å˜ç±»çš„è¡Œä¸ºï¼Œæˆ‘ä»¬åº”è¯¥é’ˆå¯¹æŽ¥å£ç¼–ç¨‹ï¼Œè€Œéžé’ˆå¯¹å®žçŽ°ç¼–ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨æŽ¥å£æ¥å®žçŽ°å„ä¸ªè¡Œä¸ºï¼Œè€Œä¸æ˜¯å°†è¡Œä¸ºå›ºå®šåœ¨ç±»çš„å…·ä½“å®žçŽ°ä¸­ã€‚å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿has-a æ¯” is-a æ›´å¥½ï¼Œèƒ½å¤Ÿå¾—åˆ°æ›´å¤šçš„åº”ç”¨å¼¹æ€§ã€‚ 4. å…·ä½“å®žçŽ°å…³é”®ï¼šä½¿ç”¨å§”æ‰˜ï¼Œå¹¶ä½¿ç”¨ setter å®žçŽ°è¡Œä¸ºçš„åŠ¨æ€å˜åŒ–ã€‚ 4.1 ä½¿ç”¨æŽ¥å£å°è£…è¡Œä¸º 4.2 å¯¹è±¡åŒ…å«æŽ¥å£ 4.3 ä½¿ç”¨ Setter å®žçŽ°è¿è¡Œæ—¶æ›´æ”¹è¡Œä¸º1234ModelDuck modelDuck = new ModelDuck();modelDuck.performFly(); // FlyNoWaymodelDuck.setFlyBehavior(new FlywithWings());modelDuck.performFly(); // FlywithWings]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼(Observer Pattern)]]></title>
    <url>%2F%2FDesignPattern%2F%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F(Observer%20Pattern)%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæ˜¯åœ¨å¯¹è±¡é—´å®šä¹‰ä¸€ä¸ªä¸€å¯¹å¤šçš„å…³ç³»ã€‚å½“â€œä¸€ä¸ªâ€ å¯¹è±¡çš„æ”¹å˜çŠ¶æ€ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡éƒ½ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°ã€‚å…¶ä¸­ï¼Œâ€œä¸€ä¸ªâ€ å¯¹è±¡ç§°ä½œä¸»é¢˜ã€å¯è§‚å¯Ÿè€…ã€è¢«è§‚å¯Ÿè€…ï¼›â€œå¤šä¸ªâ€ å¯¹è±¡è¢«ç§°ä½œè§‚å¯Ÿè€…ã€å€¾å¬è€…ã€è®¢é˜…è€…ã€‚è¿™æœ‰ç‚¹ç±»ä¼¼æŠ¥ç¤¾å’Œè¯»è€…çš„å…³ç³»ï¼šå‘ç”Ÿæ–°é—»åŽï¼ŒæŠ¥ç¤¾é€šè¿‡æŠ¥çº¸æ¥é€šçŸ¥è¯»è€…ã€‚å®žé™…ä¸Šå°±æ˜¯ä¸€ä¸ªå…¸åž‹çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚äº‹å®žä¸Šï¼Œè§‚å¯Ÿè€…æ¨¡å¼æ˜¯ JDK ä¹ƒè‡³å®žé™…ç¨‹åºå’Œåº“ä¸­ä½¿ç”¨å¾—æœ€å¤šçš„è®¾è®¡æ¨¡å¼ã€‚åŸºæœ¬ä¸Šæ‰€æœ‰çš„ Java GUI å‡å®žçŽ°äº†è§‚å¯Ÿè€…æ¨¡å¼ã€‚ï¼ˆä¹Ÿå°±æ˜¯ Listenerï¼‰ 2. å®žçŽ°æ–¹å¼ 2.1 å®žçŽ°æ€è·¯å°è£…å˜åŒ–è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œä¸»é¢˜çš„çŠ¶æ€å’Œè§‚å¯Ÿè€…çš„ç§ç±»å’Œæ•°é‡éƒ½ä¼šå˜åŒ–ã€‚æ‰€ä»¥ï¼Œéœ€è¦å¯¹è§‚å¯Ÿè€…è¿›è¡Œå°è£…ã€‚åŒç†ï¼Œè§‚å¯Ÿè€…ä¹Ÿå¯èƒ½è®¢é˜…å¤šä¸ªä¸»é¢˜ï¼Œæ‰€ä»¥ä¸»é¢˜ä¹Ÿéœ€è¦è¿›è¡Œå°è£…ã€‚é’ˆå¯¹æŽ¥å£ç¼–ç¨‹ï¼Œä¸é’ˆå¯¹å®žçŽ°ç¼–ç¨‹æ‰€ä»¥ï¼Œæˆ‘ä»¬ä½¿ç”¨æŽ¥å£ï¼Œåˆ†åˆ«å°†ä¸»é¢˜å’Œè§‚å¯Ÿè€…è¿›è¡Œå°è£…ã€‚å®žé™…ä¸Šå°±æ˜¯è®©å„ä¸ªä¸»é¢˜å®žçŽ°ç»Ÿä¸€çš„ Subject æŽ¥å£ï¼›è§‚å¯Ÿè€…å®žçŽ°ç»Ÿä¸€çš„ Observer æŽ¥å£ã€‚å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œè¿™æ„å‘³ç€ï¼Œä¸»é¢˜å¿…é¡»ç»´æŠ¤ä¸€ä¸ªè§‚å¯Ÿè€…åˆ—è¡¨ã€‚çŠ¶æ€æ”¹å˜åŽï¼Œé€šè¿‡è°ƒç”¨é€šçŸ¥æ–¹æ³•æ¥é€ä¸ªé€šçŸ¥è§‚å¯Ÿè€…ã€‚å®žé™…ä¸Šï¼Œè¿™æ„å‘³ç€å°†è§‚å¯Ÿè€…ç»„åˆè¿›äº†ä¸»é¢˜ä¸­ã€‚ 2.2 å›¾è§£ 3. æ–°è®¾è®¡åŽŸåˆ™â€”â€”æ¾è€¦åˆä¸ºäº†äº¤äº’å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆè®¾è®¡è€ŒåŠªåŠ›ï¼æ‰€è°“çš„æ¾è€¦åˆï¼ŒæŒ‡çš„å°±æ˜¯ä¸¤ä¸ªç±»ã€å‡½æ•°ã€æ¨¡å—ä¹‹é—´ç›¸å…³åº¦ä¸é«˜ï¼Œæ”¹å˜å…¶ä¸­çš„ä¸€ä¸ªç±»ä¸ä¼šé€ æˆå¦ä¸€ä¸ªç±»çš„å¤§å¹…å˜åŒ–ã€‚è§‚å¯Ÿè€…æ¨¡å¼é€šè¿‡æŽ¥å£çš„å½¢å¼æ¥è¿›è¡Œäº¤äº’ï¼Œä¸»é¢˜å¯ä»¥éšæ—¶å¢žåŠ å’Œåˆ é™¤è§‚å¯Ÿè€…åˆ—è¡¨ä¸­çš„è§‚å¯Ÿè€…ï¼›è§‚å¯Ÿè€…ä¹Ÿä¸éœ€è¦å…³å¿ƒä¸»é¢˜çš„å†…å®¹ï¼Œå®ƒåªéœ€è¦æŽ¥å—ä¸»é¢˜çš„é€šçŸ¥å°±å¯ä»¥äº†ã€‚ 4. æ°”è±¡ç«™ä¾‹å­çš„ UML å›¾è§£ 5. æŽ¨å’Œæ‹‰å®žé™…ä¸Šï¼Œä¸»é¢˜å‘è§‚å¯Ÿè€…å‘é€é€šçŸ¥å¹¶ä¸åªæœ‰ä¸»é¢˜å‘è§‚å¯Ÿè€…æŽ¨é€è¿™ä¸€ä¸ªæ–¹æ³•ï¼›æˆ‘ä»¬è¿˜å¯ä»¥è®©è§‚å¯Ÿè€…ä¸»åŠ¨ä»Žä¸»é¢˜æ‹‰å–æ•°æ®ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºŽï¼šæŽ¨çš„é€šçŸ¥æ–¹æ³•åŒ…å«æ•°æ®ï¼Œè€Œæ‹‰çš„ä¸åŒ…å«ï¼Œåªè´Ÿè´£ä¼ è¾“ä¸»é¢˜çš„å¼•ç”¨ã€‚12345678910111213// Pushpublic void notifyObservers() &#123; for (observer : list) &#123; observer.update: 2016-11-25 &#125;&#125;// Pullpublic void notifyObservers() &#123; for (observer : list) &#123; observer.update: 2016-11-25 &#125;&#125;æ‹‰çš„æ–¹æ³•å®žçŽ°èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼šé¦–å…ˆä¸»é¢˜æä¾› getteréšåŽå°†ä¸»é¢˜æœ¬èº«ä½œä¸ºå‚æ•°ä¼ é€’ç»™è§‚å¯Ÿè€…å³å¯ã€‚é‡‡ç”¨æ‹‰çš„å¥½å¤„åœ¨äºŽï¼Œè§‚å¯Ÿè€…ç§ç±»ç¹å¤šï¼Œéœ€è¦çš„æ•°æ®ä¸å°½ç›¸åŒï¼Œè¿™æ ·ä¸€æ¥ï¼Œè§‚å¯Ÿè€…åªéœ€è¦èŽ·å–è‡ªå·±æ„Ÿå…´è¶£çš„æ•°æ®å³å¯ï¼Œè€Œä¸éœ€è¦åŒæ—¶æ‹¿åˆ°ä¸€å¤§å †è‡ªå·±ä¸æƒ³è¦çš„æ•°æ®ã€‚ä¹¦ä¸­æåˆ°å¦‚æžœé‡‡ç”¨æ‹‰ï¼Œå½“æ‰©å±•åŠŸèƒ½çš„æ—¶å€™ï¼Œå°±ä¸å¿…è¦æ›´æ–°å’Œä¿®æ”¹è§‚å¯Ÿè€…çš„è°ƒç”¨ï¼Œè€Œåªéœ€æ”¹å˜è‡ªå·±æ¥å…è®¸æ›´å¤šçš„ getter æ–¹æ³•æ¥å–å¾—æ–°å¢žçš„çŠ¶æ€ã€‚è¿™ä¸ªè§‚ç‚¹å›ºç„¶ä¸é”™ï¼Œä½†æ˜¯å®žé™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æ•°æ®å°è£…æˆä¸€ä¸ªç±»æ¥è§£å†³è°ƒç”¨çš„é—®é¢˜ã€‚äº‹å®žä¸Šï¼Œæ ¹æ® OO è®¾è®¡çš„åŽŸåˆ™ï¼Œåº”è¯¥ Tell, Donâ€™t Ask ï¼Œæ‰€ä»¥ä½¿ç”¨æŽ¨çš„æ–¹æ³•ä¼šæ›´å¥½ã€‚ 6. Java å†…ç½®çš„è§‚å¯Ÿè€…æ¨¡å¼Java API ä¸­å†…ç½®äº†ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼ï¼ŒåŒ…å«ä¸€ä¸ªåŸºæœ¬çš„ Observer æŽ¥å£å’Œä¸€ä¸ª Observable ç±»ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Java çš„å†…ç½® API æ¥å¿«é€Ÿçš„å®žçŽ°è§‚å¯Ÿè€…æ¨¡å¼ï¼Œè€Œä¸éœ€è¦è‡ªå·±å†é€ è½®å­ã€‚åŸºæœ¬çš„ç±»å›¾å¦‚ä¸‹ï¼šå…¶ä¸­ï¼ŒsetChanged() æ–¹æ³•æ˜¯ç”¨æ¥æŒ‡ç¤ºçŠ¶æ€æ”¹å˜çš„ã€‚åœ¨è°ƒç”¨ notifyObservers() ä¹‹å‰ï¼Œéœ€è¦å…ˆè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚åŒæ—¶ï¼ŒJava ä¹Ÿå®žçŽ°äº†æŽ¨å’Œæ‹‰çš„æ–¹å¼ã€‚ä¸å¸¦å‚æ•°çš„ notifyObservers() ä½¿ç”¨çš„æ˜¯æ‹‰çš„æ–¹æ³•ï¼Œè€Œå¸¦å‚æ•°çš„ä½¿ç”¨çš„æ˜¯æŽ¨ã€‚1234567891011public notifyObservers(Objecgt arg) &#123; if (changed) &#123; for (observer : list) &#123; observer.update: 2016-11-25 &#125; &#125;&#125;public notifyObservers() &#123; notifyObservers(null);&#125; 7. Java å†…ç½®è§‚å¯Ÿè€…æ¨¡å¼çš„ç¼ºé™·è¿åé¢å¯¹æŽ¥å£ç¼–ç¨‹åŽŸåˆ™ç”±äºŽ Observable æ˜¯ä¸€ä¸ªç±»ï¼Œå¹¶ä¸”å®žçŽ°äº†è‡ªå·±çš„é€šçŸ¥æ–¹æ³•ï¼Œæˆ‘ä»¬çš„é€šçŸ¥é€”å¾„å°±è¢«ç»‘å®šåœ¨äº† Observable çš„å…·ä½“å®žçŽ°ä¸Šï¼Œæ— æ³•è½»æ˜“æ”¹å˜ã€‚è¿™ä¹Ÿå¯¼è‡´äº†å¯¹è§‚å¯Ÿè€…çš„é€šçŸ¥æ¬¡åºè¢«ç»‘å®šè€Œæ— æ³•æ”¹å˜ã€‚åŒæ—¶ï¼Œç”±äºŽ Java ç¦æ­¢å¤šé‡ç»§æ‰¿ï¼Œæ‰€ä»¥æ— æ³•å¯¹ Observable è¿›è¡Œå¤ç”¨ã€‚è¿åå¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿Observable ä¸­çš„ setChanged() æ–¹æ³•æ˜¯ protected çš„ï¼Œè¿™æ„å‘³ç€å¦‚æžœä¸ç»§æ‰¿ Observable å°±æ— æ³•ä¿®æ”¹ setChanged() æ–¹æ³•ã€‚æ‰€ä»¥ï¼Œå¦‚æžœåº”ç”¨è¦æ±‚å¼¹æ€§é«˜ï¼Œé‚£ä¹ˆæ›´å¥½çš„æ–¹æ³•åº”è¯¥æ˜¯ï¼šè‡ªå·±é‡æ–°é€ è½®å­ï¼]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Clean Code]]></title>
    <url>%2F%2FCleanCode%2FClean%20Code%2F</url>
    <content type="text"><![CDATA[1. è§‚ç‚¹ä»£ç æ··ä¹±çš„ä»£ä»·ååˆ†åºžå¤§å†™æ•´æ´ä»£ç æ˜¯ååˆ†æœ‰å¿…è¦çš„æˆ‘ä»¬æ˜¯ä½œè€…ï¼Œä»£ç æ˜¯å†™ç»™åˆ«äººçœ‹çš„ï¼Œè¦è®©äººè¿…é€Ÿçœ‹æ‡‚ 2. æœ‰æ„ä¹‰çš„å‘½åå‘½åè¦ä½“çŽ°æœ¬æ„é¿å…ä½¿ç”¨æ¨¡ç³Šçš„åç§°å‘½åè¦é¿å…è¯¯å¯¼ä¸åº”å‡ºçŽ° List æˆ– Map ç­‰æŒ‡ç¤ºå˜é‡ç±»åž‹çš„åç§°ã€‚ç®€å•åŠ ä¸ª s æˆ–ä½¿ç”¨å…¶ä»–è¡¨ç¤ºå¤æ•°çš„è¡¨ç¤ºæ³•å³å¯ã€‚å‘½åè¦é¿å…åºŸè¯å’Œå†—ä½™ç¼ºä¹æ˜Žç¡®çº¦å®šçš„å‰æä¸‹ï¼Œä¸åº”ä½¿ç”¨å† è¯å’Œæ— æ„ä¹‰çš„åŽç¼€å¦‚ theMessage å’Œ messageå‘½åè¦ç®€å•æ˜“è¯»ä¸è¦ç”Ÿé€ è¯ï¼Œè¦ä½¿ç”¨æ˜“è¯»çš„è‹±æ–‡å‘½åè¦æ˜“äºŽæœç´¢åç§°é•¿çŸ­åº”ä¸Žå…¶ä½œç”¨åŸŸå¤§å°ç›¸å¯¹åº”å¤§ä½œç”¨åŸŸå†…ï¼Œä¸åº”ç›´æŽ¥ä½¿ç”¨æ•°å­—å¸¸é‡ã€‚é¿å…ä½¿ç”¨åŒˆç‰™åˆ©å‘½åæ³•å‘½åä¸åº”å‰ç¼€æˆ–åŽç¼€å˜é‡ç±»åž‹é¿å…ä½¿ç”¨æˆå‘˜å‰ç¼€åœ¨çŽ°ä»£ IDE ä¸­ï¼Œæ²¡æœ‰å¿…è¦ä½¿ç”¨å†—ä½™çš„æˆå‘˜å‰ç¼€ã€‚åœ¨è¿‡å¤šçš„ä½¿ç”¨å‰ç¼€åŽï¼Œå‰ç¼€å°†ä¼šè¢«è¶Šæ¥è¶Šå¤šçš„å¿½ç•¥ã€‚é¿å…ä½¿ç”¨æŽ¥å£å‰å¯¼å­—æ¯åŽŸå› å’Œä¸Šæ¡ç›¸åŒï¼Œåªä¸è¿‡è¿™é‡ŒæŒ‡çš„æ˜¯ç±»ä¸€çº§é¿å…äº§ç”Ÿæ€ç»´å®šå¼åº”ä½¿ç”¨è¾ƒä¸ºç›´ç™½çš„å‘½åï¼Œè€Œä¸æ˜¯ç”Ÿé€ ä¸€äº›å®šå¼å•å­—è¯å…³äºŽç±»åç±»åæ˜¯åè¯æˆ–è€…åè¯çŸ­è¯­ã€‚ç±»åä¸åº”è¯¥æ˜¯åŠ¨è¯ã€‚æ–¹æ³•åæ–¹æ³•åæ˜¯åŠ¨è¯æˆ–è€…åŠ¨è¯çŸ­è¯­ã€‚getter, setter å’Œ assert åº”ä¾ç…§ Javabean æ ‡å‡†ä½¿ç”¨ get, set å’Œ is å‰ç¼€åˆ«æ‰®å¯çˆ±ä»£ç æ˜¯ä¸¥è‚ƒçš„ï¼Œç›´ç™½çš„ã€‚ä¸åº”å½“å‡ºçŽ°è¿‡äºŽå¹½é»˜æˆ–è€…æ¶æžçš„å‘½åæ¯ä¸ªæ¦‚å¿µå¯¹åº”ä¸€ä¸ªè¯å¯¹äºŽæ¯ä¸ªæŠ½è±¡æ¦‚å¿µå–ä¸€ä¸ªè¯ï¼Œå¹¶ç¡®å®šä¸‹æ¥ã€‚ä¸è¦ä½¿ç”¨åŒå…³æ—¶åˆ»ä¿è¯æ¯ä¸€ä¸ªè¯åªä¼šä»£è¡¨ä¸€ç§å«ä¹‰å¦‚ add æ–¹æ³•ç”¨äºŽè¿žæŽ¥ä¸¤ä¸ªçŽ°æœ‰å€¼äº§ç”Ÿæ–°å€¼ï¼Œåˆ™å°†å•ä¸ªå€¼æ’å…¥ collection çš„æ–¹æ³•å°±ä¸èƒ½å‘½åä¸º addï¼Œåº”å‘½åä¸º insert æˆ–è€… appendä½¿ç”¨æŠ€æœ¯æ€§åç§°çœ‹ä»£ç çš„éƒ½æ˜¯ç¨‹åºå‘˜ï¼Œä½¿ç”¨æŠ€æœ¯æ€§åç§°ä¼šæ›´åŠ é è°±ã€‚ä½¿ç”¨æºè‡ªé—®é¢˜é¢†åŸŸçš„åç§°å¦‚æžœä¸èƒ½ä½¿ç”¨æŠ€æœ¯æ€§çš„åç§°ï¼Œåˆ™åº”ä½¿ç”¨æºè‡ªé—®é¢˜é¢†åŸŸçš„è¯æ±‡ã€‚æ·»åŠ æœ‰æ„ä¹‰çš„è¯­å¢ƒå¾ˆå°‘æœ‰åç§°èƒ½å¤Ÿè‡ªæˆ‘è¯´æ˜Žï¼Œæœ€å¥½ä¸ºå‘½åæ·»åŠ è¯­å¢ƒã€‚åªæœ‰ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¯ä»¥ä¸ºå…¶æ·»åŠ å‰ç¼€è¯´æ˜Žè¯­å¢ƒã€‚ä½†åŒä¸€è¯­å¢ƒçš„å˜é‡è¿‡å¤šæ—¶ï¼Œåº”ä¼˜å…ˆé€‰æ‹©ç±»ä½œä¸ºå˜é‡çš„è¯­å¢ƒä¸è¦æ·»åŠ æ²¡ç”¨çš„è¯­å¢ƒåªè¦çŸ­åç§°è¶³å¤Ÿæ¸…æ¥šï¼Œå°±ä¸è¦ä½¿ç”¨é•¿åç§° 3. å‡½æ•°å‡½æ•°åº”å°½å¯èƒ½çŸ­å°æœ€ä½³çš„å‡½æ•°é€»è¾‘è¡Œæ•°åº”è¯¥åœ¨ä¸ªä½æ•°å‡½æ•°åº”è¯¥åªåšä¸€ä»¶äº‹ä¸€ä¸ªå‡½æ•°åº”è¯¥åªåšä¸€é¡¹å·¥ä½œã€‚å¦‚æžœå½“å‰å‡½æ•°èƒ½å¤Ÿæ‹†åˆ†å‡ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™è¯´æ˜Žå…¶ä¾ç„¶ä¸å¤Ÿç®€æ´ã€‚åº”ç¡®ä¿ switch åŸ‹è—åœ¨è¾ƒä½Žçš„æŠ½è±¡å±‚çº§ï¼Œå¹¶ä¸é‡å¤å¾ˆä¸å¹¸çš„æ˜¯ï¼Œ switch è¯­å¥æ²¡æœ‰åŠžæ³•é¿å…ã€‚æ‰€ä»¥åªèƒ½å°†å…¶å°½é‡åœ°åŒ…è£…èµ·æ¥ï¼Œä¸è¦åµŒå¥—è¿‡æ·±ã€‚å‡½æ•°åº”ä½¿ç”¨æè¿°æ€§çš„åç§°å‡½æ•°åç§°æ€»æ¯”æ³¨é‡Šè¦å¥½å‡½æ•°å‚æ•°åº”å°½é‡ç®€æ´å‚æ•°ä¸ªæ•°è¶Šå°‘è¶Šå¥½ã€‚å°½é‡é¿å…è¾“å‡ºå‚æ•°ï¼Œåº”ä»Žè¿”å›žå€¼è¾“å‡ºã€‚]]></content>
      <categories>
        <category>CleanCode</category>
      </categories>
      <tags>
        <tag>CleanCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Coding Standards]]></title>
    <url>%2F%2FCleanCode%2FJava%20Coding%20Standards%2F</url>
    <content type="text"><![CDATA[1. Naming 1.1 CommonDo not allow a, an, the appear in the nametheCode, anException, getTheResult(), are all NOT correct.Name should be divide into wordsreSetStatus are not correct, it should be resetStatusNot allow single character prefix of variable nameThe aName, kFlag, cBook are all NOT correctThe name should be as meanningful as possible 1.2 Special for identifiers 1.2.1 ClassClassName use the UpperCamelCase 1.2.2 VariablevariableName use the lowCamelCaseSingle character name should only appears in the Iterator12345678910// They are okayfor(int i : int[])for(int i = 0;i&lt;50;i++) &#123;&#125;// They are badint k;int i;for (int j = 0; j &lt; 50; j++) &#123; int i;&#125;But avoid using the single character name as possibleNot allow underscores12// That's not allowint red_color; 1.2.3 MethodmethodName() use the lowCamelCaseDo NOT allow single chracter12// That's not allowpublic void a() &#123;&#125;Do NOT allow underscores12// They are not allowpublic void ini_Data() &#123;&#125; 1.2.4 ParamaterDo NOT allow 1 character paramater12// That's not allowpublic void resetPosition(int a) &#123;&#125; 1.2.5 ConstantConstant name use CONSTANT_NAME style. All UPPERCASE character and sperated by underscores.Every constant is in static final field, but not all static final field is constant1234567891011121314// Constantsstatic final int NUMBER = 5;static final ImmutableList&lt;String&gt; NAMES = ImmutableList.of("Ed", "Ann");static final Joiner COMMA_JOINER = Joiner.on(','); // because Joiner is immutablestatic final SomeMutableType[] EMPTY_ARRAY = &#123;&#125;;enum SomeEnum &#123; ENUM_CONSTANT &#125;// Not constantsstatic String nonFinal = "non-final";final String nonStatic = "non-static";static final Set&lt;String&gt; mutableCollection = new HashSet&lt;String&gt;();static final ImmutableSet&lt;SomeMutableType&gt; mutableElements = ImmutableSet.of(mutable);static final Logger logger = Logger.getLogger(MyClass.getName());static final String[] nonEmptyArray = &#123;"these", "can", "change"&#125;; 1.2.6 Camel case: definedWith the defined name, should still obey the camelCaseProse formCorrectIncorrectâ€œXML HTTP requestâ€XmlHttpRequestXMLHTTPRequestâ€œnew customer IDâ€newCustomerIdnewCustomerIDâ€œinner stopwatchâ€innerStopwatchinnerStopWatchâ€œsupports IPv6 on iOS?â€supportsIpv6OnIossupportsIPv6OnIOSâ€œYouTube importerâ€YouTubeImporter 2. Formatting 2.1 Braces 2.1.1 Braces is used as much as possibleBraces are used with if, else, for, do and while statements, even when the body is empty or contains only a single statement. 2.1.2 Non-Empty braces:use the K &amp; R style{ should after a space and appear at the end of line( of control statement should have a space before it( of method should have no space before it1234567891011return new MyClass() &#123; @Override public void method() &#123; if (condition()) &#123; try &#123; something(); &#125; catch (ProblemException e) &#123; recover(); &#125; &#125; &#125;&#125;; 2.2 BlankBlank should appear:Between methods123public void doSomeThing() &#123;&#125;public void doOtherThing() &#123;&#125;Between Set of attrs1234567891011// That's attrs set of context and containerprotected View mRootView;protected SetPersonalizedInfoActivity mContext;// That's attrs set of widgetprivate WheelView firstTypeLpv;private WheelView secondTypeLpv;private TextView nextQuestionTxt;// That's attrs set of dataprivate UserBean userBean = UserBean.getInstance();]]></content>
      <categories>
        <category>CleanCode</category>
      </categories>
      <tags>
        <tag>CleanCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VisualNav ç¼–ç è§„èŒƒ]]></title>
    <url>%2F%2FCleanCode%2FVisualNav%20%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[1. é€šç”¨è§„èŒƒVisualNav é¡¹ç›®çš„ä»£ç æ–‡ä»¶ä¸»è¦åŒ…å« Javaã€XML ä»¥åŠ Gradle ä¸‰ç§ã€‚å¯¹äºŽæ‰€æœ‰çš„ä»£ç æ–‡ä»¶ï¼Œéƒ½éœ€è¦éµå®ˆä»¥ä¸‹å‡ æ¡è§„èŒƒï¼šæ‰€æœ‰ä»£ç æ–‡ä»¶éƒ½å¿…é¡»ä½¿ç”¨ UTF-8 è¿›è¡Œç¼–ç ï¼›ä½¿ç”¨ç©ºæ ¼è€Œä¸æ˜¯åˆ¶è¡¨ç¬¦è¿›è¡Œç¼©è¿›ï¼Œæ¯ä¸ªç¼©è¿›çš„å•ä½ä¸º 4 å­—ç¬¦ï¼ˆä½¿ç”¨ Android Studio é»˜è®¤é…ç½®å³å¯ï¼Œä¸è¦ä¿®æ”¹ç¼©è¿›é…ç½®ï¼‰ï¼›æ¯è¡Œä»…ä¹¦å†™ä¸€æ¡è¯­å¥ï¼Œå¤šæ¡è¯­å¥ä¸èƒ½å†™åœ¨åŒä¸€è¡Œä¸­ï¼›é™åˆ¶ä»£ç è¡Œçš„é•¿åº¦ï¼Œæ¯è¡Œä¸åº”è¯¥è¶…è¿‡ 100 å­—ç¬¦ã€‚å¦‚æžœä¸€æ¡è¯­å¥çš„é•¿åº¦è¶…è¿‡ 100 å­—ç¬¦ï¼Œéœ€è¦é€‚å½“åœ°è¿›è¡Œæ–­è¡Œï¼Œå…·ä½“æ–­è¡Œçš„æ–¹æ³•ä¼šåœ¨ä¸åŒæ–‡ä»¶ç±»åž‹çš„è§„èŒƒä¸­è¿›è¡Œè§„å®šï¼›æ³¨é‡Šè¯¦ç»†ã€‚æŽ¨èä½¿ç”¨è‹±æ–‡æ³¨é‡Šï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸­æ–‡è¿›è¡Œæ³¨é‡Šã€‚å¯¹æ³¨é‡Šçš„å…·ä½“è¦æ±‚ä¼šåœ¨ä¸åŒæ–‡ä»¶ç±»åž‹çš„è§„èŒƒä¸­è¿›è¡Œè§„å®šï¼›æ¯ä¸ªä»£ç æ–‡ä»¶çš„æœ«å°¾å¿…é¡»æœ‰ä¸”åªæœ‰ä¸€ä¸ªç©ºè¡Œã€‚ 2. Java ç¼–ç è§„èŒƒ 2.1 æ–‡ä»¶ç»„ç»‡æ¯ä¸ª Java æºæ–‡ä»¶éƒ½å¿…é¡»åŒ…å«ä¸€ä¸ªå”¯ä¸€çš„å…¬å…±ç±»æˆ–è€…æŽ¥å£ï¼Œè¿™ä¸ªå…¬å…±ç±»æˆ–è€…æŽ¥å£ä¸Žæ‰€åœ¨æ–‡ä»¶åŒåï¼Œå¹¶ä¸”å¿…é¡»æ˜¯æ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªç±»æˆ–è€…æŽ¥å£ã€‚ä¸Žå…¬å…±ç±»ç›¸å…³çš„ç§æœ‰ç±»å’ŒæŽ¥å£å¯ä»¥åœ¨å…¬å…±ç±»çš„å®šä¹‰ä¹‹åŽè¿›è¡Œå®šä¹‰ã€‚ 2.2 æ³¨é‡Šå¿…é¡»ä½¿ç”¨ Javadoc æ ‡å‡†æ³¨é‡Šã€‚å…·ä½“æ³¨é‡Šè¦æ±‚å¦‚ä¸‹ï¼š 2.2.1 ç±»/æŽ¥å£æ³¨é‡Šå¯¹äºŽæ¯ä¸ªç±»å’ŒæŽ¥å£ï¼Œéƒ½åº”è¯¥åœ¨ç±»å’ŒæŽ¥å£å®šä¹‰ä¹‹å‰ç»™å‡ºä¸€æ¡æ³¨é‡Šï¼Œä»‹ç»è¿™ä¸ªç±»çš„ä¸»è¦åŠŸèƒ½ã€‚æ³¨é‡Šå¯ä»¥æ˜¯åè¯æ€§è´¨çš„çŸ­è¯­ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¥ç¬¬ä¸‰äººç§°çš„åŠ¨è¯å¼€å¤´çš„å¥å­ä¾‹å¦‚ï¼š123456/** * A request for fetching user info. */public class UserInfoRequest extends Request &#123; ...&#125; 2.2.2 æ–¹æ³•æ³¨é‡Šå¯¹äºŽç±»ä¸­è‡ªå»ºçš„æ–¹æ³•ï¼Œå¿…é¡»åœ¨æ–¹æ³•å®šä¹‰ä¹‹å‰ç»™å‡ºä¸€æ¡æ³¨é‡Šï¼Œæè¿°æ–¹æ³•çš„ç”¨é€”ã€å‚æ•°ã€è¿”å›žå€¼ä»¥åŠå¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ã€‚æ³¨é‡Šæ˜¯ä»¥ç¬¬ä¸‰äººç§°çš„åŠ¨è¯å¼€å¤´çš„å¥å­ã€‚ä¾‹å¦‚ï¼š12345678910/** * Parses a &#123;@link org.json.JSONObject&#125; into a User object. * * @param userObject &#123;@link org.json.JSONObject&#125; to be parsed * @return a User object * @throws JSONException if JSON is invalid */public User parseJson(JSONObject userObject) throws JSONException &#123; ...&#125;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç±»ä¸­å±žæ€§çš„ get å’Œ set æ–¹æ³•ä¸éœ€è¦ Javadoc æ³¨é‡Šã€‚å¦‚æžœ get å’Œ set æ–¹æ³•ä¼šå¸¦æ¥ç‰¹æ®Šçš„æ•ˆæžœï¼Œæˆ–è€…å¯¹åº”çš„å±žæ€§ä¸å®¹æ˜“ç†è§£ï¼Œå°±éœ€è¦æä¾›æ³¨é‡Šã€‚ä¾‹å¦‚ï¼š12345678/** * Sets the last name of user. * Name of user will also be update: 2016-11-18 */public void setLastName(String lastName) &#123; this.mLastName = lastName; this.mName = this.mFirstName + " " + this.mLastName;&#125; 2.2.3 ä¸€èˆ¬æ³¨é‡Šä¸»è¦åŒ…æ‹¬ä»£ç å—æ³¨é‡Šå’Œè¡Œå°¾æ³¨é‡Šã€‚ä»£ç å—æ³¨é‡Šç¼–å†™æ–¹æ³•çš„æ—¶å€™ï¼Œéœ€è¦ä¸ºæ¯ä¸ªä»£ç å—åŠ ä¸Šä¸€æ¡æ³¨é‡Šï¼Œæè¿°è¿™ä¸ªä»£ç å—çš„åŠŸèƒ½ã€‚ç®€å•çš„ä»£ç å—ï¼ˆå¦‚å˜é‡å£°æ˜Žï¼‰æ— éœ€æ³¨é‡Šã€‚æ³¨é‡Šæ˜¯ä»¥ç¬¬ä¸‰äººç§°çš„åŠ¨è¯å¼€å¤´çš„å¥å­ã€‚å¦‚æžœæ³¨é‡Šåªæœ‰ä¸€è¡Œï¼Œä½¿ç”¨å•è¡Œæ³¨é‡Šï¼ˆ//ï¼‰ï¼Œå¦åˆ™ä½¿ç”¨å—æ³¨é‡Šï¼ˆ/* ... */ï¼‰ã€‚è¯­å¥æ³¨é‡Šä¸€äº›å…³é”®çš„ã€ä¸æ˜“ç†è§£çš„è¯­å¥éœ€è¦åŠ ä¸Šæ³¨é‡Šè¿›è¡Œè§£é‡Šã€‚å¦‚æžœæ³¨é‡Šå†…å®¹å¾ˆçŸ­ï¼Œä½¿ç”¨å•è¡Œæ³¨é‡Šï¼ˆ//ï¼‰åœ¨è¡Œå°¾æ·»åŠ æ³¨é‡Šï¼Œå¹¶ä¸Žè¯­å¥ä¹‹é—´ç•™æœ‰ä¸€å®šçš„é—´éš”ä½¿ä¹‹å¯è¯»ã€‚æ­¤æ—¶å¯¹æ³¨é‡Šçš„ä¹¦å†™æ ¼å¼æ²¡æœ‰å…·ä½“è¦æ±‚ã€‚å¦‚æžœæ³¨é‡Šå†…å®¹è¾ƒé•¿æˆ–è€…è¯­å¥è¾ƒé•¿ï¼Œä½¿ç”¨å•è¡Œæ³¨é‡Šï¼ˆ//ï¼‰åœ¨è¯­å¥ä¹‹å‰æ·»åŠ ç‹¬ç«‹çš„ä¸€è¡Œæ³¨é‡Šã€‚æ³¨é‡Šçš„ä¹¦å†™æ ¼å¼å’Œä»£ç å—æ³¨é‡Šç›¸åŒã€‚ä¾‹å¦‚ï¼š1234567891011121314151617// Prepares parameters for the request.JSONParams params = new JSONParams();params.addParam("name", mName);// Fills up the request.mRequest = new JsonObjectRequest(mUrl, null, new Response.Listener&lt;JSONObject&gt;() &#123; ... &#125;, new Response.ErrorListener() &#123; ... &#125;);mRequest.setShouldCache(false); // disable caching// Executes the request.super.execure(); 2.2.4 å…³äºŽè°ƒè¯•ç”¨æ³¨é‡Šmaster åˆ†æ”¯æˆ–åˆå¹¶åˆ° master åˆ†æ”¯çš„ä»£ç ä¸å…è®¸å‡ºçŽ°è°ƒè¯•ç”¨çš„æ³¨é‡Šæ‰€è°“è°ƒè¯•ç”¨çš„æ³¨é‡Šå³ä¸ºï¼Œä¸ºäº†è°ƒè¯•ç›®çš„è€Œä½¿æŸäº›ä»£ç æš‚æ—¶å¤±æ•ˆçš„æ³¨é‡Šä¾‹å¦‚ï¼š12345public void doSomeThing() &#123; do1(); do2();// do3(); // æ­¤å³ä¸ºè°ƒè¯•ç”¨æ³¨é‡Šï¼Œmaster åˆ†æ”¯ä¸Šçš„ä»£ç ä¸å…è®¸å‡ºçŽ°è¿™ç§æ³¨é‡Š&#125;æœ‰å…³ Git çš„è§„èŒƒï¼Œè¯·çœ‹ä¸‹é¢çš„ Git è§„èŒƒ éƒ¨åˆ† 2.3 ç¼©è¿›ä¸ŽæŽ’ç‰ˆé™¤äº†ç¬¬ 1 èŠ‚ä¸­æå‡ºçš„ä¸€äº›é€šç”¨è§„èŒƒï¼Œè¿˜åº”è¯¥éµå®ˆä»¥ä¸‹ç¼©è¿›å’ŒæŽ’ç‰ˆçš„è§„èŒƒã€‚ 2.3.1 æ¢è¡Œå¯¹äºŽé•¿åº¦è¿‡é•¿çš„è¯­å¥ï¼Œå¿…é¡»æŒ‰ä»¥ä¸‹è§„åˆ™æ–­è¡Œï¼šå¯ä»¥åœ¨é€—å·åŽæ–­è¡Œï¼›å¯ä»¥åœ¨è¿ç®—ç¬¦å‰é¢æ–­è¡Œï¼›æ–°çš„ä¸€è¡Œå¼€å¤´åº”è¯¥ä¸Žä¸Šä¸€è¡ŒåŒä¸€çº§åˆ«çš„è¡¨è¾¾å¼å¼€å¤´å¯¹é½ï¼›å¦‚æžœæ»¡è¶³ä»¥ä¸Šè§„åˆ™å¯¼è‡´ä»£ç è¾ƒä¸ºæ··ä¹±ï¼Œæ–°çš„ä¸€è¡Œå¼€å¤´å¯ä»¥æ”¹ä¸ºç¼©è¿›8ä¸ªå­—ç¬¦ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯¹é•¿è¯­å¥æ–­è¡Œçš„ä¾‹å­ï¼šé•¿åº¦è¿‡é•¿çš„æ–¹æ³•å®šä¹‰å’Œè°ƒç”¨ï¼Œå¯ä»¥åœ¨å‚æ•°å¤„è¿›è¡Œæ–­è¡Œï¼Œå¹¶ä¿æŒå‚æ•°å¯¹é½ã€‚123public UserInfoRequest(Context context, String name, RequestSuccessListener&lt;User&gt; successListener, RequestErrorListener errorListener)åœ¨è¿ç®—ç¬¦å¤„æ–­å¼€è¾ƒé•¿çš„è¡¨è¾¾å¼ã€‚1234567num1 = num2 * (num3 + num4 - num5) / num6 + (num7 - num8) * num9 / num10;if ((condition1 || condition2) &amp;&amp; (condition3 || condition4) &amp;&amp; !(condition5 || condition6)) &#123; ...&#125;å¤§æ‹¬å·çš„ä½¿ç”¨è§„åˆ™ï¼šåœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œå·¦å¤§æ‹¬å·ï¼ˆ{ï¼‰éƒ½è¦ä¸Žè¯­å¥åœ¨åŒä¸€è¡Œï¼Œå³å¤§æ‹¬å·ï¼ˆ}ï¼‰ç‹¬å ä¸€è¡Œã€‚12345// æ­£ç¡® é”™è¯¯if (a == 1) &#123; if (a == 1) ... &#123;&#125; ... &#125;ç¼–å†™æ–¹æ³•æ—¶ï¼ŒæŒ‰åŠŸèƒ½ã€æ­¥éª¤å¯¹ä»£ç è¿›è¡Œåˆ†å—ï¼Œä»¥ä¸€ä¸ªç©ºè¡Œåˆ†å¼€ä¸åŒçš„ä»£ç å—ã€‚æ¯ä¸ªä»£ç å—éƒ½éœ€è¦ç»™å‡ºè§£é‡Šå…¶ä½œç”¨çš„æ³¨é‡Šï¼Œå…·ä½“æ ¼å¼å‚è€ƒ 2.2.3 èŠ‚ã€‚ 2.3.2 ç©ºæ ¼ä¸Žæ‹¬å·éœ€è¦åœ¨é€‚å½“çš„ä½ç½®æ’å…¥ç©ºæ ¼æˆ–ä½¿ç”¨æ‹¬å·ï¼Œä½¿ä»£ç æ›´å¯è¯»ã€‚é™¤ä¸€å…ƒè¿ç®—ç¬¦å’Œ . ä¹‹å¤–ï¼Œè¿ç®—ç¬¦ä¸Žè¿ç®—æ•°ä¹‹é—´éœ€è¦ä»¥ç©ºæ ¼åˆ†éš”ã€‚12345678// æ­£ç¡® é”™è¯¯a = 0 a=0a + b a+ba &lt; b a&lt;ba &amp;&amp; b a&amp;&amp;b!a ! aa++ a ++user.getName() user . getName()for å¾ªçŽ¯å¤´çš„å†™æ³•ä¸ºï¼š1for (int i = 0; i &lt; n; i++)æ‹¬å·ä¸Žæ“ä½œæ•°ä¹‹é—´ä¸éœ€è¦ç©ºæ ¼ï¼Œä¾‹å¦‚ï¼š12// æ­£ç¡® é”™è¯¯if (a == 1) if ( a = 1 )å·¦å¤§æ‹¬å·ï¼ˆ{ï¼‰ä¹‹å‰éœ€è¦ä¸€ä¸ªç©ºæ ¼ï¼Œä¾‹å¦‚ï¼š1234// æ­£ç¡® é”™è¯¯if (a == 1) &#123; if (a == 1)&#123; ...&#125; &#125;å…³é”®å­—ä¸Žæ‹¬å·ä¹‹é—´è¦æ·»åŠ  1 ä¸ªç©ºæ ¼ï¼Œæ–¹æ³•åã€ç±»åå’Œæ‹¬å·ä¹‹é—´ä¸éœ€è¦ç©ºæ ¼ã€‚12345// æ­£ç¡® é”™è¯¯if (a == 1) if(a == 1)while (b == true) while(b == true)User user = new User(); User user = new User ();user.setName("Name"); user.setName ("Name");æ³¨é‡Šç¬¦å·ï¼ˆ//ã€/* å’Œ */ï¼‰ä¸Žæ³¨é‡Šå†…å®¹ä¹‹é—´éœ€è¦åŠ ä¸€ä¸ªç©ºæ ¼ã€‚12// æ³¨é‡Šç¬¦å·ä¸Žæ³¨é‡Šä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼/* å°±åƒè¿™æ · */å¼ºåˆ¶ç±»åž‹è½¬æ¢åŽéœ€è¦æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚1mTextView = (TextView) findViewById(R.id.text)å¿…è¦æ—¶éœ€è¦ä¸ºä¸€äº›è¡¨è¾¾å¼åŠ ä¸Šæ‹¬å·ï¼ˆå³ä½¿å¹¶æ²¡æœ‰å‡ºçŽ°è¿ç®—ç¬¦ä¼˜å…ˆçº§çš„é—®é¢˜ï¼‰ï¼Œä»¥å¢žå¼ºä»£ç çš„å¯è¯»æ€§ã€‚ä¾‹å¦‚ï¼š123if ((a &amp;&amp; b) || (c &amp;&amp; d) || e) &#123; ...&#125; 2.3.3 ç©ºè¡Œåœ¨é€‚å½“çš„ä½ç½®æ’å…¥ç©ºè¡Œä½¿å¾—ä»£ç æ›´å…·æœ‰å¯è¯»æ€§ï¼šåœ¨ä¸¤ä¸ªæ–¹æ³•ä¹‹é—´è¦ç©ºä¸¤è¡Œ123456789101112131415161718192021222324252627282930public void doSomeThing() &#123; // There // are // a // lot // of // stuffs /* * I cannot * simply * count */&#125;public void doOtherThing() &#123; // There // are // a // lot // of // stuffs /* * I cannot * simply * count */&#125;åœ¨ç±»çš„ä¸åŒçš„å±žæ€§é›†åˆä¹‹é—´è¦æœ‰ç©ºè¡Œ1234567891011// ä¸Šä¸‹æ–‡å’Œè§†å›¾ containerprotected View mRootView;protected SetPersonalizedInfoActivity mContext;// å„è§†å›¾ç»„ä»¶private WheelView firstTypeLpv;private WheelView secondTypeLpv;private TextView nextQuestionTxt;// æ•°æ®åŸŸprivate UserBean userBean = UserBean.getInstance();ç±»çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ä¹‹é—´è¦æœ‰ç©ºè¡Œ1234567891011121314151617// ä¸Šä¸‹æ–‡å’Œè§†å›¾ containerprotected View mRootView;protected SetPersonalizedInfoActivity mContext;// å„è§†å›¾ç»„ä»¶private WheelView firstTypeLpv;private WheelView secondTypeLpv;private TextView nextQuestionTxt;// æ•°æ®åŸŸprivate UserBean userBean = UserBean.getInstance();//æ–¹æ³•public void doSomeThing() &#123;&#125;public void doOtherThing() &#123;&#125;å¦‚æžœæœ‰å†…éƒ¨ç±»æˆ–å†…éƒ¨æŽ¥å£ï¼Œå†…éƒ¨ç±»ä¸Žä¸Šä¸‹æ–‡è¦ç©ºä¸¤è¡Œè‹¥å†…éƒ¨ç±»æˆ–æŽ¥å£åœ¨æ‰€æœ‰ä»£ç çš„å°¾éƒ¨ï¼Œåˆ™ä¸éœ€è¦ä¸Žä¸‹æ–‡æœ‰ç©ºè¡Œ1234567891011121314public class OuterClass &#123; public void doSomeThing() &#123;&#125; public void doOtherThing() &#123;&#125; class InnerClass &#123; // è¿™é‡Œæ˜¯å†…éƒ¨ç±»çš„ä¸€äº›ä¸œè¥¿ &#125; public void methodBehindInnerClass() &#123;&#125;&#125;æ–¹æ³•å†…éƒ¨ä¸åŒåŠŸèƒ½çš„ä»£ç å—è¦ç©ºè¡Œ123456789101112131415161718192021222324public void onPrevFragment() &#123; // Pop back stack fragmentManager.popBackStack(); int index; // Find index for (index = 0; index &lt; fragmentTitles.length; index++) &#123; if (currentFragmentTag.equals(fragmentTitles[index])) &#123; break; &#125; &#125; // Set currentFragmentTag if (index &gt; 0) &#123; currentFragmentTag = fragmentTitles[index - 1]; &#125; // Set title assert getSupportActionBar() != null; getSupportActionBar().setTitle(currentFragmentTag);&#125; 2.4 å‘½åè§„èŒƒ 2.4.1 é€šç”¨è§„èŒƒå°†ç¼©å†™è¯ä½œä¸ºæ™®é€šå•è¯å¤„ç†ã€‚ä¾‹å¦‚åœ¨ç±»åä¸­ï¼š1class XmlParser &#123;...&#125; // è€Œä¸æ˜¯ XMLParserä¸å…è®¸å‡ºçŽ° a, an, the ç­‰å† è¯123void getTheResult() // é”™è¯¯void getResult() // æ­£ç¡®é™¤å¸¸é‡å¤–ï¼Œå…¶ä½™å‘½åä¸å…è®¸å‡ºçŽ°ä¸‹åˆ’çº¿å­—ç¬¦(_) 2.4.2 åŒ…ååŒ…åå¿…é¡»ä¸ºå…¨å°å†™å­—æ¯ã€‚å¦‚æžœå‡ºçŽ°å¤šä¸ªå•è¯æž„æˆçš„åŒ…åï¼Œä¸è¿›è¡Œåˆ†éš”ã€‚ä¾‹å¦‚ï¼š1com.example.packagename 2.4.3 ç±»åç±»åå¿…é¡»æ˜¯åè¯æˆ–åè¯çŸ­è¯­ï¼Œæ¯ä¸ªå•è¯é¦–å­—æ¯å‡å¤§å†™ã€‚ä¾‹å¦‚ï¼š1class ImageDownloader &#123;...&#125; 2.4.4 æŽ¥å£åä¸Žç±»åè§„åˆ™ç›¸åŒã€‚ä¸éœ€è¦åŠ  I å‰ç¼€ã€‚12// è€Œä¸æ˜¯IOnButtonClickListenerinterface OnButtonClickListener &#123;...&#125; 2.4.5 æ–¹æ³•åæ–¹æ³•åæ˜¯ä¸€ä¸ªåŠ¨è¯æˆ–åŠ¨è¯çŸ­è¯­ï¼Œç¬¬ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å°å†™ï¼Œå…¶ä½™å•è¯é¦–å­—æ¯å‡å¤§å†™ã€‚ä¾‹å¦‚ï¼š12public int getId()private void start(); 2.4.6 å˜é‡ä¸Žå¸¸é‡åå¸¸é‡åæ‰€æœ‰å­—æ¯å‡å¤§å†™ï¼Œå•è¯ä¹‹é—´ä»¥ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰åˆ†éš”ã€‚ä¾‹å¦‚ï¼š1public static final String DATABASE_NAME = "...";ç±»ä¸­çš„æˆå‘˜å˜é‡éœ€è¦åŠ å‰ç¼€ mï¼Œæ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚ä¾‹å¦‚ï¼š12private String mLastName;public int mAge;~ç±»çš„é™æ€æˆå‘˜å˜é‡éœ€è¦æ·»åŠ å‰ç¼€ sï¼Œå…¶ä½™æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚ä¾‹å¦‚ï¼š~12// æŠ›å¼ƒçš„æ—§è§„èŒƒprivate static int sCountOfInstances;å±€éƒ¨å˜é‡ç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™ï¼Œå…¶ä½™æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚ä¾‹å¦‚ï¼š1234public void method() &#123; int tempVariable; ...&#125; 2.5 å…¶ä»–è§„èŒƒ 2.5.1 å¼‚å¸¸å¤„ç†å¼‚å¸¸å¤„ç†çš„é¦–è¦åŽŸåˆ™æ˜¯ä¸èƒ½å¿½ç•¥å¼‚å¸¸ã€‚ä¾‹å¦‚ä»¥ä¸‹ä»£ç æ˜¯ä¸å¯å–çš„ï¼š123try &#123; JSONTokener jsonTokener = new JSONTokener(jsonString);&#125; catch (JSONException ex) &#123; &#125;æ•èŽ·åˆ°å¼‚å¸¸ï¼Œå¿…é¡»å¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚ä¸èƒ½æ•èŽ·é¡¶çº§å¼‚å¸¸ï¼ˆExceptionï¼‰ã€‚å¿…é¡»æ ¹æ®å¼‚å¸¸çš„ç§ç±»åˆ†åˆ«è¿›è¡Œæ•èŽ·å’Œå¤„ç†ï¼Œä¸èƒ½ç›´æŽ¥æ•èŽ· Exceptionã€‚ä»¥ä¸‹ä»£ç æ˜¯ä¸å¯å–çš„ï¼š12345try &#123; ... // è¿™é‡Œä¼šæŠ›å‡ºå¤šç§å¼‚å¸¸&#125; catch (Exception ex) &#123; ...&#125;æ­£ç¡®çš„åšæ³•æ˜¯ï¼š1234567try &#123; ...&#125; catch (OneKindOfException ex1) &#123; // å¤„ç† ex1&#125; catch (AnotherKindOfException ex2) &#123; // å¤„ç† ex2&#125; 2.5.2 import è§„èŒƒä¸è¦æ‰‹åŠ¨è¾“å…¥ import è¯­å¥æˆ–æ‰‹åŠ¨è°ƒæ•´ import ä¹‹é—´çš„é¡ºåºï¼Œè€Œåº”é€šè¿‡ Android Studio æä¾›çš„è‡ªåŠ¨ import åŠŸèƒ½æ¥ç®¡ç†ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœéœ€è¦å¯¼å…¥ java.util åŒ…çš„ ArrayList ç±»ï¼Œåªéœ€è¦è¾“å…¥ ArrayListï¼Œæ ¹æ® Android Studio è‡ªåŠ¨å¼¹å‡ºçš„æç¤ºé€‰æ‹©æ­£ç¡®çš„ç±»ï¼Œå³å¯è‡ªåŠ¨æ·»åŠ ä¸€æ¡ import java.util.ArrayList; è¯­å¥ã€‚å¦‚æžœå‡ºçŽ°äº†å¯¼å…¥ä¹‹åŽæ²¡æœ‰ä½¿ç”¨çš„æƒ…å†µï¼Œåº”è¯¥å¯¹åºŸå¼ƒçš„ import è¯­å¥è¿›è¡Œæ¸…ç†ã€‚ 2.5.3 Java Annotation çš„ä½¿ç”¨è§„èŒƒAnnotation å¿…é¡»å‡ºçŽ°åœ¨å…¶ä»–ä»»ä½•ä¿®é¥°ç¬¦ä¹‹å‰ï¼Œæ¯ä¸ª Annotation ç‹¬å ä¸€è¡Œã€‚ä¾‹å¦‚ï¼š1234@Overrideprotected void onCreated(Bundle savedInstanceState) &#123; ...&#125;åªè¦ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•è¦†ç›–äº†æ‰€åœ¨ç±»æˆ–è€…çˆ¶ç±»ä¸­çš„æ–¹æ³•ï¼Œå¿…é¡»ä¸ºè¿™ä¸ªæ–¹æ³•åŠ ä¸Š @Overrideã€‚ 2.5.4 ä½¿ç”¨ TODO æ³¨é‡ŠTODO æ³¨é‡Šç”¨äºŽæ ‡è®°å’Œç®¡ç†å¾…åŠžäº‹é¡¹ã€‚åœ¨å½“å‰æ— æ³•å®ŒæˆæŸé¡¹å·¥ä½œæ—¶ï¼Œå¿…é¡»å°†å¾…åŠžçš„å·¥ä½œç”¨ TODO æ³¨é‡Šå†™åœ¨ç›¸åº”çš„ä½ç½®ã€‚TODO æ³¨é‡Šçš„ç”¨æ³•æ˜¯ï¼šåªè¦åœ¨æ³¨é‡Šä¸­å‡ºçŽ°ç‹¬ç«‹çš„ï¼ˆä½œä¸ºä¸€ä¸ªç‹¬ç«‹å•è¯çš„ï¼‰TODOï¼Œå³å¯ç”Ÿæˆ TODO æ³¨é‡Šã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯åœ¨æ³¨é‡Šå¼€å¤´æ ‡è®° TODOã€‚ä¾‹å¦‚ï¼š1// TODO: add a click listener for button 3. XML ç¼–ç è§„èŒƒXML æ–‡ä»¶çš„ç¼–ç è§„èŒƒä»¥ Android Studio é»˜è®¤æ ¼å¼ä¸ºå‡†ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ æ¡è¦æ±‚ï¼šå‘½åç©ºé—´ï¼ˆxmlnsï¼‰å…¨éƒ¨å†™åœ¨ XML æ–‡ä»¶æ ¹å…ƒç´ çš„å¼€å§‹å¤„ï¼Œå¹¶æŒ‰å­—æ¯é¡ºåºæŽ’åºï¼›å…ƒç´ çš„ id å±žæ€§å¿…é¡»ä½äºŽå…¶ä»–æ‰€æœ‰å±žæ€§ä¹‹ä¸Šï¼Œå¸ƒå±€å’Œå°ºå¯¸å±žæ€§ä½äºŽ id å±žæ€§ä¸‹æ–¹ã€å…¶ä»–å±žæ€§ä¹‹ä¸Šï¼›ä¸åŒå…ƒç´ ä¹‹é—´å¿…é¡»ä»¥ä¸€ä¸ªç©ºè¡Œåˆ†éš”ï¼›å…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¸­ï¼Œå±žæ€§ä¸èƒ½å’Œå…ƒç´ å‡ºçŽ°åœ¨åŒä¸€è¡Œï¼Œå¹¶ä¸”å‘å³ç¼©è¿›4ä¸ªå­—ç¬¦ï¼›æ‰€æœ‰å­—ç¬¦ä¸²ä¸å…è®¸ç¡¬ç¼–ç ï¼Œå¿…é¡»ç»Ÿä¸€å†™å…¥ strings.xml èµ„æºæ–‡ä»¶å¹¶é€šè¿‡ @string æ ‡è®°å¼•ç”¨ï¼›ä¸å«æœ‰å†…å®¹çš„å…ƒç´ å¿…é¡»ä½¿ç”¨é—­åˆæ ‡ç­¾ï¼ˆ&lt;name /&gt;ï¼‰ï¼Œä¸èƒ½ä½¿ç”¨æ ‡ç­¾å¯¹ï¼ˆ&lt;name&gt;&lt;/name&gt;ï¼‰ï¼›ç¼–è¾‘å®Œæˆ XML æ–‡ä»¶åŽï¼Œè¯·ä½¿ç”¨ Android Studio çš„ Code èœå•ä¸­çš„ Reformat Code åŠŸèƒ½å¯¹æ ¼å¼è¿›è¡Œè‡ªåŠ¨è°ƒæ•´ã€‚ 4. Git è§„èŒƒè¿™é‡Œä¸»è¦éµå¾ªçš„æ˜¯ Git Flow çš„ç®€åŒ–ç‰ˆï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹è¦æ±‚ï¼š 4.1 æäº¤è¯·ä¿è¯ä»¥ä¸‹æ“ä½œåœ¨ commit ä¹‹å‰å®Œæˆè¿›è¡Œä»£ç åˆ†æžï¼Œè§£å†³å¯ä»¥è§£å†³çš„ Warningã€‚ä¼˜åŒ– import è¯­å¥Reformat ä»£ç å…³äºŽ Commit Messageä»¥åŠ¨è¯å¼€å¤´çš„ç¥ˆä½¿å¥ï¼Œé¦–å­—æ¯å¤§å†™1git commit -m "Add GSON module"ä¿¡æ¯è¿‡å¤šï¼Œåº”è¿›è¡ŒæŠ˜è¡Œï¼Œè€Œä¸èƒ½åœ¨ä¸€è¡Œå†…å†™å®Œæ­¤æ—¶åº”ä½¿ç”¨ git commit åœ¨å¼¹å‡ºçš„ç¼–è¾‘å™¨ä¸­å¡«å†™å¤šè¡Œä¿¡æ¯1234567git commit"""Fix the moudule:1. Remove the unnessary method2. Replace the ListView with RecyclerView"""Commit Message å†…å®¹åº”è¦å°½é‡æ„ä¹‰ä¸°å¯Œã€‚å°½é‡è¯´æ˜Žæ“ä½œå†…å®¹å’Œæ‰€æ¶‰åŠåˆ°çš„éƒ¨åˆ†12"Fix bug" // é”™è¯¯"Fix not render bug of the register page" // æ­£ç¡®å»ºè®®é‡‡ç”¨ â€œFix issueâ€ å½¢å¼æ¥è®© Message æ›´åŠ ç®€æ´ç›¸åº”çš„ï¼Œåœ¨å¯¹åº”çš„ issue å°±è¦å¯¹é—®é¢˜è¿›è¡Œè¯¦ç»†çš„æè¿°1234// éƒ½æ˜¯æ­£ç¡®çš„"Fix #1""Fix the bug of #2""Fix the render bug of #3" 4.2 æ‹‰å–å…»æˆè‰¯å¥½ä¹ æƒ¯ï¼Œç¼–ç å‰å…ˆåŒæ­¥ master åˆ†æ”¯å¦‚æžœæœ‰é‡æž„ç›¸åº”äº‹é¡¹ï¼Œå…ˆè¿›è¡Œå¤„ç†åŽå†ç¼–ç é‡‡ç”¨ git pull --rebase ä»£æ›¿ç®€å•çš„ git pullrebase å¯ä»¥ç”Ÿæˆç›¸å¯¹ç®€æ´çš„ç‰ˆæœ¬çº¿å›¾ 4.3 åˆ†æ”¯ä¸è®¾ç«‹ develop åˆ†æ”¯master åˆ†æ”¯åº”æ˜¯éšæ—¶å¯ä»¥è¿è¡Œçš„ï¼Œä¸å…è®¸å‡ºçŽ°ä¸å¯è¿è¡Œçš„é”™è¯¯ï¼ˆç¼–è¯‘é”™è¯¯ï¼Œæ‰“å¼€å³ Crash ç­‰ï¼‰å„åˆ†æ”¯çš„å†…å®¹åº”åŸºäºŽæœ€æ–°çš„ master åˆ†æ”¯ç¨‹åºæž¶æž„è¿›è¡Œç¼–å†™ï¼Œå¯ä»¥éšæ—¶æ— å†²çªçš„ merge åˆ° master 4.4 åˆå¹¶å‘ master åˆ†æ”¯çš„åˆå¹¶åŽŸåˆ™å¿…é¡»é€šè¿‡ Pull Requet è¿›è¡Œåˆå¹¶åˆ° master åˆ†æ”¯çš„ä»£ç ä¸å…è®¸å‡ºçŽ°è°ƒè¯•ç”¨çš„æ³¨é‡Šæ‰€æœ‰åˆ†æ”¯åº”ä¿è¯å½»åº•è¿è¡Œæ— è¯¯åŽï¼Œæ‰èƒ½ merge åˆ° masterFeature åˆ†æ”¯å‘ master åˆ†æ”¯çš„åˆå¹¶åŽŸåˆ™ä¸Šï¼Œç®¡ç†å‘˜åº”åœ¨ 18 å°æ—¶ä¹‹å†…å›žåº”é¡¹ç›®ç»„æˆå‘˜çš„ PullRequestï¼Œè‹¥ç®¡ç†å‘˜è¶…æ—¶æœªè¿›è¡Œå›žåº”æˆ–åˆå¹¶æ“çºµï¼Œå¼€å‘è€…å¯ç»æµ‹è¯•åŽè‡ªè¡Œåˆå¹¶ã€‚ä½†ä»ç„¶éœ€è¦æå‡º Pull Request å¹¶é˜è¿°åˆ†æ”¯çš„ Changelog, ä»¥ä¾¿ä»£ç å®¡æŸ¥ã€‚HotFix åˆ†æ”¯å‘ master åˆ†æ”¯çš„åˆå¹¶HotFix åˆ†æ”¯çš„åˆå¹¶å¯ä»¥ä¸ç»ç®¡ç†å‘˜æ‰¹å‡†æˆ–ç­‰å¾…æµç¨‹å¿«é€Ÿåˆå¹¶åˆ° master ä¸Šã€‚ä½†ä»éœ€è¦æå‡º Pull Requestï¼Œä¿ç•™ Changelog ï¼ˆç´§æ€¥çš„å¯ä»¥åˆå¹¶åŽå†å†™ï¼‰å…¶ä»–åˆ†æ”¯çš„ç›¸äº’åˆå¹¶ä¸å…è®¸ä½¿ç”¨ Pull Request è¿›è¡Œå…¶ä»–åˆ†æ”¯çš„ç›¸äº’åˆå¹¶ç”±è´Ÿè´£æˆå‘˜ä¹‹é—´ç›¸äº’åå•†è§£å†³å…¶ä»–è¦æ±‚æ”¾å®½å¯ä»¥å­˜åœ¨ä¸èƒ½è¿è¡Œçš„ bugï¼Œä½†æ˜¯å¿…é¡»åœ¨ merge åˆ° master åˆ†æ”¯ä¹‹å‰è§£å†³ã€‚ 4.5 å†²çªå†²çªå¿…é¡»ç«‹å³è§£å†³ï¼Œä¸å…è®¸å¿½è§†å†²çª force pushç”±å…¶ä»–åˆ†æ”¯ç›¸äº’åˆå¹¶å¼•èµ·çš„å†²çªï¼Œç”±ç›¸åº”å¼€å‘è€…è¿›è¡Œåå•†å¤„ç†å…³äºŽå‘ master åˆå¹¶çš„å†²çªï¼Œè¯·æŸ¥çœ‹éƒ¨åˆ†ç”±äºŽæ‰€æœ‰åˆ†æ”¯å¿…é¡»åŸºäºŽæœ€æ–° master ç¨‹åºæž¶æž„ç¼–å†™ï¼Œä¼šå‡ºçŽ°æ­¤ç§å†²çªçš„åœºæ™¯ä»…å­˜åœ¨äºŽé‡æž„å’Œ HotFix 4.6 é‡æž„é‡æž„å‰éœ€è¦é‡æž„æ—¶,é‡æž„å‘èµ·äºº å¿…é¡»å‘èµ· Issue é˜è¿°é‡æž„ TODO äº‹é¡¹å’Œæœ€ç»ˆçš„ Changelogé‡æž„ä¸­é‡æž„ä¸å…è®¸ç›´æŽ¥åœ¨ master åˆ†æ”¯è¿›è¡Œä¿®æ”¹ï¼Œåº”æ–°å»ºåˆ†æ”¯è¿›è¡Œé‡æž„ commité‡æž„å®ŒæˆåŽé‡æž„å®ŒæˆåŽï¼Œå‘ master æäº¤ Pull Requestï¼Œè§†ä¸º Feature åˆ†æ”¯å‘ master åˆ†æ”¯åˆå¹¶è¿›è¡Œå¤„ç†æµç¨‹ã€‚åˆ†æ”¯ä¸€æ—¦è¢«åˆå¹¶ï¼Œåˆå¹¶æ“ä½œè€…ï¼ˆç®¡ç†å‘˜æˆ–ç›¸åº”é‡æž„å¼€å‘è€…ï¼‰åº”ç«‹å³åœ¨å„ç±»æœ‰æ•ˆå¹³å°é€šçŸ¥å„åˆ†æ”¯å¼€å‘è€…ã€‚å„åˆ†æ”¯å¼€å‘è€…åº”åœ¨æŽ¥æ”¶åˆ°é€šçŸ¥åŽç«‹å³ merge master åˆ†æ”¯ï¼Œä»¥ä¿è¯åŸºäºŽæœ€æ–° master åˆ†æ”¯è¿›è¡Œç¼–å†™ã€‚å…³äºŽå†²çªé‡æž„ Issue åº”è¯´æ˜Žç›¸åº”æ–‡ä»¶å’Œç›®å½•ç»“æž„å˜åŒ–æƒ…å†µå½“å„åˆ†æ”¯ merge master å‡ºçŽ°å†²çªæ—¶ï¼ŒæŒ‰ç…§ç›¸åº” Issue çš„ä¿®æ”¹è¿›è¡Œ resolve conflict. 4.7 çƒ­ä¿®è¡¥ ï¼ˆHotFixï¼‰çƒ­ä¿®è¡¥å³æ˜¯ç´§æ€¥çš„é‡æž„çƒ­ä¿®è¡¥å‘èµ·äººå¿…é¡»å°½å¿«é€šçŸ¥ç®¡ç†å‘˜å’Œé¡¹ç›®ç»„å…¶ä»–æˆå‘˜åº”ä½¿ç”¨å¯èƒ½çš„åŒ…æ‹¬ä½†ä¸é™äºŽä»¥ä¸‹çš„é€šçŸ¥æ–¹å¼:é¡¹ç›® Issueï¼ŒQQï¼Œå¾®ä¿¡ï¼ŒTelegramï¼Œé‚®ä»¶ï¼Œç”µè¯ï¼Œå„åä½œå¹³å°ç­‰ã€‚çƒ­ä¿®è¡¥å¯ä»¥ä¸æå‡º Issueï¼Œä½†åº”åœ¨å¯¹åº”çš„ Pull Request ä¸­è¯´æ˜Žå¯¹åº”çš„ä¿®æ”¹å†…å®¹ã€‚çƒ­ä¿®è¡¥ä»ç„¶éœ€è¦åœ¨æ–°åˆ†æ”¯è¿›è¡Œæ“ä½œï¼Œä½†åˆå¹¶æ—¶æ— éœ€ç»ç­‰å¾…æˆ–æ‰¹å‡†æµç¨‹ã€‚ä½†ä»ç„¶éœ€è¦æå‡º Pull Requestï¼Œä¹‹åŽå¯è‡ªè¡Œåˆå¹¶ã€‚æ³¨æ„ï¼Œå¿…é¡»è¦åœ¨ Pull Request ä¸­è¯´æ˜Žçƒ­ä¿®è¡¥çš„ä¿®æ”¹äº‹é¡¹ã€‚ï¼ˆå¯ä»¥åœ¨åˆå¹¶åŽæ·»åŠ è¯„è®ºï¼‰å…¶ä½™äº‹é¡¹å‡éµå®ˆé‡æž„ç›¸å…³è§„èŒƒ]]></content>
      <categories>
        <category>CleanCode</category>
      </categories>
      <tags>
        <tag>CleanCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘å¿ƒä¸­çš„å…¨é¢å°åº·ç¤¾ä¼š]]></title>
    <url>%2F%2FHomework%2F%E6%88%91%E5%BF%83%E4%B8%AD%E7%9A%84%E5%85%A8%E9%9D%A2%E5%B0%8F%E5%BA%B7%E7%A4%BE%E4%BC%9A%2F</url>
    <content type="text"><![CDATA[â€œå°åº·â€ï¼Œä¸€ä¸ªç”±å„’å®¶ç»å…¸è‘—ä½œä¸­å¼•ç”³è€Œå‡ºçš„è¯è¯­ï¼Œç»è¿‡ä¸­å›½æ”¹é©å¼€æ”¾çš„æ€»è®¾è®¡å¸ˆâ€”â€”é‚“å°å¹³çš„é‡æ–°æ¼”ç»Žâ€”â€”â€œæˆ‘ä»¬çš„ç›®æ ‡ï¼Œç¬¬ä¸€æ­¥æ˜¯åˆ°2000å¹´å»ºç«‹ä¸€ä¸ªå°åº·ç¤¾ä¼šï¼Œè¿™æ˜¯æŒ‡åœ¨æ¸©é¥±çš„åŸºç¡€ä¸Šï¼Œç”Ÿæ´»è´¨é‡è¿›ä¸€æ­¥æé«˜ï¼Œè¾¾åˆ°ä¸°è¡£è¶³é£Ÿã€‚â€ï¼Œæˆä¸ºäº†ä¸­å›½äººåœ¨æ–°ä¸–çºªçš„å¥‹æ–—ç›®æ ‡ã€‚è€Œä¹ è¿‘å¹³æ€»ä¹¦è®°æå‡ºçš„â€œç¡®ä¿åˆ°2020å¹´å®žçŽ°å…¨é¢å»ºæˆå°åº·ç¤¾ä¼šçš„å¥‹æ–—â€æ›´åŠ å……å®žäº†ä¸­å›½äººæ°‘å®žçŽ°å…¨é¢å°åº·ç¤¾ä¼šçš„ä¿¡å¿µå’Œä¿¡å¿ƒã€‚2020 å¹´ï¼Œä¸­å›½å³å°†å®žçŽ°å…¨é¢çš„å°åº·ç¤¾ä¼šï¼Œä¸‹é¢å°±æ¥è°ˆè°ˆæˆ‘è‡ªå·±å¯¹â€œå…¨é¢å°åº·ç¤¾ä¼šâ€çš„ç†è§£ã€‚é¦–å…ˆï¼Œåœ¨ç»æµŽæ–¹é¢ï¼Œå±…æ°‘æ”¶å…¥è¿›ä¸€æ­¥æé«˜ï¼Œæˆ‘å›½çš„äººå‡ GDP è¾¾åˆ° 10000 - 12000 ç¾Žå…ƒ å·¦å³ï¼Œæ­£å¼è¿›å…¥ä¸­ç­‰æ”¶å…¥å›½å®¶ã€‚ç»æµŽè½¬åž‹æˆåŠŸï¼Œæ–°ç»æµŽå’Œç¬¬ä¸‰äº§ä¸šå‘å±•è¿…çŒ›ï¼Œå¯¹ä¸­å›½ç»æµŽçš„è´¡çŒ®æ¯”ä¾‹é£žé€Ÿå¢žé•¿ï¼Œè¾¾åˆ°æˆ–è¶…è¿‡ä¸‰åˆ†ä¹‹äºŒã€‚åŸŽä¹¡å±…æ°‘æ”¶å…¥ç¿»ç•ªï¼Œå±…æ°‘æ¶ˆè´¹èƒ½åŠ›æ˜¾è‘—å¢žé•¿ï¼Œå›½å†…ç»æµŽç”±æŠ•èµ„æ‹‰åŠ¨ä¸ºä¸»å˜ä¸ºå›½å†…æ¶ˆè´¹å’Œå›½å†…éœ€æ±‚æ‹‰åŠ¨ä¸ºä¸»ã€‚æ²¿æµ·çš„åŠ³åŠ¨å¯†é›†åž‹äº§ä¸šé€æ­¥å‡çº§æˆ–å‘ä¸­è¥¿éƒ¨å’Œä¸œå—äºšè¿ç§»ï¼Œç»æµŽé‡å¿ƒé€æ­¥è½¬ä¸ºä¾æ‰˜å½“åœ°æˆ–å‘¨è¾¹å¤§å­¦å‘å±•é«˜æ–°ç§‘æŠ€äº§ä¸šï¼Œä»¥é«˜æ–°ç§‘æŠ€æŒ‡å¯¼çš„æ–°åž‹åˆ¶é€ ä¸šåŸºæœ¬æˆåž‹ã€‚å…¶æ¬¡ï¼Œåœ¨æ–‡åŒ–æ–¹é¢ï¼Œæ–‡åŒ–äº§å“ï¼ˆå°è¯´ï¼Œæ¸¸æˆï¼Œç”µå½±ï¼Œç”µè§†å‰§ç­‰ï¼‰çš„åˆ†çº§åˆ¶åº¦åˆçŽ°é›å½¢ï¼Œæ–‡åŒ–é¢˜æé™åˆ¶æœ‰æ‰€æ”¾å®½ï¼Œç”±æ­¤å¸¦æ¥æ–‡åŒ–äº§ä¸šæ–¹é¢å‘å±•çš„å¤§çˆ†å‘ï¼Œä¸€æ—¶ä¼—å¤šæ–‡åŒ–è‰ºæœ¯å½¢å¼ã€äº§å“å’Œç›¸å…³äº§ä¸šçº·çº·æ¶ŒçŽ°ï¼Œä¸­å›½çš„æ–‡åŒ–ä¼ä¸šå’Œç›¸å…³äº‹ä¸šå•ä½è¿Žæ¥äº†å‰æ‰€æœªæœ‰çš„å‘å±•æœºé‡ã€‚çŸ¥è¯†äº§æƒä¿æŠ¤ä½“ç³»åˆæ­¥å®Œå–„ï¼Œå…¬æ°‘çš„çŸ¥è¯†äº§æƒä¿æŠ¤æ„è¯†æå‡ï¼Œä»Žè€Œè¿›ä¸€æ­¥ä¿ƒè¿›äº†æ–‡åŒ–äº§ä¸šçš„å‘å±•ã€‚åœ¨æ³•åˆ¶æ–¹é¢ï¼Œä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ³•å¾‹ä½“ç³»è¿›ä¸€æ­¥å®Œå–„ï¼Œå„è¡Œå„ä¸šå…¨é¢å®žçŽ°æœ‰æ³•å¯ä¾ã€‚æ³•å¾‹ç›¸å…³å·¥ä½œè€…çš„ä»Žä¸šé—¨æ§›æå‡ï¼Œè€ƒæ ¸æ ‡å‡†æé«˜ï¼Œå…¬æ°‘çš„æ³•å¾‹æ„è¯†æ°´å¹³æé«˜ï¼Œå…¨é¢å®žçŽ°æœ‰æ³•å¿…ä¾ï¼Œæ‰§æ³•å¿…ä¸¥ï¼Œè¿æ³•å¿…ç©¶ã€‚äº¤é€šå’ŒåŸŽå»ºæ–¹é¢ï¼Œåœ¨ 2020 å¹´åŸºæœ¬å®žçŽ°äº†ä¸­å›½ä¸­ä¸œéƒ¨çœä»½åŽ¿çº§åŸŽå¸‚å’ŒåŸŽé•‡é€šé«˜é“æˆ–åŠ¨è½¦ç»„åˆ—è½¦ï¼ŒåŽŸæœ‰é“è·¯çº¿è·¯è¿›è¡Œæ–°ä¸€è½®æé€Ÿï¼ŒåŸºæœ¬æ¶ˆé™¤äº† 100 KM/H ä»¥ä¸‹é€Ÿåº¦çš„å®¢è¿åˆ—è½¦ã€‚åå…«å¤§åŽå®žæ–½çš„å¤§è§„æ¨¡æ£šæˆ·åŒºæ”¹é€ å®Œæˆï¼ŒåŸŽé•‡å±…æ°‘éƒ½ä½è¿›äº†å±…æ°‘å°åŒºã€‚å†œä¸šæ–¹é¢ï¼Œç”±äºŽåŸŽé•‡åŒ–ç¨‹åº¦æé«˜ï¼Œå†œæ‘è€•åœ°æµè½¬å‡ºçŽ°é›†ä¸­åŒ–è¶‹åŠ¿ï¼Œä¹¡æ‘ä¼ä¸šè§„æ¨¡è¿…é€Ÿæ‰©å¤§ï¼Œåˆæ­¥å®žçŽ°äº†å†œä¸šæœºæ¢°åŒ–å’Œé›†ä¸­åŒ–ã€è§„æ¨¡åŒ–ç”Ÿäº§ï¼Œä¸­å›½çš„å†œä¸šå‡ºçŽ°æ–°ä¸€è½®å¤§å‘å±•è¶‹åŠ¿ï¼Œç²®é£Ÿäº§é‡å¢žé€ŸåŠ å¿«ï¼Œå†œä¸šç§‘æŠ€å¾—åˆ°è¿›ä¸€æ­¥ç§¯ç´¯å’Œå‘å±•ã€‚åœ¨åŒ»ç–—é¢†åŸŸï¼Œç”±äºŽäº’è”ç½‘çš„é£žé€Ÿå‘å±•ä»¥åŠå…¶ä¸ŽåŒ»å­¦çš„ç´§å¯†ç»“åˆï¼ŒååŒ»æŒ‡å¯¼æ‰‹æœ¯å’Œè¿œç«¯ä¼šè¯Šå¾—åˆ°æ™®åŠï¼ŒåŒæ—¶ï¼Œä¸­å›½ç¤¾åŒºåŒ»é™¢ä½“ç³»å’ŒåŒ»ç”Ÿè‡ªç”±æµè½¬ä½“ç³»å…¨é¢å»ºç«‹]]></content>
      <categories>
        <category>Homework</category>
      </categories>
      <tags>
        <tag>Homework</tag>
        <tag>Situation and Policy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤§åˆ›é¡¹ç›®]]></title>
    <url>%2F%2FProjects%2FBigInovation%2F%E5%A4%A7%E5%88%9B%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[è¿™æ˜¯ä¸€ä¸ªå¤§åˆ›é¡¹ç›®çš„å¤‡å¿˜å½• 1. ä¸»é¢˜æš‚å®šåœ°ä¸‹è½¦åº“å¯¼èˆªåˆ©ç”¨å®¤å†…å®šä½æŠ€æœ¯ï¼Œç»“åˆåœ°ä¸‹è½¦åº“åœ°å›¾ç»™äºˆç”¨æˆ·è·¯çº¿å¯¼èˆªï¼Œè½¦è¾†å®šä½ï¼Œè½¦ä½å®šä½ç­‰åŠŸèƒ½ã€‚å…·ä½“è®ºæ–‡èµ„æ–™ç­‰ç”±è€å¸ˆï¼ˆçš„åšå£«ç”Ÿï¼‰æä¾›ã€‚ 2. æˆå‘˜ï¼ˆæš‚å®šï¼‰æŽä¸œéœ–å”è‘›å¤«åˆ˜èªé‚¢ç‘žæ–Œ 3. å¤§è‡´è¡Œç¨‹4 æœˆåº• - 5 æœˆåˆï¼Œç«‹é¡¹ï¼Œé¡¹ç›®æ–‡æ¡£9 æœˆä»½ç¬¬ä¸€æ¬¡æ£€æŸ¥]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
        <category>å¤§åˆ›</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹</tag>
        <tag>å¤§åˆ›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¥½ç”¨çš„å·¥å…·]]></title>
    <url>%2F%2FTools%2F%E5%A5%BD%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[è¿™é‡Œæ”¶é›†ä¸€äº›å¥½ç”¨çš„ WEB ç”Ÿäº§åŠ›å·¥å…·å’Œç½‘ç«™ã€‚è‡ªåŠ¨æœºç»˜å›¾è¿™æ˜¯ä¸€ä¸ªç»˜åˆ¶è‡ªåŠ¨æœºçŠ¶æ€è½¬ç§»å›¾çš„å·¥å…·ï¼Œåšç¼–è¯‘è§£æžçš„ä¸€èˆ¬éƒ½ä¼šç”¨åˆ°ã€‚ä½¿ç”¨ä¸Šä¸€èˆ¬æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œéœ€è¦æ³¨æ„çš„å°±æ˜¯æ‹–åŠ¨ç®­å¤´ï¼Œå¯ä»¥ä½¿å®ƒå¼¯æ›²ã€‚Processonä¸€ä¸ªåœ¨çº¿çš„æµç¨‹å›¾ã€UML å›¾ã€UI å›¾ç­‰ç­‰çš„ç»˜å›¾å·¥å…·ã€‚å…·æœ‰ä¸é”™çš„ç•Œé¢ï¼Œè€Œä¸”æ”¯æŒçš„å›¾ä¾‹ä¹Ÿå¾ˆå¤šã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨ã€‚ä¸è¿‡å¯¹äºŽ UML çš„ç±»å›¾æ–¹é¢çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ã€‚ä½†æ˜¯å¯¹äºŽæµç¨‹å›¾æ¥è¯´å·²ç»æ˜¯å¾ˆä¸é”™çš„äº†ã€‚PlantTextä¸€ä¸ªç»˜åˆ¶ PlantUML çš„åœ¨çº¿ç½‘ç«™ï¼Œè¿˜æ”¯æŒå¯¼å‡º PNG å’Œ LaTexã€‚è™½ç„¶ä¸èƒ½å®žæ—¶æ¸²æŸ“ï¼Œä¸è¿‡ UML å¯¹å®žæ—¶æ¸²æŸ“çš„è¦æ±‚ä¹Ÿä¸æ˜¯å¾ˆé«˜ã€‚]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[README]]></title>
    <url>%2F%2FDesignPattern%2FREADME%2F</url>
    <content type="text"><![CDATA[æœ¬ç›®å½•å†…å®¹åŸºäºŽ Head First è®¾è®¡æ¨¡å¼ã€‚ä»£ç å®žä¾‹ç‚¹è¿™é‡Œ ä¸ºä»€ä¹ˆè¦å­¦ä¹ è®¾è®¡æ¨¡å¼è®¾è®¡æ¨¡å¼æ˜¯ç¨‹åºå‘˜çš„å…±é€šè¯­è¨€ï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬è®¾è®¡æ¨¡å¼ä¼šè®©ä½ ä¿æŒé«˜å±‚çº§çš„è§‚æ„Ÿè®¾è®¡æ¨¡å¼å¯ä»¥è®©å¼€å‘å›¢é˜Ÿå’Œå¼€å‘äººå‘˜å¿«é€Ÿæˆé•¿ æœ‰æ²¡æœ‰çŽ°æˆçš„è®¾è®¡æ¨¡å¼è½®å­æ²¡æœ‰ï¼Œå­¦ä¹ è®¾è®¡æ¨¡å¼ä»¥ç»„ç»‡ç±»æ¥è§£å†³å¯¹åº”çš„é—®é¢˜æ˜¯ç¨‹åºå‘˜è´£æ— æ—è´·çš„äº‹æƒ…ã€‚è™½ç„¶åº“å’Œæ¡†æž¶å¯èƒ½ä½¿ç”¨äº†æŸç§è®¾è®¡æ¨¡å¼ï¼Œä½†æ˜¯ä¸ä»£è¡¨å®ƒå°±æ˜¯ä¸€ä¸ªè®¾è®¡æ¨¡å¼çš„åº“ å¦‚æžœæ‰¾ä¸åˆ°å¯¹åº”çš„è®¾è®¡æ¨¡å¼æ€Žä¹ˆåŠžè®°ä½è®¾è®¡åŽŸåˆ™ï¼Œä»Žè®¾è®¡åŽŸåˆ™å‡ºå‘æ¥è§£å†³é—®é¢˜ã€‚]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android å®˜æ–¹ Navigation Drawer]]></title>
    <url>%2F%2FAndroid%2FAndroid%20%E5%AE%98%E6%96%B9%20Navigation%20Drawer%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿° 2. æ·»åŠ ä¾èµ– 3. è®¾è®¡ layout/activity_main.xml 4. æž„å»º layout/drawer_header.xml 5. å®šä¹‰ menu/drawer_item.xml 6. æ˜¾ç¤ºæ±‰å ¡åŒ…å›¾æ ‡ 7. ä½¿çŠ¶æ€æ é€æ˜Ž 7.1 åŽ»é™¤ Actionbar 7.2 v21 å¢žåŠ å…³äºŽçŠ¶æ€æ çš„å±žæ€§ 7.3 è®¾ç½® DrawerLayout ä½¿ç”¨ fitsSystemWindow 7.4 è¡¥å……ï¼šåŠ¨æ€æ”¹å˜ status bar é¢œè‰² 8. æ€»ç»“ 1. æ¦‚è¿°Navigation drawer ä½œä¸º Android Material Design ä¸­ä¸»æµçš„ä¸€ç§å¯¼èˆªæ–¹å¼ï¼Œå½“ç„¶å—åˆ° Google çš„é‡è§†ï¼Œæ‰€ä»¥ï¼Œä½œä¸º MD è®¾è®¡æŽ¨å‡ºçš„å®žçŽ°éƒ¨åˆ†ï¼ŒAndroid æ›´æ–°äº† support library å¢žåŠ äº†å…³äºŽ Navigation Drawer çš„æ”¯æŒã€‚ä¸‹é¢å°±æ¥çœ‹çœ‹å¦‚ä½•è¿›è¡Œ Navigation Drawer çš„æž„å»ºã€‚ 2. æ·»åŠ ä¾èµ–å®˜æ–¹çš„ Navigation Drawer éœ€è¦ç”¨åˆ° DrawerLayout å’Œ NavigationViewï¼Œå®ƒä»¬éƒ½åœ¨ support design åŒ…ä¸‹ã€‚1compile 'com.android.support:design:24.2.1'è¿™é‡Œä¸ä½¿ç”¨æœ€æ–°çš„ 25.0.0 çš„åŽŸå› åœ¨äºŽï¼Œæœ€æ–°ç‰ˆåœ¨ UI Editor æ¸²æŸ“æ—¶å­˜åœ¨ bugã€‚Google ä¸æ„§æ˜¯ä¸–ç•Œä¸Šæœ€ä¼Ÿå¤§çš„åŠæˆå“å…¬å¸ã€‚ 3. è®¾è®¡ layout/activity_main.xml12345678910111213141516171819202122&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;android.support.v4.widget.DrawerLayout android:id="@+id/drawer_layout" xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" android:fitsSystemWindows="true" tools:context="com.wafer.toy.github_client.ui.activity.MainActivity"&gt; &lt;!-- Your main content --&gt; &lt;android.support.design.widget.NavigationView android:id="@+id/navigation_drawer" android:layout_width="wrap_content" android:layout_height="match_parent" android:layout_gravity="start" app:headerLayout="@layout/drawer_header" app:menu="@menu/drawer_item"/&gt;&lt;/android.support.v4.widget.DrawerLayout&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒDrawerLayout æ˜¯å¸ƒå±€çš„æ ¹ç›®å½•ï¼ŒåŒæ—¶è¦è®¾ç½® fitsSystemWindows=&quot;true&quot;ï¼Œå¦åˆ™ï¼Œå°†ä¼šè¦†ç›–æŽ‰é¡¶éƒ¨çŠ¶æ€æ ã€‚è¿˜æœ‰ï¼Œæ³¨æ„è¦è®¾ç½® NavigationView çš„ layout_gravity=&quot;start&quot;ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆã€‚ 4. æž„å»º layout/drawer_header.xmlä¸€èˆ¬æ¥è¯´ï¼ŒNav Drawer éƒ½éœ€è¦æœ‰ä¸€ä¸ª header æ¥å­˜æ”¾ç”¨æˆ·å¤´åƒç­‰ç­‰æœ‰å…³ç”¨æˆ·è´¦æˆ·çš„æ¦‚è§ˆä¿¡æ¯ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜è¦å®šä¹‰ä¸€ä¸ª header çš„å¸ƒå±€ï¼Œç„¶åŽåƒä¸Šé¢ä¸€æ ·ï¼Œå°†å…¶èµ‹äºˆ app:headerLayoutheader çš„å¸ƒå±€æ³¨æ„æ»¡è¶³ Material Design å³å¯ï¼›å¸ƒå±€æ ·å¼å’Œæ‘†æ”¾ä¸é™ã€‚ 5. å®šä¹‰ menu/drawer_item.xmlæ˜¯æ—¶å€™ç»™æˆ‘ä»¬çš„ Nav Drawer åŠ ä¸Šä¸€ç‚¹å†…å®¹äº†ï¼Œé€šè¿‡åœ¨ menu/drawer_item.xml ä¸­å®šä¹‰ç›¸åº”çš„ç»„ä»¶å³å¯ã€‚1234567891011121314151617181920212223242526272829303132&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;group android:checkableBehavior="single"&gt; &lt;item android:id="@+id/nav_home" android:icon="@drawable/ic_drawer_home" android:title="@string/nav_home" /&gt; &lt;item android:id="@+id/nav_about" android:icon="@drawable/ic_drawer_about" android:title="@string/nav_about" /&gt; &lt;item android:id="@+id/nav_settings" android:icon="@drawable/ic_drawer_settings" android:title="@string/nav_settings" /&gt; &lt;item android:id="@+id/navigation_subheader" android:title="@string/nav_sub_header"&gt; &lt;menu&gt; &lt;item android:id="@+id/navigation_sub_item_1" android:icon="@drawable/ic_drawer_about" android:title="@string/nav_sub_item_1" /&gt; &lt;item android:id="@+id/navigation_sub_item_2" android:icon="@drawable/ic_drawer_home" android:title="@string/nav_sub_item_2" /&gt; &lt;/menu&gt; &lt;/item&gt; &lt;/group&gt;&lt;/menu&gt;æ³¨æ„ï¼Œé¡¹ç›®çš„åˆ†ç•Œé€šè¿‡å†…åµŒçš„ &lt;menu&gt; æ¥å®žçŽ°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®˜æ–¹çš„ nav drawer ä¸­çš„ item æ²¡æœ‰ rippleï¼Œåªæœ‰é•¿æŒ‰æ‰èƒ½æ˜¾ç¤ºã€‚æœ€åŽæˆ‘ä»¬å†å°†è¿™ä¸ª menu èµ‹åˆ° NavgationViewçš„ app:menu=&quot;@menu/drawer_item&quot;ä¸Š 6. æ˜¾ç¤ºæ±‰å ¡åŒ…å›¾æ ‡Drawer åˆ°è¿™é‡Œå°±å®Œå…¨æ­å»ºå¥½äº†ï¼Œä½†æ˜¯ï¼Œæ²¡æœ‰æ±‰å ¡åŒ…å›¾æ ‡ï¼Œç”¨æˆ·å°±ä¸çŸ¥é“æˆ‘ä»¬çš„åº”æœ‰æœ‰ä¸ª Nav Drawerã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±éœ€è¦ç»™ toolbar åŠ ä¸Šä¸€ä¸ªæ±‰å ¡åŒ…å›¾æ ‡æ¥å‡¸æ˜¾ Nav Drawer çš„å­˜åœ¨ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦è¿›å…¥åˆ° java æ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹äº†ï¼Œç”±äºŽæˆ‘ç”¨çš„æ˜¯ Kotlinï¼Œè¿™é‡Œä½¿ç”¨ Kotlin æ¥åšæ¼”ç¤ºã€‚ä¸‹é¢å°±æ˜¯å¢žåŠ æ˜¾ç¤ºæ±‰å ¡åŒ…çš„æ–¹æ³•ï¼š1234567891011121314151617181920212223242526272829class MainActivity : BaseActivity() &#123; private val actionBarDrawerToggle: ActionBarDrawerToggle by lazy &#123; createActionBarDrawerToggle() &#125; override fun initView() &#123; initToolbar() initActionBarDrawerToggle() &#125; private fun initActionBarDrawerToggle() &#123; drawer_layout.addDrawerListener(actionBarDrawerToggle) actionBarDrawerToggle.syncState() &#125; private fun initToolbar() &#123; setSupportActionBar(toolbar) &#125; private fun createActionBarDrawerToggle(): ActionBarDrawerToggle &#123; return ActionBarDrawerToggle( this, drawer_layout, toolbar, R.string.open_drawer, R.string.close_drawer) &#125; override fun getLayoutRes(): Int &#123; return R.layout.activity_main &#125;&#125;é¦–å…ˆï¼Œä½¿ç”¨ DrawerLayout å¯¹è±¡å’Œ toolbar å¯¹è±¡æ¥æž„å»ºä¸€ä¸ª ActionBarDrawerToggle å¯¹è±¡ï¼›ç„¶åŽè®© ActionBarDrawerToggle æˆä¸º drawer_layout çš„ä¸€ä¸ªæŽ¥å£ï¼›æœ€åŽè®¾ç½® actionBarDrawerToggle.syncState() å³å¯ã€‚ 7. ä½¿çŠ¶æ€æ é€æ˜Žæˆ‘ä»¬å·²ç»æˆåŠŸçš„æž„å»ºå‡ºäº†ä¸€ä¸ª Navigation Drawerï¼Œä½†æ˜¯ï¼Œå…¶æ˜¾ç¤ºå‡ºæ¥çš„æ•ˆæžœæ˜¯è¿™æ ·çš„è€Œå®˜æ–¹çš„ MD è§„èŒƒä¸Šï¼ŒçŠ¶æ€æ çš„æ•ˆæžœæ˜¯åŠé€æ˜Žçš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜è¦åšä¸€äº›é¢å¤–çš„æ­¥éª¤æ¥è®©æˆ‘ä»¬çš„ Nav Drawer æ›´ç¬¦åˆè§„èŒƒã€‚ 7.1 åŽ»é™¤ Actionbarè¿™ä¸ªæ­¥éª¤é€šå¸¸å·²ç»åœ¨åˆæ­¥æ­å»ºæž„æž¶çš„æ—¶å€™å°±å®Œæˆäº†ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸º style.xml å¢žåŠ å¦‚ä¸‹ä¸¤é¡¹ï¼š12&lt;item name="windowActionBar"&gt;false&lt;/item&gt;&lt;item name="windowNoTitle"&gt;true&lt;/item&gt;å¹¶ä¸”ç»§æ‰¿ Theme.AppCompact.Light.DarkActionBar 7.2 v21 å¢žåŠ å…³äºŽçŠ¶æ€æ çš„å±žæ€§åœ¨ value-21/style.xml ä¸­ï¼Œå¢žåŠ å¦å¤–çš„ä¸¤é¡¹ï¼š1234&lt;item name="windowActionBar"&gt;false&lt;/item&gt;&lt;item name="windowNoTitle"&gt;true&lt;/item&gt;&lt;item name="android:windowDrawsSystemBarBackgrounds"&gt;true&lt;/item&gt;&lt;item name="android:statusBarColor"&gt;@android:color/transparent&lt;/item&gt; 7.3 è®¾ç½® DrawerLayout ä½¿ç”¨ fitsSystemWindow12345&lt;android.support.v4.widget.DrawerLayout ... android:fitsSystemWindows="true" app:insetForeground="@color/inset_color" &gt;OKï¼Œåˆ°è¿™é‡Œå°±å¤§åŠŸå‘Šæˆäº†ï¼ 7.4 è¡¥å……ï¼šåŠ¨æ€æ”¹å˜ status bar é¢œè‰²å¦‚æžœä½ æƒ³åŠ¨æ€æ”¹å˜çŠ¶æ€æ é¢œè‰²çš„è¯ï¼Œä¹Ÿæœ‰ç›¸åº”çš„ Java æŽ¥å£ã€‚123drawerLayout.setStatusBarBackgroundColor(ContextCompat.getColor(this, R.color.wierd_green));drawerLayout.setScrimColor(ContextCompat.getColor(this, R.color.wierd_transparent_orange)); 8. æ€»ç»“è¿™æ ·æž„é€ å‡ºæ¥çš„ Nav Drawer å’Œ MaterialDrawer ä¸åŒçš„ä¸€ä¸ªåœ°æ–¹åœ¨äºŽï¼ŒNav Drawer æ˜¯åœ¨è®¾è®¡å±‚é¢ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè€Œ MaterialDrawer æ˜¯åœ¨ä»£ç å±‚é¢ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œä¾µå…¥æ€§ä¸å¼ºï¼Œä¸è¿‡ä¹Ÿè¾ƒä¸ºéº»çƒ¦ã€‚æ€»çš„æ¥è¯´ï¼Œå¦‚æžœè¦å¿«é€Ÿæ­å»ºï¼Œåˆ™é€‰æ‹© MaterialDrawerï¼›ä½†æ˜¯è¦é€‰æ‹©ä½¿ç”¨æ¸…çœŸçš„å†™æ³•ï¼Œé‚£ä¹ˆ Nav Drawer åˆ™ä¼šæ›´å¥½ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android èŽ·å–å±å¹•å°ºå¯¸]]></title>
    <url>%2F%2FAndroid%2FAndroid%20%E8%8E%B7%E5%8F%96%E5%B1%8F%E5%B9%95%E5%B0%BA%E5%AF%B8%2F</url>
    <content type="text"><![CDATA[æœ‰æ—¶å€™ä¸ºäº†å®žçŽ° Respnsive æˆ–è€…ä¸€äº›å…¶ä»–çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å°±éœ€è¦æ‹¿åˆ°å½“å‰å±å¹•çš„å°ºå¯¸ã€‚é‚£ä¹ˆåœ¨ Android ä¸­è¯¥å¦‚ä½•åšåˆ°å‘¢ï¼Ÿè¯·çœ‹å¦‚ä¸‹ä»£ç ï¼š123456789fun getScreenSizeDp(activity: Activity): Pair&lt;Float, Float&gt; &#123; val display: Display = activity.windowManager.defaultDisplay val displayMetrics = DisplayMetrics() display.getMetrics(displayMetrics) val density = activity.resources.displayMetrics.density return Pair(displayMetrics.widthPixels / density, displayMetrics.heightPixels / density)&#125;é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ Activity å¯¹è±¡æ¥èŽ·å–åˆ° WindowManager çš„ defaultDisplayã€‚ç„¶åŽï¼Œæˆ‘ä»¬æž„å»ºä¸€ä¸ª DisplayMetrics å¯¹è±¡ï¼Œç”¨æ¥å­˜å‚¨ç‰¹å®šçš„å°ºå¯¸æ•°æ®ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬åªèƒ½èŽ·å–åˆ°å±å¹•çš„åƒç´ å¤§å°ï¼Œè€Œä¸èƒ½èŽ·å–åˆ° Android å¸¸ç”¨çš„ dpã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±è¦å…ˆæ‹¿åˆ°å±å¹•çš„åƒç´ å¯†åº¦ï¼Œç„¶åŽå†ç”¨åƒç´ é™¤ä»¥åƒç´ å¯†åº¦æ¥å¾—åˆ°å±å¹•çš„ dp å°ºå¯¸ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Material Drawer Tint Icon]]></title>
    <url>%2F%2FAndroid%2FMaterailDrawer%2FMaterial%20Drawer%20Tint%20Icon%2F</url>
    <content type="text"><![CDATA[Material Drawer æ˜¯ GitHub ä¸Šæœ‰åçš„ Android Navigation Drawer çš„å®žçŽ°åº“ï¼Œç›®å‰æœ‰ 6000 å·¦å³ä¸ªæ˜Ÿï¼Œå……åˆ†è¯´æ˜Žå®ƒçš„æµè¡Œå’Œç¨³å®šæ€§ã€‚è¿™é‡Œæ¥è¯´è¯´å®ƒçš„ Account Header çš„ Profile Icon çš„æŸ“è‰²é—®é¢˜ã€‚ç›®å‰ï¼Œå¯¹äºŽé€æ˜ŽèƒŒæ™¯çš„å›¾ç‰‡ï¼ŒProfile Item ä¸ä¼šå¯¹èƒŒæ™¯è¿›è¡ŒæŸ“è‰²ï¼›è¿™æ ·å°±å¯èƒ½å¯¼è‡´åœ¨æœ‰èƒŒæ™¯å›¾çš„æ—¶å€™ï¼Œå¯¹äºŽè¿™ç§ Icon æœ‰çœ‹ä¸æ¸…çš„é—®é¢˜ã€‚ä½œè€…å¯¹æ­¤è¡¨ç¤ºä¸æƒ³ä¿®å¤ï¼ŒäºŽæ˜¯æä¾›äº†ä¸€ä¸ª workaround è¿›è¡Œå›¾ç‰‡çš„æŸ“è‰²ã€‚ä»¥ä¸‹çš„ Kotlin å°±æ˜¯å¯¹ä¸€ä¸ªé»˜è®¤çš„ç”¨æˆ·å›¾æ ‡è¿›è¡ŒæŸ“è‰²ï¼Œç„¶åŽè¿”å›žæŸ“è‰²åŽçš„ Drawable çš„ä»£ç 1234567891011fun getTintDefaultProfileIcon(activity: Activity): LayerDrawable &#123; val res = activity.resources val background = ShapeDrawable() background.paint.color = res.getColor(R.color.default_icon_bg, activity.theme) val icon = res.getDrawable(R.drawable.default_user_icon, activity.theme) return LayerDrawable(arrayOf(background, icon))&#125;]]></content>
      <categories>
        <category>Android</category>
        <category>Materail Drawer</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>MaterailDrawer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Material Drawer Tutorial]]></title>
    <url>%2F%2FAndroid%2FMaterailDrawer%2FMaterial%20Drawer%20Tutorial%2F</url>
    <content type="text"><![CDATA[æ·»åŠ ä¾èµ–æŒ‰ç…§å®˜æ–¹ç½‘ç«™ä¸Šçš„ä¾èµ–æ·»åŠ å³å¯ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»ç­‰åˆ° MavenCentral åŒæ­¥äº†æœ€æ–°ç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œå¦åˆ™è¯·é€€å›žå‰ä¸€ä¸ªç‰ˆæœ¬ã€‚ä¸ç„¶çš„è¯å°±è¦è‡ªå·±ç®¡ç† Material Drawer çš„ä¾èµ–äº†ã€‚ å»ºç«‹ Drawer æœ€ç®€å•çš„ç‰ˆæœ¬1new DrawerBuilder().withActivity(this).build(); å¸¦æœ‰æ±‰å ¡åŒ…çš„ç‰ˆæœ¬12345Drawer drawer = new DrawerBuilder() .withActivity(this) .withToolbar(toolbar) .withActionbarToggle(true) .build(); æ±‰å ¡åŒ…ä¼šåŠ¨çš„ç‰ˆæœ¬123456Drawer drawer = new DrawerBuilder() .withActivity(this) .withToolbar(toolbar) .withActionbarToggle(true) .withActionBarDrawerToggleAnimated(true) .build(); å¸¦æœ‰ Header çš„ç‰ˆæœ¬12345Drawer drawer = new DrawerBuilder() .withActivity(this) .withAccountHeader(accountHeader) // ... .build() è°ƒæ•´å®½åº¦å¯ä»¥é€šè¿‡ DrawerBuilder ä¸­çš„ withDrawerWidth*() æ¥è°ƒæ•´å®½åº¦ã€‚å…¶ä¸­ * å¯ä»¥æ˜¯ dp ä¹Ÿå¯ä»¥æ˜¯ px1234567Drawer drawer = new DrawerBuilder() .withActivity(this) .withToolbar(toolbar) .withActionbarToggle(true) .withActionBarDrawerToggleAnimated(true) .withDrawerWidthDp(100) .build(); å»ºç«‹ AccountHeaderä¸Šé¢æ¼”ç¤ºäº†å¦‚ä½•å»ºç«‹å¸¦æœ‰ Header çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯ï¼Œå…¶ä¸­çš„ accountHeader ä¹Ÿæ˜¯è¦æˆ‘ä»¬è‡ªå·±å»ºç«‹å’Œé…ç½®çš„ã€‚ æœ€ç®€å•çš„ç‰ˆæœ¬1234AccontHeader accountHeader = new AccountHeaderBuilder() .withActivity(this) .withHeaderBackground(R.drawable.header) .build() å•ä¸ªè´¦æˆ·æ—¶å…³é—­ä¸‹æ‹‰èœå•1builder.withSelectionListEnabledForSingleProfile(false)]]></content>
      <categories>
        <category>Android</category>
        <category>Materail Drawer</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>MaterailDrawer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ToolBar]]></title>
    <url>%2F%2FAndroid%2FToolBar%2F</url>
    <content type="text"><![CDATA[1. ä½¿ç”¨1 å®šä¹‰é£Žæ ¼åœ¨ä½¿ç”¨ Toolbar ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å¯¹å…¶é£Žæ ¼è¿›è¡Œä¸€äº›è°ƒæ•´ã€‚ä½¿ç”¨ AppTheme.Base è¿›è¡Œä¸€äº›æ–¹ä¾¿çš„å…¨å±€è®¾å®š5.0(API 21) ä¹‹åŽï¼ŒGoogle å‘è¡¨äº† Material Designï¼Œç”±äºŽå’Œä¹‹å‰çš„é£Žæ ¼æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œ Google é‡‡ç”¨äº†ä¸¤ä¸ªæ–‡ä»¶â€”â€” res/values/style.xml å’Œ res/values-v21/style.xml123456789101112131415161718192021&lt;resources&gt; &lt;!-- Base application theme. --&gt; &lt;style name="AppTheme" parent="AppTheme.Base"&gt; &lt;/style&gt; &lt;style name="AppTheme.Base" parent="Theme.AppCompat"&gt; &lt;!-- å–æ¶ˆ ActionBarï¼Œä½¿ç”¨ ToolBar æ¥ä»£æ›¿ ActionBar --&gt; &lt;item name="windowActionBar"&gt;false&lt;/item&gt; &lt;!-- ç”¨è¿™æ¡è¯­å¥æ¥é˜²æ­¢å¤åˆ¶ç²˜è´´æ—¶æŠŠ ToolBar æŒ¤ä¸‹åŽ»çš„é—®é¢˜ï¼› ä¸¤å¥åªèƒ½é€‰ä¸€å¥æ¥ä½¿ç”¨ --&gt; &lt;!-- ç¼–è¯‘ API ä½ŽäºŽ 22 æ—¶ï¼Œä½¿ç”¨ä¸‹é¢è¿™æ¡ --&gt; &lt;del&gt;&lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;&lt;/del&gt; &lt;!-- ä½¿ç”¨ API Level 22 ç¼–è¯‘çš„è¯ï¼Œä½¿ç”¨ä¸‹é¢è¿™æ¡ --&gt; &lt;item name="windowNoTitle"&gt;true&lt;/item&gt; &lt;/style&gt;&lt;/resources&gt; 1.2 æ·»åŠ ç»„ä»¶åˆ°ç•Œé¢åœ¨ Activity æˆ– Fragment çš„å¸ƒå±€ xml æ–‡ä»¶ä¸­æ·»åŠ  Toolbar æŽ§ä»¶123456&lt;android.support.v7.widget.Toolbar android:id=&quot;@+id/toolbar&quot; android:layout_height=&quot;?attr/actionBarSize&quot; android:layout_width=&quot;match_parent&quot; &gt;&lt;/android.support.v7.widget.Toolbar&gt;æ³¨æ„é‡‡ç”¨ support v7 åŒ…çš„ toolbar å¦åˆ™åªæœ‰ API 21 ä»¥åŽçš„ç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨ï¼Œå³ä¸å…¼å®¹ 4.0 1.3 è‡ªå®šä¹‰é¢œè‰²ç­‰å…¶ä»–å±žæ€§åœ¨ä¸Šè¿°çš„ä¸¤ä¸ª style æ–‡ä»¶ä¸­è®¾å®šä½ æƒ³è¦çš„ Toolbar çš„å„ç§å±žæ€§ã€‚æ·»åŠ å±žæ€§æ—¶ï¼Œåœ¨ &lt;style&gt; ä¸‹æ·»åŠ ä¸€ä¸ª &lt;item&gt; å³å¯ã€‚ä¾‹å¦‚ï¼š12345678910&lt;style name="AppTheme.Base" parent="Theme.AppCompat"&gt; &lt;item name="windowActionBar"&gt;false&lt;/item&gt; &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt; &lt;!-- Actionbar color --&gt; &lt;item name="colorPrimary"&gt;@color/accent_material_dark&lt;/item&gt; &lt;!--Status bar color--&gt; &lt;item name="colorPrimaryDark"&gt;@color/accent_material_light&lt;/item&gt; &lt;!--Window color--&gt; &lt;item name="android:windowBackground"&gt;@color/dim_foreground_material_dark&lt;/item&gt;&lt;/style&gt;å¯ä»¥è®¾å®šçš„å±žæ€§æœ‰ï¼šApp bar : å³åŽŸæ¥ ActionBar çš„åº•è‰²ï¼Œé€šè¿‡æ·»åŠ  colorPrimary å±žæ€§å³å¯ã€‚navigationBarColor : æ­¤ä¸ºå¯¼èˆªæ åº•è‰²ï¼Œä»…åœ¨ API 21 ä»¥ä¸Š æ‰æœ‰æ•ˆ, å¿…é¡»è®¾ç½®åœ¨ res/values-v21/style.xml ä¸­windowBackground : ä¸»è§†çª—åº•è‰²ã€‚ 1.4 è®¾ç½®æŽ§ä»¶ä¸€èˆ¬æ¥è¯´ ï¼ŒToolbar æœ‰ä»¥ä¸‹æŽ§ä»¶æœ‰å…³çš„ä»£ç å¦‚ä¸‹ï¼Œæ–‡ä»¶ä¸º Activity çš„å¯¹åº” .java æ–‡ä»¶ MainAcitivity.java1234567891011121314Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);// App Logotoolbar.setLogo(R.drawable.ic_launcher);// Titletoolbar.setTitle("My Title");// Sub Titletoolbar.setSubtitle("Sub title");setSupportActionBar(toolbar);// Navigation Icon è¦è®¾å®šåœ¨ setSupoortActionBar ä¹‹åŽæ‰æœ‰ä½œç”¨// å¦å‰‡æœƒå‡ºç¾ back buttontoolbar.setNavigationIcon(R.drawable.ab_android);èœå•éƒ¨åˆ†ï¼šå…ˆåœ¨ç›¸åº”çš„menu æ–‡ä»¶è®¾ç½®MenuItem res/menu/menu_main.xml12345678910111213141516171819202122&lt;menu xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" tools:context=".MainActivity"&gt; &lt;item android:id="@+id/action_edit" android:title="@string/action_edit" android:orderInCategory="80" android:icon="@drawable/ab_edit" app:showAsAction="ifRoom" /&gt; &lt;item android:id="@+id/action_share" android:title="@string/action_edit" android:orderInCategory="90" android:icon="@drawable/ab_share" app:showAsAction="ifRoom" /&gt; &lt;item android:id="@+id/action_settings" android:title="@string/action_settings" android:orderInCategory="100" app:showAsAction="never"/&gt;&lt;/menu&gt;åœ¨ java æ–‡ä»¶ä¸­è®¾å®š OnMenuItemClickListener1234567891011121314151617181920212223242526private Toolbar.OnMenuItemClickListener onMenuItemClick = new Toolbar.OnMenuItemClickListener() &#123; @Override public boolean onMenuItemClick(MenuItem menuItem) &#123; String msg = ""; switch (menuItem.getItemId()) &#123; case R.id.action_edit: msg += "Click edit"; break; case R.id.action_share: msg += "Click share"; break; case R.id.action_settings: msg += "Click settings"; break; &#125; if(!msg.equals("")) &#123; Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show(); &#125; return true; &#125;&#125;;// å°† Listener ä¼ ç»™è®¾ç½®æ–¹æ³•// å…¶å®žä¹Ÿå¯ä»¥ä½¿ç”¨åŒ¿åç±»æž„é€ toolbar.setOnMenuItemClickListener(onMenuItemClick)éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒsetOnMenuItemClickListener() éœ€è¦åœ¨ setActionBar() æˆ– setSupportActionBar() ä¹‹åŽæ‰èƒ½ç”Ÿæ•ˆ 2. åŠ¨æ€åŠ è½½è¿™é‡Œæ‰€æŒ‡çš„æ˜¯ åœ¨ä½¿ç”¨ Fragment æ—¶ï¼Œç”±äºŽä¸åŒ Fragment å¯èƒ½éœ€è¦ä¸åŒçš„ ActionBar æ ‡é¢˜æˆ–è€…å…¶ä»–ç»„ä»¶ï¼Œç”±æ­¤äº§ç”Ÿçš„åŠ¨æ€åŠ è½½é—®é¢˜ã€‚ 2.1 åŠ¨æ€æ›´æ”¹æ ‡é¢˜å½“ Title éœ€è¦æ ¹æ® Fragment çš„å†…å®¹è¿›è¡ŒåŠ¨æ€åŠ è½½ï¼Œä¸è¦ç›´æŽ¥ä½¿ç”¨ Toolbar çš„ setTitle()ï¼Œè€Œåº”è¯¥ä½¿ç”¨ getActionBar() æ¥è¿›è¡Œæ ‡é¢˜æ›´æ”¹ã€‚ç”±äºŽ Android Studio ä¼šè‡ªåŠ¨äº§ç”Ÿ Warningï¼Œè®¤ä¸º getActionBar() æœ‰å¯èƒ½è¿”å›žä¸€ä¸ªç©ºå€¼ï¼Œå¯ä»¥ä½¿ç”¨ assert æ¥è¿›è¡Œæ–­è¨€ï¼Œè¯´æ˜Žå…¶ä¸ä¼šè¿”å›ž null1234// æ­¤å¤„æ–­è¨€ç”¨äºŽå–æ¶ˆ Warnningï¼Œ// ä½†å¿…é¡»ä¿è¯å·²ç» setActionBar(toolbar);assert getActionBar() != null;getActionBar().setTitle("éœ€è¦çš„æ ‡é¢˜"); 2.2 åŠ¨æ€åŠ è½½ MenuIteméœ€è¦åŠ¨æ€åŠ è½½ MenuItem æ—¶ï¼Œåº”è¯¥åœ¨å„ä¸ª Fragment é‡è½½ onCreateOptionsMenu() æ–¹æ³•ã€‚12345@Overridepublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) &#123; inflater.inflate(R.menu.pictrue_list, menu); super.onCreateOptionsMenu(menu,inflater);&#125;åŒæ—¶ï¼Œéœ€è¦åœ¨ Fragment çš„ onCreate() æ–¹æ³•ä¸­æ·»åŠ  setHasOptionMenu(true)ï¼ŒæŒ‡æ˜Ž Fragment åº”æ˜¾ç¤ºèœå•å¹¶å¯¹èœå•è¿›è¡Œå“åº”ã€‚123456@Overridepublic void onCreate(Bundle savedInstanceState) &#123; // TODO Auto-generated method stub super.onCreate(savedInstanceState); setHasOptionsMenu(true); // å¿…é¡»æ·»åŠ ï¼Œå¦åˆ™æ— æ³•æ˜¾ç¤º menu&#125;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ Fragment ä¼šè‡ªåŠ¨ç»§æ‰¿ Activity å·²ç» inflate çš„ MenuItemï¼Œæ‰€ä»¥å¦‚æžœ Fragment éœ€è¦ä¸€ä¸ªå…¨æ–°çš„ MenuItem é‚£å°±æœ€å¥½é‡æ–° inflate æ–°çš„ xmlã€‚å¦åˆ™ï¼ŒMenuItem å°†ä¼šé‡å¤å‡ºçŽ°ï¼Œè€Œä¸”å…¶ç‚¹å‡»äº‹ä»¶ä¹Ÿä¼šåŒæ—¶åœ¨ Activity å’Œ Fragment ä¸­å¾—åˆ°å“åº”]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Consistent Hash]]></title>
    <url>%2F%2FDHT%2FConsistent%20Hash%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°å¤§å¤šæ•° DHT ä½¿ç”¨ç¨³å®šæ•£åˆ—æ–¹æ³•(consistent hash)æ¥å°†å…³é”®å€¼å¯¹åº”åˆ°èŠ‚ç‚¹ã€‚åœ¨ä½¿ç”¨ç¨³å®šæ•£åˆ—ç®—æ³•åŽï¼Œå“ˆå¸Œè¡¨æ§½ä½æ•°ï¼ˆå¤§å°ï¼‰çš„æ”¹å˜å¹³å‡åªéœ€è¦å¯¹ K/nK/nK/n ä¸ªå…³é”®å­—é‡æ–°æ˜ å°„ï¼Œå…¶ä¸­ KKK æ˜¯å…³é”®å­—çš„æ•°é‡ï¼Œ nnn æ˜¯æ§½ä½æ•°é‡ã€‚è€Œä¸éœ€è¦å¯¹æ•´ä¸ªå“ˆå¸Œè¡¨è¿›è¡Œé‡æ–°æ˜ å°„ã€‚ä¸‹é¢å°±æ¥ä»‹ç»å‡ ç§ä¸»æµçš„ DHT ç¨³å®šæ•£åˆ—åè®®ç®—æ³•ã€‚ 2. Chord ç®—æ³•Chord åœ¨ 2001 å¹´ç”± MIT æå‡ºï¼Œå®ƒä¸å…³å¿ƒèµ„æºæ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Œåªå…³å¿ƒèµ„æºçš„å¿«é€Ÿå–å¾—ã€‚ 2.1 æ•£åˆ—è®¡ç®—æ–¹æ³•Chord ä½¿ç”¨ SHA-1 ä½œä¸ºæ•£åˆ—è®¡ç®—å‡½æ•°ï¼Œä¿è¯äº†æ•£åˆ—å€¼çš„éžé‡å¤æ€§ã€‚SHA-1 ä¼šäº§ç”Ÿä¸€ä¸ª 21602^{160}2160 çš„æ•´æ•°ç©ºé—´ï¼Œæ¯é¡¹ä¸ºä¸€ä¸ª 160 bit çš„å¤§æ•´æ•°ï¼Œå®ƒä»¬é¦–å°¾ç›¸è¿žï¼Œå½¢æˆ Chord çŽ¯ã€‚ 2.2 æŸ¥æ‰¾ç®—æ³•æ˜¾ç„¶ä»»ä½•æŸ¥æ‰¾åªéœ€è¦ç»• Chord çŽ¯ä¸€åœˆå³å¯å®Œæˆï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º O(N)O(N)O(N)ï¼Œè¿™å¯¹äºŽä¸€ä¸ªä¸Šç™¾ä¸‡èŠ‚ç‚¹ï¼Œè€Œä¸”èŠ‚ç‚¹éšæ—¶å¤„äºŽåŠ¨æ€å˜åŒ–ä¸­çš„ P2P ç½‘ç»œæ˜¯ä¸å¯æ‰¿å—çš„ï¼Œæ‰€ä»¥ Chord æå‡ºå¦‚ä¸‹çš„éžçº¿æ€§æŸ¥æ‰¾ç®—æ³•ï¼šæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ª mmm ä¸ªå…¶ä»–èŠ‚ç‚¹ä¿¡æ¯çš„æŸ¥è¯¢è¡¨ï¼Œï¼ˆmmm ä¸ºä½æ•°ï¼ŒChord ä¸­ä¸º 160ï¼Œè¡¨æ ¼ä¸­çš„èŠ‚ç‚¹çš„ ID é—´è·ä¸º 2i2^i2iï¼Œè¿™æ ·å®žé™…å½¢æˆäº†ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾æ‰€éœ€è¦çš„æŸ¥æ‰¾å…³ç³»è¡¨æŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢èŠ‚ç‚¹å°†è¯·æ±‚å‘é€åˆ°ä¸Žé”®å€¼æœ€æŽ¥è¿‘çš„èŠ‚ç‚¹ä¸Šï¼Œæ”¶åˆ°è¯·æ±‚çš„èŠ‚ç‚¹å¦‚æžœå­˜å‚¨äº†ä¿¡æ¯ï¼Œåˆ™è¿”å›žï¼›å¦åˆ™ï¼ŒæŒ‰ç…§æŸ¥è¯¢è¡¨å°†è¯·æ±‚è½¬å‘åˆ°ä¸Žé”®å€¼æœ€æŽ¥è¿‘çš„èŠ‚ç‚¹ä¸Šï¼›ç›´åˆ°æ‰¾åˆ°ç›¸åº”èŠ‚ç‚¹ä¸ºæ­¢ã€‚ç”±äºŽèŠ‚ç‚¹çš„æŸ¥è¯¢è¡¨é‡‡ç”¨çš„æ˜¯äºŒåˆ†æŸ¥æ‰¾å¼çš„åˆ†å¸ƒæ–¹å¼ï¼Œä¸éš¾çœ‹å‡ºï¼ŒæŸ¥è¯¢è¿‡ç¨‹å®žé™…ä¸Šå°±æ˜¯äºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹ã€‚ç»è¿‡ä¼˜åŒ–ï¼ŒChord æŸ¥è¯¢æ‰€éœ€çš„è·³æ•°ç”± O(N)O(N)O(N) ä¸‹é™ä¸º O(logN)O(logN)O(logN) 2.3 ä¼˜ç‚¹è´Ÿè½½å‡è¡¡æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä»¥åŒæ ·çš„å‡ çŽ‡è´Ÿæ‹…ç³»ç»Ÿè´Ÿè·ï¼Œä»Žè€Œå¯ä»¥é¿å…æŸäº›èŠ‚ç‚¹è´Ÿè½½è¿‡å¤§ã€‚åˆ†å¸ƒæ€§æ‰€æœ‰çš„èŠ‚ç‚¹å¹³ç­‰çš„å®ŒæˆåŒæ ·çš„å·¥ä½œï¼Œæ‰€ä»¥ Chord å…·æœ‰æ¯”è¾ƒé«˜çš„å¥å£®æ€§ï¼Œèƒ½æŠµå¾¡ DoS æ”»å‡»å¯æ‰©å±•æ€§Chord çš„ç³»ç»Ÿå¼€é”€æŒ‰ç…§ O(logN)O(logN)O(logN) å¢žåŠ ï¼Œå¢žåŠ æ¯”ä¾‹ä¸å¤§ï¼Œå› æ­¤å®ƒå¯ä»¥ç”¨äºŽè¾ƒå¤§è§„æ¨¡çš„ç³»ç»Ÿå¯ç”¨æ€§Chord å¯ä»¥æ ¹æ®ç½‘ç»œçš„å˜åŒ–æ›´æ–°æŸ¥è¯¢è¡¨ï¼ŒåŠæ—¶æ¢å¤æŸ¥æ‰¾å…³ç³»ï¼Œä½¿å¾—æŸ¥è¯¢å¯ä»¥å¯é è¿›è¡Œçµæ´»æ€§Chord å¹¶æœªé™åˆ¶æŸ¥è¯¢çš„å†…å®¹ç»“æž„ï¼Œå› æ­¤åº”ç”¨å±‚å¯ä»¥çµæ´»çš„å°†å†…å®¹æ˜ å°„åˆ°é”®å€¼ç©ºé—´ï¼Œè€Œä¸ç”¨å—åˆ°åè®®çš„é™åˆ¶ã€‚ 3. CAN ç®—æ³•CAN æ˜¯ 2001 å¹´ç”±åŠ å·žå¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡æå‡ºçš„ã€‚ä¸Ž Chord ä¸€æ ·ï¼Œä¹Ÿæ˜¯ DHT çš„ä¸€ç§å®žçŽ°å½¢å¼ã€‚ 3.1 å“ˆå¸Œç®—æ³•åœ¨ CAN ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡ªèº«çš„ ID ç»è¿‡å“ˆå¸ŒåŽï¼Œèƒ½å¾—åˆ°ä¸€ä¸ª d ç»´å‘é‡ï¼Œæ‰€ä»¥æ•´ä¸ª P2P ç³»ç»Ÿå°†è¢«æ˜ å°„åˆ°ä¸€ä¸ª d ç»´çš„ç¬›å¡å°”ç©ºé—´åŽ»ã€‚è€Œ Chord ä½¿ç”¨çš„ SHA-1 ç®—æ³•ç”Ÿæˆçš„ç»“æžœæ˜¯ä¸€ç»´çš„ã€‚å…¶ä¸­ d ä¸ºä¸€ä¸ªç³»ç»Ÿå†³å®šçš„å¸¸é‡ 3.2 æŸ¥æ‰¾ç®—æ³•CAN çš„èŠ‚ç‚¹é€šè¿‡ç»´æŠ¤ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹è¡¨æ¥è¿›è¡Œéžçº¿æ€§æœç´¢ã€‚ä¸Ž Chord ä¸åŒçš„æ˜¯ï¼ŒCAN ä¸è¦æ±‚æŸ¥è¯¢è¡¨çš„é‚»å±…èŠ‚ç‚¹ä¿æŒ 2i2^i2i çš„å…³ç³»ï¼Œè€Œé‡‡ç”¨ç¬›å¡å°”ç©ºé—´çš„ç›¸é‚»å®šä¹‰ï¼šåœ¨ ddd ç»´ç¬›å¡å°”ç©ºé—´ä¸­ï¼Œ2ä¸ªèŠ‚ç‚¹çš„ ddd ç»´åæ ‡ä¸­æœ‰ dâˆ’1d-1dâˆ’1 ç»´æ˜¯ç›¸ç­‰çš„ï¼Œå‰©ä½™çš„ä¸€ç»´æ˜¯ç›¸é‚»çš„èŠ‚ç‚¹ç§°ä¹‹ä¸ºç›¸é‚»èŠ‚ç‚¹ã€‚åœ¨æŸ¥è¯¢çš„è¿‡ç¨‹ä¸­ï¼ŒæŸ¥è¯¢èŠ‚ç‚¹é¦–å…ˆè®¡ç®—å‡ºè¢«æŸ¥è¯¢å†…å®¹çš„é”®å€¼ (d ç»´å‘é‡)ï¼Œç„¶åŽåœ¨èŠ‚ç‚¹åˆ—è¡¨ä¸­æŸ¥æ‰¾ä¸Žä¹‹æœ€è¿‘çš„ç›¸é‚»èŠ‚ç‚¹ï¼Œå‘å…¶å‘é€æŸ¥è¯¢è¯·æ±‚ï¼›å¦‚æžœè¢«æŸ¥è¯¢èŠ‚ç‚¹åŒ…å«èµ„æºï¼Œåˆ™è¿”å›žï¼›å¦åˆ™ï¼Œè¢«æŸ¥è¯¢èŠ‚ç‚¹å°±æ ¹æ®æŸ¥è¯¢è¡¨è½¬å‘åˆ°ç›¸åº”æœ€è¿‘èŠ‚ç‚¹ï¼Œç›´åˆ°æŸ¥è¯¢å®Œæ¯•ä¸ºæ­¢ã€‚å¦‚æžœç›¸é‚»èŠ‚ç‚¹è¡¨ä¸­æ²¡æœ‰å¯ç”¨çš„ä¸‹ä¸€è·³èŠ‚ç‚¹ï¼Œåˆ™å¼€å§‹è¿›è¡Œæ‰©å±•çŽ¯æœç´¢ï¼ˆä»Žæœ€è¿‘çš„nä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œå±‚å±‚è½¬å‘ç›´åˆ°æ‰¾åˆ°ç›®æ ‡æˆ–è¶…å‡ºäº†è·³æ•°çš„ä¸Šé™ä¸ºæ­¢ï¼‰ï¼Œç›´åˆ°æ‰¾åˆ°å¯ç”¨èŠ‚ç‚¹ã€‚ç»è¿‡CANçš„ä¼˜åŒ–åŽï¼ŒæŸ¥è¯¢éœ€è¦çš„è·³æ•°ç”± O(N)O (N)O(N) å‡å°‘åˆ°å‡å€¼ä¸º(d/4)(n1/d)(d/4)(n1/d)(d/4)(n1/d) çš„éšæœºåˆ¶ï¼Œè€ƒè™‘åˆ° ddd ä¸ºå¸¸æ•°ï¼Œè¿™ä¸€å€¼å¯ä»¥è¡¨ç¤ºä¸ºO(n1/d)O(n1/ d)O(n1/d)ã€‚ 3.3 æ¯”è¾ƒCAN å’Œ Chord çš„ä¸»è¦åŒºåˆ«åœ¨äºŽæŸ¥æ‰¾ç®—æ³•ä¸åŒã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œåœ¨èŠ‚ç‚¹æ•°é‡éžå¸¸å¤§æ—¶ï¼ŒCAN çš„å¹³å‡æŸ¥è¯¢è·³æ•°è¦æ¯” Chord å¢žåŠ å¾—æ›´å¿«ã€‚è€Œä¸” CAN æŸ¥è¯¢è¿‡ç¨‹ä¸­éœ€è¦çš„è¿ç®—é‡ä¹Ÿè¦é«˜äºŽ Chord ã€‚ä½† CAN ä½¿ç”¨çš„ ddd ä¸ºé¢„å…ˆè®¾ç½®çš„å¸¸é‡ï¼Œå› æ­¤å¹¶ä¸å‡è®¾ç³»ç»ŸèŠ‚ç‚¹æ•°é‡ã€‚ä½†æ˜¯åœ¨èŠ‚ç‚¹æ€»æ•°åŠ¨æ€å˜åŒ–èŒƒå›´å¾ˆå¤§çš„ç³»ç»Ÿä¸­ï¼ŒCAN çš„ç›¸é‚»èŠ‚ç‚¹è¡¨ç»“æž„ä¿æŒç¨³å®šï¼Œè¿™åœ¨ P2P è¿™ä¸€æ—¶å¸¸åœ¨å˜åŒ–çš„ç½‘ç»œç³»ç»Ÿä¸­æœ‰å¾ˆå¤§ä¼˜ç‚¹ã€‚ 4. PastryPastry äºŽ 2001 å¹´ä½äºŽè‹±å›½å‰‘æ¡¥çš„å¾®è½¯ç ”ç©¶é™¢å’ŒèŽ±æ–¯(Rice)å¤§å­¦æå‡ºã€‚ 4.1 å“ˆå¸Œç®—æ³•åœ¨ Pastry ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰ä¸€ä¸ª 128 bit çš„æ ‡è¯†ï¼Œä¸ºäº†ä¿è¯ ID çš„ä¸€è‡´æ€§ï¼Œä¸€èˆ¬é‡‡ç”¨èŠ‚ç‚¹çš„ IP åœ°å€è¿›è¡Œå“ˆå¸Œè®¡ç®—ã€‚Pastry å¹¶æ²¡æœ‰è§„å®šåº”è¯¥ä½¿ç”¨ä½•ç§å“ˆå¸Œç®—æ³•ï¼Œè€Œåªè§„å®šäº†å“ˆå¸Œé”®å€¼ä¸ºä¸€ç»´ã€‚ï¼ˆå®žé™…ä¸Šåˆ™æ˜¯ä½¿ç”¨äº† 128 bit çš„æ•´æ•°ç©ºé—´ï¼‰ 4.2 æŸ¥æ‰¾ç®—æ³•åœ¨ Pastry ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰ä¸€ä¸ªè·¯ç”±è¡¨ RRRï¼Œä¸€ä¸ªé‚»å±…èŠ‚ç‚¹è¡¨ MMMï¼Œå’Œä¸€ä¸ªå¶å­èŠ‚ç‚¹è¡¨ LLLï¼Œå®ƒä»¬ä¸€èµ·æž„æˆäº†èŠ‚ç‚¹çš„çŠ¶æ€è¡¨ã€‚è·¯ç”±è¡¨ RRR å…±æœ‰ logBNlogBNlogBN è¡Œï¼Œå…¶ä¸­ï¼ŒB=2bB = 2bB=2b ä¸ºç³»ç»Ÿå‚æ•°ï¼ŒNNN ä¸ºèŠ‚ç‚¹çš„æ€»æ•°ã€‚æ¯è¡ŒåŒ…æ‹¬ Bâˆ’1B - 1Bâˆ’1 ä¸ªé¡¹ï¼Œæ¯ä¸ªé¡¹è®°å½•äº†ä¸€ä¸ªé‚»å±…èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚å¶å­èŠ‚ç‚¹è¡¨å­˜æ”¾çš„æ˜¯åœ¨ç©ºé—´ä¸­ä¸Žå½“å‰èŠ‚ç‚¹æœ€è¿‘çš„ âˆ£Lâˆ£|L|âˆ£Lâˆ£ ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯ï¼›å…¶ä¸­ï¼Œä¸€åŠèŠ‚ç‚¹çš„æ ‡è¯†å¤§äºŽå½“å‰èŠ‚ç‚¹ï¼Œå¦ä¸€åŠå°äºŽå½“å‰èŠ‚ç‚¹ã€‚ä¸€èˆ¬å– âˆ£Lâˆ£=2b|L| = 2bâˆ£Lâˆ£=2b æˆ–è€… 4b4b4bã€‚é‚»å±…èŠ‚ç‚¹å­˜æ”¾ç€åœ¨ çœŸå®žç½‘ç»œ ä¸­ä¸Žå½“å‰èŠ‚ç‚¹æœ€è¿‘çš„ âˆ£Mâˆ£|M|âˆ£Mâˆ£ ä¸ªç›¸é‚»èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚è·ç¦»åœ¨è¿™é‡Œçš„å®šä¹‰æŒ‡çš„æ˜¯ç”±å¤šç§å› ç´ ç»¼åˆå¾—åˆ°çš„è½¬å‘å¼€é”€ã€‚Pastry å¹¶æœªæä¾›è·ç¦»èŠ‚ç‚¹çš„èŽ·å–æ–¹æ³•ï¼Œè€Œæ˜¯ç”±åº”ç”¨å±‚æ¥è¿›è¡Œç›¸é‚»èŠ‚ç‚¹çš„é…ç½®ã€‚å…·ä½“çš„æŸ¥æ‰¾è¿‡ç¨‹å¦‚ä¸‹ï¼šé¦–å…ˆï¼ŒèŠ‚ç‚¹èŽ·å–åˆ°è¢«æŸ¥è¯¢å¯¹è±¡çš„ ID åŽï¼Œæ£€æŸ¥ ID æ˜¯å¦åœ¨å¶å­èŠ‚ç‚¹çš„èŒƒå›´å†…å¦‚æžœä¸åœ¨ï¼Œåˆ™ä»Žè·¯ç”±è¡¨ä¸­æŒ‰ç…§æœ€é•¿å‰ç¼€ä¼˜å…ˆåŽŸåˆ™æŸ¥æ‰¾ä¸€ä¸ªè½¬å‘èŠ‚ç‚¹å¦‚æžœä¸å­˜åœ¨è¿™æ ·çš„èŠ‚ç‚¹ï¼Œåˆ™ä»Žæ‰€æœ‰é‚»å±…èŠ‚ç‚¹é›†åˆï¼ˆåŒ…æ‹¬è·¯ç”±è¡¨ä¸­çš„å­å¶å­è¡¨å’Œé‚»å±…èŠ‚ç‚¹è¡¨ï¼‰é€‰æ‹©æœ€è¿‘çš„èŠ‚ç‚¹è¿›è¡Œæ¶ˆæ¯è½¬å‘ï¼Œç›´åˆ°æŸ¥è¯¢å®Œæ¯•ä¸ºæ­¢ã€‚ä»Žè¿‡ç¨‹ä¸­çœ‹ï¼Œå¦‚æžœè·¯ç”±è¡¨ä¸ä¸ºç©ºï¼Œåˆ™æ¯æ­¥æŸ¥æ‰¾è‡³å°‘èƒ½å¤ å¢žåŠ ä¸€å€‹å‰ç¶´åŒ¹é…æ•°ä½ï¼Œæ‰€ä»¥åœ¨è·¯ç”±è¡¨å§‹ç»ˆæœ‰æ•ˆæ—¶ï¼Œæ­¥æ•°æœ€å¤šä¸º logBNlogBNlogBN 4.3 æ¯”è¾ƒPastryçš„æŸ¥æ‰¾åˆ©ç”¨äº†æˆç†Ÿçš„æœ€å¤§æŽ©ç åŒ¹é…ç®—æ³•ï¼Œå› æ­¤å®žçŽ°æ—¶å¯ä»¥åˆ©ç”¨å¾ˆå¤šçŽ°æˆçš„è½¯ä»¶ç®—æ³•å’Œç¡¬ä»¶æ¡†æž¶ï¼Œå¯ä»¥èŽ·å¾—å¾ˆå¥½çš„æ•ˆçŽ‡ã€‚ä¸Ž Chord å’Œ CAN ç›¸æ¯”ï¼ŒPastry å¼•å…¥äº†å¶å­èŠ‚ç‚¹å’Œé‚»å±…èŠ‚ç‚¹é›†åˆçš„æ¦‚å¿µã€‚åœ¨åº”ç”¨å±‚èƒ½å¤ŸåŠæ—¶å‡†ç¡®åœ°èŽ·å¾—è¿™ä¸¤ä¸ªé›†åˆçš„èŠ‚ç‚¹ä¿¡æ¯æ—¶ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«æŸ¥æ‰¾æŸ¥æ‰¾çš„é€Ÿåº¦ï¼ŒåŒæ—¶é™ä½Žå› æŸ¥æ‰¾å¼•èµ·çš„ç½‘ç»œä¼ è¾“å¼€é”€ï¼›ä¸è¿‡åœ¨åŠ¨æ€å˜åŒ–çš„ P2P ç½‘ç»œä¸­å¦‚ä½•ç†æƒ³åœ°åšåˆ°è¿™ä¸€ç‚¹æœ‰å¾ˆå¤§çš„éš¾åº¦ã€‚]]></content>
      <categories>
        <category>DHT</category>
      </categories>
      <tags>
        <tag>DHT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Retrofit2 é«˜çº§é…ç½®]]></title>
    <url>%2F%2FAndroid%2FRetrofit%2FRetrofit2%20%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»æœ‰æ—¶å€™ï¼Œretrofit æä¾›çš„åŸºç¡€åŠŸèƒ½ä¸å¤Ÿæˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦æ‰“ç½‘ç»œæ—¥å¿—ã€å¼ºåˆ¶ç¼“å­˜ï¼Œè®¾ç½®å…¬æœ‰å¤´ç­‰ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹ OkHttp çš„ client è¿›è¡Œå®šåˆ¶ï¼ŒéšåŽè®© retrofit ä½¿ç”¨æˆ‘ä»¬å®šåˆ¶çš„ clientï¼Œä»Žè€Œå®žçŽ°æˆ‘ä»¬çš„éœ€æ±‚ã€‚ 2. åˆå§‹åŒ–æ“ä½œä¸ºäº†å®šåˆ¶æˆ‘ä»¬è‡ªå·±çš„ Okhttp clientï¼Œéœ€è¦å…ˆèŽ·å– Okhttp.Builder å¯¹è±¡ï¼Œé€šè¿‡å¯¹ builder çš„ä¸æ–­å¤„ç†ï¼Œä»Žè€Œæž„å»ºå‡ºæˆ‘ä»¬æ‰€éœ€è¦çš„ clientã€‚1OkHttpClient.Builder builder = new OkHttpClient.Builder(); 3. è®¾ç½®ç¼“å­˜Retrofit åœ¨å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´å†…ï¼Œéƒ½æ²¡æœ‰å†…ç½®çš„ç¼“å­˜å¤„ç†æ¡†æž¶ï¼Œä½†æ˜¯åœ¨ Retrofit2 å¼ºåˆ¶ä½¿ç”¨ OkHttp ä¹‹åŽï¼Œè¿™ä¸ªé—®é¢˜å°±ä¸å†å­˜åœ¨äº†ã€‚æˆ‘ä¸€å¼€å§‹å…¥é—¨ retrofit çš„æ—¶å€™ä¹Ÿæ˜¯èŠ±äº†å¾ˆé•¿æ—¶é—´åœ¨æ‰¾å¦‚ä½•å»ºç«‹ç¼“å­˜å¤„ç†æœºåˆ¶ï¼Œå®žé™…ä¸Šè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚åªè¦æœåŠ¡ç«¯æä¾›æ­£ç¡®çš„å¤´ä¿¡æ¯ï¼ŒOkHttp å°±èƒ½å¯¹åº”çš„å®žçŽ°ç¼“å­˜åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦å…¶ä»–è®¾ç½®ã€‚å½“ç„¶ï¼Œå¦‚æžœéœ€è¦å¼ºåˆ¶ä½¿ç”¨ç¼“å­˜çš„è¯ï¼Œå¯ä»¥é€šè¿‡å¢žåŠ æ‹¦æˆªå™¨çš„åŠžæ³•è®¾ç½® Cache-Control å¤´ï¼Œä»Žè€Œæž„å»ºå®¢æˆ·ç«¯è‡ªå·±çš„ç¼“å­˜å¤„ç†ã€‚ä½†æ˜¯ï¼Œåªè¦æœåŠ¡ç«¯æä¾›æ­£ç¡®çš„å¤´ä¿¡æ¯ï¼Œè¿™ä¸€æ­¥å°±å¯ä»¥çœç•¥ï¼ŒOkHttp ä¼šè‡ªåŠ¨è¿›è¡Œç¼“å­˜ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦é€šè¿‡ builder çš„ cache() æ–¹æ³•æ¥è®¾ç½®ç¼“å­˜çš„è·¯å¾„123File cacheDir = getCacheDir();Cache cache = new Cache(cacheDir);builder.cache(cache); 3.1 æž„å»ºè‡ªå·±çš„ç¼“å­˜å¤„ç†ç­–ç•¥é€šè¿‡æ‹¦æˆªå™¨è®¾ç½® Cache-Control å¤´ï¼Œå¯ä»¥æž„å»ºè‡ªå·±çš„ç¼“å­˜å¤„ç†ç­–ç•¥ã€‚12345678910111213141516171819202122232425262728293031File cacheFile = new File(DemoApplication.getContext().getExternalCacheDir(), "WuXiaolongCache");Cache cache = new Cache(cacheFile, 1024 * 1024 * 50);Interceptor cacheInterceptor = new Interceptor() &#123; @Override public Response intercept(Chain chain) throws IOException &#123; Request request = chain.request(); if (!AppUtils.networkIsAvailable(DemoApplication.getContext())) &#123; request = request.newBuilder() .cacheControl(CacheControl.FORCE_CACHE) .build(); &#125; Response response = chain.proceed(request); if (AppUtils.networkIsAvailable(DemoApplication.getContext())) &#123; int maxAge = 0; // æœ‰ç½‘ç»œæ—¶ è®¾ç½®ç¼“å­˜è¶…æ—¶æ—¶é—´0ä¸ªå°æ—¶ response.newBuilder() .header("Cache-Control", "public, max-age=" + maxAge) .removeHeader("WuXiaolong")// æ¸…é™¤å¤´ä¿¡æ¯ï¼Œå› ä¸ºæœåŠ¡å™¨å¦‚æžœä¸æ”¯æŒï¼Œä¼šè¿”å›žä¸€äº›å¹²æ‰°ä¿¡æ¯ï¼Œä¸æ¸…é™¤ä¸‹é¢æ— æ³•ç”Ÿæ•ˆ .build(); &#125; else &#123; // æ— ç½‘ç»œæ—¶ï¼Œè®¾ç½®è¶…æ—¶ä¸º4å‘¨ int maxStale = 60 * 60 * 24 * 28; response.newBuilder() .header("Cache-Control", "public, only-if-cached, max-stale=" + maxStale) .removeHeader("nyn") .build(); &#125; return response; &#125;&#125;;builder.cache(cache).addInterceptor(cacheInterceptor); 4. å¤´ä¿¡æ¯æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è‡ªå·±å®šä¹‰å¤´ä¿¡æ¯ï¼›åŒ…æ‹¬æœ€åŸºæœ¬çš„ Accept å’Œ Content-Type ä¿¡æ¯ï¼›è¿˜æœ‰å°±æ˜¯æœåŠ¡å™¨è¦æ±‚éªŒè¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æä¾› Authentication ä¿¡æ¯ã€‚å¤´ä¿¡æ¯å½“ç„¶å¯ä»¥åœ¨ ApiServices æŽ¥å£ä¸­é€šè¿‡æ³¨è§£æ¥æŒ‡å®šï¼›ä½†æ˜¯å¦‚æžœæˆ‘ä»¬è¦æ‰€æœ‰çš„è¯·æ±‚éƒ½å¸¦ä¸Šå¤´ä¿¡æ¯çš„è¯ï¼Œä½¿ç”¨æ³¨è§£æ¥æŒ‡å®šåŠ¿å¿…æ˜¾å¾—å¤ªè¿‡éº»çƒ¦äº†ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ OkHttp çš„ Interceptor æ¥è¿›è¡Œã€‚123456789101112131415Interceptor interceptor = new Interceptor() &#123; @Override public Response intercept(Chain chain) throws IOException &#123; // ç›´æŽ¥ä½¿ç”¨æ—§è¯·æ±‚æ–°å»º Request originalRequest = chain.request(); Request request = originalRequest.newBuilder() .header("Accept", "application/json"); .header("Content-Type", "application/json"); return chain.proceed(request); &#125;&#125;;builder.addInterceptor(interceptor); 5. æ—¥å¿—ä¼—æ‰€å‘¨çŸ¥ï¼Œç½‘ç»œå¦‚æžœæ²¡æœ‰æ—¥å¿—æ‰“å°æ˜¯æ— æ³•è°ƒ bug çš„ã€‚é‚£ä¹ˆå¦‚ä½•åœ¨ä½¿ç”¨ retrofit æ—¶æ‰“å°ç½‘ç»œæ—¥å¿—å‘¢ï¼ŸåŒæ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿˜æ˜¯ OkHttp çš„ Interceptorã€‚ä½†æ˜¯ï¼Œè¿™æ¬¡ç¨å¾®æœ‰ç‚¹ä¸åŒï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ retrofit æä¾›çš„å®˜æ–¹æ‰“æ—¥å¿—ä¸“ç”¨æ‹¦æˆªå™¨ã€‚æ³¨æ„ï¼Œæ—¥å¿—æ‹¦æˆªå™¨å¿…é¡»åœ¨ç¬¬ä¸€ä½ï¼ 5.1 æ·»åŠ ä¾èµ–1compile 'com.squareup.okhttp3:logging-interceptor:3.4.1' 5.2 é…ç½®æ‹¦æˆªå™¨1234HttpLoggingInterceptor logging = new HttpLoggingInterceptor();logging.setLevel(Level.BASIC);builder.addIntercetor(logging); 6. æž„å»º clientå½“é…ç½®å®Œæ¯•åŽï¼Œå°±å¯ä»¥ç”¨æˆ‘ä»¬çš„ Builder ç”Ÿæˆ client äº†ã€‚1client = builder.build(); 7. å°† client åŠ å…¥ retrofit builderæœ€åŽï¼Œè¦è®©æˆ‘ä»¬çš„ retrofit ä½¿ç”¨ client æ‰èƒ½è¾¾åˆ°æ•ˆæžœã€‚1retrofitBuilder.client(client);]]></content>
      <categories>
        <category>Android</category>
        <category>Retrofit</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Retrofit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin lateinit vs lazy]]></title>
    <url>%2F%2FKotlin%2FKotlin%20lateinit%20vs%20lazy%2F</url>
    <content type="text"><![CDATA[lateinit å’Œ lazy æ˜¯ Kotlin ä¸­çš„ä¸¤ç§ä¸åŒçš„å»¶è¿Ÿåˆå§‹åŒ–æŠ€æœ¯ã€‚åœ¨ Kotlin ä½¿ç”¨ä¸­ï¼Œå¾ˆå¯èƒ½æžä¸æ¸…æ¥šå®ƒä»¬çš„ä½¿ç”¨åœºæ™¯å’Œæ–¹æ³•ã€‚ä¸‹é¢å°±æ¥åšä¸€ä¸ªç†æ¸…ï¼šlateinit åªç”¨äºŽ varï¼Œè€Œ lazy åªç”¨äºŽ vallateinit å’Œ lazy éƒ½ä¸èƒ½æœ‰ è‡ªå®šä¹‰çš„ getter å’Œ setterï¼Œä½†æ˜¯å¯ä»¥å¯¹ getter å’Œ setter è¿›è¡Œå¯è§ç¬¦ä¿®é¥°lazy åº”ç”¨äºŽå•ä¾‹æ¨¡å¼(if-null-then-init-else-return)ï¼Œè€Œä¸”å½“ä¸”ä»…å½“å˜é‡è¢«ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™ï¼Œå§”æ‰˜æ–¹æ³•æ‰ä¼šæ‰§è¡Œã€‚lateinit åˆ™ç”¨äºŽåªèƒ½ç”Ÿå‘½å‘¨æœŸæµç¨‹ä¸­è¿›è¡ŒèŽ·å–æˆ–è€…åˆå§‹åŒ–çš„å˜é‡ï¼Œæ¯”å¦‚ Android çš„ onCreate()å½“å•ä¾‹å¯¹è±¡éœ€è¦ä½¿ç”¨å¤–ç•Œå‚æ•°æ¥è¿›è¡Œæž„é€ æ—¶ï¼Œå†…éƒ¨çš„è¯¥å‚æ•°å¯¹åº”çš„å±žæ€§åº”ä½¿ç”¨ lateinitæ¯”å¦‚è¯´ç½‘ç»œ ApiManager éœ€è¦ context æ¥è¿›è¡ŒèŽ·å–ç¼“å­˜çš„æ“ä½œï¼›é‚£ä¹ˆï¼ŒApiManager ä¸­çš„ context å±žæ€§å°±å¿…é¡»ä½¿ç”¨ lateinitè¿™æ˜¯å› ä¸ºï¼Œlazy ä½¿ç”¨å§”æ‰˜æ–¹æ³•æ¥è¿›è¡Œå˜é‡åˆå§‹åŒ–ï¼Œè€Œå§”æ‰˜æ–¹æ³•ä¸èƒ½ä»Žå¤–ç•ŒèŽ·å–å‚æ•°ï¼Œä½†æ˜¯ lateinit å¯ä»¥é€šè¿‡ä¸€ä¸ª init(context: Context) æ¥èŽ·å–åˆ°ç›¸åº”çš„å¤–ç•Œå‚æ•°æ¥åˆå§‹åŒ–å±žæ€§ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Material Design é«˜åº¦å’Œé˜´å½±]]></title>
    <url>%2F%2FMaterialDesign%2FMaterial%20Design%20%E9%AB%98%E5%BA%A6%E5%92%8C%E9%98%B4%E5%BD%B1%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°åœ¨ Materail Design ä¸­ï¼Œç‰©ä½“çš„è¡Œä¸ºå’ŒçœŸå®žä¸–ç•Œä¸­å¾ˆç›¸ä¼¼ã€‚åœ¨çœŸå®žä¸–ç•Œä¸­ï¼Œç‰©ä½“å †æ”¾å’Œå åŠ åœ¨ä¸€èµ·ï¼Œä½†æ˜¯ä¸èƒ½ç©¿è¿‡å½¼æ­¤ï¼Œå¹¶ä¸”ä¼šæŠ•å°„å‡ºé˜´å½±ã€‚Material Design çš„å®žä½“ä¸Žä¹‹ç±»ä¼¼ï¼Œä¹Ÿéœ€è¦æŠ•å°„é˜´å½±ã€‚Material Design å®žä½“å…·æœ‰ä»¥ä¸‹ä¸‰ä¸ªé«˜åº¦å±žæ€§ï¼šé«˜åº¦ï¼šæŒ‡çš„æ˜¯ä¸€ä¸ªç‰©ä½“ è¡¨é¢ åˆ°å¦ä¸€ç‰©ä½“è¡¨é¢çš„è·ç¦»ã€‚ç‰©ä½“çš„é«˜åº¦å†³å®šäº†å®ƒçš„é˜´å½±æŠ•å°„æƒ…å†µé»˜è®¤é«˜åº¦ï¼šä»»ä½•çš„å®žä½“éƒ½å…·æœ‰é»˜è®¤é«˜åº¦(Resting Elevation)ï¼Œåœ¨ä¸€ä¸ªå¹³å°ä¸­ï¼Œç»„ä»¶çš„é»˜è®¤é«˜åº¦æ˜¯ ä¸€è‡´çš„ï¼Œä½†æ˜¯ä¸åŒçš„ å¹³å° æˆ–è€… è®¾å¤‡ å¯èƒ½å…·æœ‰ä¸åŒçš„é»˜è®¤é«˜åº¦ã€‚åŠ¨æ€çš„é«˜åº¦åç§»ï¼šè¿™ä¸ªå±žæ€§æŒ‡çš„æ˜¯å®žä½“åœ¨ å“åº”äº‹ä»¶æ—¶ ç›¸å¯¹äºŽ é»˜è®¤é«˜åº¦ çš„åç§»é‡ã€‚ 2. é«˜åº¦ï¼ˆAndroidï¼‰ 2.1 è¯´æ˜Žé«˜åº¦çš„è¡¨ç¤ºå•ä½ä¹Ÿæ˜¯ dpï¼Œä¸Ž x å’Œ y åæ ‡ä¸€æ ·ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºŽå®žä½“ä¹Ÿå…·æœ‰åŽšåº¦(1 dp)ï¼Œæ‰€ä»¥é«˜åº¦æŒ‡çš„æ˜¯ä»Žä¸€ä¸ªå®žä½“è¡¨é¢åˆ°å¦ä¸€ä¸ªå®žä½“è¡¨é¢çš„è·ç¦»ã€‚åŒæ—¶ï¼Œä¸€ä¸ªå­å¯¹è±¡çš„é«˜åº¦ï¼ŒæŒ‡çš„æ˜¯å…¶ ç›¸å¯¹äºŽçˆ¶å¯¹è±¡çš„è·ç¦»ã€‚ 2.2 é»˜è®¤é«˜åº¦é»˜è®¤é«˜åº¦æ˜¯ä¸ä¼šå˜åŒ–çš„ï¼Œå½“ä¸€ä¸ªç»„ä»¶çš„é«˜åº¦å˜åŒ–æ—¶ï¼Œå®ƒåº”è¯¥å°½å¿«çš„æ¢å¤é»˜è®¤é«˜åº¦ã€‚å„ä¸ª Android ç»„ä»¶çš„é»˜è®¤é«˜åº¦å¯ä»¥åˆ°å®˜ç½‘æŸ¥çœ‹ã€‚å¯¹äºŽæ¡Œé¢çŽ¯å¢ƒæ¥è¯´ï¼Œä¸ºäº†å®¹çº³é¼ æ ‡å’Œå…¶ä»–éžè§¦æ‘¸äº‹ä»¶ï¼Œå®ƒçš„ç»„ä»¶çš„é»˜è®¤é«˜åº¦è¦æ¯” Android ç»„ä»¶çš„é»˜è®¤é«˜åº¦ä½Ž 2 dpã€‚ç»„ä»¶çš„é«˜åº¦åœ¨ä¸åŒçš„ App ä¹‹é—´åº”è¯¥ç›¸åŒï¼Œä½†æ˜¯åœ¨ä¸åŒè®¾å¤‡ä¹‹é—´ä¸åŒã€‚æ¯”å¦‚è¯´ç”µè§†å’Œ PC å°±æ¯”æ‰‹æœºå…·æœ‰æ›´æ·±çš„å±‚æ¬¡ã€‚ 2.3 æ„Ÿåº”é«˜åº¦å’ŒåŠ¨æ€çš„é«˜åº¦åç§»ä¸€äº›ç»„ä»¶å¯èƒ½æ‹¥æœ‰æ„Ÿåº”é«˜åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šæ ¹æ®ç”¨æˆ·çš„è¾“å…¥ï¼ˆæ¯”å¦‚è¯´è§¦æ‘¸äº‹ä»¶ï¼‰æ¥æ”¹å˜è‡ªå·±çš„é«˜åº¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè§¦æ‘¸ï¼Œæˆ–è€…æŒ‰åŽ‹ä¸€ä¸ªç»„ä»¶ä¼šä½¿å®ƒçš„é«˜åº¦å˜é«˜ã€‚è¿™äº›é«˜åº¦å˜åŒ–æ˜¯é€šè¿‡ åŠ¨æ€é«˜åº¦åç§» å®žçŽ°çš„ã€‚åŠ¨æ€é«˜åº¦åç§»æ˜¯ç›¸å¯¹äºŽé»˜è®¤é«˜åº¦æ¥è¯´ï¼Œç»„ä»¶éœ€è¦ç§»åŠ¨çš„é«˜åº¦é‡ã€‚åŠ¨æ€é«˜åº¦åç§»ä¿è¯äº†åœ¨ç§»åŠ¨åº”ç”¨ä¸­ç»„ä»¶é«˜åº¦åç§»é‡çš„ä¸€è‡´æ€§ã€‚ç»„ä»¶æŽ¥å—åˆ°è§¦æ‘¸äº‹ä»¶åŽï¼Œéƒ½èƒ½æœ‰ä¸€ä¸ªä¸å˜çš„é«˜åº¦åç§»é‡ã€‚ä¸€æ—¦è§¦æ‘¸äº‹ä»¶å®Œæ¯•ï¼Œæˆ–è€…è¢«å–æ¶ˆï¼Œé‚£ä¹ˆç»„ä»¶å°±å¿…é¡»æ¢å¤åˆ°å…¶é»˜è®¤é«˜åº¦ã€‚ 2.4 é¿å…é«˜åº¦å†²çªæ‹¥æœ‰æ„Ÿåº”é«˜åº¦çš„ç»„ä»¶å¯èƒ½ä¼šå¯¼è‡´å…¶ä»–ç»„ä»¶éšç€å…¶é«˜åº¦å˜åŒ–è€Œå˜åŒ–ï¼Œè¿™æ˜¯å› ä¸º ç»„ä»¶ä¸å¯ä»¥ç›¸äº’ç©¿é€ã€‚é¿å…å†²çªçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼šåœ¨æŸä¸€å…ƒç´ æ°´å¹³ä¸Šï¼Œå…ƒç´ å¯ä»¥åœ¨å®ƒä»¬äº§ç”Ÿå†²çªå‰æå‰ç§»åŠ¨æˆ–è€…æ¶ˆå¤±ã€‚æ¯”å¦‚è¯´ä¸€ä¸ª FAB å°±å¯ä»¥åœ¨ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªå¡ç‰‡çš„æ—¶å€™æ¶ˆå¤±æˆ–è€…ç§»å‡ºå±å¹•ã€‚åœ¨å¸ƒå±€æ°´å¹³ä¸Šï¼Œä½ éœ€è¦é€šè¿‡è®¾è®¡ä½ çš„ App å¸ƒå±€æ¥å‡å°‘å†²çªçš„å¯èƒ½æ€§ã€‚æ¯”å¦‚è¯´å°† FAB ç½®äºŽå¡ç‰‡åˆ—è¡¨çš„ä¸€ç«¯æ¥é¿å… FAB ä¸Žå¡ç‰‡å‡ºçŽ°çš„å†²çªã€‚ 2.5 ç»„ä»¶é«˜åº¦æ¯”è¾ƒå›¾ä¸­åªæœ‰ç»„ä»¶çš„é«˜åº¦æ˜¯æ­£ç¡®çš„ï¼Œå…¶ä»–çš„å±žæ€§(æ¯”å¦‚é¢ç§¯)ä¸ä¸€å®šæ­£ç¡®![whatismaterial_3d_elevation3](https://ooo.0o0.ooo/2016/10/25/580f985cb48ba.png)ä¸€ä¸ªå¡ç‰‡ï¼ŒApp Bar å’Œ FAB çš„ä¾‹å­![whatismaterial_3d_elevation4](https://ooo.0o0.ooo/2016/10/25/580f989bbcbd6.png)å¦ä¸€ä¸ª Navigation Drawer çš„ä¾‹å­ 3. é˜´å½±é˜´å½±ç»™ç‰©ä½“çš„é«˜åº¦å’Œå…¶è¿åŠ¨çš„æ–¹å‘ç»™äºˆäº†ä¸€ä¸ªé‡è¦çš„è§†è§‰çº¿ç´¢ã€‚å®ƒä»¬ä¹Ÿæ˜¯å”¯ä¸€çš„ç”¨äºŽåŒºåˆ†ä¸åŒå¹³é¢çš„è§†è§‰çº¿ç´¢ã€‚ä¸€ä¸ªç‰©ä½“çš„é˜´å½±ç”±å…¶é«˜åº¦å†³å®šã€‚ä¸å¯å–ï¼Œæ²¡æœ‰é˜´å½±ï¼Œæ— æ³•åŒºåˆ† FAB å’ŒèƒŒæ™¯ä¸å¯å–ï¼Œè¿‡äºŽè„†å¼±çš„é˜´å½±è¡¨ç¤º FAB å’Œè“è‰²èƒŒæ™¯æ˜¯åœ¨åŒä¸€ä¸ªå¹³é¢çš„å¯å–ï¼Œè¾ƒå¤§ä¸”æŸ”è½¯çš„é˜´å½±è¡¨ç¤º FAB çš„é«˜åº¦æ¯”è“è‰²èƒŒæ™¯è¦é«˜ã€‚å½“å‡ºçŽ°è§¦æ‘¸äº‹ä»¶æ—¶ï¼Œé˜´å½±å¯ä»¥æä¾›ä¸€ä¸ªç‰©ä½“è¿åŠ¨æ–¹å‘çš„è§†è§‰çº¿ç´¢ï¼Œä»¥ä½“çŽ°ç‰©ä½“å’Œå¹³é¢ä¹‹é—´çš„ç›¸å¯¹è·ç¦»ã€‚ä¸å¯å–ï¼Œæ²¡æœ‰é˜´å½±æ— æ³•æŒ‡ç¤ºç‰©ä½“æ˜¯å¢žå¤§ä½“ç§¯è¿˜æ˜¯å¢žåŠ é«˜åº¦å¯å–ï¼Œé˜´å½±å˜å¾—æ›´å¤§ï¼Œæ›´æŸ”è½¯è¡¨æ˜Žäº†ç‰©ä½“çš„é«˜åº¦åœ¨å¢žåŠ ï¼›åä¹‹ï¼Œé˜´å½±å˜å¾—æ›´å°ï¼Œæ›´è„†å¼±è¡¨æ˜Žç‰©ä½“çš„é«˜åº¦åœ¨å‡å°‘å¯å–ï¼Œé˜´å½±ä¸æ”¹å˜ï¼Œè¡¨æ˜Žç‰©ä½“çš„é«˜åº¦æ²¡æœ‰å¢žåŠ ï¼Œè€Œåªæ˜¯ä½“ç§¯å¢žå¤§äº†ã€‚ 3.1 ç»„ä»¶å‚è€ƒé«˜åº¦ä¸‹é¢åˆ—å‡ºä¸€äº›ç»„ä»¶çš„å‚è€ƒé«˜åº¦ï¼Œå®ƒä»¬åº”å½“ä½œä¸ºé«˜åº¦çš„å…¸èŒƒæ¥ä½¿ç”¨ã€‚ 3.1.1 App Bar4dp 3.1.2 Raised Buttoné»˜è®¤é«˜åº¦ï¼š 2dpæŒ‰ä¸‹é«˜åº¦ï¼š 8dp 3.1.3 Floating Action Button(FAB)é»˜è®¤é«˜åº¦ï¼š 6dpæŒ‰ä¸‹é«˜åº¦ï¼š 12dp 3.1.4 CardæŒ‰ä¸‹é«˜åº¦ï¼š 2dpæŠ¬èµ·é«˜åº¦ï¼š 8dp 3.1.5 Menus and sub menusèœå•ï¼š 8dpæ¯ä¸ªå­èœå•ç›¸å¯¹äºŽçˆ¶èœå•å¢žåŠ  1dp 3.1.6 Dialogs24dp 3.1.7 Nav Drawer and Right Drawer16dp 3.1.8 Modal Button Sheet16dp 3.1.9 Refresh indecator3dp 3.1.10 Quick entry/Search baré»˜è®¤é«˜åº¦ï¼š 2dpæ»šåŠ¨é«˜åº¦ï¼š 3dp 3.1.11 Snackbar6dp 3.1.12 Switch1dp 4. å¯¹è±¡é—´å…³ç³»å¯¹è±¡å’Œå¯¹è±¡é›†åˆé—´çš„å…³ç³»å’Œç»„ç»‡ç»“æž„å°±å†³å®šäº†ï¼Œå½“æŸä¸ªå¯¹è±¡ç§»åŠ¨æ—¶ï¼Œå…¶ä»–çš„å¯¹è±¡æ˜¯å¦éšå…¶ç§»åŠ¨ã€‚å¯¹è±¡å¯ä»¥ç‹¬ç«‹çš„ç§»åŠ¨ï¼Œä¹Ÿå¯ä»¥è¢«å…¶ä»–ä¸Šå±‚å¯¹è±¡çš„ç§»åŠ¨è€Œéšå…¶ç§»åŠ¨ 4.1 å¯¹è±¡çš„å±‚æ¬¡ç»“æž„æ‰€æœ‰çš„å¯¹è±¡éƒ½åœ¨ä¸€ä¸ª çˆ¶å­å…³ç³» çš„ç»„ç»‡ç»“æž„ä¸­ã€‚ç”±äºŽ Android é‡‡ç”¨ XML æ ‡ç­¾ç»“æž„ä¸€ä¸ªå¯¹è±¡å¯ä»¥æ˜¯ç³»ç»Ÿçš„å­å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªå¯¹è±¡çš„å­å¯¹è±¡ã€‚çˆ¶å­å…³ç³»çš„è¯´æ˜Žï¼šä»»ä½•ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªçˆ¶å¯¹è±¡ä»»ä½•ä¸€ä¸ªå¯¹è±¡å¯ä»¥æ‹¥æœ‰ 0 æˆ–å¤šä¸ªå­å¯¹è±¡å­å¯¹è±¡ä»Žçˆ¶å¯¹è±¡ä¸­ç»§æ‰¿å¯å˜å±žæ€§ï¼Œä¾‹å¦‚ä½ç½®ï¼Œæ—‹è½¬è§’åº¦ï¼Œæ”¾å¤§å€æ•°ï¼Œå’Œé«˜åº¦åŒä¸€å±‚çº§çš„ä¸¤ä¸ªå¯¹è±¡ç§°ä¸ºå…„å¼Ÿå¯¹è±¡å¦‚å›¾ï¼Œå¡ç‰‡ä¸Šçš„æŒ‰é’®éšç€å†…å®¹çš„æ»šåŠ¨è€Œæ»šåŠ¨ 4.2 ä¾‹å¤–çˆ¶å¯¹è±¡æ˜¯æ ¹å¯¹è±¡çš„å¯¹è±¡ï¼Œä¾‹å¦‚ä¸€äº›ä¸»è¦çš„ UI ç»„ä»¶ï¼Œå®ƒä»¬çš„ç§»åŠ¨æ˜¯ç‹¬ç«‹äºŽå…¶ä»–å¯¹è±¡çš„ã€‚æ¯”å¦‚è¯´ï¼Œä¸€ä¸ª FAB æ˜¯ä¸ä¼šéšç€å†…å®¹çš„ç§»åŠ¨è€Œæ»šåŠ¨çš„ã€‚å…¶ä»–çš„è¿™ç§å¯¹è±¡è¿˜åŒ…æ‹¬ï¼šNav drawerApp barDialogså¦‚å›¾ï¼ŒFAB ä¸éšç€å†…å®¹çš„æ»šåŠ¨è€Œæ»šåŠ¨ 4.3 äº¤äº’å¯¹è±¡å’Œå…¶ä»–å¯¹è±¡çš„äº¤äº’åŠ¨ä½œç”±å®ƒæ‰€åœ¨çš„ç»“æž„ä½ç½®å†³å®šã€‚ä¾‹å¦‚ï¼šå­å¯¹è±¡å…·æœ‰ä¸€ä¸ªèƒ½ä¸Žçˆ¶å¯¹è±¡åŒºåˆ†çš„æœ€å° z è½´é«˜åº¦ã€‚å…¶ä»–çš„å¯¹è±¡ä¸èƒ½æ’å…¥åˆ°è¿™ä¸ªçˆ¶å¯¹è±¡å’Œå­å¯¹è±¡ä¹‹é—´æ»šåŠ¨çš„å¡ç‰‡æ˜¯å…„å¼Ÿå¯¹è±¡ï¼Œæ‰€ä»¥å®ƒä»¬ä¼šä¸€èµ·ç§»åŠ¨ã€‚è€ŒæŽ§åˆ¶å®ƒä»¬ç§»åŠ¨çš„å°±æ˜¯å®ƒä»¬çš„çˆ¶å¯¹è±¡ã€‚ 4.4 é«˜åº¦å¯¹è±¡çš„é«˜åº¦å–å†³äºŽå®ƒçš„å†…å®¹çš„ç»“æž„è¿˜æœ‰å®ƒæ˜¯å¦èƒ½ç‹¬ç«‹äºŽå…¶ä»–å¯¹è±¡ç§»åŠ¨ã€‚]]></content>
      <categories>
        <category>MaterialDesign</category>
      </categories>
      <tags>
        <tag>MaterialDesign</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Retrofit ç¦»çº¿ç¼“å­˜]]></title>
    <url>%2F%2FAndroid%2FRetrofit%2FRetrofit%20%E7%A6%BB%E7%BA%BF%E7%BC%93%E5%AD%98%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Retrofit2 è‡ªä»Žé»˜è®¤ä½¿ç”¨ OkHttp åº“ä¹‹åŽï¼Œè‡ªå¸¦äº†ç¼“å­˜åŠŸèƒ½ï¼›ä½†æ˜¯ï¼Œè¿™ä¸ªç¼“å­˜åŠŸèƒ½æ˜¯åœ¨çº¿ç¼“å­˜ï¼Œä¹Ÿå°±æ˜¯å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›ž 304ï¼Œè€Œä¸æ˜¯ç›´æŽ¥ä»Žç¼“å­˜è¯»å–è€Œä¸å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚è¿™æ ·ï¼Œå½“æˆ‘ä»¬çš„åº”ç”¨å¤„åœ¨ç¦»çº¿çŠ¶æ€æ—¶å€™ï¼Œå°±æ— æ³•è¯»å–ç¼“å­˜ä¸­çš„å†…å®¹äº†ã€‚è¿™å¯¹äºŽç”¨æˆ·ä½“éªŒæ¥è¯´æ˜¾ç„¶æ˜¯ä¸å¥½çš„ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•é…ç½® Retrofit å’Œ OkHttp æ¥è¿›è¡Œç¦»çº¿ç¼“å­˜ 2. è®¾ç½®ç¼“å­˜è·¯å¾„ä¸ºäº†ä½¿ç”¨ OkHttp çš„ç¼“å­˜ï¼Œæˆ‘ä»¬å°±å¿…é¡»è®¾ç½®ç›¸åº”çš„ç¼“å­˜è·¯å¾„ã€‚1234File cacheDir = getCacheDir();Cache cache = new Cache(cacheDir);client = builder.cache(cacheDir).build(); 3. é…ç½®æ‹¦æˆªå™¨OkHttp å¯ä»¥é€šè¿‡æ‹¦æˆªå™¨æ¥å®žçŽ°å¯¹è¯·æ±‚(Request)å’Œå“åº”(Response)çš„é­”æ”¹ã€‚æˆ‘ä»¬å®žçŽ°ç¦»çº¿ç¼“å­˜çš„æ–¹å¼ï¼Œå°±æ˜¯é‡‡ç”¨è¿™ä¸ªæ‹¦æˆªå™¨å¯¹å“åº”è¿›è¡Œé­”æ”¹ã€‚ 3.1 é€šè¿‡ CacheControl é…ç½®ç¼“å­˜é¦–å…ˆï¼Œæˆ‘ä»¬è¦å¯¹æˆ‘ä»¬çš„ç¼“å­˜ç­–ç•¥è¿›è¡Œé…ç½®ï¼Œæœ€å¥½çš„å½“ç„¶å°±æ˜¯ä½¿ç”¨ OkHttp è‡ªå¸¦çš„ CacheControl è¿›è¡Œé…ç½®ã€‚1234CacheControl.Builder cacheBuilder = new CacheControl.Builder();cacheBuilder.maxAge(0, TimeUnit.SECONDS);//è¿™ä¸ªæ˜¯æŽ§åˆ¶ç¼“å­˜çš„æœ€å¤§ç”Ÿå‘½æ—¶é—´cacheBuilder.maxStale(365,TimeUnit.DAYS);//è¿™ä¸ªæ˜¯æŽ§åˆ¶ç¼“å­˜çš„è¿‡æ—¶æ—¶é—´CacheControl cacheControl = cacheBuilder.build(); 3.2 å»ºç«‹æ‹¦æˆªå™¨å’Œè‡ªå®šä¹‰ Response ç¼“å­˜ä¸åŒï¼Œå¯¹äºŽç¦»çº¿ç¼“å­˜ï¼Œæˆ‘ä»¬å¯¹ Request è¿›è¡Œå¤„ç†ï¼›å½“ç¦»çº¿æ—¶ï¼Œç»™ Request èµ‹äºˆä¸€ä¸ªç¼“å­˜æŽ§åˆ¶å¯¹è±¡ï¼Œç„¶åŽç›´æŽ¥ proceed å³å¯ã€‚12345678910Request request = chain.request();// ç¦»çº¿çŠ¶æ€ä¸‹æ‰è¿›è¡Œè‡ªå®šä¹‰ç¼“å­˜æŽ§åˆ¶if(!StateUtils.isNetworkAvailable(MyApp.mContext))&#123; request = request.newBuilder() .cacheControl(cacheControl) .build();&#125;Response response = chain.proceed(request);]]></content>
      <categories>
        <category>Android</category>
        <category>Retrofit</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Retrofit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥ä½œæ€»ç»“æŠ¥å‘Š]]></title>
    <url>%2F%2FProjects%2FBigInovation%2F%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A%2F</url>
    <content type="text"><![CDATA[è´Ÿè´£äº†åœ°å›¾ UI ç•Œé¢çš„æž„å»ºå’Œä¸Žæ•´ä¸ªåº”ç”¨çš„é›†æˆï¼Œä»¥åŠåº”ç”¨çš„ç½‘ç»œæ¨¡å—ã€å’ŒåŽç«¯äº¤äº’çš„é€»è¾‘ï¼Œè¿˜æœ‰æ•´ä¸ªé¡¹ç›®å·¥ç¨‹çš„ä»£ç ç®¡ç†ã€‚åœ°å›¾çš„ UI ç•Œé¢ä½¿ç”¨äº† GitHub ä¸Šçš„ä¸€ä¸ªè€¦åˆåº¦è¾ƒä½Žçš„è¡¨ç¤ºå±‚åœ°å›¾è§†å›¾åº“ï¼Œå°†å…¶è¿›è¡Œä¸€å®šç¨‹åº¦çš„ä¼˜åŒ–åŽï¼Œåº”ç”¨åˆ°æœ¬é¡¹ç›®ä¸­ï¼Œä¹‹æ‰€ä»¥é€‰æ‹©å®ƒæ˜¯å› ä¸ºç›®å‰çš„ä¼˜ç§€åœ°å›¾æ˜¾ç¤ºå±‚å‡ä¸Žå¯¹åº”çš„åœ°å›¾æ¡†æž¶é«˜åº¦è€¦åˆï¼Œä¸æ–¹ä¾¿äºŒæ¬¡å¼€å‘å’Œ Bug ä¿®å¤ã€‚åº”ç”¨ç½‘ç»œæ¨¡å—é‡‡ç”¨äº†ç›®å‰ Android ä¸Šæœ€ä¸ºä¼˜ç§€çš„ Retrofit 2 ä½œä¸ºç½‘ç»œåŠ è½½åº“ï¼Œé€šè¿‡å®Œå…¨ RESTful çš„ç½‘ç»œè°ƒç”¨å’ŒåŽç«¯æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œä¸ŽåŽç«¯çš„ Django æ¡†æž¶å®Œç¾Žå¥‘åˆã€‚æ•´ä¸ªé¡¹ç›®çš„å·¥ç¨‹ä»£ç ä½¿ç”¨äº†å…¨çƒæœ€å¤§çš„ä»£ç æ‰˜ç®¡ç½‘ç«™ GitHub ï¼Œä»¥ç§æœ‰ä»“åº“çš„æ–¹å¼å°†ä»£ç æ‰˜ç®¡åœ¨å…¶æœåŠ¡å™¨ä¸Šã€‚é‡‡ç”¨ Git ä½œä¸ºä»£ç ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¹¶é‡‡ç”¨ GitHub ä¸Šæœ€æµè¡Œçš„ Pull Request å·¥ä½œæµï¼Œä¿è¯äº†æˆå‘˜å³ä½¿é‡‡ç”¨è¿œç¨‹å·¥ä½œæ¨¡å¼ï¼Œä¹Ÿå¯ä»¥æ— éšœç¢çš„ä¸Žç»„å‘˜æ²Ÿé€šï¼›åŒæ—¶ï¼Œå°†ä¸»åˆ†æ”¯è®¾ç½®ä¸ºä¿æŠ¤åˆ†æ”¯ï¼Œè¦æ±‚ä»£ç ç»è¿‡å®¡æŸ¥åŽæ–¹å¯åˆå¹¶ï¼Œç¡®ä¿äº†ä»£ç çš„å¯ç”¨æ€§ï¼Œæ­£ç¡®æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
        <category>å¤§åˆ›</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹</tag>
        <tag>å¤§åˆ›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Create Asserts Folder]]></title>
    <url>%2F%2FAndroid%2FCreate%20Asserts%20Folder%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°Android å¦‚ä½•åˆ›å»º Asserts æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜å‚¨ä¸€äº›éœ€è¦å†…ç½®åœ¨ app é‡Œçš„å¤§èµ„æºå‘¢ï¼Ÿæ­¥éª¤å¦‚ä¸‹ï¼š 1. å³è¾¹æ ç§»åŠ¨åˆ° Android è§†å›¾ 2. åœ¨ app å¤„å³é”®New -&gt; Folder -&gt; Asserts Folder 3. æŒ‰ç…§å¯¹è¯æ¡†æç¤ºè¿›è¡Œå³å¯]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android å¤šä¸ª icon é—®é¢˜]]></title>
    <url>%2F%2FAndroid%2FAndroid%20%E5%A4%9A%E4%B8%AA%20icon%20%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨å¼€å‘ä¸­é‡åˆ°çš„ Android App å®‰è£…åŽï¼ŒåŒä¸€ä¸ª app å±…ç„¶åœ¨åº”ç”¨åˆ—è¡¨é‡Œå‡ºçŽ°äº†ä¸¤ä¸ªæˆ–è€…ä»¥ä¸Šçš„å›¾æ ‡ï¼Œè¿™æ˜¯æ€Žä¹ˆå›žäº‹å‘¢ï¼ŸåŽŸæ¥ï¼ŒAndroid åªè¦æŒ‡å®šäº† action.MAIN çš„ Activity å°±ä¼šæ˜¾ç¤ºä¸€ä¸ªå›¾æ ‡ï¼Œè€Œä¸”å›¾æ ‡çš„åå­—å’Œ Activity çš„ android:label ç›¸åŒã€‚æ‰€ä»¥ï¼Œè§£å†³åŠžæ³•å°±æ˜¯åªä¿ç•™ä¸€ä¸ª action.MAINã€‚åŒæ—¶ï¼Œå¦‚æžœå¼•å…¥äº†å…¶ä»– moduleï¼Œä¹Ÿè¦æ£€æŸ¥é‚£ä¸ª module çš„ manifestï¼›ä¿è¯æ•´ä¸ªå·¥ç¨‹å°±åªæœ‰ä¸€ä¸ª action.MAIN]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Material Design å®žä½“å±žæ€§]]></title>
    <url>%2F%2FMaterialDesign%2FMaterial%20Design%20%E5%AE%9E%E4%BD%93%E5%B1%9E%E6%80%A7%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°Material å…·æœ‰æŸäº›ä¸å¯å˜çš„ç‰¹ç‚¹å’Œå›ºæœ‰çš„è¡Œä¸ºæ¨¡å¼äº†è§£å…³äºŽ Material çš„ç‰¹ç‚¹èƒ½æœ‰åŠ©äºŽä½ æ›´å¥½çš„åˆ©ç”¨ Materialï¼Œä»¥æœŸä¸Ž Material Design å…·æœ‰ä¸€è‡´æ€§ã€‚ Material çš„ç‰¹ç‚¹å›ºä½“å ç”¨ç©ºé—´ä¸­å”¯ä¸€çš„ä½ç½®ä¸å¯ç©¿é€çš„å½¢çŠ¶å¯æ”¹å˜åªåœ¨å¹³é¢æ–¹å‘ä¸Šæ”¹å˜å¤§å°ä¸å¯å¼¯æŠ˜å¯ä»¥èžå…¥å…¶ä»– Materialå¯ä»¥åˆ†å‰²ï¼Œåˆ†è£‚ï¼Œå’Œæ¢å¤å¯ä»¥è¢«åˆ›å»ºå’Œæ‘§æ¯å¯ä»¥åœ¨ä»»ä½•è½´è¿›è¡Œç§»åŠ¨ ç‰©ç†ç‰¹æ€§ åŽšåº¦å®žä½“å…·æœ‰å¯å˜åŒ–çš„é•¿å®½å°ºå¯¸ï¼Œå’Œ 1 dp çš„åŽšåº¦ã€‚Doï¼Œææ–™çš„é•¿å’Œå®½å¯ä»¥å˜åŒ–Don'tï¼Œææ–™çš„åŽšåº¦ä¸º 1 dp æŠ•å°„é˜´å½±æŠ•å°„é˜´å½±æ˜¯ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªå®žä½“ä¹‹é—´çš„ç›¸å¯¹è·ç¦»ã€‚Doï¼Œææ–™çš„é˜´å½±æ˜¯å®žä½“é—´è·ç¦»çš„ä½“çŽ°Don'tï¼Œé˜´å½±ä¸èƒ½ç”¨æ¥æè¾¹ å†…å®¹å†…å®¹èƒ½ä»¥ä»»æ„çš„å½¢çŠ¶å’Œé¢œè‰²åœ¨å®žä½“ä¸Šæ˜¾ç¤ºï¼Œå†…å®¹ä¸ç»™å®žä½“å¢žåŠ åŽšåº¦ã€‚Doï¼Œå†…å®¹èƒ½ä»¥ä»»æ„çš„å½¢çŠ¶å’Œé¢œè‰²æ¥å±•ç¤ºå†…å®¹çš„è¡Œä¸ºå¯ä»¥ç‹¬ç«‹äºŽå®žä½“ï¼Œä½†æ˜¯è¢«å®žä½“çš„å¤§å°æ‰€é™åˆ¶ã€‚Doï¼Œå†…å®¹è¢«å®žä½“å¤§å°æ‰€é™åˆ¶ ç‚¹å‡»äº‹ä»¶å®žä½“æ˜¯å›ºä½“ã€‚ç‚¹å‡»äº‹ä»¶ä¸èƒ½ç©¿è¿‡å®žä½“ã€‚Do, ç‚¹å‡»äº‹ä»¶åªèƒ½å½±å“å‰å°å®žä½“Don'tï¼Œç‚¹å‡»äº‹ä»¶ä¸èƒ½ç©¿è¿‡å®žä½“]]></content>
      <categories>
        <category>MaterialDesign</category>
      </categories>
      <tags>
        <tag>MaterialDesign</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[windows è‡ªåŠ¨æ›´æ–°èµ°ä»£ç†]]></title>
    <url>%2F%2Fwindows%20%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E8%B5%B0%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[æœ¬éƒ¨æ ¡å›­ç½‘ v4 æ”¶è´¹ï¼Œwindows æ›´æ–°åˆæ˜¯åˆšéœ€ï¼Œé‚£ä¹ˆå¦‚ä½•è®© windows è‡ªåŠ¨æ›´æ–°èµ°ä»£ç†å‘¢ï¼Ÿå…¶å®žåªéœ€è¦ä¸€æ¡å‘½ä»¤1netsh winhttp set proxy proxy-server="proxyserver:8080"å³å¯è®© windows çš„â€œè®¾ç½®â€èµ°ä»£ç†ã€‚æ³¨æ„ï¼Œè®¾ç½®ä¸­çš„ä»£ç†é€‰é¡¹å¯¹å…¶æœ¬èº«æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚è¿™ç‚¹è¿˜æ˜¯ *nix å¥½å•Šã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰æƒ³è¦ç›´è¿žçš„æ—¶å€™ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯æ¢å¤ç›´è¿ž1netsh winhttp reset proxy]]></content>
      <tags>
        <tag>Proxy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å±€åŸŸç½‘å†…ç½‘æœåŠ¡å™¨ç®€æ˜“å¼€å¯æ–¹æ³•]]></title>
    <url>%2F%2F%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E7%BD%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AE%80%E6%98%93%E5%BC%80%E5%90%AF%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[1. Windows12# python3python -m http.serverWindows è™½è¯´è‡ªå¸¦å±€åŸŸç½‘åŠŸèƒ½ï¼Œä½†éœ€è¦é…ç½®ä¸€å¤§å †ä¸œè¥¿ç”šæ˜¯éº»çƒ¦ã€‚è£…ä¸Š pythonï¼Œç›´æŽ¥ä¸€æ¡æŒ‡ä»¤æžå®šã€‚ 2. Unix-like*.nix ç³»ç»Ÿçš„åŒå­¦åº”è¯¥å¾ˆç†Ÿæ‚‰äº†ï¼Œä½¿ç”¨ darkhttpd å‘½ä»¤è¡Œå·¥å…·å°±å¯ä»¥å¼€å¯æœ¬åœ°æœåŠ¡å™¨ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ python çš„æ–¹æ³•ã€‚]]></content>
      <tags>
        <tag>LocalNetwork</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[14. æ— å‘å›¾]]></title>
    <url>%2F%2FAlgorithm%2F14.%20%E6%97%A0%E5%90%91%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[14.1 æœ¯è¯­å›¾æ˜¯ç”±ä¸€ç»„é¡¶ç‚¹å’Œå°†ç‚¹è¿žæŽ¥èµ·æ¥çš„è¾¹ç»„æˆçš„ã€‚ç›¸é‚»ï¼šå¦‚æžœä¸¤ä¸ªé¡¶ç‚¹è¢«è‡³å°‘ä¸€æ¡è¾¹è¿žæŽ¥ï¼Œé‚£ä¹ˆå°±ç§°é¡¶ç‚¹ç›¸é‚»ï¼Œå¹¶ç§°è¾¹ä¾é™„äºŽé¡¶ç‚¹ã€‚é¡¶ç‚¹çš„åº¦ï¼šä¾é™„äºŽå®ƒçš„è¾¹çš„æ¡æ•°å­å›¾ï¼šä¸€å¹…å›¾çš„å­é›†ï¼ˆåŒ…æ‹¬è¾¹å’Œé¡¶ç‚¹ï¼‰ç»„æˆçš„å›¾è·¯å¾„ï¼šç”±è¾¹é¡ºåºè¿žæŽ¥çš„ä¸€ç»„é¡¶ç‚¹å…¶ä¸­åˆåˆ†ä¸ºç®€å•è·¯å¾„å’ŒçŽ¯ï¼šç®€å•è·¯å¾„ï¼šæ²¡æœ‰é‡å¤é¡¶ç‚¹çš„è·¯å¾„ç®€å•çŽ¯ï¼šèµ·ç‚¹å’Œç»ˆç‚¹å¿…é¡»ç›¸åŒçš„æ²¡æœ‰é‡å¤é¡¶ç‚¹å’Œè¾¹çš„çŽ¯è¿žé€šå›¾ï¼šå¦‚æžœä»Žä»»ä½•ä¸€ä¸ªé¡¶ç‚¹éƒ½å­˜åœ¨ä¸€æ¡è·¯å¾„åˆ°è¾¾å¦ä¸€ä¸ªä»»æ„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç§°è¿™å¹…å›¾ä¸ºè¿žé€šå›¾å¦‚æžœä¸€å‰¯éžè”é€šå›¾ç”±è‹¥å¹²ä¸ªè¿žé€šéƒ¨åˆ†ç»„æˆï¼Œé‚£ä¹ˆè¿™äº›éƒ¨åˆ†éƒ½å«åšæžå¤§è¿žé€šå­å›¾æ— çŽ¯å›¾ï¼šå°±æ˜¯æ²¡æœ‰çŽ¯çš„å›¾æ ‘æ˜¯ä¸€å¹…æ— çŽ¯è¿žé€šå›¾å¯†åº¦ï¼šå·²ç»è¿žæŽ¥çš„é¡¶ç‚¹å¯¹å æ‰€æœ‰å¯èƒ½è¢«è¿žæŽ¥çš„é¡¶ç‚¹å¯¹çš„æ¯”ä¾‹ã€‚è¿™æ´¾ç”Ÿå‡ºäº†ä¸¤ä¸ªæ¦‚å¿µï¼Œç¨€ç–å›¾å’Œç¨ å¯†å›¾ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æžœä¸€å¹…å›¾ä¸­ä¸åŒçš„è¾¹çš„æ•°é‡åœ¨é¡¶ç‚¹æ€»æ•°VVVçš„ä¸€ä¸ªå°å¸¸æ•°å€å†…ï¼Œé‚£ä¹ˆè¿™å¹…å›¾å°±æ˜¯ç¨€ç–çš„äºŒåˆ†å›¾ï¼šä¸€ç§èƒ½å¤Ÿå°†æ‰€æœ‰é¡¶ç‚¹åˆ†æˆä¸¤éƒ¨åˆ†çš„å›¾ï¼Œå…¶ä¸­æ¯æ¡è¾¹éƒ½è¿žç€ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹ 14.2 è¡¨ç¤ºæ³• 14.2.0 APIä¸ºäº†è§£å†³æœ‰å…³å›¾çš„é—®é¢˜ï¼Œä¸‹é¢å®šä¹‰ä¸€ä¸ªå›¾çš„åŸºæœ¬ API1234567891011121314151617public class Graph &#123; public Graph(int V) // Create graph using the Vertex number public Graph(In in) // Create graph from input stream public int V(); // The number of Vertex public int E(); // The number of Edge // Add edge v-w into graph public void addEdge(int v, int w); // The vertexes adjacent to v public Iterable&lt;Integer&gt; adj(int v); public String toString(); // The string explanation of graph&#125; 14.2.1 é‚»æŽ¥çŸ©é˜µä½¿ç”¨ä¸€ä¸ª VÃ—VV \times VVÃ—V çš„å¸ƒå°”çŸ©é˜µæ¥è¡¨ç¤ºå›¾ï¼Œå½“ vvv å’Œ www ç›¸é‚»æ—¶ï¼Œå°† v è¡Œ w åˆ—çš„å…ƒç´ æ ‡è®°ä¸º trueï¼Œå¦åˆ™ä¸º falseè¿™ç§æ–¹æ³•éœ€è¦ V2V^2V2 ä¸ªå¸ƒå°”å€¼çš„ç©ºé—´ï¼Œå®žé™…ä¸Šååˆ†è€—è´¹å­˜å‚¨ç©ºé—´ï¼Œä¸å®žç”¨ã€‚è€Œä¸”å½“å›¾å…·æœ‰å¹³è¡Œè¾¹æ—¶ï¼Œé‚»æŽ¥çŸ©é˜µæ— æ³•å‡†ç¡®è¡¨ç¤ºè¿™ä¸€ç»“æž„ã€‚ 14.2.2 è¾¹çš„æ•°ç»„æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª Edge ç±»ï¼Œå…¶ä¸­ä½¿ç”¨ä¸¤ä¸ª int å˜é‡æ¥è¡¨ç¤ºæ‰€è¿žæŽ¥çš„ä¸¤ä¸ªé¡¶ç‚¹ã€‚ä½†æ˜¯è¿™ä¸€ç»“æž„æ— æ³•å®žçŽ° adj()ï¼Œå®žçŽ°å®ƒéœ€è¦æ£€æŸ¥å›¾ä¸­æ‰€æœ‰çš„è¾¹ã€‚ 14.2.3 é‚»æŽ¥è¡¨æ•°ç»„æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä»¥é¡¶ç‚¹ä¸ºç´¢å¼•çš„åˆ—è¡¨æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å’Œè¯¥é¡¶ç‚¹ç›¸é‚»çš„é¡¶ç‚¹åˆ—è¡¨ã€‚å³ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ æ—¢æ˜¯ä¸€ä¸ªé¡¶ç‚¹ä¹Ÿæ˜¯ä¸€ä¸ªé“¾è¡¨å¤´ï¼Œé“¾è¡¨å‚¨å­˜ç€ä¸Žè¯¥é¡¶ç‚¹ï¼ˆé“¾è¡¨å¤´ï¼‰ç›¸é‚»çš„æ‰€æœ‰é¡¶ç‚¹ã€‚å®ƒå¯ä»¥å®žçŽ°ï¼šä½¿ç”¨çš„ç©ºé—´å’Œ V+EV + EV+E æˆæ­£æ¯”æ·»åŠ ä¸€æ¡è¾¹æ‰€éœ€çš„æ—¶é—´ä¸ºå¸¸æ•°éåŽ†é¡¶ç‚¹ v çš„æ‰€æœ‰ç›¸é‚»é¡¶ç‚¹æ‰€éœ€è¦çš„æ—¶é—´å’Œ v çš„åº¦æ•°æˆæ­£æ¯”å¯¹äºŽè¿™äº›æ“ä½œæ¥è¯´ï¼Œè¿™æ ·çš„ç‰¹æ€§å·²ç»æ˜¯æœ€ä¼˜çš„äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©é‚»æŽ¥è¡¨æ¥ä½œä¸ºå›¾çš„æ•°æ®ç»“æž„ä¸‹é¢æ˜¯å›¾çš„ä»£ç å®žçŽ°ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142public class Graph &#123; private final int V; // Vertex number private int E; // Edge number private Bar&lt;Integer&gt;[] adj; // adjacent array public Graph(int V) &#123; this.V = V; this.E = 0; adj = (Bag&lt;Integer&gt;[]) new Bag[V]; for (int v = 0; v &lt; V; v++) &#123; adj[v] = new Bag&lt;Integer&gt;(); &#125; &#125; public Graph(In in) &#123; this(in.readInt()); int E = in.readInt(); for (int i = 0; i &lt; E; i++) &#123; // Add Edge int v = in.readInt(); int w = in.readInt(); addEdge(v, w); &#125; &#125; public int V() &#123; return V; &#125; public int E() &#123; return E; &#125; public void addEdge(int v, int w) &#123; adj[v].add(w); adj[w].add(v); &#125; public Iterable&lt;Integer&gt; adj(int v) &#123; return adj[v]; &#125;&#125;]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[8 Puzzle]]></title>
    <url>%2F%2FAlgorithm%2F8%20Puzzle%2F</url>
    <content type="text"><![CDATA[1. IntroGive a 3-by-3 grid with 8 square blocks and 1 blank.Rearrange the block to make it in order, using as few moves as possible.Return the result of sequence. Like this below:12345 1 3 1 3 1 2 3 1 2 3 1 2 34 2 5 =&gt; 4 2 5 =&gt; 4 5 =&gt; 4 5 =&gt; 4 5 67 8 6 7 8 6 7 8 6 7 8 6 7 8initial 1 left 2 up 5 left goal 2. Best-first searchThe best-first search is that from initial broad to the goal, we do our each step at the best, or small cost move. 2.1 Search nodeFirst, we need to define our start and goal. We use a terminology called]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äºŒå‰æ ‘]]></title>
    <url>%2F%2FAlgorithm%2F%E4%BA%8C%E5%8F%89%E6%A0%91%2F</url>
    <content type="text"><![CDATA[1. äºŒå‰æ ‘çš„å®šä¹‰äºŒå‰æ ‘æ˜¯ä¸€ç§æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„æ ‘æ ‘æ˜¯ä¸€ç§æ²¡æœ‰çŽ¯çš„è¿žé€šå›¾åœ¨æœ€é¡¶å±‚çš„èŠ‚ç‚¹å«åšæ ¹èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«å¶èŠ‚ç‚¹ï¼Œæœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«åšå†…éƒ¨èŠ‚ç‚¹ 2. äºŒå‰æ ‘çš„ç±»åž‹ 2.1 æ»¡äºŒå‰æ ‘å›½å†…å®šä¹‰ï¼šé™¤äº†æœ€åŽä¸€å±‚æ²¡æœ‰å­èŠ‚ç‚¹ä»¥å¤–ï¼Œå…¶ä»–æ¯ä¸€å±‚çš„èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹èŠ‚ç‚¹æ•°å’Œæ·±åº¦æ»¡è¶³å¦‚ä¸‹å…³ç³»ï¼šNleaf=2hâˆ’1N_{leaf} = 2^{h} - 1Nleafâ€‹=2hâˆ’1å›½å¤–å®šä¹‰ : åªæœ‰å¶èŠ‚ç‚¹å’Œåº¦ä¸º 2 çš„èŠ‚ç‚¹çš„æ ‘å°±å«æ»¡äºŒå‰æ ‘ï¼ˆåœ¨å›½å†…ä¸€èˆ¬ç”¨å›½å†…å®šä¹‰ï¼ˆç¬‘ï¼‰ï¼‰ 2.2 å®Œå…¨äºŒå‰æ ‘è‡³å¤šåªæœ‰æœ€ä¸‹é¢çš„ä¸¤å±‚ä¸Šçš„èŠ‚ç‚¹çš„åº¦æ•°å¯ä»¥å°äºŽ 2ï¼Œå¹¶ä¸”æœ€ä¸‹å±‚çš„èŠ‚ç‚¹éƒ½åœ¨æœ€å·¦è¾¹çš„è‹¥å¹²ä½ç½®ä¸Šã€‚æ»¡äºŒå‰æ ‘ï¼šå®Œå…¨äºŒå‰æ ‘: 3. å®žçŽ° 3.1 æ•°ç»„å®žçŽ°è¿™ç§å®žçŽ°æ–¹æ³•å°±æ˜¯æŒ‰ç…§å®Œå…¨äºŒå‰æ ‘çš„å½¢å¼å°†èŠ‚ç‚¹ç½®äºŽç›¸åº”çš„æ•°ç»„å•å…ƒä¹‹ä¸­ã€‚æ‰€ä»¥ï¼Œå¦‚æžœä¸€ä¸ªèŠ‚ç‚¹çš„ç´¢å¼•æ˜¯ kkkï¼Œé‚£ä¹ˆï¼Œå®ƒçš„çˆ¶äº²çš„ç´¢å¼•æ˜¯ âŒŠkâŒ‹\lfloor k \rfloorâŒŠkâŒ‹ï¼›å®ƒçš„å·¦å­ç»“ç‚¹çš„ç´¢å¼•æ˜¯ 2k2k2kï¼Œå³å­ç»“ç‚¹çš„ç´¢å¼•æ˜¯ 2k+12k + 12k+1è¿™ç§å®žçŽ°æ–¹å¼æœ€é€‚åˆäºŽå®Œå…¨äºŒå‰æ ‘ï¼Œå¦‚æžœä¸€ä¸ªä¸å®Œå…¨çš„äºŒå‰æ ‘ä½¿ç”¨è¿™ç§æ–¹æ³•å®žçŽ°ï¼Œä¼šæµªè´¹è®¸å¤šçš„ç©ºé—´ã€‚ 3.2 é“¾è¡¨å®žçŽ°ç›¸å¯¹äºŽæ•°ç»„æ¥è¯´ï¼Œä½¿ç”¨é“¾è¡¨å®žçŽ°èƒ½èŠ‚çœæ›´å¤šçš„ç©ºé—´ã€‚å®ƒçš„èŠ‚ç‚¹ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šæ•°æ®åŸŸï¼Œå·¦å­ç»“ç‚¹æŒ‡é’ˆï¼Œå’Œå³å­ç»“ç‚¹æŒ‡é’ˆNode:leftChilddatarightChild 4. éåŽ†ç®—æ³•ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥éåŽ†ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒä»¬æ˜¯ï¼šå…ˆåºéåŽ†ï¼ˆDLRDLRDLRï¼‰ä¸­åºéåŽ†ï¼ˆLDRLDRLDRï¼‰åŽåºéåŽ†ï¼ˆLRDLRDLRDï¼‰å®ƒä»¬éƒ½å±žäºŽæ·±åº¦ä¼˜å…ˆéåŽ†æ–¹æ³•æ³¨æ„ï¼Œåªæœ‰ä¸‰ç§æ–¹æ³•çš„å‰ææ˜¯å·¦å­ç»“ç‚¹æ¯”å³å­ç»“ç‚¹å¤§ï¼Œå¦‚æžœæŠ›å¼ƒè¿™ä¸ªå‰æï¼Œåˆ™æœ‰è‡³å¤šå…­ç§æ–¹æ³• 4.1 æ·±åº¦ä¼˜å…ˆéåŽ†æ‰€è°“çš„æ·±åº¦ä¼˜å…ˆï¼ŒæŒ‡çš„æ˜¯ï¼Œä¼˜å…ˆæœç´¢å­å­™èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯ä¼˜å…ˆæœç´¢å…„å¼ŸèŠ‚ç‚¹ 4.1.1 å…ˆåºéåŽ†è®¿é—®æ ¹èŠ‚ç‚¹é€’å½’è®¿é—®å·¦å­èŠ‚ç‚¹é€’å½’è®¿é—®å³å­ç»“ç‚¹ 4.1.2 ä¸­åºéåŽ†é€’å½’è®¿é—®å·¦å­ç»“ç‚¹è®¿é—®æ ¹èŠ‚ç‚¹é€’å½’è®¿é—®å³å­ç»“ç‚¹ 4.1.3 åŽåºéåŽ†é€’å½’è®¿é—®å·¦å­ç»“ç‚¹é€’å½’è®¿é—®å³å­ç»“ç‚¹è®¿é—®æ ¹èŠ‚ç‚¹ 4.2 å¹¿åº¦ä¼˜å…ˆæ‰€è°“çš„å¹¿åº¦ä¼˜å…ˆï¼Œå°±æ˜¯ä¼˜å…ˆè®¿é—®å…„å¼ŸèŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯å­å­™èŠ‚ç‚¹ç›´åˆ°å½“å‰å±‚è®¿é—®å®Œæˆå‰ï¼Œéƒ½ä¸è¿›å…¥ä¸‹ä¸€å±‚è¿›è¡ŒéåŽ†ä¸€èˆ¬ä½¿ç”¨é˜Ÿåˆ—æ¥å®žçŽ°è¿™ç§è®¿é—®ç­–ç•¥1234567891011121314151617181920212223interface Visitable&lt;Item&gt; &#123; void onVisit(Item item);&#125;class BreadthFirst &#123; Visitable&lt;Node&gt; visiter; .... void breadFirstTraversal(Node root) &#123; Queue q = new Queue(); q.enQueue(root); while (!q.isEmpty()) &#123; Node node = q.deQueue(); visiter.onVisit(node); if(node.lChild != null) &#123; q.enQueue(node.lChild); &#125; if(node.rChild != null) &#123; q.enQueue(node.rChild); &#125; &#125; &#125;&#125; 5. çº¿ç´¢äºŒå‰æ ‘çº¿ç´¢äºŒå‰æ ‘æŒ‡çš„æ˜¯ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨é“¾è¡¨æ¥å®žçŽ°ä¸€ä¸ªäºŒå‰æ ‘æ—¶ï¼Œä½¿ç”¨ä¸€äº›èŠ‚ç‚¹çš„ç©ºçš„æŒ‡é’ˆåŸŸæ¥å‚¨å­˜ç›¸åº”éåŽ†ç­–ç•¥çš„å‰ä¸€ä¸ªæˆ–è€…åŽä¸€ä¸ªèŠ‚ç‚¹ã€‚ä»Žè€Œèµ·åˆ°æ–¹ä¾¿éåŽ†å’Œæé«˜ç©ºé—´åˆ©ç”¨çŽ‡çš„ä½œç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€ä¸ªçº¿ç´¢äºŒå‰æ ‘æ˜¯å’Œå®ƒé‡‡ç”¨çš„è®¿é—®ç­–ç•¥ç›¸å…³çš„ï¼ŒåŒä¸€ä¸ªäºŒå‰æ ‘é‡‡ç”¨ä¸åŒçš„è®¿é—®ç­–ç•¥ï¼Œå…¶å¯¹åº”çš„çº¿ç´¢äºŒå‰æ ‘ä¹Ÿä¼šä¸åŒã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºŽä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½ä¸ºç©ºçš„æƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘çš„å·¦å­æ ‘æŒ‡å‘å…¶éåŽ†çš„å‰é©±ï¼Œå³å­æ ‘æŒ‡å‘å…¶éåŽ†çš„åŽç»§ã€‚ 5.0 è°ƒæ•´æ•°æ®ç»“æž„ä¸ºäº†å»ºç«‹ä¸€ä¸ªçº¿ç´¢äºŒå‰æ ‘ï¼Œæˆ‘ä»¬éœ€è¦å¯¹èŠ‚ç‚¹çš„æ•°æ®åŸŸè¿›è¡Œä¸€äº›è°ƒæ•´ã€‚å¢žåŠ äº†ä¸¤ä¸ªæŒ‡ç¤ºæ˜¯å¦æ˜¯å­èŠ‚ç‚¹çš„ flagThe Threaded Binary Tree Node:boolean leftFlagleftChildDatarightChildboolean rightFlag 5.1 äºŒå‰æ ‘çš„ä¸­åºçº¿ç´¢åŒ–äºŒå‰æ ‘çš„çº¿ç´¢åŒ–ï¼Œå®žé™…ä¸Šå°±æ˜¯åœ¨éåŽ†è¿‡ç¨‹ä¸­ï¼Œä¿®æ”¹ç©ºé“¾æŽ¥çš„è¿‡ç¨‹ã€‚æ‰€ä»¥äºŒå‰æ ‘çš„çº¿ç´¢åŒ–æ˜¯å’Œå…¶éåŽ†ç­–ç•¥ç›¸å…³çš„ã€‚å¯¹äºŽä¸­åºéåŽ†è€Œè¨€ï¼Œå°±æ˜¯åœ¨ä¸­åºéåŽ†è¿‡ç¨‹ä¸­ï¼Œå°†å®ƒçš„ç©ºé“¾æŽ¥ç»™ä¿®æ”¹çš„è¿‡ç¨‹ã€‚12345678910111213141516171819202122232425262728293031public class ThreadedBinaryTree &#123; Data data; ThreadedBinaryTree leftChild; boolean leftFlag; ThreadedBinaryTree rightChild; boolean rightFlag;&#125;// ä½¿ç”¨å…¨å±€å˜é‡å­˜å‚¨å‰é©±ThreadedBinaryTree pre;public void threadingBinaryTree(ThreadedBinaryTree root) &#123; if (root == null) return; threadingBinaryTree(root.leftChild); if (root.leftChild == null) &#123; root.leftFlag = true; root.leftChild = pre; &#125; if (pre.rightChild == null) &#123; pre.rightFlag = true; pre.rightChild = root; // æŒ‡å‘åŽç»§ï¼Œå³å½“å‰èŠ‚ç‚¹ &#125; pre = root; threadingBinaryTree(root.rightChild);&#125;ä¸Šé¢å¯¹äºŽå³å­èŠ‚ç‚¹å¤„ç†çš„æ—¶å€™è¦ç”¨ pre çš„åŽŸå› æ˜¯ï¼šå³å­èŠ‚ç‚¹æŒ‡å‘ åŽç»§ï¼Œè€ŒåŽç»§æ˜¯éœ€è¦è®¿é—®åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ‰èƒ½èŽ·å–å¾—åˆ°çš„ï¼›æ‰€ä»¥å¯¹å³å­èŠ‚ç‚¹çš„å¤„ç†æ‰ä¼šä½¿ç”¨ preï¼Œæ˜¯å› ä¸ºå½“å‰èŠ‚ç‚¹å°±æ˜¯ pre çš„åŽç»§ã€‚ 6. äºŒå‰æ ‘å’Œæ£®æž— 6.1 æ£®æž—çš„å®šä¹‰æ£®æž—æ˜¯ç”±å¤šä¸ªç‹¬ç«‹çš„äºŒå‰æ ‘ç»„æˆçš„æ•°æ®ç»“æž„æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿žæŽ¥ä»–ä»¬çš„æ ¹èŠ‚ç‚¹æ¥æž„é€ ä¸€æ£µå¤§åž‹çš„æ ‘ 6.2 æ£®æž—çš„è¡¨ç¤ºæ³•ä¸ºäº†èƒ½åœ¨ç‰©ç†ä¸Šè¡¨ç¤ºä¸€ä¸ªæ£®æž—ï¼Œæˆ‘ä»¬é¦–å…ˆä¼šå°†å…¶å˜æˆä¸€æ£µå¤§åž‹çš„æ ‘ï¼Œä»…ä»…å°†å®ƒä»¬çš„æ ¹èŠ‚ç‚¹è¿žæŽ¥èµ·æ¥å³å¯ã€‚ 6.2.1 å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•é¦–å…ˆè¿™ä¸ªé€‚ç”¨äºŽé“¾è¡¨å®žçŽ°çš„æ ‘ã€‚æ£®æž—çš„èŠ‚ç‚¹ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šæ•°æ®åŸŸå·¦å­ç»“ç‚¹æŒ‡é’ˆå³è¾¹çš„å…„å¼ŸèŠ‚ç‚¹æŒ‡é’ˆNode:leftChildDatabrotheræ—¢ç„¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹å«æœ‰çš„åŸŸå’Œä¸€ä¸ªäºŒå‰æ ‘çš„èŠ‚ç‚¹å«æœ‰çš„åŸŸçš„æ•°ç›®å’Œç±»åž‹éƒ½æ˜¯ç›¸åŒçš„ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨ç‰©ç†ç»“æž„ä¸Šå°†å…¶è®¤ä¸ºæ˜¯ä¸€ä¸ªäºŒå‰æ ‘ï¼›è¿™ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤§çš„ä¾¿åˆ©æ€§ï¼Œç”±äºŽæ£®æž—å¯ä»¥è½¬æ¢ä¸ºæ ‘ï¼Œè€Œä»»ä½•çš„æ ‘éƒ½å¯ä»¥é€šè¿‡å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•æ¥è½¬æ¢ä¸ºäºŒå‰æ ‘ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒå‰æ ‘çš„éåŽ†æ–¹æ³•æ¥å¯¹ä»»ä½•çš„æ ‘å½¢ç»“æž„è¿›è¡ŒéåŽ†ã€‚ 7. å“ˆå¤«æ›¼æ ‘å“ˆå¤«æ›¼æ ‘ï¼Œä¹Ÿè¢«å«åšæœ€ä¼˜äºŒå‰æ ‘ï¼Œæ˜¯ä¸€ç§æœ€å°è¾¹æƒçš„åŠ æƒäºŒå‰æ ‘ 7.1 ç‰¹ç‚¹ç›¸åŒæƒé‡çš„å“ˆå¤«æ›¼æ ‘ä¸æ˜¯å”¯ä¸€çš„å“ˆå¤«æ›¼æ ‘çš„å­æ ‘å¯ä»¥éšæ„è°ƒæ¢ï¼Œè¿™ä¸ªè°ƒæ¢å¹¶ä¸ä¼šå½±å“åˆ°å®ƒçš„é•¿åº¦å…·æœ‰æƒé‡çš„èŠ‚ç‚¹éƒ½æ˜¯å¶èŠ‚ç‚¹ï¼Œå…¶ä½™èŠ‚ç‚¹çš„æƒé‡éƒ½æ˜¯é€šè¿‡å¶èŠ‚ç‚¹çš„æƒé‡ç›¸åŠ å¾—åˆ°çš„æ‹¥æœ‰æœ€å¤§æƒé‡çš„èŠ‚ç‚¹ï¼Œæœ€é è¿‘æ ¹èŠ‚ç‚¹å“ˆå¤«æ›¼æ ‘æ²¡æœ‰åº¦ä¸º 1 çš„èŠ‚ç‚¹ä¸€ä¸ªæ‹¥æœ‰ NNN ä¸ªå¶èŠ‚ç‚¹çš„å“ˆå¤«æ›¼æ ‘ï¼Œæ‹¥æœ‰ 2Nâˆ’12N - 12Nâˆ’1 ä¸ªèŠ‚ç‚¹ 7.2 æž„é€ å°†ç»™å‡ºçš„åŠ æƒèŠ‚ç‚¹ç½®äºŽä¸€ä¸ªé›†åˆä¸­ä»Žä¸­é€‰å‡º 2 ä¸ªæœ€å°æƒé‡çš„èŠ‚ç‚¹ï¼Œå°†ä»–ä»¬çš„æƒé‡ç›¸åŠ ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ä½œä¸ºå®ƒä»¬çš„æ ¹èŠ‚ç‚¹ã€‚å°†è¿™ä¸¤ä¸ªèŠ‚ç‚¹ä»Žé›†åˆä¸­åŽ»é™¤ï¼ŒåŒæ—¶å°†é‚£ä¸ªæ ¹èŠ‚ç‚¹åŠ å…¥åˆ°é›†åˆä¸­é‡å¤æ­¥éª¤ 2 å’Œ 3ï¼Œç›´åˆ°è¿™ä¸ªé›†åˆä¸ºç©ºä¾‹å¦‚ï¼Œå‡å¦‚æˆ‘ä»¬æœ‰ 5 ä¸ªåŠ æƒçš„èŠ‚ç‚¹æ ¹æ®ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„æ ‘ï¼šæˆ–è€…å¦‚ä¸‹çš„æ ‘ï¼šæ³¨æ„ï¼Œå…·æœ‰ç›¸åŒæƒé‡çš„å“ˆå¤«æ›¼æ ‘ä¸æ˜¯å”¯ä¸€çš„ã€‚ 7.3 åº”ç”¨ï¼šå“ˆå¼—æ›¼ç¼–ç å“ˆå¤«æ›¼ç¼–ç æ˜¯åŸºäºŽå­—è¯çš„ä½¿ç”¨é¢‘çŽ‡å¯¹å…¶èµ‹äºˆæƒé‡ï¼Œä½¿ç”¨å“ˆå¼—æ›¼æ ‘æ¥å‡å°‘ç¼–ç å¤§å°çš„ä¸€ç§æŠ€æœ¯ã€‚ç”±äºŽå“ˆå¤«æ›¼æ ‘çš„æƒé‡æœ€å¤§ï¼ˆé¢‘çŽ‡æœ€ä¸ºé¢‘ç¹ï¼‰çš„èŠ‚ç‚¹æœ€é è¿‘æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥å®ƒèƒ½æ˜¾è‘—å‡å°‘ç¼–ç æ‰€éœ€è¦çš„ä½“ç§¯ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å®šä¹‰å·¦æ–œçš„è¾¹ä¸º 000ï¼Œå³æ–œçš„è¾¹ä¸º 111ï¼Œé‚£ä¹ˆï¼Œä¸Šé¢çš„å“ˆå¤«æ›¼æ ‘å¯¹åº”çš„ç¼–ç ä¸ºï¼š5 = â€˜11â€™4 = â€˜10â€™3 = â€˜00â€™2 = â€˜011â€™1 = â€˜010â€™æ³¨æ„ï¼Œè¿™æ ·çš„å®šä¹‰æ˜¯ä¸ºäº†ä¸å‡ºçŽ°è¯†åˆ«å†²çª]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Gradle ä»‹ç»]]></title>
    <url>%2F%2FAndroid%2FAndroid%20Gradle%20%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[1. ç®€ä»‹Android Studio ä½¿ç”¨ gradle è‡ªåŠ¨åŒ–ç¼–è¯‘å·¥å…·ç”¨äºŽæ›¿ä»£è€æ—§çš„ Ant Buildã€‚ç›®å‰å·²ç»æˆä¸º Android App æž„å»ºçš„ä¸»æµå·¥å…·ã€‚æœ¬ç¯‡æ–‡ç« ç®€å•ä»‹ç»äº† Android Gradle çš„æœ‰å…³é…ç½®æ®µå’Œç›¸å…³çš„ç®€ä»‹ã€‚Gradle å·¥å…·é€šè¿‡è¯»å– build.gradle æ–‡ä»¶çš„é…ç½®æ¥å¯¹å·¥ç¨‹è¿›è¡Œæž„å»ºï¼ŒåŒæ—¶ï¼Œå·¥ç¨‹ä¸­çš„æ¯ä¸€ä¸ªåˆ†æ¨¡å—éƒ½æœ‰ç›¸åº”çš„ build.gralde æ–‡ä»¶ã€‚ 2. é¡¶å±‚æ–‡ä»¶ï¼ˆTop-Levelï¼‰é¡¶å±‚çš„ build.gradle å­˜å‚¨åœ¨å·¥ç¨‹æ ¹ç›®å½•ï¼Œå®šä¹‰ä¸€äº›ç”¨äºŽæ‰€æœ‰æ¨¡å—çš„å±žæ€§å’Œè®¾ç½®ã€‚å…¶ä¸­åŒ…æ‹¬12345678910111213141516171819202122232425262728293031323334353637/*** buildscript&#123;&#125; æ˜¯ç”¨äºŽ gradle è‡ªèº«çš„é…ç½®ï¼Œåœ¨æž„å»ºå·¥ç¨‹æ—¶ï¼Œgradle ä¼šé¦–å…ˆè¯»å–æž„å»ºå¿…è¦çš„ä¾èµ–ç”¨äºŽæž„å»ºå·¥ç¨‹ã€‚* ä¸è¦å°† APP ç”¨çš„ä¾èµ–é¡¹åŠ åˆ°è¿™é‡Œæ¥ï¼* é€šå¸¸åŒ…å« respositories&#123;&#125; å’Œ dependencies&#123;&#125; å—ã€‚*/buildscript &#123; /** * è¿™ä¸ªåŒºå—æ˜¯å®šä¹‰ gradle å¯»æ‰¾æ‰€æœ‰ä¾èµ–é¡¹çš„ Java åŒ…åº“ã€‚ * é»˜è®¤ä¸º jcenterã€‚ * ä¹Ÿå¯ä»¥æ·»åŠ ä¸€äº›è‡ªå·±çš„åº“è¿›åŽ»ã€‚ * * ç”±äºŽ jcenter æ˜¯ MavenCentral çš„è¶…é›†ï¼Œæ‰€ä»¥ç›´æŽ¥ä½¿ç”¨ jcenter å³å¯ */ respositories &#123; jcenter() &#125; /** * è¿™ä¸ªåŒºå—æ˜¯ gradle æž„å»ºç”¨çš„ä¾èµ–é¡¹ï¼Œandroid å·¥ç¨‹ä¸­ï¼Œ * ä¸€èˆ¬æ˜¯ä¸Ž AS ç‰ˆæœ¬å·å¯¹åº”çš„ gradle ç‰ˆæœ¬ã€‚ */ dependencies &#123; classpath 'com.android.tools.build:gradle:2.2.0' &#125;&#125;/*** allprojects&#123;&#125; åŒºå—ç”¨äºŽå®šä¹‰æ‰€æœ‰æ¨¡å—æž„å»ºå…±ç”¨çš„ä»£ç åº“å’Œä¾èµ–é¡¹ã€‚* åŽŸåˆ™ä¸Šåº”åœ¨å„æ¨¡å—å¯¹åº”çš„ build.gradle è®¾å®šç›¸åº”çš„ä»£ç åº“å’Œä¾èµ–é¡¹ã€‚* Android Studio é»˜è®¤é…ç½®äº† jcenter() ä½œä¸ºé»˜è®¤çš„ä»£ç åº“ã€‚*/allprojects &#123; repositories &#123; jcenter() &#125;&#125; 3. æ¨¡å—çº§åˆ«æ–‡ä»¶åœ¨å„ä¸ªæ¨¡å—çš„æ ¹ç›®å½•ä¸­ï¼Œä¹Ÿæœ‰å¯¹åº”çš„ build.gradle æ–‡ä»¶ï¼Œå®ƒæ˜¯ç”¨æ¥é…ç½®å„ä¸ªæ¨¡å—å„è‡ªçš„ç¼–è¯‘æž„å»ºé¡¹çš„ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸ä¿®æ”¹çš„æ–‡ä»¶ã€‚1apply plugin: 'com.android.application']]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AsyncTask with Callback]]></title>
    <url>%2F%2FAndroid%2FAsyncTask%20with%20Callback%2F</url>
    <content type="text"><![CDATA[1. å®šä¹‰ä¸€ä¸ªç”¨äºŽå›žè°ƒçš„æŽ¥å£123public interface TaskListener &#123; void onResult(Object result);&#125; 2. æ·»åŠ  Listener ä½œä¸º Task çš„ç±»æˆå‘˜12345678class Task extends AsyncTask&lt;Void,Void,Object&gt; &#123; private TaskListener taskListener; public void setListener(TaskListener taskListener) &#123; this.taskListener = taskListener; &#125;&#125; 3.é€šè¿‡æŽ¥å£æˆå‘˜è°ƒç”¨å…¶æ–¹æ³•ä¸ºä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œåº”è¯¥åœ¨ Task çš„ onPostExecute() æ–¹æ³•ä¸­å®Œæˆè¯¥æ“ä½œ123protected Object onPostExecute(Object result) &#123; taskListener.onResult(result);&#125; 4. Activity å®žçŽ°è¯¥æŽ¥å£å¤„ç†å›žè°ƒæ•°æ®12345678910public class MainTread extends Activity implement TaskListener&#123; //your stuff Task task = new Task(this); task.execute(); @Override public void onResult(Object result)&#123; //UPDATE YOUR UI HERE &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Butter Knife]]></title>
    <url>%2F%2FAndroid%2FButter%20Knife%2F</url>
    <content type="text"><![CDATA[1. å®‰è£…ä¸Žé…ç½® 1.1 æ·»åŠ  Gradle ä¾èµ–åœ¨ app/build.gradle ä¸­åŠ å…¥å¦‚ä¸‹è¯­å¥1compile 'com.jakewharton:butterknife:7.0.1' 1.2 åŽ‹åˆ¶ Lint Warnningåœ¨ä½¿ç”¨ Butter Knife æ—¶ï¼Œç”±äºŽå®ƒæ˜¯åŠ¨æ€ç”Ÿæˆä»£ç ï¼ŒLint ç”±äºŽæ²¡æœ‰æ£€æµ‹åˆ°ä»£ç ï¼Œæ‰€ä»¥ä¼šæç¤ºä¸€äº›é”™è¯¯çš„è­¦å‘Šï¼Œæ‰€ä»¥éœ€è¦åŽ‹åˆ¶ Lint Warningã€‚åœ¨ app/build.gradle ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç 123lintOptions &#123; disable 'InvalidPackage'&#125; 1.3 é…ç½® ProGuardç”±äºŽ Android åœ¨ Release apk æ—¶ï¼Œä¼šä½¿ç”¨ ProGuard æ¥è¿›è¡Œä»£ç ä¼˜åŒ–å’Œæ··æ·†ï¼Œä½†æ˜¯å®ƒå¾ˆå¯èƒ½æ— æ³•æ­£ç¡®åŒºåˆ†æ‰€éœ€è¦çš„ä»£ç ï¼Œä»Žè€Œå°† Butter Knife çš„ä»£ç åˆ é™¤ï¼Œæ‰€ä»¥è¦é…ç½®ä¸€äº› Keep é€‰é¡¹ã€‚åœ¨ proguard.cfg æ–‡ä»¶ä¸­é…ç½®1234567891011-keep class butterknife.** &#123; *; &#125;-dontwarn butterknife.internal.**-keep class **$$ViewBinder &#123; *; &#125;-keepclasseswithmembernames class * &#123; @butterknife.* &lt;fields&gt;;&#125;-keepclasseswithmembernames class * &#123; @butterknife.* &lt;methods&gt;;&#125; 2. ä½¿ç”¨Butter Knife æœ€å¤§çš„å¥½å¤„å°±æ˜¯ä½¿ç”¨æ³¨è§£å¼å¼€å‘ï¼Œä»Žè€Œå‡å°‘å¤§é‡é‡å¤å†—ä½™çš„ä»£ç ã€‚ 2.1 ç»‘å®šè§†å›¾è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé‡ç‚¹æ˜¯è¦è°ƒç”¨ ButterKnife.bind() æ–¹æ³•ï¼Œå¦åˆ™æ˜¯æ— æ³•èµ·ä½œç”¨çš„ã€‚ 2.1.1 åœ¨ Activity ä¸­è¿›è¡Œç»‘å®šä½¿ç”¨ @Bind æ³¨é‡Šï¼Œå¹¶ä¼ å…¥ç›¸åº”çš„è§†å›¾ idï¼Œå°±å¯ä»¥å°†ä¸€ä¸ªç»„ä»¶å’Œå®ƒçš„è§†å›¾å¿«é€Ÿç»‘å®šä¾‹å¦‚ï¼š1234567891011121314class ExampleActivity extends Activity &#123; @Bind(R.id.title) TextView title; @Bind(R.id.subtitle) TextView subtitle; @Bind(R.id.footer) TextView footer; @Override public void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.simple_activity); // æ³¨æ„ï¼Œè¿™ä¸ªå¿…é¡»åœ¨ setContentViewä¹‹åŽæ‰§è¡Œ ButterKnife.bind(this); // TODO Use fields... &#125;&#125;æ³¨æ„ï¼Œ Butter Knife çš„åŽŸç†æ˜¯é€šè¿‡ç”Ÿæˆä»£ç æ¥å®žçŽ°çš„ï¼Œä¸Šé¢çš„ä½¿ç”¨ç›¸å½“äºŽï¼ˆç”Ÿæˆäº†ï¼‰ä»¥ä¸‹ä»£ç 12345public void bind(ExampleActivity activity) &#123; activity.subtitle = (android.widget.TextView) activity.findViewById(2130968578); activity.footer = (android.widget.TextView) activity.findViewById(2130968579); activity.title = (android.widget.TextView) activity.findViewById(2130968577);&#125; 2.1.2 åœ¨ Fragment ä¸­è¿›è¡Œç»‘å®šButter Knife æä¾›äº†å…¶ bind() æ–¹æ³•çš„å‡ ä¸ªé‡è½½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŽ¥å—ä¸€ä¸ªæ ¹å¸ƒå±€æ¥è¿›è¡Œç»‘å®šï¼Œæ‰€ä»¥åœ¨ Fragment ä¸­åº”å¦‚ä¸‹ä½¿ç”¨ï¼š123456789101112public class FancyFragment extends Fragment &#123; @Bind(R.id.button1) Button button1; @Bind(R.id.button2) Button button2; @Override public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) &#123; View view = inflater.inflate(R.layout.fancy_fragment, container, false); // é€šè¿‡æä¾›ä¸€ä¸ªæ ¹å¸ƒå±€å®žçŽ° Fragment çš„ç»‘å®š ButterKnife.bind(this, view); // TODO Use fields... return view; &#125;&#125; 2.1.3 åœ¨ ViewHolder ä¸­å®žçŽ°ç»‘å®šAndroid APP ä¸­ï¼Œ ListView æˆ– RecyclerView æ˜¯æœ€ä¸ºå¸¸è§çš„è§†å›¾ç»„ä»¶ï¼Œå¯¹æ­¤ï¼ŒButter Knife ä¹Ÿå®žçŽ°äº† ViewHolder çš„ç»‘å®šæ–¹æ³•ã€‚å¦‚ä¸‹ï¼šè¿™é‡Œä½¿ç”¨çš„æ˜¯ ListView, ä½†æ˜¯ç”±äºŽç»‘å®šçš„å®žçŽ°éƒ½åœ¨ ViewHolder å†…éƒ¨ç±»ä¸­ï¼Œå› è€Œ RecyclerView çš„ä½¿ç”¨åŒç†ã€‚1234567891011121314151617181920212223242526public class MyAdapter extends BaseAdapter &#123; @Override public View getView(int position, View view, ViewGroup parent) &#123; ViewHolder holder; if (view != null) &#123; holder = (ViewHolder) view.getTag(); &#125; else &#123; view = inflater.inflate(R.layout.whatever, parent, false); holder = new ViewHolder(view); view.setTag(holder); &#125; holder.name.setText("John Doe"); // etc... return view; &#125; static class ViewHolder &#123; @Bind(R.id.title) TextView name; @Bind(R.id.job_title) TextView jobTitle; public ViewHolder(View view) &#123; ButterKnife.bind(this, view); &#125; &#125;&#125; 2.1.4 å…¶ä»–æƒ…å½¢å®žé™…ä¸Šï¼Œ@Bind æ³¨è§£åªæ˜¯èµ·åˆ°äº†ä¸€ä¸ªå¼•å…¥è§†å›¾çš„ä½œç”¨ï¼ŒçœŸæ­£èµ·åˆ°ä½œç”¨çš„æ˜¯ ButterKnife.bind æ–¹æ³•ï¼Œè¿™ä¸€æ–¹æ³•å¯ä»¥è¢«æ”¾åœ¨ä»»ä½•ä½ æƒ³ä½¿ç”¨ findViewById çš„åœ°æ–¹ 2.1.5 å…¶ä»–ç»‘å®š APIButterKnife.bind(this, activity)è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨å°†å¯¼å…¥çš„è§†å›¾ xml åœ¨ä»»ä½•åœ°æ–¹è¿›è¡Œç»‘å®šï¼Œå¦‚æžœé‡‡ç”¨äº†ç±»ä¼¼ MVC çš„ç¼–ç¨‹æ¨¡å¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åœ¨ Controller ä¸­è¿›è¡Œç»‘å®š 2.1.6 ç»‘å®š View åˆ—è¡¨ä½ å¯ä»¥ä¸€æ¬¡æ€§å°†å¤šä¸ª View ç»‘å®šåˆ°ä¸€ä¸ª List æˆ–è€…æ•°ç»„ä¸Š12@Bind(&#123; R.id.first_name, R.id.middle_name, R.id.last_name &#125;)List&lt;EditText&gt; nameViews;å¯ä»¥ä½¿ç”¨ç»Ÿä¸€çš„ apply() æ–¹æ³•æ¥å¯¹ View è¿›è¡Œç»Ÿä¸€çš„æ“ä½œ12ButterKnife.apply(nameViews, DISABLE);ButterKnife.apply(nameViews, ENABLED, false);ä¸Šé¢çš„ä»£ç å®žé™…ä¸Šå°±ç›¸å½“äºŽå¯¹åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½é‡‡ç”¨è¿™æ ·çš„æ“ä½œã€‚æ³¨æ„ï¼Œä¸Šé¢çš„ DISABLE å’Œ ENABLE éœ€è¦å®šä¹‰ Action å’Œ Setter çš„æŽ¥å£æ–¹æ³•ä¹‹åŽæ‰èƒ½æœ‰æ•ˆ12345678910static final ButterKnife.Action&lt;View&gt; DISABLE = new ButterKnife.Action&lt;View&gt;() &#123; @Override public void apply(View view, int index) &#123; view.setEnabled(false); &#125;&#125;;static final ButterKnife.Setter&lt;View, Boolean&gt; ENABLED = new ButterKnife.Setter&lt;View, Boolean&gt;() &#123; @Override public void set(View view, Boolean value, int index) &#123; view.setEnabled(value); &#125;&#125;;åŒæ—¶ï¼Œä¹Ÿå¯ä»¥å°† Android çš„ Property åº”ç”¨åˆ° apply() æ–¹æ³•ä¸­1ButterKnife.apply(nameViews, View.ALPHA, 0.0f); 2.2 ç»‘å®šç›‘å¬å™¨Butter Knife ä¹ŸåŒæ—¶æä¾›äº†ç»‘å®šç›‘å¬å™¨çš„æ–¹æ³•ï¼›é€šè¿‡ä½¿ç”¨ @OnClick æ³¨è§£ï¼Œåœ¨éšåŽçš„æ–¹æ³•ä¸­å®žçŽ°ç›‘å¬å¤„ç†å³å¯ã€‚1234@OnClick(R.id.submit)public void submit(View view) &#123; // TODO submit data to server...&#125;ç›‘å¬å™¨çš„æ‰€æœ‰å‚æ•°éƒ½æ˜¯å¯é€‰çš„1234@OnClick(R.id.submit)public void submit() &#123; // TODO submit data to server...&#125;å®šä¹‰ä¸€ä¸ªå…¶ä»–çš„ç±»åž‹ï¼ŒButter Knife ä¹Ÿèƒ½å¤Ÿè¯†åˆ«ï¼Œå¹¶è¿›è¡Œè‡ªåŠ¨ Castä¸ºäº†å°½é‡é¿å… Castï¼Œæ‰€ä»¥åº”è¯¥å°½é‡å°‘ä½¿ç”¨è¿™ä¸€ç§æ¨¡å¼1234@OnClick(R.id.submit)public void sayHi(Button button) &#123; button.setText("Hello!");&#125;è‡ªå®šä¹‰çš„ç»„ä»¶å¯ä»¥é€šè¿‡ä¸ä¼ å…¥ id æ¥å®žçŽ°ç›‘å¬å™¨ç»‘å®š123456public class FancyButton extends Button &#123; @OnClick public void onClick() &#123; // TODO do something! &#125;&#125;è¿˜å¯ä»¥ç»‘å®šå¤šä¸ªæŽ§ä»¶åˆ°åŒä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ä¸Š12345678@OnClick(&#123; R.id.door1, R.id.door2, R.id.door3 &#125;)public void pickDoor(DoorView door) &#123; if (door.hasPrizeBehind()) &#123; Toast.makeText(this, "You win!", LENGTH_SHORT).show(); &#125; else &#123; Toast.makeText(this, "Try again", LENGTH_SHORT).show(); &#125;&#125; 2.3 å–æ¶ˆç»‘å®šè¿™ä¸ªæ­¥éª¤é€šå¸¸åœ¨ Fragment çš„ä½¿ç”¨ä¸­å‡ºçŽ°ï¼Œç”±äºŽ Fragment çš„ç”Ÿå‘½å‘¨æœŸå’Œ Activity ä¸åŒï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨ onCreateView() ä¸­æž„å»ºè§†å›¾ï¼Œç„¶åŽåœ¨ onDestroyView() ä¸­å°†è§†å›¾è¿›è¡Œé”€æ¯ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨ onDestroyView() ä¸­å°†è§†å›¾å–æ¶ˆç»‘å®š12345678910111213141516public class FancyFragment extends Fragment &#123; @Bind(R.id.button1) Button button1; @Bind(R.id.button2) Button button2; @Override public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) &#123; View view = inflater.inflate(R.layout.fancy_fragment, container, false); ButterKnife.bind(this, view); // TODO Use fields... return view; &#125; @Override public void onDestroyView() &#123; super.onDestroyView(); ButterKnife.unbind(this); // åœ¨è¿™é‡Œå–æ¶ˆç»‘å®š &#125;&#125; 2.4 å¯é€‰çš„ç»‘å®šåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ @Bind å’Œç›‘å¬å™¨çš„ç»‘å®šéƒ½æ˜¯éœ€è¦çš„ï¼Œå¦‚æžœç›®æ ‡ View æ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼ŒButter Knife å°†ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚å¯ä»¥é€šè¿‡è®¾ç½® @Nullable æ³¨è§£æ¥å–æ¶ˆè¿™ä¸ªç»‘å®šæ³¨æ„ï¼Œ@Nullable æ³¨è§£æ¥æºäºŽ Android çš„ support-annotations åº“12345@Nullable @Bind(R.id.might_not_be_there) TextView mightNotBeThere;@Nullable @OnClick(R.id.maybe_missing) void onMaybeMissingClicked() &#123; // TODO ...&#125; 2.5 å¯¹äºŽå¤šä¸ªæ–¹æ³•çš„ç›‘å¬å™¨ç»‘å®šå½“ä¸€ä¸ªç›‘å¬å™¨æ‹¥æœ‰å¤šä¸ªå›žè°ƒæ–¹æ³•æ—¶ï¼Œä½¿ç”¨ callback å‚æ•°æ¥æŒ‡å®šæ‰€éœ€è¦ç»‘å®šçš„å›žè°ƒæ–¹æ³•123456789@OnItemSelected(R.id.list_view)void onItemSelected(int position) &#123; // TODO ...&#125;@OnItemSelected(value = R.id.maybe_missing, callback = NOTHING_SELECTED)void onNothingSelected() &#123; // TODO ...&#125; 2.6 ç®€åŒ–çš„ findViewById()Butter Knife åŒæ—¶è¿˜æä¾›äº†ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬çš„ findViewById() â€”â€” findById()ï¼›ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨ View, Acitivity, Dialog ä¸­æ‰¾åˆ°æƒ³è¦çš„ Viewï¼›åŒæ—¶ï¼Œè¯¥æ–¹æ³•é€šè¿‡æ³›åž‹æ¥å¯¹è¿”å›žå€¼è¿›è¡Œè½¬æ¢ï¼Œæ‰€ä»¥å¯ä»¥çœåŽ» findViewById() çš„å¼ºåˆ¶è½¬æ¢äº†ã€‚1234View view = LayoutInflater.from(context).inflate(R.layout.thing, null);TextView firstName = ButterKnife.findById(view, R.id.first_name);TextView lastName = ButterKnife.findById(view, R.id.last_name);ImageView photo = ButterKnife.findById(view, R.id.photo);]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Genymotion Problems and Solutions]]></title>
    <url>%2F%2FAndroid%2FGenymotion%20Problems%20and%20Solutions%2F</url>
    <content type="text"><![CDATA[1. ç®€ä»‹è¿™é‡Œæ˜¯ä¸€äº› Genymotion å®‰å“æ¨¡æ‹Ÿå™¨çš„é—®é¢˜è§£ç­”é›†è™½ç„¶è¿™ä¸ªå·¥å…·å¾ˆå‡ºåï¼Œä½†æ˜¯ç”±äºŽå®ƒä½¿ç”¨ VirtualBox æ¥å®žçŽ°ä¸€ä¸ª x86 çš„è™šæ‹Ÿæœºï¼Œå®ƒåœ¨ Windows ä¸Šå°±æ˜¾å¾—æœ‰äº›çƒ¦äººï¼ˆå’Œåäººç±»ï¼‰ 2. Unable connect to virtual_deviceå½“è¿™ä¸ªé”™è¯¯å‘ç”Ÿçš„æ—¶å€™ï¼ŒGenymotion ä¼šè®©ä½ åœ¨ VirtualBox é‡Œé¢å¯åŠ¨ä½ çš„å®‰å“è™šæ‹Ÿæœºã€‚è¯·éµå¾ªè¿™ä¸ªæ‰§è¡Œï¼Œç„¶åŽä½ å°±ä¼šèŽ·å–åˆ°ä¸€ä¸ªå‡ºé”™ä¿¡æ¯è¿™é‡Œæœ‰ä¸€äº›å·²çŸ¥çš„æƒ…å†µï¼š 2.1 Virtual Host Errorå¦‚æžœä½ æ”¶åˆ°äº†ä¸€ä¸ªå…³äºŽ Virtual Host çš„å‡ºé”™ä¿¡æ¯ï¼Œé‚£å®ƒå°†ä¼šåƒè¿™æ ·å­ï¼š12Failed to open/create the internal network 'HostInterfaceNetworking-VirtualBox Host-Only Ethernet Adapter' (VERR_INTNET_FLT_IF_NOT_FOUND).Failed to attach the network LUN (VERR_INTNET_FLT_IF_NOT_FOUND).è§£å†³åŠžæ³•ï¼šè§£å†³åŠžæ³•å¾ˆç®€å•ï¼Œæ ¹æ®è¿™ä¸ª stackoverflow :æ‰“å¼€ Windows ç½‘ç»œä¸Žå…±äº«ä¸­å¿ƒç‚¹å‡»æ›´æ”¹é€‚é…å™¨è®¾ç½®å³é”® VirtualBox å»ºç«‹çš„ VirtualBox Host only adapterè¿™ä¸ªé€šå¸¸å¯ä»¥åœ¨ VirtualBox çš„ä½ çš„è™šæ‹Ÿæœºé€‰é¡¹ä¸­çš„ç½‘ç»œé€‰é¡¹æŸ¥çœ‹ã€‚ä¹Ÿå¯ä»¥ä»Ž VirtualBox çš„è®¾ç½® -&gt; ç½‘ç»œä¸­æŸ¥çœ‹ç‚¹å‡»å±žæ€§å‹¾é€‰ â€œVirtualBox NDIS6 Bridged Networking driverâ€ç¦ç”¨å¹¶é‡æ–°å¯ç”¨è¿™ä¸ªé€‚é…å™¨When this error occurs, genymotion will ask you to start the virtual device on VirtualBox, plase follow the instruction, and then you will get a ERROR message. 3. è™šæ‹Ÿæœºé“¾æŽ¥ä¸ä¸Šç½‘ç»œè¿™ä¸ªæœ‰æ—¶ä¼šè®©äººæŒºå›°æƒ‘â€”â€”â€œä¸ºä»€ä¹ˆæˆ‘çš„è™šæ‹Ÿæœºè¿žä¸ä¸Šç½‘ç»œå‘¢ï¼Ÿâ€è§£å†³åŠžæ³•ï¼šå…¶å®žå¹¶ä¸æ˜¯ä»€ä¹ˆå¤§äº‹ï¼Œåœ¨è™šæ‹Ÿæœºä¸­æ‰“å¼€ wifi é€‰é¡¹ï¼Œç„¶åŽç›´æŽ¥è¿žæŽ¥é‡Œé¢çš„ wifi å³å¯å®ƒä¸ä¼šè¿žæŽ¥åˆ°çœŸå®žçš„ wifiï¼Œè€Œä»…ä»…æ˜¯è™šæ‹Ÿç½‘ç»œ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RecyclerView]]></title>
    <url>%2F%2FAndroid%2FRecyclerView%2F</url>
    <content type="text"><![CDATA[1. ä¸€èˆ¬çš„ä½¿ç”¨ 1.1 æ·»åŠ ç¼–è¯‘ä¾èµ–1compile &apos;com.android.support:recyclerview-v7:+&apos; 1.2 ç•Œé¢çš„åŸºæœ¬è®¾ç½®å°† RecyclerView åŠ å…¥åˆ° layout.xmllayout.xml æŒ‡çš„æ˜¯ Activity æˆ–è€… Fragment çš„å¸ƒå±€1234567&lt;android.support.v7.widget.RecyclerView android:layout_width="match_parent" android:layout_height="match_parent" android:id="@+id/recycler" android:scrollbars="vertical"/&gt; &lt;!-- Must define the scrollbars attr --&gt;æ–°å»ºä¸€ä¸ª item_layout.xml ç”¨äºŽ item çš„ç•Œé¢123456789101112&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="vertical" android:layout_width="match_parent" android:layout_height="wrap_content"&gt;&lt;TextView android:layout_width="match_parent" android:layout_height="match_parent" android:id="@+id/quest_item" /&gt;&lt;/LinearLayout&gt;æ³¨æ„ï¼Œåœ¨ support-library 23.2.0 ä¹‹åŽï¼ŒLayoutManager æä¾›äº†è‡ªåŠ¨è°ƒæ•´åŠŸèƒ½ï¼Œæ‰€ä»¥å¯¹ item çš„æ ¹å¸ƒå±€åº”é‡‡ç”¨ wrap_content çš„ layout_hight 1.3 è®¾ç½® LayoutManager å’Œ Adapter12345678910111213141516171819@Overridepublic View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) &#123; View v = inflater.inflate(R.layout.fragment_recyclerview, parent, false); //set the Recycler mRecyclerView = (RecyclerView) v.findViewById(R.id.recycler_view); //set LayoutManager mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity())); //DataSet mCrimes = CrimeLab.get(getActivity()).getCrimes(); //set the Adapter mRecyclerView.setAdapter(new CrimeAdapter()); return v;&#125; 1.4 å®šä¹‰ Adapter å’Œé‡è½½æ–¹æ³•ä½ éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªè‡ªå·±çš„ MyAdapter å¹¶ç»§æ‰¿ Adapteræ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼šAdapter å‚¨å­˜ç€æ•°æ®çš„é›†åˆï¼Œè¿˜æœ‰ä¸€ä¸ªä½œä¸ºå†…éƒ¨ç±»çš„ ViewHolder123456789101112131415161718public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; &#123; //The DataSet private List&lt;Object&gt; mDatas; //...other stuff //The inner ViewHolder class MyViewHolder extends Recycler.ViewHolder &#123; //The views public TextView textView; //The Ctor is Auto-Generate public MyViewHolder (View itemView) &#123; super(itemView); //Just set the view as the @param is Ok &#125; &#125;&#125;é‡è½½æ–¹æ³•çš„ä½¿ç”¨123456789101112131415161718192021222324@Overridepublic MyViewHolder onCreateViewHolder(ViewGroup parent, int ViewType) &#123; // Build a ViewHolder which is the inner class, and return it /** * Notice: The ViewType is use to build the diffirent ViewHolder * to display diffirent ViewHolder */ return new MyViewHolder(mLayoutInflater.inflate(R.layout.item_text, parent, false));&#125;@Overridepublic void onBindViewHolder(MyViewHolder holder, int position) &#123; // Bind the view with the DataSet // Just like the getView() method in ListView // But it's more easier holder.mTextView.setText(mData[position]);&#125;public int getItemCount() &#123; // Return the amount of item&#125; 2. å¤š Item å¸ƒå±€å®žçŽ°ä½¿ç”¨ getItemViewType(int position) æ–¹æ³•æ¥èŽ·å–æ¯ä¸ª position çš„ ViewTypeRecyclerView ä¸­å–æ¶ˆäº† getItemViewTypeCount() æ–¹æ³•ä¾‹å¦‚ï¼š12345@Overridepublic int getItemViewType(int position) &#123; return position % 2 == 0 ? ITEM_TYPE.ITEM_TYPE_IMAGE.ordinal() : ITEM_TYPE.ITEM_TYPE_TEXT.ordinal();&#125;ç„¶åŽä½¿ç”¨ onCreateViewHolder() ä¸­çš„ int ViewType å±žæ€§æ¥åˆ¤åˆ«æž„å»ºçš„ View ç±»åž‹ã€‚ 3. è®¾ç½® OnItemClickListenerå®˜æ–¹å¹¶æ²¡æœ‰ä¸º RecyclerView å®žçŽ°ä¸€ä¸ª OnItemClickListenerï¼Œæ‰€ä»¥åªèƒ½ç”±å¼€å‘è€…è‡ªè¡Œå®žçŽ°ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨å›žè°ƒæ¥å®žçŽ°è¿™ä¸ªç›‘å¬å™¨éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®˜æ–¹å¹¶æ²¡æœ‰ä¸º Item å®žçŽ°ä¸€ä¸ªç‚¹å‡»çš„ feedback åŠ¨ç”»ï¼ˆè‡³å°‘åœ¨ 5.1.1(API 22)ä¸­ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ª &lt;ripple&gt; çš„ drawable ç„¶åŽå°†å…¶è®¾ç½®ä¸ºèƒŒæ™¯æ¥å®žçŽ°ä¸€ä¸ªç‚¹å‡»å›žé¦ˆçš„æ•ˆæžœã€‚ 3.1 å®šä¹‰ä¸€ä¸ª Listener æŽ¥å£é€šå¸¸ä½œä¸º Adapter çš„ä¸€ä¸ªå†…éƒ¨ç±»123456789public interface OnItemClickListener &#123; /** * This is the callback method. * Aimed to notify the context the Click Event. * To modify UI, also need to pass the position for UI updating or do othertings */ void onItemClick (View view, int position);&#125; 3.2 ä¸º Adapter æ·»åŠ æŽ¥å£æˆå‘˜1234567class MyAdapter ... &#123; private OnItemClickListener mOnItemClickListener; public void setOnItemClickListener(OnItemClickListener mOnItemClickListener) &#123; this.mOnItemClickListener = mOnItemClickListener; &#125;&#125; 3.3 è®¾ç½®ç‚¹å‡»å“åº”å¹¶å°†å…¶å›žè°ƒè¿™é‡Œåœ¨ onBindViewHolder() ä¸­è®¾ç½® ViewHolder ä¸­ View çš„ onClick() äº‹ä»¶ï¼Œå¹¶å°†è¿™ä¸ªäº‹ä»¶å›žè°ƒåˆ°ä¸Šé¢çš„æŽ¥å£æˆå‘˜ä¸­ã€‚123456789101112131415161718public void onBindViewHolder (final MyViewHolder holder, final int position) &#123; // Bind the View with Data holder.textView.setText(mDatas.get(position)); // Set the Listener // Notice: if the callback was set, // then set the Click Event for the ViewHolder if(mOnItemClickLitener != null) &#123; holder.textView.setOnClickListener (new OnClickListener() &#123; @Override public void onClick (View v) &#123; int pos = holder.getLayoutPosition(); // Call the callback method mOnItemClickListener.onItemClick(hodler.textView, pos); &#125; &#125;); &#125;&#125; 3.4 åœ¨ Acitivity æˆ–è€… Fragment ä¸­å“åº”å›žè°ƒæ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ Fragment ä¸­è¿›è¡Œçš„ã€‚123456789@Overridepublic void onCreateView(...) &#123; mAdapter.setOnClickListener (new OnItemClickListener() &#123; @Override public void onItemClick(View v, int position) &#123; //Update: 2016-10-14 &#125; &#125;)&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Splash Screen]]></title>
    <url>%2F%2FAndroid%2FSplash%20Screen%2F</url>
    <content type="text"><![CDATA[1. åœ¨ Activity ä¸­å®žçŽ°å°†æ­¤ Activity è®¾ç½®ä¸º LANCHER Activityè®°å¾—åŠ è½½å®Œä¹‹åŽè¦è·³è½¬åˆ°å…¶ä»– Activity åŒæ—¶ finish() è¿™ä¸ª Activityä½¿ç”¨ Handler.postDelayed() æ–¹æ³•åŽ»å¢žå¼ºå»¶è¿Ÿï¼Œä»¥å…åŠ è½½è¿‡å¿«å¼•èµ·ç”¨æˆ·ä½“éªŒä¸‹é™è®°å¾—è¦åœ¨è§†å›¾è¢«åŠ è½½ä¹‹åŽä½¿ç”¨12345678910/*** Use it after* setContentView() in onCreate() in Activity*/new Handler().postDelayed(new Runnable() &#123; public void run() &#123; goHome(); &#125; &#125;, SPLASH_DELAY_MILLIS);&#125; 2. åœ¨ Fragment ä¸­ä½¿ç”¨å½“åœ¨ Fragment ä¸­æ—¶ï¼Œä¸Ž Activity å¹¶æ— æ˜¾è‘—åŒºåˆ«ï¼Œè®°ä½è¦åœ¨è§†å›¾è¢«åŠ è½½ä¹‹åŽä½¿ç”¨æ‰€ä»¥ä¸€èˆ¬åœ¨ onCreateView() ä¹‹åŽè°ƒç”¨ delayã€‚æ ¹æ® Fragment ç”Ÿå‘½å‘¨æœŸæ¥çœ‹ï¼Œåº”è¯¥åœ¨ onStart() æ–¹æ³•ä¸­ä½¿ç”¨è¿™ä¸ªæ¯”è¾ƒåˆé€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Style å’Œ Theme çš„ç®€æ˜Žå¯¹æ¯”]]></title>
    <url>%2F%2FAndroid%2FStyle%20%E5%92%8C%20Theme%20%E7%9A%84%E7%AE%80%E6%98%8E%E5%AF%B9%E6%AF%94%2F</url>
    <content type="text"><![CDATA[1. Style åº”ç”¨äºŽå±€éƒ¨ï¼Œè€Œ Theme åº”ç”¨äºŽæ•´ä½“ä¸€ä¸ª Style åªå¯¹ä¸€ä¸ª View ç»„ä»¶æœ‰æ•ˆï¼›è€Œä¸€ä¸ª Theme å¯¹æ•´ä¸ª application æˆ– activity æˆ–è€…ä¸€ä¸ª ViewGroup(View ç»„ä»¶å’Œå®ƒçš„å­é¡¹) æœ‰æ•ˆã€‚ 2. Style æ˜¯ç»„ä»¶å¤šç§å±žæ€§çš„é›†åˆå®žé™…ä¸Šï¼Œä¸€ä¸ªç»„ä»¶çš„ style å°±æ˜¯å…¶å¤šç§å±žæ€§çš„é›†åˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ç›´æŽ¥åœ¨ style ä¸­è®¾ç½® themeã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TextInputLayout ä½¿ç”¨]]></title>
    <url>%2F%2FAndroid%2FTextInputLayout%20%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»TextInputLayout æ˜¯ Android 6.0 æä¾›çš„æ–°çš„è¾“å…¥æ¡†æž¶ï¼Œå¯ä»¥æ˜¾ç¤ºä¸€ä¸ªæ›´å¥½çš„è¾“å…¥æ•ˆæžœã€‚ä»¥ä¸‹æ˜¯ TextInputLaout çš„æ˜¾ç¤ºæ•ˆæžœ![](https://blog.incredibleandros.com/images/textInputlayout.gif) 2. åŸºæœ¬ä½¿ç”¨ 2.1 æ·»åŠ ä¾èµ–æ¡†æž¶TextInputLayout æ˜¯ Android design åº“çš„æŽ§ä»¶ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ  Android çš„ design åº“ã€‚12compile &apos;com.android.support:appcompat-v7:23.3.0&apos;compile &apos;com.android.support:design:23.3.0&apos; 2.2 XML ä»£ç åœ¨è¿™é‡Œè¦æ³¨æ„ï¼Œ TextInputLayout å®žé™…ä¸Šæ˜¯ä¸€ä¸ª Layout æŽ§ä»¶ï¼Œä¸èƒ½æä¾›è¾“å…¥æ¡†åŠŸèƒ½è¾“å…¥æ¡†åº”ç”±å…¶ä¸­çš„ TextInputEditText æä¾›ã€‚å…¶å®žä½¿ç”¨ EditText ä»£æ›¿ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ Google å®˜æ–¹æ›´åŠ æŽ¨å´‡ TextInput ç³»åˆ—çš„é…å¥—ä½¿ç”¨1234567891011&lt;android.support.design.widget.TextInputLayout android:layout_width=&quot;fill_parent&quot; android:id=&quot;@+id/your_matchcode_holder&quot; app:errorEnabled=&quot;true&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;android.support.design.widget.TextInputEditText android:id=&quot;@+id/your_matchcode&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&lt;/android.support.design.widget.TextInputLayout&gt; 2.3 ç›¸åº”æ•ˆæžœçš„è®¾ç½®TextInputLayout åŒºåˆ«äºŽ EditText çš„ä¸€ç‚¹åœ¨äºŽï¼Œä¸€äº›æç¤ºæ•ˆæžœï¼Œå¦‚ Hint å’Œ Error Message éœ€è¦åœ¨ Java ä»£ç ä¸­è¿›è¡Œè®¾ç½®ã€‚æ³¨æ„ï¼Œå› ä¸º TextInputLayout ä¸­å†…ç½®äº† getEditText() æ–¹æ³•ï¼Œæ‰€ä»¥åªéœ€è¦ç»™ TextInputLayout è®¾ç½® id å³å¯ã€‚ 2.3.1 Hint æ•ˆæžœè®¾ç½® TextInputLayout çš„ Hint æ•ˆæžœå¾ˆç®€å•ï¼Œåªéœ€è¦è°ƒç”¨ setHint() æ–¹æ³•å³å¯ã€‚1phoneWrapper.setHint(getString(R.string.login_hint_phone)); 2.3.2 Error æ•ˆæžœè®¾ç½® TextInputLayout çš„ Error æ•ˆæžœåˆ™æœ‰ç‚¹ trickyã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè®¾ç½® Error æ•ˆæžœå’Œ Hint ä¸€æ ·ï¼Œè°ƒç”¨ setError() å³å¯ã€‚1phoneWrapper.setError(phoneNumberErrorMessage);setError(&quot;error message&quot;) ä¼šåˆ¤æ–­å¦‚æžœ Error æ²¡æœ‰ Enable çš„è¯ï¼Œä¼šå…ˆè°ƒç”¨ setErrorEnable(true)ï¼Œæ‰€ä»¥è®¾ç½® Error ä¸éœ€è¦äº‹å…ˆè®¾ç½® setErrorEnable(true)ä½†æ˜¯ï¼Œå½“éœ€è¦æ¸…é™¤ Error æ•ˆæžœæ—¶ï¼Œåˆ™å¿…é¡»éœ€è¦ä¸¤æ­¥ã€‚è®¾ç½® setError(null)è®¾ç½® setErrorEnable(false)åŽŸå› åœ¨äºŽï¼ŒsetError(null) åªä¼šæŠŠ Error è®¾ç½®ä¸º View.INVISIABLEï¼Œä¸ä¼šæ¶ˆé™¤é”™è¯¯ä¿¡æ¯æ‰€å çš„ç©ºé—´ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ setErrorEnable(false) åŽ»å°†æ˜¾ç¤ºé”™è¯¯çš„ TextView åˆ é™¤æŽ‰ï¼Œä»Žè€Œæ¶ˆé™¤é”™è¯¯æ‰€å çš„ç©ºé—´ã€‚é‚£èƒ½ä¸èƒ½åªè°ƒç”¨ setErrorEnable(false) å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚åŽŸå› åœ¨äºŽï¼ŒsetErrorEnable(false)ï¼Œä¸ä¼šæ¶ˆé™¤å­˜å‚¨é”™è¯¯ä¿¡æ¯çš„ mErrorï¼Œè€Œå½“å†æ¬¡å‡ºçŽ°åŒæ ·çš„é”™è¯¯ï¼Œè®¾ç½® setError(&quot;error message&quot;) æ—¶ï¼Œç”±äºŽ mError æ²¡æœ‰æ›´æ–°ï¼Œå¯¼è‡´ setError() åˆ¤æ–­å‰åŽé”™è¯¯ä¿¡æ¯ä¸€è‡´ï¼Œç›´æŽ¥è¿”å›žï¼Œæ²¡æœ‰é‡æ–°ç”Ÿæˆ TextViewï¼Œä»Žè€Œé”™è¯¯ä¿¡æ¯å°±ä¸ä¼šå†æ˜¾ç¤ºäº†ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨æ€åŠ è½½ Fragment]]></title>
    <url>%2F%2FAndroid%2F%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%20Fragment%2F</url>
    <content type="text"><![CDATA[1. æ­¥éª¤ 1.1 èŽ·å– FragmentManagerå½“ä½äºŽ Activity æ—¶ï¼Œè°ƒç”¨ getFragmentManager() æ–¹æ³•å³å¯èŽ·å–åˆ° FragmentManager å®žä¾‹å½“ä½äºŽ Fragment æ—¶ï¼Œè°ƒç”¨ getActivity().getFragmentManager() èŽ·å– FragmentManager å®žä¾‹å¦‚æžœåœ¨ Fragment å†…å±‚ï¼Œå³ Fragment çš„ container ä¹Ÿæ˜¯ Fragment æ—¶ï¼Œè°ƒç”¨ getChildFragmentManager() æ¥èŽ·å– FragmentManager å®žä¾‹æ³¨æ„ï¼š getChildFragmentManager() ä»…ç”¨äºŽä¸¤å±‚ FragmentManager çš„æ—¶å€™ã€‚å¦‚æžœä»…ä»…åªæ˜¯ä¸€å±‚ Fragmentï¼Œé‚£ä¹ˆåº”è¯¥å°† Fragment çš„åˆ‡æ¢æ“ä½œå›žè°ƒåˆ° Activity è¿›è¡Œ12345678// when in the activityFragmentManager fragmentManager = getFragmentManager();// when in the fragmentFragmentManager fragmentManager = getActivity().getFragmentManager();// When in the nested fragmentFragmentManager fragmentManager = getChildFragmentManager(); 1.2 è°ƒç”¨ beginTransaction() å¯åŠ¨ä¸€ä¸ªäº‹åŠ¡è¿™ä¸ªæ–¹æ³•æ˜¯ FragmentManager çš„æ–¹æ³•1FragmentTransaction transcation = fragmentManager.beginTransaction(); 1.3 å°† Fragment åŠ å…¥åˆ°å®¹å™¨é‡Œé¢æˆ‘ä»¬æœ‰ä¸¤ç§æ·»åŠ  Fragment çš„æ–¹æ³•ï¼Œ add() å’Œ replace()æ³¨æ„æ·»åŠ çš„æ—¶å€™å¸¦ä¸Š tag å‚æ•°ï¼Œä»¥æ–¹ä¾¿åŽé¢çš„å¼¹å‡ºå’Œè¿”å›žã€‚ä½¿ç”¨ replace() æ–¹æ³•ä¸€èˆ¬çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨ replace() æ–¹æ³•ç›´æŽ¥æ›¿æ¢å¸ƒå±€æ¥å°† Fragment æ·»åŠ åˆ° å®¹å™¨é‡Œé¢1transaction.replace(R.id.container, fragment, tag);replace() æ–¹æ³•éœ€è¦æŒ‡å®šä¸€ä¸ªç”¨äºŽæ›¿æ¢ container çš„ Fragment å®žä¾‹ï¼ŒåŒæ—¶è¿˜å¯ä»¥ç»™å…¶æ‰“ä¸Šä¸€ä¸ª tagï¼ˆString ç±»åž‹çš„ï¼‰æ¥æ–¹ä¾¿ä»¥åŽå¯»æ‰¾ã€‚æ³¨æ„ï¼ŒR.id.containeræ˜¯ Activity å¸ƒå±€ä¸­çš„ä¸€ä¸ª layout ä¸€èˆ¬ä¸å°†æ ¹å¸ƒå±€æ›¿æ¢ï¼Œè€Œæ˜¯å°†å…¶å†…éƒ¨çš„ä¸€ä¸ªå­å¸ƒå±€æ›¿æ¢æŽ‰ã€‚ä¾‹å¦‚ä¸‹é¢çš„ xmlï¼Œä¸€èˆ¬ä¸æ›¿æ¢æ ¹ç›®å½•ï¼Œè€Œæ˜¯ä¸Šé¢çš„ &lt;RelativeLayout&gt;123456789101112131415&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent" android:fitsSystemWindows="true" android:orientation="vertical"&gt; &lt;include layout="@layout/include_toolbar" /&gt; &lt;RelativeLayout android:id="@+id/container" android:layout_width="match_parent" android:layout_height="wrap_content"/&gt;&lt;/LinearLayout&gt;add() æ–¹æ³•å¦å¤–è¿˜æœ‰å¦ä¸€ç§æ·»åŠ  Fragment çš„æ–¹æ³• add()ï¼Œä¸Ž replace() çš„è°ƒç”¨æ–¹å¼ç›¸åŒï¼Œå°† replace() æ›¿æ¢æˆ add() å³å¯ä¸€èˆ¬æ¥è¯´ï¼Œadd() æ–¹æ³•çš„æ•ˆæžœå’Œ replace() æ–¹æ³•ç›¸åŒï¼Œä½†åœ¨ä¸€äº›æƒ…å†µä¸‹æœ‰æ‰€åŒºåˆ«ã€‚ 1.4 ä½¿ç”¨ commit() æ–¹æ³•æ¥æäº¤äº‹åŠ¡1234567// ç”¨è¿™æ¡è¯­å¥æ¥æäº¤äº‹åŠ¡ä½¿å¾—äº‹åŠ¡ç”Ÿæ•ˆtransaction.commit();// å½“ç„¶ä¹Ÿå¯ä»¥è¿žç€å†™ã€‚fragmentManager.beginTransaction() .replace(R.id.containe, fragment) .commit();å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª commitAllowingStateLoss() æ–¹æ³•ï¼Œå…³äºŽè¿™ä¸ªæ–¹æ³•å’Œ commit() æ–¹æ³•çš„åŒºåˆ«å’Œæ³¨æ„äº‹é¡¹ï¼Œåœ¨ä¸‹é¢æœ‰æ‰€ä»‹ç» 2. è¡¥å……éƒ¨åˆ† 2.1 æ·»åŠ  Fragment åˆ°è¿”å›žæ ˆå½“æœ‰éœ€è¦é€šè¿‡æŒ‰è¿”å›žé”®è¿”å›žåˆ°ä¸Šä¸€ä¸ª Fragment çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ addToBackStack(null) æ–¹æ³•å°†å½“å‰çš„ Fragment æ·»åŠ åˆ°è¿”å›žæ ˆä¸­ï¼Œæ­¤æ—¶é€šè¿‡æŒ‰è¿”å›žé”®å³å¯å›žåˆ°ä¸Šä¸€ä¸ª Fragmentã€‚addToBackStack() æ–¹æ³•è¿˜å¯ä»¥æŽ¥å—ä¸€ä¸ª tag ä½œä¸ºå‚æ•°ï¼Œæ·»åŠ å…·æœ‰ç‰¹å®š tag çš„ Fragment è¿›å…¥è¿”å›žæ ˆã€‚Fragment çš„çŠ¶æ€æ˜¯æœ€åŽç¦»å¼€è¿™ä¸ª Fragment çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šä¿ç•™æœ€åŽçš„ Fragment çŠ¶æ€ã€‚ 2.2 add() å’Œ replace() çš„åŒºåˆ«replace() æ–¹æ³•ä¼šåˆ é™¤å½“å‰çš„ Fragment ç„¶åŽåŠ å…¥ä¸€ä¸ªæ–°çš„ Fragmentå½“å‰ä»…ä¼šå­˜åœ¨ä¸€ä¸ª Fragment åœ¨ container ä¸­æ­¤æ–¹æ³•ä¼šé‡æ–°å®žä¾‹åŒ– Fragmentadd() æ–¹æ³•åªæ˜¯æ·»åŠ äº†ä¸€ä¸ªå®žä¾‹åˆ° container ä¸­ï¼Œè€Œä¸ä¼šåˆ é™¤å½“å‰çš„ Fragment å®žä¾‹å½“å‰æœ‰å¯èƒ½ä¼šå­˜åœ¨å¤šä¸ª Fragment åœ¨ container ä¸­æ­¤æ–¹æ³•ä¸ä¼šé‡æ–°å®žä¾‹åŒ– Fragmentï¼Œå½“ä¸”ä»…å½“å®ƒæ²¡æœ‰è¢«ç³»ç»Ÿå›žæ”¶çš„æ—¶å€™å¦‚ä½•é€‰ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸€èˆ¬æ¥è¯´ï¼Œå®ƒä»¬çš„æ•ˆæžœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸ºäº†é¿å… Layout çš„å†—ä½™ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ replace()ä½†æ˜¯ï¼Œå½“ä½ éœ€è¦åœ¨ Fragment çš„ç”Ÿå‘½å‘¨æœŸä¸­å¯åŠ¨ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡æˆ–è€…åŠ è½½ä¸€äº›å¤§é‡çš„èµ„æºæ–‡ä»¶çš„æ—¶å€™ï¼Œreplace() çš„é‡æ–°å®žä¾‹åŒ–ç‰¹æ€§ä¼šä½¿å¾—èµ„æºè¢«å¤§é‡çš„æ¶ˆè€—ï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ add() 2.3 æäº¤äº‹åŠ¡çš„æ³¨æ„äº‹é¡¹IllegalStateException å¼‚å¸¸è¿™ä¸ªå¼‚å¸¸é€šå¸¸ä¼šåœ¨ Activity çš„çŠ¶æ€ä¿å­˜ä¹‹åŽï¼Œå°è¯•åŽ»æäº¤ï¼ˆå³è°ƒç”¨ commit() æ–¹æ³•ï¼‰ä¸€ä¸ª FragmentTransaction çš„æ—¶å€™å‘ç”Ÿï¼Œç§°ä¸ºæ´»åŠ¨çŠ¶æ€ä¸¢å¤±ï¼ˆActivity State Lossï¼‰ã€‚è¿™æ˜¯ç”±äºŽç³»ç»Ÿä¼šåœ¨æ´»åŠ¨åœ¨è¢«æŒ‚èµ·æˆ–é”€æ¯ä¹‹å‰ä¼šå°†å…¶å½“å‰çŠ¶æ€ä¿ç•™ä¸ºä¸€ä¸ªå¿«ç…§ï¼ˆä¾‹å¦‚ç”¨æˆ·æŒ‰ä¸‹ Home é”®ï¼‰ï¼Œä½†æ˜¯è¿™ä¸ªå¿«ç…§å¹¶æ²¡æœ‰å°† FragmentTransaction ä½œä¸ºæ´»åŠ¨çš„ä¸€éƒ¨åˆ†ä¿ç•™ï¼Œè€Œæ˜¯å°†å…¶ä¸¢å¤±äº†ï¼Œç”±äºŽæ´»åŠ¨å½“å‰è¢«é”€æ¯æˆ–æŒ‚èµ·ï¼Œæ‰€ä»¥æ— æ³•æäº¤ä¸€ä¸ª FragmentTransaction123456// å †æ ˆè·Ÿè¸ªå’Œå¼‚å¸¸ä»£ç java.lang.IllegalStateException:Can not perform this action after onSaveInstanceState at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1341) at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1352) at android.support.v4.app.BackStackRecord.commitInternal(BackStackRecord.java:595) at android.support.v4.app.BackStackRecord.commit(BackStackRecord.java:574)å¼‚å¸¸æŠ›å‡ºçš„æ—¶é—´ç‚¹å¼‚å¸¸æŠ›å‡ºçš„æ—¶é—´ç‚¹é€šå¸¸å’Œ commit() çš„è¢«è°ƒç”¨æ—¶é—´ç‚¹æ˜¯ä¸€è‡´çš„ï¼Œæ€»ç»“ä¸ºä¸‹è¡¨æ³¨ï¼šHoneycomb å³ 3.0(API 11)Honeycomb ä¹‹å‰çš„ç‰ˆæœ¬Honeycomb åŠæ›´æ–°çš„ç‰ˆæœ¬commit() åœ¨ onPause() å‰è¢«è°ƒç”¨OKOKcommit() åœ¨ onPause() å’Œ onStop() æ‰§è¡Œä¸­é—´è¢«è°ƒç”¨STATE LOSS(æ­¤æ—¶å¹¶æ²¡æœ‰å¼‚å¸¸)OKcommit() åœ¨ onStop() ä¹‹åŽè¢«è°ƒç”¨EXCEPTIONEXCEPTIONå¦‚ä½•é¿å…å¼‚å¸¸è°¨æ…Žçš„åœ¨é™¤ onCreate() çš„å…¶ä»–ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­æäº¤ Transactionä½ å¿…é¡»ä¿è¯ Acitivity è¢«å®Œå…¨æ¢å¤ä¹‹åŽæ‰èƒ½æäº¤ Transactionã€‚ä¾‹å¦‚ï¼Œä½ ä¸åº”è¯¥åœ¨ FragmentActivity çš„ onResume() æ–¹æ³•ä¸­æäº¤ Transactionsï¼Œæœ‰æ—¶å€™è¿™ä¸ªæ–¹æ³•å¯èƒ½åœ¨ Activity è¢«æ¢å¤å‰è°ƒç”¨ï¼Œä½ åº”è¯¥åœ¨ onPostResume() æ–¹æ³•ä¸­æäº¤ï¼Œä»¥ä¿è¯ Acitivity å®Œå…¨æ¢å¤é¿å…åœ¨å¼‚æ­¥å›žè°ƒå‡½æ•°ä¸­æäº¤ Transactionä¾‹å¦‚ï¼Œåº”è¯¥é¿å…åœ¨ AsyncTask çš„ onPostExecute() æ–¹æ³•å’Œ LoaderManager.LoaderCallbacks çš„ onLoadFinished() æ–¹æ³•ä¸­æäº¤ Transactionã€‚ç”±äºŽå®ƒä»¬éƒ½æ²¡æœ‰è€ƒè™‘åˆ° Activity çš„å®žé™…çŠ¶æ€ï¼Œæœ‰å¯èƒ½åœ¨ Activity å·²ç»è¢«ç»“æŸä¹‹åŽä»ç„¶è¢«è°ƒç”¨ã€‚ä½¿ç”¨ commitAllowingStateLoss() æ–¹æ³•æ­¤æ–¹æ³•å’Œ commit() çš„å”¯ä¸€åŒºåˆ«åœ¨äºŽï¼Œå½“çŠ¶æ€ä¸¢å¤±å‡ºçŽ°çš„æ—¶å€™ï¼Œå…¶ä¸ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚é€šå¸¸ä¸åº”ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œé™¤éžçŠ¶æ€ä¸¢å¤±æ— å¯é¿å…ï¼Œå¦åˆ™å°±ä¸åº”ä½¿ç”¨æ­¤æ–¹æ³• 3. Fragment ç®¡ç† 3.1 è¿”å›žåˆ°æŒ‡å®šçš„ Fragmentå½“æˆ‘ä»¬å¼€å¯äº†å¤ªå¤šçš„ Fragmentï¼Œæƒ³å›žåˆ°æŒ‡å®šçš„æŸä¸ª Fragment (æ¯”å¦‚è¯´æœ€å¼€å¤´çš„é‚£ä¸€ä¸ª) æ—¶ï¼Œä½¿ç”¨ popBackStack(String tag, int flags) é€šè¿‡æŒ‡å®šä¸€ä¸ª Fragment çš„ tag æ¥è¿”å›žåˆ°æŒ‡å®šçš„é‚£ä¸ª Fragmentï¼›ç¬¬äºŒä¸ª flags å‚æ•°ç”¨æ¥æŒ‡å®šæ˜¯å¦è¦å°†æŒ‡å®šçš„ Fragment ä¹Ÿ pop å‡ºåŽ»ï¼Œæ­¤å‚æ•°åªèƒ½æœ‰ä¸¤ä¸ªå€¼ POP_BACK_STACK_INCLUSIVE æˆ–è€… 0ï¼Œå¦‚æžœæŒ‡å®šäº† POP_BACK_STACK_INCLUSIVE è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå°±ä¼šå°†æŒ‡å®šçš„ Fragment ä¹Ÿ pop å‡ºåŽ»ã€‚æ³¨æ„äº‹é¡¹ï¼šä¸€èˆ¬é‡‡ç”¨ tag å‚æ•°æ¥å®šä½ä¸€ä¸ª Fragmentå½“ä½¿ç”¨ add() æ–¹æ³•æ·»åŠ  Fragment æ—¶ï¼Œå› ä¸ºä¸€ä¸ª ViewGroup å®¹å™¨å¯ä»¥ä¾é™„ add() å¤šä¸ªFragmentï¼Œå®ƒä»¬çš„ id è‡ªç„¶æ˜¯ç›¸åŒçš„ã€‚popBackStack(null, FragmentManager.POP_BACK_STACK_INCLUSIVE) çš„çœŸæ­£ä½œç”¨ã€‚è¿™ä¸ªæ–¹æ³•çš„å®˜æ–¹æ–‡æ¡£ä¼¼ä¹Žæœ‰ä¸€äº›é”™è¯¯ï¼ˆæˆ–è€…ç¼ºæ¼ï¼‰ç”±äºŽç¬¬äºŒä¸ªå‚æ•°çš„å­˜åœ¨ï¼Œæ–¹æ³•ä¼šåœ¨è¿”å›žæ ˆä¸­å¯»æ‰¾æ˜¯å¦å­˜åœ¨ä¸€ä¸ª tag ä¸º null çš„ Fragmentï¼Œæ˜¾ç„¶ï¼Œè¿™æ˜¯æ‰¾ä¸åˆ°çš„ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ–¹æ³•å®žé™…ä¸Šä¼šæ¸…ç©ºè¿”å›žæ ˆ 3.2 åœ¨ Fragment ä¹‹é—´åˆ‡æ¢ 3.2.1 ä½¿ç”¨ add() show() hide() æ–¹æ³•FragmentPagerAdapter é‡‡ç”¨è¿™ç§æ¨¡å¼ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç§æƒ…å†µåªæ˜¯æ˜¾ç¤ºå’Œéšè— Fragmentï¼Œå¹¶ä¸è¿›å…¥ Fragment ç”Ÿå‘½å‘¨æœŸå½“éšè—çš„æ—¶å€™ï¼ŒFragment ä»ç„¶è¢«æ¿€æ´»ï¼Œä¾æ—§ä¼šå¯¹ç‚¹å‡»äº‹ä»¶ä½œå‡ºååº”ã€‚ä»ç„¶ä¼šå“åº”ç‚¹å‡»äº‹ä»¶çš„åŽŸå› åœ¨äºŽï¼Œç”±äºŽä½¿ç”¨çš„æ˜¯ add() æ–¹æ³•ï¼Œæ‰€ä»¥å½“å‰ container ä¼šæœ‰å¤šä¸ª Fragment å®žä¾‹ï¼Œç„¶åŽ show() å’Œ hide() ä»…ä»…æ˜¯å°†è§†å›¾éšè—äº†ï¼ŒFragment å®žä¾‹ä¾æ—§å¤„äºŽæ¿€æ´»çŠ¶æ€ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´å¤šä¸ª Fragment éƒ½ä¼šå¯¹ç‚¹å‡»äº‹ä»¶åšå‡ºå“åº”ã€‚æˆ‘ä»¬ç§°ä¸ºç‚¹å‡»äº‹ä»¶çš„æ³„éœ²æ­¤æ—¶ï¼Œéœ€è¦ä¸€äº›æŠ€å·§é˜²æ­¢ç‚¹å‡»äº‹ä»¶çš„æ³„éœ²ä½¿ç”¨ xml æˆªèŽ·ç‚¹å‡»äº‹ä»¶å°† å†…å±‚ Fragment çš„æ ¹å¸ƒå±€è®¾ç½®ä¸º clickable=&quot;true&quot; å³å¯1234&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;fill_parent&quot; android:clickable=&quot;true&quot; /&gt;ä½¿ç”¨ java æˆªèŽ·ç‚¹å‡»äº‹ä»¶ä¸ºæ ¹å¸ƒå±€è®¾ç½® OnTouchListener å¹¶é‡è½½ä¸€ä¸ªç©ºæ–¹æ³•ï¼Œè¿”å›ž true12345678910111213@Overridepublic View onCreateView(LayoutInflater inflater,ViewGroup container,Bundle savedInstance)&#123; View root; /*here is an implementation*/ root.setOnTouchListener(new View.OnTouchListener() &#123; public boolean onTouch(View v, MotionEvent event) &#123; return true; &#125; &#125;); return root;&#125;è§£å†³ Fragment already added é”™è¯¯åœ¨å¤æ‚çš„ Fragment ç®¡ç†ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ° Fragment already added é”™è¯¯ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨ add Fragment ä¹‹å‰ï¼Œé¦–å…ˆè¦åˆ¤æ–­ fragment.isAdded() å¦‚æžœå·²ç»å­˜åœ¨äº†é‚£å°±ä¸ç”¨å† add() äº†è§£å†³ç”±äºŽå±å¹•æ—‹è½¬æˆ–å…¶ä»–åŽŸå› å¼•èµ·çš„ Activity é‡æž„å»ºå¯¼è‡´ Fragment é‡å¤é—®é¢˜Android ç³»ç»Ÿä¸­ï¼ŒActivity å¯èƒ½åœ¨ä»»ä½•æ—¶åˆ»è¢«ä¸è¢«é€šçŸ¥åœ°é”€æ¯å’Œé‡å»ºï¼Œç”±æ­¤åˆ™ä¼šå¼•èµ· Fragment çš„é‡å é—®é¢˜ã€‚å¯ä»¥é€šè¿‡æ£€æŸ¥æ˜¯å¦å­˜åœ¨ Activity çš„å¿«ç…§ savedInstanceState æ¥å†³å®šæ˜¯å¦éœ€è¦é‡æ–°æž„å»ºä¸€ä¸ª Fragment å®žä¾‹ã€‚å¦‚æžœå­˜åœ¨ savedInstanceStateï¼Œåˆ™ä¸éœ€è¦é‡æ–°æž„å»ºï¼Œåªé‡æ–°æ˜¾ç¤ºæœ€åŽçš„å½“å‰ Fragment å³å¯è¿™é‡Œæ˜¯ add() show() hide() æ¨¡å¼çš„ä»£ç ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/*** This way aims at resolve the following problem* 1. The reinstantiaiton of Fragment* 2. The Layout redundancy of multiple Fragment*///Check the Fragment isAdded. Aim to #1public void switchContent(Fragment from, Fragment to) &#123; // The mContent is the current fragment if (mContent != to) &#123; mContent = to; FragmentTransaction transaction = mFragmentMan.beginTransaction().setCustomAnimations( android.R.anim.fade_in, R.anim.slide_out); if (!to.isAdded()) &#123; // Judge if is added // if not added, hide the current Fragment and add the next to Activity transaction.hide(from).add(R.id.content_frame, to).commit(); &#125; else &#123; //if added, just show the next. transaction.hide(from).show(to).commit(); &#125; &#125;&#125;//Check the saveInstance to avoid the activity reinstance. Aim to #2@Overrideprotected void onCreate (Bundle savedInstanceState) &#123; if (savedInstanceState == null) &#123; getFragmentManager().beginTransaction().add(android.R.id.content, new UIFragment(),"Tag").commit(); &#125; else &#123; //if the instance does be recover, //use `findFragmentByTag()` to find the reference of the Fragment UIFragment fragment1 = getFragmentManager().findFragmentById(R.id.fragment1); UIFragment fragment2 = getFragmentManager().findFragmentByTag("tag"); UIFragment fragment3 = ... ... //show one of them getFragmentManager().beginTransaction() .show(fragment1) .hide(fragment2) .hide(fragment3) .hide(...) .commit(); &#125;&#125; 3.2.2 ä½¿ç”¨ replace() æ–¹æ³•FragmentStatePageAdapter é‡‡ç”¨è¿™ç§æ¨¡å¼å½“å‰åªä¼šå­˜åœ¨ä¸€ä¸ª fragment å®žä¾‹ï¼Œç®€å•çš„ä½¿ç”¨ replace() å’Œ popBackStack() çš„é‡è½½æ–¹æ³•å³å¯åœ¨ Fragment ä¹‹é—´è¿›è¡Œåˆ‡æ¢ä½†æ˜¯ç”±äºŽæ­¤æ–¹æ³•åœ¨åˆ‡æ¢æ—¶æ¯æ¬¡éƒ½ä¼šé‡æ–°æž„å»º Fragment å®žä¾‹ï¼Œå¦‚æžœéœ€è¦ä»Žç½‘ç»œåŠ è½½èµ„æºçš„è¯ï¼Œä¼šé€ æˆå¾ˆå¤šçš„ç½‘ç»œæµé‡æŸå¤±å’Œæ€§èƒ½æµªè´¹ã€‚ 3.2.3 æ¯”è¾ƒå’Œä½¿ç”¨åœºæ™¯å¦‚æžœç®¡ç† Fragment çš„å¼€é”€æ¯”ç½‘ç»œæµé‡çš„å¼€é”€è¦å¤§ï¼Œä½¿ç”¨ replace() æ–¹æ³•è¾ƒå¥½ã€‚ä¾‹å¦‚æ¯æ¬¡ä»…ä»…åŠ è½½ å‡ ä¸ªk æˆ– å‡ åb çš„æ•°æ®ï¼Œå°±æ²¡æœ‰å¿…è¦ä¸ºäº†è¿™ç‚¹å¾®ä¸è¶³é“çš„æµé‡èŠ‚çœä»Žè€Œè¿›è¡Œå¤æ‚çš„ Fragment ç®¡ç†ï¼Œä¸€æ˜¯åŠ å¤§å¼€å‘éš¾åº¦ï¼ŒäºŒæ˜¯å®¹æ˜“å‡ºçŽ°é”™è¯¯ã€‚å¦‚æžœåœ¨ Fragment ä¸­éœ€è¦åŠ è½½å¤§é‡çš„ç½‘ç»œèµ„æºï¼Œæˆ–è€…è¿›è¡Œååˆ†è€—æ—¶çš„èµ„æºåŠ è½½å·¥ä½œï¼ˆæ¯”å¦‚3Dç»˜å›¾ï¼‰ï¼Œé‚£ä¹ˆå°±åº”ä½¿ç”¨ add() show() hide() æ–¹æ³•]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ¬éƒ¨å®¿èˆå„ç‰©å“å°ºå¯¸]]></title>
    <url>%2F%2FDecoration%2F%E6%9C%AC%E9%83%A8%E5%AE%BF%E8%88%8D%E5%90%84%E7%89%A9%E5%93%81%E5%B0%BA%E5%AF%B8%2F</url>
    <content type="text"><![CDATA[è¯´æ˜Žå­¦ä¹æ¥¼æœªç»ç‰¹åˆ«è¯´æ˜Žå•ä½å‡ä¸ºåŽ˜ç±³ç«‹ä½“ç‰©å“é¡ºåºä¸º é•¿ Ã—\timesÃ— å®½ Ã—\timesÃ— é«˜ï¼Œå®¹å™¨ç‰©å“ä¸º é«˜ Ã—\timesÃ— å®½ Ã—\timesÃ— åŽšåº¦ åºŠ193 Ã—\timesÃ— 92.3 Ã—\timesÃ— 112ï¼ˆä¸‹é“ºï¼‰/ 141ï¼ˆä¸Šé“ºï¼‰ è¡£æŸœå¤–ï¼š177.2 Ã—\timesÃ— 47.5 ï¼ˆä¸­çº¿ä¸ºæ­¢ï¼‰ Ã—\timesÃ— 54.7å†…ï¼š144.4 Ã—\timesÃ— 44.2 Ã—\timesÃ— 52 æ¡Œå­70.5 Ã—\timesÃ— 63 Ã—\timesÃ— 77ä¹¦æž¶ 18ï¼Œç”µè„‘ç©ºé—´ 47.1 åºŠå¤´æž¶æ•´é•¿ 82ï¼Œå¯ç”¨ 79ä¸Šæž¶é«˜ 31ï¼Œä¸‹æž¶é«˜ 23.5 éž‹æŸœå¤–ï¼š 29.2 Ã—\timesÃ— 48 Ã—\timesÃ— 55å†…ï¼š 29 Ã—\timesÃ— 46.7 Ã—\timesÃ— 53.5 å‚¨ç‰©æŸœå¤–ï¼š 192 Ã—\timesÃ— 58 Ã—\timesÃ— 65å†…ï¼š 31ï¼ˆå•ä¸ªï¼‰ Ã—\timesÃ— 54.5 Ã—\timesÃ— 63 æž¶åºŠæ¢¯å­161ï¼ˆé«˜ï¼‰ Ã—\timesÃ— 26ï¼ˆæ•´å®½ï¼‰]]></content>
      <categories>
        <category>Decoration</category>
      </categories>
      <tags>
        <tag>Decoration</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSH clone GitHub Gist]]></title>
    <url>%2F%2FGitHub%2FSSH%20clone%20GitHub%20Gist%2F</url>
    <content type="text"><![CDATA[Tags: GitHubGitHub ä¼šé»˜è®¤æ‹’ç»å…¶ é»˜è®¤ç»™å‡ºçš„ Gist SSH é“¾æŽ¥ã€‚ä½¿ç”¨å¦‚ä¸‹æ ¼å¼çš„é“¾æŽ¥æ¥è¿›è¡Œ Gist SSH cloneã€‚1git clone git@github.com:gist_id.git]]></content>
      <categories>
        <category>GitHub</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OS X Using ShimakazeGo + Poi to play kancolle]]></title>
    <url>%2F%2FKancolle%2FOS%20X%20Using%20ShimakazeGo%20%2B%20Poi%20to%20play%20kancolle%2F</url>
    <content type="text"><![CDATA[1. IntroThis is the instruction of how to bulid a kancolle playing enviroment in Mac OS X.My current OS X version is 10.11Necessary tools: Automator 2. Install ShimakazeGoShimakazeGo is a proxy for playing Kancolle. Because DMM has banned the IP addresses of foreigners, you need to use a proxy to connect to the game site.Here is the ShimakazeGo official site. There is a instruction how to install it on Mac OS X 3. Pack ShimakazeGo as a OS X APPThis section is pretty important.The ShimakazeGo developer offer a shell scipt to start the program.Therefore, itâ€™s very easy to convert it to a application by using Automator, a convient and easy-to-use app buliding tool on Mac OS X.Open Automator, choose the Application and serch for Run Apple Script at the search bar.And then paste this script inside the input frame.1234on run do shell script &quot;/path/to/the/ShimakazeGo/run_mac &gt; /dev/null 2&gt;&amp;1 &amp;&quot; quitend runSave the App, copy to your /Application and close the Automator, using a text editor, such as vim to open the run_mac script and delete the last two lineThe script will appear like this1234567891011#!/bin/bashexport LANG=&quot;zh-CN.UTF-8&quot;export LC_ALL=&quot;zh-CN.UTF-8&quot;defaults write mono NSAppSleepDisabled -bool YESMONO_LIB=/Library/Frameworks/Mono.framework/Versions/Current/bin/monodir=$(dirname $&#123;BASH_SOURCE:-$0&#125;)$MONO_LIB $dir/ShimakazeGo.exe &gt; /dev/null &amp;And done. Start the app and you will see the ShimakazeGo window. 4. Supplement: Change App IconThe app that we generate will come with a default Automator icon like a robot.Some people may dislike it and want to changge to another icon.It is very easy, just follow these instructions:Open the App info window(cmd + i)Open the icon img you want to replace with.Select the whole img(cmd + a) and copy(cmd + c)Click the icon inside the App info window, and paste(cmd + v)Done! 5. Install PoiPoi is a Scalable KanColle browser and tool.Due to using the web techology, it is totally cross-platformHere is the GitHub repo]]></content>
      <categories>
        <category>Kancolle</category>
      </categories>
      <tags>
        <tag>Kancolle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin Android Getting Started]]></title>
    <url>%2F%2FKotlin%2FKotlin%20Android%20Getting%20Started%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°ç”±äºŽ Android Studio åŸºäºŽ IntelliJ IDEA å¼€å‘ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“åœ¨ Android Studio ä¸Šä½¿ç”¨ Kotlin å¼€å‘ Androidã€‚ 2. åˆ›å»ºå·¥ç¨‹è¿™æ­¥å’Œæ™®é€šçš„ Android åˆ›å»ºå·¥ç¨‹æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚åˆ›å»ºå®Œæ¯•åŽï¼Œä½ ä¸€èˆ¬ä¼šæ‹¥æœ‰ä¸€ä¸ªç”± AS åˆ›å»ºçš„ Java Activity ç±»ã€‚ 3. å°† Java ä»£ç è½¬æ¢æˆ Kotlin ä»£ç IDEA å†…å»ºäº†ä»£ç è½¬æ¢åŠŸèƒ½ï¼Œåªéœ€è¦é€šè¿‡ Find Action(cmd + shift + a) å³å¯æ‰¾åˆ° Convert Java File to Kotlin Fileç»è¿‡è½¬æ¢ä¹‹åŽï¼Œæˆ‘ä»¬å°±èƒ½æ‹¥æœ‰ä¸€ä¸ªä½¿ç”¨ Kotlin æ¥ç¼–å†™çš„ Activity ç±»äº†ã€‚ 4. åœ¨å·¥ç¨‹ä¸­é…ç½® Kotlinç”±äºŽ Kotlin æ˜¯ä¸€ä¸ªå¤–éƒ¨åº“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹å·¥ç¨‹è¿›è¡Œä¸€äº›é…ç½®ã€‚å½“ç„¶ï¼ŒAndroid Studio å†…ç½®äº†è‡ªåŠ¨é…ç½®æ–¹æ³•ï¼Œåªéœ€è¦åœ¨ Find Action ä¸­æœç´¢ Configure Kotlin in Project å³å¯ã€‚æŽ¥ä¸‹æ¥ä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œé€‰æ‹©æœ€æ–°çš„ Kotlin ç‰ˆæœ¬å³å¯ã€‚æœ€åŽï¼Œæˆ‘ä»¬åªéœ€è¦åŒæ­¥ä¸€ä¸‹ Gradle å³å¯ã€‚ 5. å‰©ä¸‹çš„å·¥ä½œç”±äºŽ Kotlin æœ€ç»ˆè¿˜æ˜¯ä¼šè¢«ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œæ‰€ä»¥å‰©ä¸‹çš„ UI å¼€å‘å’Œ APK æž„å»ºä¸Žä½¿ç”¨ Java è¯­è¨€æ—¶å¹¶æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚å°½æƒ…äº«å— Kotlin æ‰€å¸¦æ¥çš„ä¾¿åˆ©å§ï¼]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin æ“ä½œç¬¦é‡è½½]]></title>
    <url>%2F%2FKotlin%2FKotlin%20%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿° 2. å…¬çº¦ 2.1 ä¸€å…ƒæ“ä½œç¬¦ 2.2 äºŒå…ƒæ“ä½œç¬¦ 2.2.1 æ•°å­¦è¿ç®—ä¸ŽèŒƒå›´ 2.2.2 in æ“ä½œç¬¦ 2.2.3 æ–¹æ‹¬å·æ“ä½œç¬¦ 2.2.4 åœ†æ‹¬å·æ“ä½œç¬¦ 2.2.5 å¤åˆèµ‹å€¼æ“ä½œ 2.2.6 ç›¸ç­‰æ€§æ£€æŸ¥ 2.2.7 æ¯”è¾ƒè¿ç®—ç¬¦ 3. ä¸­ç¼€å‡½æ•° 1. æ¦‚è¿°Kotlin ä¸­çš„æ“ä½œç¬¦éƒ½æ˜¯ç”±å‡½æ•°å®žçŽ°çš„ï¼ŒåŒ…æ‹¬æˆå‘˜å‡½æ•°ã€æ‰©å±•å‡½æ•°å’Œä¸­ç¼€å‡½æ•°ã€‚é‡è½½ä¸€ä¸ªæ“ä½œç¬¦ï¼Œæˆ‘ä»¬åªè¦ç»™å¯¹åº”çš„ç±»æä¾›ä¸€ä¸ªæˆå‘˜å‡½æ•°æˆ–è€…æ‰©å±•å‡½æ•°å³å¯ã€‚é‡è½½æ“ä½œç¬¦çš„å‡½æ•°å¿…é¡»ä½¿ç”¨ operator è¿›è¡Œæ ‡è¯†ã€‚é—æ†¾çš„æ˜¯ï¼ŒKotlin ä¸æ”¯æŒè‡ªå®šä¹‰æ“ä½œç¬¦ï¼Œåªèƒ½å¯¹çŽ°æœ‰çš„æ“ä½œç¬¦è¿›è¡Œé‡è½½ã€‚ 2. å…¬çº¦è¿™é‡Œé˜è¿°çš„æ˜¯ Kotlin ä¸­å„ç§æ“ä½œç¬¦çš„å¯¹åº”å‡½æ•°å’Œé‡è½½çº¦å®šã€‚æ²¡æœ‰åœ¨ä»¥ä¸‹åˆ—å‡ºçš„æ“ä½œç¬¦ï¼Œä¸å…è®¸è¢«é‡è½½ã€‚å…³äºŽ Kotlin ä¸­æ‰€æœ‰çš„æ“ä½œç¬¦ï¼Œè¯·æŸ¥çœ‹è¿™ä¸ªé“¾æŽ¥ 2.1 ä¸€å…ƒæ“ä½œç¬¦ExpressionTranslated to+aa.unaryPlus()-aa.unaryMinus()!aa.not()å½“ç¼–è¯‘æ—¶ï¼Œä¸Šé¢çš„æ“ä½œç¬¦ä¼šè¢«æ›¿æ¢ä¸ºå¯¹åº”çš„å‡½æ•°ï¼Œæ­¥éª¤å¦‚ä¸‹:ç¡®å®š a çš„ç±»åž‹ï¼Œæ¯”å¦‚ Tåœ¨ T ä¸­å¯»æ‰¾æ–¹æ³•ï¼Œæ¯”å¦‚è¯´ unaryPlus()å½“å¯»æ‰¾ä¸åˆ°æ–¹æ³•æ—¶ï¼ŒæŠ¥é”™å¦‚æžœ unaryPlus() è¿”å›žç±»åž‹ Rï¼Œé‚£ä¹ˆ +a çš„ç±»åž‹ä¸º Ræ³¨æ„ï¼Œæ‰€æœ‰çš„æ“ä½œç¬¦éƒ½ä¼šå¯¹åŸºæœ¬ç±»åž‹è¿›è¡Œä¼˜åŒ–ï¼Œä»¥å‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€æ”¯ã€‚ExpressionTranslated toa++a.inc() + see belowa--a.dec() + see belowè¿™äº›æ“ä½œç¬¦æ˜¯ç”¨æ¥æ”¹å˜å®ƒä»¬çš„æŽ¥æ”¶è€…çš„ã€‚æ³¨æ„ï¼Œæ‰€è°“çš„æ”¹å˜æŽ¥æ”¶è€…æŒ‡çš„æ˜¯æ”¹å˜å…¶å†…éƒ¨çš„å€¼ï¼Œè€Œä¸æ˜¯æ”¹å˜å…¶å¯¹è±¡ã€‚äº‹å®žä¸Šï¼Œåº”è¯¥åˆ›å»ºå¹¶è¿”å›žä¸€ä¸ªæ‹¥æœ‰æ–°å€¼çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å¯¹å¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œã€‚ç¼–è¯‘å™¨ä¼šå¯¹è¿™æ ·çš„æ“ä½œç¬¦é‡‡å–ä»¥ä¸‹æ­¥éª¤çš„æ“ä½œï¼šç¡®å®š a çš„ç±»åž‹ Tåœ¨ a ä¸­å¯»æ‰¾ inc() æ–¹æ³•å¦‚æžœ inc() è¿”å›žç±»åž‹ä¸º Rï¼Œé‚£ä¹ˆå®ƒå¿…é¡»æ˜¯ T çš„å­ç±»å¯¹äºŽåŽç¼€æ“ä½œç¬¦çš„è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹(a++)ï¼šå°† a çš„åˆå§‹å€¼å­˜å‚¨åœ¨ä¸´æ—¶å¯¹è±¡ a0 ä¸­å°† a.inc() çš„ç»“æžœèµ‹äºˆ aè¿”å›ž a0a-- ä¸Žä¹‹ç›¸åŒå¯¹äºŽå‰ç¼€æ“ä½œç¬¦çš„è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹(++a)ï¼šå°† a.inc() çš„ç»“æžœèµ‹äºˆ aè¿”å›ž a 2.2 äºŒå…ƒæ“ä½œç¬¦ 2.2.1 æ•°å­¦è¿ç®—ä¸ŽèŒƒå›´ExpressionTranslated toa + ba.plus(b)a - ba.minus(b)a * ba.times(b)a / ba.div(b)a % ba.mod(b)a..ba.rangeTo(b)è¿™äº›æ“ä½œç¬¦åœ¨æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨ç¿»è¯‘æˆç›¸åº”çš„å‡½æ•°æ‰§è¡Œã€‚ 2.2.2 in æ“ä½œç¬¦ExpressionTranslated toa in bb.contains(a)a !in b!b.contains(a)å¯¹äºŽè¿™äº›æ–¹æ³•ï¼Œæ‰§è¡Œçš„æ­¥éª¤ä¸€æ ·ï¼Œä½†æ˜¯åªä¸è¿‡æŠŠè°ƒç”¨å…³ç³»é¢ å€’äº†è¿‡æ¥ã€‚ 2.2.3 æ–¹æ‹¬å·æ“ä½œç¬¦SymbolTranslated toa[i]a.get(i)a[i, j]a.get(i, j)a[i_1, ..., i_n]a.get(i_1, ..., i_n)a[i] = ba.set(i, b)a[i, j] = ba.set(i, j, b)a[i_1, ..., i_n] = ba.set(i_1, ..., i_n, b)æ–¹æ‹¬å·æ“ä½œç¬¦çš„å¯¹åº”æ–¹æ³•ä¸º get()ï¼Œæ ¹æ®å‚æ•°ä¸ªæ•°æ¥è°ƒç”¨ä¸åŒçš„ get() æ–¹æ³•ï¼Œå¦‚æžœæœ‰èµ‹å€¼æ“ä½œåˆ™è°ƒç”¨ set() æ–¹æ³•ã€‚ 2.2.4 åœ†æ‹¬å·æ“ä½œç¬¦SymbolTranslated toa()a.invoke()a(i)a.invoke(i)a(i, j)a.invoke(i, j)a(i_1, ..., i_n)a.invoke(i_1, ..., i_n)åœ†æ‹¬å·æ“ä½œç¬¦ä¼šæ ¹æ®å‚æ•°è°ƒç”¨ç›¸åº”çš„ invoke() æ–¹æ³• 2.2.5 å¤åˆèµ‹å€¼æ“ä½œExpressionTranslated toa += ba.plusAssign(b)a -= ba.minusAssign(b)a *= ba.timesAssign(b)a /= ba.divAssign(b)a %= ba.modAssign(b)å¯¹äºŽå¤åˆèµ‹å€¼æ“ä½œï¼Œç¼–è¯‘å™¨åšä»¥ä¸‹å¤„ç†(a += b)ï¼šå¦‚æžœå³è¾¹ä¸€åˆ—ä¸­çš„å‡½æ•°åœ¨ç±»ä¸­å­˜åœ¨ï¼Œé‚£ä¹ˆï¼šæ£€æŸ¥å¯¹åº”çš„äºŒå…ƒå‡½æ•°æ˜¯å¦å­˜åœ¨ï¼Œæ¯”å¦‚ plus() å¯¹åº” plusAssign()ï¼Œå¦‚æžœå­˜åœ¨ï¼ŒæŠ¥é”™æ£€æŸ¥å‡½æ•°çš„è¿”å›žå€¼æ˜¯å¦ä¸º Unitï¼Œå¦‚æžœä¸æ˜¯ï¼ŒæŠ¥é”™ä¸Šé¢æ£€æŸ¥é€šè¿‡åŽï¼Œç”Ÿæˆç›¸åº”ä»£ç å¦‚æžœå³è¾¹ä¸€åˆ—ä¸­çš„å‡½æ•°åœ¨ç±»ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°è¯•ç”Ÿæˆ a = a + bï¼ŒåŒ…æ‹¬ç±»åž‹æ£€æŸ¥ï¼ˆa + b çš„è¿”å›žå€¼å¿…é¡»æ˜¯ A æˆ–å…¶å­ç±»åž‹ï¼‰ä¸å…è®¸ plus() å’Œ plusAssign() åŒæ—¶å­˜åœ¨çš„åŽŸå› ï¼šè¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨ä¼šé»˜è®¤è½¬ä¸º a = a + b è¿›è¡Œå¤„ç†ï¼Œæ‰€ä»¥å½“å­˜åœ¨ plus() æ—¶ï¼Œå°±æ²¡å¿…è¦ç¼–å†™é‡å¤ä»£ç ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¤åˆèµ‹å€¼æ˜¯èµ‹å€¼è¯­å¥çš„ä¸€ç§ï¼Œè€Œåœ¨ Kotlin ä¸­ï¼Œèµ‹å€¼ä¸æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼è¿™ä¸»è¦æ˜¯ä¸ºäº†é¿å…èµ‹å€¼è¯­å¥å’Œå•è¡Œå‡½æ•°çš„å†²çª1fun attachView(view: View) = this.view = viewä¸Šé¢çš„ä»£ç å‡ºçŽ°äº†äºŒä¹‰æ€§ã€‚ä½†æ˜¯åœ¨ Java ä¸­ï¼Œèµ‹å€¼æ˜¯ä¸€ç§è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ Java å…è®¸1234int a = 1, b = 1, c = 1;if ((a = b) != c) &#123; ....&#125;è€Œ Kotlin åªèƒ½å°†èµ‹å€¼è¯­å¥ç§»åˆ°æ‹¬å·å¤–ã€‚è¿™ä¸ªé“¾æŽ¥ä¸­è¿˜æœ‰æ›´å¤šæ–¹æ³• 2.2.6 ç›¸ç­‰æ€§æ£€æŸ¥ExpressionTranslated toa == ba?.equals(b) ?: b === nulla != b!(a?.equals(b) ?: b === null)ç›¸ç­‰æ€§æ£€æŸ¥åªéœ€è¦æä¾› equals() æ–¹æ³•å³å¯ã€‚æ³¨æ„ï¼šå¼•ç”¨ç›¸ç­‰æ€§æ£€æŸ¥ === å’Œ !== æ˜¯ä¸å…è®¸é‡è½½çš„ã€‚ç›¸ç­‰æ€§æ£€æŸ¥è¢«è½¬æ¢æˆå¦‚æ­¤å¤æ‚çš„è¡¨è¾¾å¼æ˜¯ä¸ºäº†ç­›é€‰ null å€¼ï¼Œè€Œä¸”ä¿è¯ null == null è¿”å›ž true 2.2.7 æ¯”è¾ƒè¿ç®—ç¬¦SymbolTranslated toa &gt; ba.compareTo(b) &gt; 0a &lt; ba.compareTo(b) &lt; 0a &gt;= ba.compareTo(b) &gt;= 0a &lt;= ba.compareTo(b) &lt;= 0æ‰€æœ‰çš„æ¯”è¾ƒè¿ç®—ç¬¦éƒ½ä¼šè¢«è½¬æ¢æˆ compareTo() æ–¹æ³•ï¼›compareTo() æ–¹æ³•å¿…é¡»è¿”å›žä¸€ä¸ª Int å€¼ã€‚ 3. ä¸­ç¼€å‡½æ•°é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å®šä¹‰ä¸­ç¼€å‡½æ•°æ¥å®šä¹‰æ–°çš„**â€œè¿ç®—ç¬¦â€**æ¯”å¦‚æ•°å­—ç±»åž‹çš„ä½è¿ç®—å°±æ˜¯é€šè¿‡ä¸­ç¼€å‡½æ•°å®žçŽ°çš„ã€‚]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[My Linux Experiences]]></title>
    <url>%2F%2FLinux%2FMy%20Linux%20Experiences%2F</url>
    <content type="text"><![CDATA[Linux Mint Installation Notes 1. Using the USB bootDo not use the hard disk boot option, it will cause a lot of problems.As I am known, if you do that, the battery will be some weird problems. 2. PartitionYou could do the patition base on your needs, or follow the advice in the Internet.Normally, I just use /, /boot, /home and /swap parts.Maybe the /usr needs to mount into another space, for what the software is almost install bythe package manager.(such as apt-get) 3. Dual BootThis is extremely important,(for me ,because I still can not leave the big game which is only can be run in Windows)If you want to have the bennifits from each of these OS 3.1 Single Hard DiskThatâ€™s nothing to say about, if only have one hard disk,you must be care of the order of the installation,because the first installed boot loader will be covered by the secound. 3.2 Dual or Multiple Hard Disksyou need to be awared of the boot loaderâ€™s position,because if you install them into the same disk, the latter will cover the formerI recomend to use the Win to load the Linux, because the linux is actually a bit annoying,you need to reinstall the system for many times at the very first time. If you use the grup toboot the Win, when you need to reinstall the linux, it will be difficult to do it.Improtant:Use the USB driver to install the Linux, do not just use the hard driver to install.Keep the USB driver, it will be more convient to REINSTALL the systemThe install position of the boot loaderThe position must contain the name of the hard disk.That is, you need to install it into /dev/sda or the /dev/sdbnot the hard driver which has number with it.If you want to let the Win to boot the linux, just place the boot loader intowhere the Windows C driver is not in it.I have two hard disks, and my Windows C driver place in the SSD, if I want touse win to load the linux, I just place it into the HDDIf you want to do the oppsite, just let the Linux to boot the Windows, you need to installthe boot loader into the same disk which the Windows c driver has been installed.Supplement for Linux boot WindowsDO NOT FORMAT THE LINUX PARTITION IN WINDOWS!!!if so, the two systems will not be able to start neither. 4. ProxyNormally, I only use the socks proxy, but also the http proxy,so, what I am using is the Shadowsocks + Privoxy to build up thesocks proxy and the http proxyDown Shadowsocks-qt5 or install it by ppaUsing the apt-get to install PrivoxyEdit the /etc/privoxy/config for the configuration.To enable the socks config, just edit the1forward-socks5 / host:port .Usually, it will be1forward-socks5 / 127.0.0.1:1080 .Do remenber the &lt;space&gt; of the port and the . is necessaryUse the IP instead of the localhostDefaultly, the HTTP listen port is 8118Using the following command to start an service of the privoxy1sudo service privoxy restartRemember itâ€™s restart not the start,sometime, the start wonâ€™t work.And the socks proxy is 127.0.0.1:1080, the http proxy is 127.0.0.1:8118 5. Enviroment VariablesNormally, the enviroment variables could be define and edit in the~/.*shrc, now I am using Zsh,so the file is .zshrc,normally, it will be .bashrcDifferent from Ubuntu, when you need to run a program from the desktop enviroment,such as IntillJ IDEA, you need to edit the ~/.profile to define the enviroment variables,such as JAVA_HOME 6. About the unable to run &quot;mate-settings deamon&quot;It might be cause by the incorrect NVIDIA driver,use the default is just fine.Do not change the NV driver from the driver manager. 7. About my battery problemsIt might due to some weird problems,if the battery cannot be reconized, try to installacpi, it might be some help.Actually, I not quite sure. 8. ZshFollowing the instruction of robbyrussell/oh-my-zshto install the zsh is ok, and donâ€™t forget to install oh-my-zsh to customze the zshTo enable the agnoster bulit-in theme of theoh-my-zsh, need to install the Powerline-patched font, justuse the install.sh is okay.And after that, change the terminal font to which has the powerline suffix. 9. VimThe vim is almost the biggest problem for me.After hours of hours test, I found a config that is suit with me.What I use it the spf13/spf13-vim + suan/vim-instant-markdownfor supporting my vim usage and do the notes.Just follow the instruction in each repo, that is okay.Supplements:Change the theme of the status line in spf13-vimThe status line is using the ariline, the instruction is place athttps://github.com/bling/vim-airline/wiki/FAQ,click the Screenshot, it will list its themes and the theme name.What I like is the badwolf.Add MathJax support for the vim-instant-markdownSee this issueKnown Issue:The vim-instant-markdown will remain the chrome tab when the vim is leave.]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu 14.04 LTS Installation Checklist]]></title>
    <url>%2F%2FLinux%2FUbuntu%2014.04%20LTS%20Installation%20Checklist%2F</url>
    <content type="text"><![CDATA[1. IntroThis is the installation checklist of the lastest Ubuntu LTS version: Ubuntu 14.04 LTSThe reason of choosing Ubuntu is that the Ubuntu has the least problems with my hardware.Actually, itâ€™s only the Wireless Issue exist. 2. Before InstallBackup all the proxy settings and the other software settings which cannot be synchronized.Design the harddrive parttitionThe /boot, /, /swap and the /home 3. System ConfigurationChange software source to mainland ChinaIn my home, the aliyunâ€™s software source seems better.In my school, the bjtuâ€™s software source seems better.Upgrade softwareThe Ubuntu Software Center will automatically upgrade the softwares.Or, you can usesudo apt-get update: 2016-10-14 sudo apt-get upgradeto upgrade the softwares.Install fcitx input method frameDue to the account of my baidu is Chinese.So I need to install the fcitx first to get the shadowsocks server infoCheck this post for detailsTelegram seems not support super + space as the switch shortcut.Remenber use a secondary switch shortcut as ctrl + super + spaceFix the Wireless Issue of RTL8723BENeed to install vim at firstThis is the model of my Wireless Network Adapter.It has a issue of network connection in Ubuntu.The way how to fix is open the/etc/modprobe.d/rtl8723be.confif it doesnâ€™t exsit, create it.And add such line in it:options rtl8723be fwlps=N ips=NAnd then reboot, it will fix this problemCheck this post for details. 4. The necessary softwaresInstall shadowsocksThe GUI client of linux is the shadowsocks-qt5Install Google ChromeI donâ€™t know somehow the original firefox bulit in the system cannot play song of the neteasy cloud music.So, install the Chrome is necessary.Install LastPassI store most of my passwords in the LastPass, including the Google account.Install git and the bulid-essntial packageFor the development needsInstall zsh and oh-my-zshThe best shell I have ever seenInstall spf13-vimThe spf13 vim has problem of neocomplete plugin, but itâ€™s still the best _vimrc.Maybe the k-vim will be better. 5. EntertainmentThe entertainment is almost the Kancolle game.Install the ShimakazeGoPrerequisites:mono, openssl, libssl-dev, libssl0.9.8, p7zip-fullThe openssl is built in the system.The p7zip-full is the command line version of 7zInstall the poiPrerequisites:electron, nodejs, npmThe npm is the bulit-in module of nodejsInstall nodejs:Download the archive and add it to the PATH in ~/.zshrcNotes for npm:The origin registry is extremely slow.Recommand to change it to the http://registry.cnpm.org 6. Java &amp; Jetbrainsâ€™ IDEsUsing the oracleâ€™s Java is recommended.use`sudo update: 2016-10-14This step should fix the Android SDK Manager not responding in Android StudioEnviroment Variable:For command line program, define it at ~/.zshrcFor desktop entry: Define at /etc/enviromentJava Enviroment Settings Procedure: (in /etc/enviroment)Set JAVA_HOME (not include the bin/)Set CLASSPATH (normally the lib/ folder in $JAVA_HOME)Add $JAVA_HOME to $PATHAndroid StudioPrerequisites:See this answer in StackOverflow.Android SDK Manager:It seems a issue that I cannot lanuch the standalone SDK Manager in Android Studio.It wired, by far I have no idea how to solve it.But the bulit-in manager works fine, so itâ€™s not so important at this moment. 7. Desktop EntryThe desktop entry of per user store in~/.local/share/applicationsThe format of desktop entry is :1234567[Desktop Entry]Name= # The name of the app, use camercal caseIcon= # The iconExec= # The execute path, must be absolute pathType=ApplicationTerminal=falseCategories= # The categories 8. FontsBy far, the font settings seems acceptable.As follow:My Unity Fonts SettingsDefault FontDroid Sans RegularDocument fontDroid Sans RegularMonospace fontMeslo LG S for Powerline RegularWindows fontUbuntu monoTerminal fontMeslo LG S for Powerline RegularMy Chrome Fonts SettingsStandard fontWenQuanYi Micro Hei 15pxSerif fontDroid SerifSans-serif fontDejaVu SansFixed width fontMeslo LG S for PowerlineSpecial: Jetbrainsâ€™ IDEs using Robono Mono for powerline]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Material Design ä¸»ä½“çŽ¯å¢ƒ]]></title>
    <url>%2F%2FMaterialDesign%2FMaterial%20Design%20%E4%B8%BB%E4%BD%93%E7%8E%AF%E5%A2%83%2F</url>
    <content type="text"><![CDATA[1. æ¦‚è¿°Material Design æ˜¯ä¸€ä¸ªä¸‰ç»´çŽ¯å¢ƒï¼ŒåŒ…æ‹¬äº†ç¯å…‰ï¼Œå®žä½“ï¼Œå’ŒæŠ•å°„é˜´å½±ã€‚æ‰€æœ‰çš„å®žä½“å¯¹è±¡éƒ½å…·æœ‰ x, y, z ä¸‰ä¸ªåæ ‡ã€‚ä¸€ä¸ªå¯¹è±¡åªèƒ½æ‹¥æœ‰ä¸€ä¸ª z è½´ä½ç½®ã€‚ï¼ˆå³ä¸å…è®¸ä¸¤ä¸ªå®žä½“é‡å ï¼‰ä¸»å…‰æºç”¨äºŽåˆ¶é€ æ–¹å‘æŠ•å½±ï¼Œæ•£å°„å…‰æºç”¨äºŽåˆ¶é€ æŸ”å’Œé˜´å½±ã€‚å®žä½“åŽšåº¦ï¼š 1dpé˜´å½±ç”±é‡å å®žä½“ä¹‹é—´çš„é«˜ä½Žå·®äº§ç”Ÿå³é˜´å½±å®žé™…ä¸Šå°±æ˜¯é«˜ä½Žå·®çš„ä»£è¡¨ 2. 3D ä¸–ç•ŒMaterial Design æ˜¯ä¸€ä¸ª 3D ä¸–ç•Œã€‚è¿™æ„å‘³ç€æ‰€æœ‰çš„å®žä½“éƒ½å…·æœ‰ 3 ä¸ªç»´åº¦çš„åæ ‡ï¼›z è½´åž‚ç›´å¯¹é½äºŽå±å¹•ï¼Œæ­£è½´æŒ‡å‘å±å¹•å¤–ä¾§ã€‚ä¸€ä¸ªå®žä½“åŽšåº¦ä¸º 1dpï¼Œå¹¶ç‹¬äº«ä¸€ä¸ª z è½´åæ ‡ã€‚dp = (åƒç´ å®½åº¦ * 160) / åƒç´ å¯†åº¦åœ¨ç½‘é¡µç«¯ï¼Œz è½´æ˜¯ç”¨æ¥åˆ†å±‚è€Œä¸æ˜¯ç”¨æ¥å±•ç¤ºè§†è§’ï¼Œz è½´çš„åæ ‡é€šè¿‡æ“ä½œ y è½´æ¥æ¨¡æ‹Ÿå®žçŽ°ã€‚ 3. ç¯å…‰å’Œé˜´å½±åœ¨çŽ¯å¢ƒä¸­ï¼Œè™šæ‹Ÿå…‰æºè¥é€ å‡ºäº†åœºæ™¯ã€‚ä¸»å…‰æºç”¨äºŽæŠ•å°„æ–¹å‘æŠ•å½±ï¼Œè€Œæ•£å°„å…‰æºç”¨äºŽåœ¨å„ä¸ªè§’åº¦æŠ•å°„æŸ”å’Œçš„å…‰å½±ã€‚åœ¨çŽ¯å¢ƒä¸­çš„é˜´å½±ç”±ä»¥ä¸Šè¿™ä¸¤ç§å…‰æºæ¥å®žçŽ°ã€‚åœ¨ Android å¼€å‘ä¸­ï¼Œé˜´å½±çš„äº§ç”Ÿæ˜¯å› ä¸ºå…‰æºè¢«ä¸åŒ z è½´åæ ‡ä¸Šçš„å®žä½“é®æŒ¡ã€‚åœ¨ç½‘é¡µå¼€å‘ä¸­ï¼Œé€šè¿‡è°ƒæ•´ y è½´æ¥è¿›è¡Œä»¿çœŸå®žçŽ°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ ‡é«˜ä¸º 6 dp çš„å®žä½“çš„ä¾‹å­ã€‚ç›´å°„å…‰æºæŠ•å°„çš„é˜´å½±æ•£å°„å…‰æºçš„é˜´å½±ä¸¤ç§å…‰æºçš„æ··åˆæŠ•å½±]]></content>
      <categories>
        <category>MaterialDesign</category>
      </categories>
      <tags>
        <tag>MaterialDesign</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Material Design æ¦‚è¿°]]></title>
    <url>%2F%2FMaterialDesign%2FMaterial%20Design%20%E6%A6%82%E8%BF%B0%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»Material Design æ˜¯ Google å®˜æ–¹åœ¨ 2014 I/O ä¸Šå‘å¸ƒçš„è®¾è®¡è¯­è¨€ã€‚äº‹å®žä¸Šéšç€æ›´å¤šçš„ Android è®¾å¤‡è¿›å…¥åˆ° 5.0 ä»¥ä¸Šç³»åˆ—ï¼ŒMaterial Design çš„åº”ç”¨ä¹Ÿæ„ˆåŠ å¹¿æ³›ã€‚ 2. è®¾è®¡åŽŸåˆ™ 2.1 Material is the metaphorå®žä½“(Material) æ˜¯æ­¤è®¾è®¡è¯­è¨€çš„åŸºæœ¬ç»„æˆï¼Œä¸Žä¼—ä¸åŒçš„è§¦æ„Ÿæ˜¯å®žä½“çš„åŸºç¡€ã€‚å®žä½“çš„è¡¨é¢å’Œè¾¹ç¼˜æä¾›äº†åŸºäºŽçœŸå®žæ•ˆæžœçš„ä½“éªŒï¼Œç†Ÿæ‚‰çš„è§¦æ„Ÿèƒ½è®©ç”¨æˆ·å¿«é€Ÿçš„ç†è§£å’Œæ„ŸçŸ¥ï¼Œå®žä½“çš„å¤šæ ·æ€§èƒ½æ›´å¥½åæ˜ çœŸå®žä¸–ç•Œçš„è®¾è®¡æ•ˆæžœï¼Œè€Œåˆä¸ä¼šè„±ç¦»å®¢è§‚è§„å¾‹ã€‚å…‰æ•ˆã€è¡¨é¢è´¨æ„Ÿã€è¿åŠ¨æ„Ÿè¿™ä¸‰ç‚¹æ˜¯è§£é‡Šç‰©ä½“è¿åŠ¨è§„å¾‹ã€äº¤äº’æ–¹å¼ã€ç©ºé—´å…³ç³»çš„å…³é”®ã€‚çœŸå®žçš„å…‰æ•ˆå¯ä»¥è§£é‡Šç‰©ä½“ä¹‹é—´çš„äº¤åˆå…³ç³»ã€ç©ºé—´å…³ç³»ï¼Œä»¥åŠå•ä¸ªç‰©ä½“çš„è¿åŠ¨ã€‚ 2.2 é²œæ˜Žã€å½¢è±¡ã€æ·±æ€ç†Ÿè™‘æ–°çš„è§†è§‰è¯­è¨€ï¼Œåœ¨åŸºæœ¬å…ƒç´ çš„å¤„ç†ä¸Šï¼Œå€Ÿé‰´äº†ä¼ ç»Ÿçš„å°åˆ·è®¾è®¡â€”â€”æŽ’ç‰ˆã€ç½‘æ ¼ã€ç©ºé—´ã€æ¯”ä¾‹ã€é…è‰²ã€å›¾åƒä½¿ç”¨â€”â€”è¿™äº›åŸºç¡€çš„å¹³é¢è®¾è®¡è§„èŒƒã€‚åœ¨è¿™äº›è®¾è®¡åŸºç¡€ä¸Šä¸‹åŠŸå¤«ï¼Œä¸ä½†å¯ä»¥æ„‰æ‚¦ç”¨æˆ·ï¼Œè€Œä¸”èƒ½å¤Ÿæž„å»ºå‡ºè§†è§‰å±‚çº§ã€è§†è§‰æ„ä¹‰ä»¥åŠè§†è§‰èšç„¦ã€‚ç²¾å¿ƒé€‰æ‹©è‰²å½©ã€å›¾åƒã€é€‰æ‹©åˆä¹Žæ¯”ä¾‹çš„å­—ä½“ã€ç•™ç™½ï¼ŒåŠ›æ±‚æž„å»ºå‡ºé²œæ˜Žã€å½¢è±¡çš„ç”¨æˆ·ç•Œé¢ï¼Œè®©ç”¨æˆ·æ²‰æµ¸å…¶ä¸­ã€‚Material Design è®¾è®¡è¯­è¨€å¼ºè°ƒæ ¹æ®ç”¨æˆ·è¡Œä¸ºå‡¸æ˜¾æ ¸å¿ƒåŠŸèƒ½ï¼Œè¿›è€Œä¸ºç”¨æˆ·æä¾›æ“ä½œæŒ‡å¼•ã€‚ 2.3 æœ‰æ„ä¹‰çš„åŠ¨ç”»æ•ˆæžœåŠ¨ç”»æ•ˆæžœ(ç®€ç§°åŠ¨æ•ˆ)å¯ä»¥æœ‰æ•ˆåœ°æš—ç¤ºã€æŒ‡å¼•ç”¨æˆ·ã€‚åŠ¨æ•ˆçš„è®¾è®¡è¦æ ¹æ®ç”¨æˆ·è¡Œä¸ºè€Œå®šï¼Œèƒ½å¤Ÿæ”¹å˜æ•´ä½“è®¾è®¡çš„è§¦æ„Ÿã€‚åŠ¨æ•ˆåº”å½“åœ¨ç‹¬ç«‹çš„åœºæ™¯å‘ˆçŽ°ã€‚é€šè¿‡åŠ¨æ•ˆï¼Œè®©ç‰©ä½“çš„å˜åŒ–ä»¥æ›´è¿žç»­ã€æ›´å¹³æ»‘çš„æ–¹å¼å‘ˆçŽ°ç»™ç”¨æˆ·ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå……åˆ†çŸ¥æ™“æ‰€å‘ç”Ÿçš„å˜åŒ–ã€‚åŠ¨æ•ˆåº”è¯¥æ˜¯æœ‰æ„ä¹‰çš„ã€åˆç†çš„ï¼ŒåŠ¨æ•ˆçš„ç›®çš„æ˜¯ä¸ºäº†å¸å¼•ç”¨æˆ·çš„æ³¨æ„åŠ›ï¼Œä»¥åŠç»´æŒæ•´ä¸ªç³»ç»Ÿçš„è¿žç»­æ€§ä½“éªŒã€‚åŠ¨æ•ˆåé¦ˆéœ€ç»†è…»ã€æ¸…çˆ½ã€‚è½¬åœºåŠ¨æ•ˆéœ€é«˜æ•ˆã€æ˜Žæ™°ã€‚]]></content>
      <categories>
        <category>MaterialDesign</category>
      </categories>
      <tags>
        <tag>MaterialDesign</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ’çº¿æ¿é‡æž„è®¡åˆ’]]></title>
    <url>%2F%2FPlan%2F%E6%8F%92%E7%BA%BF%E6%9D%BF%E9%87%8D%E6%9E%84%E8%AE%A1%E5%88%92%2F</url>
    <content type="text"><![CDATA[1. è®¾å¤‡æ¸…å• 1.1 ç›®å‰æ‹¥æœ‰çš„è®¾å¤‡ Mac ç¬”è®°æœ¬ 3ds kindle hub è·¯ç”±å™¨ äº¤æ¢æœº æ˜¾ç¤ºå™¨ æ‰‹æœº å¹³æ¿ ç¯ ç§»åŠ¨ç”µæº æ•£çƒ­å™¨ å‰ƒé¡»åˆ€ è€³æœº 1.2 å°†è¦è´­ç½®çš„è®¾å¤‡ ps4 ç¡¬ç›˜ é£Žæ‰‡ æ˜¾ç¤ºå™¨æ˜¾ç¤ºå™¨åªä¼šæœ‰ä¸€ä¸ªå¾—åˆ°ä¾›ç”µã€‚ 1.3 å¯ä»¥ä½¿ç”¨ USB çš„è®¾å¤‡3dskindlehubå¹³æ¿ç§»åŠ¨ç”µæºé£Žæ‰‡æ•£çƒ­å™¨ 2. ä¾›ç”µæŽ¥å£è®¡åˆ’åŽŸåˆ™ï¼šå°½é‡ä½¿ç”¨ USB å£è¿›è¡Œä¾›ç”µï¼Œé¿å…å ç”¨æ’çº¿å£ 2.1 å¯æä¾›çš„ä¾›ç”µæŽ¥å£ç›®å‰è®¡åˆ’è´­å…¥ QIC 8 å£ + 5 USB æ’åº§ï¼Œå…±æœ‰ 8 ä¸ªæ’å£ + 5 ä¸ª USB å£ï¼Œå…¶ä¸­ 2A å£ä¸º 2 ä¸ªã€‚å¢™ä¸Šå›ºæœ‰æ’åº§ï¼š 2 ä¸‰å­” + 2 äºŒå­”ã€‚å¦å¤– Hub ä¹Ÿå¯æä¾› 4 ä¸ª USB å……ç”µæŽ¥å£ã€‚å…± 8 + 2 + 2ï¼ˆä¸¤å­”ï¼‰ = 12 ä¸ªç”µæ’å£ + 9 ä¸ª USB å£ 2.2 è®¡åˆ’æŽ¥å…¥ USB å£çš„è®¾å¤‡è‹¥ Hub æŽ¥å…¥ USB å£ï¼Œåˆ™æœ‰ 4 + 4 = 8 ä¸ª USB å……ç”µæŽ¥å£ï¼Œå…¶ä¸­ 2A å£ä¸º 2 ä¸ªã€‚3dskindlehubç§»åŠ¨ç”µæº(2A)å¹³æ¿(2A)é£Žæ‰‡æ•£çƒ­å™¨ç›®å‰å ç”¨ä¸¤ä¸ª 2A å£ï¼Œ4 ä¸ªæ™®é€šå£ï¼Œå…± 6 ä¸ªæŽ¥å£ã€‚è‹¥é£Žæ‰‡ä¸ç”¨ USB å£ï¼Œåˆ™ç”¨ 5 ä¸ªæŽ¥å£ã€‚é€šè¿‡ 2.3 è®¡åˆ’æŽ¥å…¥æ’å£çš„è®¾å¤‡Macæ˜¾ç¤ºå™¨ç¬”è®°æœ¬è·¯ç”±å™¨äº¤æ¢æœºç¯å‰ƒé¡»åˆ€è€³æœºæ‰‹æœºPS4ç¡¬ç›˜å…±éœ€è¦ 11 ä¸ªä¾›ç”µæ’å£ï¼Œè‹¥é£Žæ‰‡ä½¿ç”¨ç”µæ’å£ï¼Œåˆ™éœ€è¦ 12 ä¸ªã€‚ç´§å¼ è§£å†³åŠžæ³•ï¼š 1. å¯»æ‰¾æ›´å¤§çš„æ’åº§ 2. ä¸Žç›®å‰æ’åº§ä¸²è”ï¼Œå¢žåŠ å¯ç”¨é‡ 3. è´­ç½®å¤šä¸ªæ’åº§ï¼ˆ18 + 5ï¼‰]]></content>
      <categories>
        <category>Plan</category>
      </categories>
      <tags>
        <tag>Plan</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Studio FAQ]]></title>
    <url>%2F%2FAndroid%2FAndroidStudio%2FAndroid%20Studio%20FAQ%2F</url>
    <content type="text"><![CDATA[1. .gitignore æ–‡ä»¶å¦‚æžœä½ æƒ³è¦å°½é‡çš„å‡å°‘å†²çªï¼Œå°±ä¸è¦ç›´æŽ¥ä½¿ç”¨ Android Studio é»˜è®¤ç”Ÿæˆçš„ .gitignore æ–‡ä»¶ï¼Œè€Œæ˜¯è¦åœ¨ .gitignore ä¸­æ·»åŠ ä¸€äº›é¡¹ç›®ï¼Œæˆ–è€…ç›´æŽ¥å¯¼å…¥å…¶å†…ç½®çš„è®¸å¤šæ¨¡æ¿ã€‚è¿™é‡Œæœ‰ä¸€äº›åº”è¯¥åŠ å…¥çš„é¡¹ç›®:/.idea æ–‡ä»¶å¤¹/.idea æ–‡ä»¶å¤¹æ˜¯ gradle å¯¼å…¥å·¥ç¨‹æ—¶ç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼Œå®ƒä¼šè¢« gradle è‡ªåŠ¨ç”Ÿæˆã€‚åœ¨æ·»åŠ ä¸€ä¸ªæ–°ä¾èµ–çš„æ—¶å€™ï¼Œbuild æµç¨‹ä¼šè‡ªåŠ¨æ·»åŠ ä¾èµ–é¡¹çš„æè¿°åˆ° /.idea æ–‡ä»¶å¤¹é‡Œï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“ä¼šå¼•èµ·å†²çªã€‚.iml æ–‡ä»¶iml æ–‡ä»¶ä¼šåœ¨å½“ä½ å¯¼å…¥ gradle å·¥ç¨‹çš„æ—¶å€™è¢« gradle è‡ªåŠ¨ç”Ÿæˆï¼Œå’Œä¸Šé¢ä¸€æ ·ï¼Œgradle ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›æè¿°åˆ° .iml æ–‡ä»¶é‡Œé¢ï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬äº†ä¾èµ–é¡¹çš„æè¿°/gradle.properties æ–‡ä»¶è¿™ä¸ªæ–‡ä»¶ç»å¸¸åªä¿å­˜äº† gradle çš„ä»£ç†è®¾ç½®ï¼Œ1.5 ç‰ˆæœ¬ä»¥åŽçš„ Anroid Studio ä¼šåœ¨å½“ä½ è¿›è¡Œ Gradle Sync çš„æ—¶å€™è‡ªåŠ¨å°† Android Studio çš„ä»£ç†è®¾ç½®å¯¼å…¥åˆ°è¿™ä¸ªæ–‡ä»¶é‡Œé¢ã€‚å¦‚æžœç»„å‘˜å„è‡ªä½¿ç”¨ä¸åŒçš„ä»£ç†è®¾ç½®ï¼Œé‚£ä¹ˆå°±åº”è¯¥å¿½ç•¥å®ƒè¡¥å……1ï¼šåˆ«å¿˜è®°æ‰§è¡Œ git rm -r --cached æ¥åˆ é™¤ git ç‰ˆæœ¬æ ‘ä¸­çš„ç‰ˆæœ¬.gitigonre ä»…å¯¹é‚£äº›æ²¡æœ‰è¿½è¸ªçš„æ–‡ä»¶èµ·ä½œç”¨ï¼Œå¦‚æžœå·²ç»è¢« git ç³»ç»Ÿè¿½è¸ªäº†ï¼Œä»…å°†å…¶åŠ å…¥åˆ° .gitignore æ˜¯æ²¡æœ‰ä½œç”¨çš„ã€‚è¡¥å……2ï¼šå½“ä½ éœ€è¦å¿½ç•¥ä¸€ä¸ªæ–‡ä»¶å¤¹çš„æ—¶å€™ï¼Œåˆ«å¿˜è®°æ·»åŠ  / åŽç¼€ä¾‹å¦‚ï¼šå½“ä½ éœ€è¦å¿½ç•¥ .gradle æ–‡ä»¶å¤¹çš„æ—¶å€™ï¼Œä½ éœ€è¦è¾“å…¥ /.gradle/ ï¼Œè¿™æ ·ï¼Œå®ƒæ‰èƒ½å¿½ç•¥æ•´ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦åˆ™ï¼Œå½“ä½ åˆ é™¤è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åŽè¢«é‡æ–°ç”Ÿæˆæ—¶ï¼Œ Android Studio å°±ä¸ä¼šè¯†åˆ«å‡ºå®ƒæ˜¯å·²ç»å¿½ç•¥æŽ‰çš„äº†ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œè¿™é‡Œæ˜¯æˆ‘çš„ .gitignore ä¾‹å­ã€‚12345678*.iml/.idea//gradle.properties.gradle//local.properties.DS_Store/build/captures 2. å½“å‡ºçŽ° cannot resolve symbols æ—¶é¦–å…ˆï¼Œä½ éœ€è¦æ£€æŸ¥ä¾èµ–æ˜¯å¦å·²ç»è¢«æ­£ç¡®åŠ è½½äº†ï¼Œå¦‚æžœä¾èµ–é¡¹æ²¡æœ‰é—®é¢˜é‚£ä¹ˆè¯·ä¾ç…§ä»¥ä¸‹æµç¨‹æ¥å°è¯•è¿›è¡Œä¿®å¤æ£€æŸ¥ä½¿ç”¨çš„ gradle æ˜¯å¦æ­£ç¡®åœ¨ Settings ä¸­æ£€æŸ¥ gradle çš„é€‰é¡¹ï¼Œä¸€èˆ¬æŽ¨èä½¿ç”¨ Anroid Studio å†…ç½®çš„ gradleã€‚åˆ é™¤æœ¬åœ°çš„ä»£ç åº“ï¼Œé‡æ–°å…‹éš†ä¸€ä»½å°è¯•ç‚¹å‡» Gradle Sync æŒ‰é’®è¿›è¡Œ Gradle Syncåœ¨ Build èœå•é€‰æ‹© Clean the Projectåœ¨ Build èœå•é€‰æ‹© Rebuild the Projectéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½ å…‹éš†å®Œæ¯•åŽï¼Œä½¿ç”¨ Open existing Project æˆ–è€… Import from gradle æ¥æ‰“å¼€å·¥ç¨‹ï¼Œè€Œä¸æ˜¯åœ¨ recently projects ä¸­æ‰“å¼€ã€‚ 3. å½“ä¸èƒ½è¯†åˆ«å‡º Android æ¡†æž¶æ—¶å¦‚æžœä½ çš„ Android Studio ä¸èƒ½è¯†åˆ«å‡º Gradle æˆ–è€…æ•´ä¸ª Anroid æ¡†æž¶çš„æ—¶å€™ï¼Œä¾‹å¦‚ï¼Œå¯¼èˆªæ¡æ²¡æœ‰ app moduleï¼Œåœ¨ Build èœå•åªæœ‰ä¸€ç‚¹ç‚¹ä¸œè¥¿çš„æ—¶å€™ã€‚å¤‡ä»½ä½ çš„ä»£ç åº“åˆ°è¿œç«¯ï¼Œç„¶åŽé‡æ–°å…‹éš†å®ƒã€‚ å½“ä½ å…‹éš†å®Œæ¯•çš„æ—¶å€™ï¼Œ rebuild project.]]></content>
      <categories>
        <category>Android</category>
        <category>Android Studio</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Studio å¡ buliding gradle info]]></title>
    <url>%2F%2FAndroid%2FAndroidStudio%2FAndroid%20Studio%20%E5%8D%A1%20buliding%20gradle%20info%2F</url>
    <content type="text"><![CDATA[1. é—®é¢˜æœ‰æ—¶å€™ç¬¬ä¸€æ¬¡ä½¿ç”¨ Android Studio æ‰“å¼€æŸä¸ªé¡¹ç›®æ—¶ï¼Œä¼šå‡ºçŽ°é¡¹ç›®ä¸€ç›´å¡åœ¨ buliding gradle info çš„é—®é¢˜ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š![Building project info](https://i4.buimg.com/563021/c4ee7577d3d0bcde.jpg)æ­¤é—®é¢˜çš„åŽŸå› åœ¨äºŽï¼šç”¨äºŽä¸‹è½½ gradle æœ¬ä½“çš„ç½‘ç«™è¢«å¢™äº†ï¼Œå¯¼è‡´ä¸‹è½½é€Ÿåº¦ç¼“æ…¢ã€‚ 2. è§£å†³åŠžæ³•æ‰“å¼€ gradle çš„ gradle.propertiesï¼Œç„¶åŽç›´æŽ¥ä»Žé‡Œé¢çš„é“¾æŽ¥ä¸‹è½½ gradleï¼Œæ”¾å…¥ gradle çš„æ–‡ä»¶å¤¹ä¸­å³å¯ã€‚å½“ç„¶ï¼Œæœ€é è°±çš„æ–¹æ³•è¿˜æ˜¯åŽ»ç¿»å¢™å•¦ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>Android Studio</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Volley åº“çš„åŸºæœ¬ä½¿ç”¨]]></title>
    <url>%2F%2FAndroid%2FVolley%2FAndroid%20Volley%20%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[1. Volley ä»‹ç»ä¸ŽåŸºæœ¬ä½¿ç”¨åœºæ™¯Volley æ˜¯ Google åœ¨ 2013 å¹´ I/O å¤§ä¼šä¸Šå‘å¸ƒçš„ä¸€ä¸ª Android çš„ç½‘ç»œæ¡†æž¶åº“ï¼Œç”¨äºŽç®€åŒ– Android æž„å»ºç½‘ç»œè¿žæŽ¥çš„æ­¥éª¤ï¼ŒåŒæ—¶æä¾› ç¼“å­˜ã€ç½‘ç»œä¼˜å…ˆçº§ç­‰åŠŸèƒ½ã€‚Volley é€‚ç”¨äºŽé«˜é¢‘ï¼Œå°æµé‡çš„ç½‘ç»œè®¿é—®ï¼Œä¾‹å¦‚ä¼ è¾“ Json ä¿¡æ¯ï¼Œå‰åŽç«¯çš„å°æµé‡äº¤äº’ç­‰ã€‚å¯¹äºŽä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶çš„éœ€æ±‚ï¼ŒVolley ä¸é€‚ç”¨ã€‚è¿™ä¸»è¦æ˜¯ç”±äºŽ Volley å¯¹è¯·æ±‚é˜Ÿåˆ—é‡‡ç”¨çš„æ˜¯åœ¨å†…å­˜ä¸­çš„ç¼“å­˜ï¼Œå†³å®šäº† Volley ä¸é€‚åº”å¤§æ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶æµï¼‰çš„ä¼ è¾“ã€‚ 2. Volley çš„åŸºæœ¬ä½¿ç”¨ 2.1 æ·»åŠ ç¼–è¯‘ä¾èµ–Volley åœ¨ä¸ä¹…å‰åŠ å…¥äº† jCenterï¼Œç›´æŽ¥ä½¿ç”¨ gradle çš„ compile è¯­å¥å³å¯ã€‚1compile &apos;com.android.volley:volley:1.0.0&apos;å¦‚æžœä¸ä½¿ç”¨ compile è¯­å¥ï¼Œåˆ™éœ€è¦ä»Ž Git repository ä¸­å…‹éš†ï¼Œæ·»åŠ ç¼–è¯‘ module1git clone https://android.googlesource.com/platform/frameworks/volley 2.2 æ·»åŠ ç½‘ç»œè®¿é—®æƒé™ä¸ºäº†ä½¿ç”¨ Volley è¿™ä¸€ç½‘ç»œåº“ï¼Œéœ€è¦åœ¨ Manifest ä¸­æ·»åŠ ç½‘ç»œè®¿é—®æƒé™ android.permission.INTERNET 2.3 å‘èµ·ç½‘ç»œè¯·æ±‚Volley æ˜¯é€šè¿‡ä¼˜å…ˆé˜Ÿåˆ—æ¥ç®¡ç†å¤šä¸ªç½‘ç»œè¯·æ±‚çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ Volley å³æž„å»ºè¯·æ±‚é˜Ÿåˆ—å’Œç›¸åº”çš„ç½‘ç»œè¯·æ±‚å¯¹è±¡å³å¯ã€‚ 2.3.1 ä¾‹å­Volley æä¾›äº†é»˜è®¤çš„é™æ€æ–¹æ³•ç”¨äºŽæž„å»ºä¸€ä¸ªè¯·æ±‚é˜Ÿåˆ—çš„å®žä¾‹ã€‚æ‰€ä»¥æž„å»ºä¸€ä¸ªè¯·æ±‚å¯¹è±¡ï¼Œè®¾ç½®å¥½ç›‘å¬ï¼Œå¹¶å°†å…¶åŠ å…¥è¯·æ±‚é˜Ÿåˆ—å³å¯ã€‚12345678910111213141516171819202122232425final TextView mTextView = (TextView) findViewById(R.id.text);...// Instantiate the RequestQueue.RequestQueue queue = Volley.newRequestQueue(this);String url =&quot;http://www.google.com&quot;;// Request a string response from the provided URL.StringRequest stringRequest = new StringRequest(Request.Method.GET,url,new Response.Listener&lt;String&gt;() &#123; @Override public void onResponse(String response) &#123; // Display the first 500 characters of the response string. mTextView.setText(&quot;Response is: &quot;+ response.substring(0,500)); &#125;&#125;, new Response.ErrorListener() &#123; @Override public void onErrorResponse(VolleyError error) &#123; mTextView.setText(&quot;That didn&apos;t work!&quot;); &#125;&#125;);// Add the request to the RequestQueue.queue.add(stringRequest);StringRequest çš„æœ€åŽä¸¤ä¸ªå‚æ•°æ˜¯ Response.Listener&lt;T&gt; å’Œ Response.ErrorListenerã€‚é€šè¿‡ä½¿ç”¨åŒ¿åçš„ç›‘å¬ç±»æ¥åˆ†åˆ«èŽ·å¾—æ­£å¸¸çš„æœåŠ¡å™¨å“åº”å’Œç½‘ç»œé”™è¯¯æ—¶çš„å“åº” 2.3.2 åŸºæœ¬åŽŸç†å½“è¯·æ±‚è¢«åŠ å…¥åˆ°é˜Ÿåˆ—åŽï¼ŒVolley ä¼šè‡ªåŠ¨è¿è¡Œç¼“å­˜å¤„ç†çº¿ç¨‹å’Œä¸€ä¸ªç½‘ç»œé€šä¿¡çº¿ç¨‹æ± ã€‚ç¼“å­˜å¤„ç†è¿›ç¨‹å°†è¯·æ±‚å‡ºåˆ—ï¼Œå¹¶åˆ¤æ–­ç¼“å­˜æ˜¯å¦å‘½ä¸­ï¼Œå¦‚æžœç¼“å­˜å‘½ä¸­ï¼Œå°±ç›´æŽ¥è¿”å›žä¸»çº¿ç¨‹è¿›è¡Œç»“æžœå¤„ç†ã€‚å¦‚æžœç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œåˆ™å°†è¯·æ±‚åŠ å…¥å†…ç½®çš„ç½‘ç»œé€šä¿¡é˜Ÿåˆ—ï¼Œç½‘ç»œé€šä¿¡çº¿ç¨‹æ± ä¸­çš„ç¬¬ä¸€ä¸ªå¯ç”¨çº¿ç¨‹ä¼šå¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œå»ºç«‹ HTTP è¿žæŽ¥ï¼Œè§£æžè¿”å›žç»“æžœå¹¶å°†å…¶å†™å…¥ç¼“å­˜ï¼ŒéšåŽå°†ç»“æžœè¿”å›žåˆ°ä¸»çº¿ç¨‹ã€‚ä¸‹å›¾æ˜¯å…·ä½“çš„å·¥ä½œæµç¨‹å›¾è§£ 2.4 å–æ¶ˆè¯·æ±‚å¦‚æžœè¦å–æ¶ˆä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œåªéœ€è¦è°ƒç”¨ Request çš„ cancel() æ–¹æ³•å³å¯ã€‚ä¸€ç»å–æ¶ˆï¼ŒVolley ä¼šä¿è¯ä¸ä¼šè°ƒç”¨è¿”å›žç»“æžœçš„å¤„ç†å™¨ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥åœ¨ Activity çš„ onStop() æ–¹æ³•ä¸­å–æ¶ˆæ‰€æœ‰æ­£åœ¨å¤„ç†çš„ç½‘ç»œè¯·æ±‚ã€‚åŒæ—¶ï¼Œè¿˜å¯ä»¥ç»™è¯·æ±‚æ‰“ä¸Š TAGï¼Œä½¿ç”¨ RequestQueue ä¸­çš„ cancelAll() æ–¹æ³•æ¥å–æ¶ˆå¯¹åº”çš„è¢«æ‰“ä¸Š TAG çš„è¯·æ±‚ã€‚TAG çš„ç±»åž‹ä¸é™ï¼Œç”šè‡³å¯ä»¥æ˜¯ Activtyï¼Œå¯ä»¥é€šè¿‡åœ¨ onStop() ä¸­è°ƒç”¨ cancelAll(this) æ¥å–æ¶ˆæ‰€æœ‰è·Ÿè¿™ä¸ª Activty æœ‰å…³çš„ Requestä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ String ä½œä¸º TAG çš„åº”ç”¨ä¾‹å­ï¼š1234567891011121314151617public static final String TAG = &quot;MyTag&quot;;StringRequest stringRequest; // Assume this exists.RequestQueue mRequestQueue; // Assume this exists.// Set the tag on the request.stringRequest.setTag(TAG);// Add the request to the RequestQueue.mRequestQueue.add(stringRequest);@Overrideprotected void onStop () &#123; super.onStop(); if (mRequestQueue != null) &#123; mRequestQueue.cancelAll(TAG); &#125;&#125; 3. æž„å»ºé˜Ÿåˆ—å•ä¾‹å¯¹äºŽ APP æ¥è¯´ï¼Œä½¿ç”¨å¤šä¸ªç½‘ç»œé˜Ÿåˆ—æ˜¯æµªè´¹æ€§èƒ½çš„ï¼Œæœ€å¥½æ˜¯æ•´ä¸ª APP ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä½¿ç”¨å•ä¾‹æ¨¡å¼æ¥è¿›è¡Œ Volley RequestQueue çš„æ“ä½œã€‚ 3.1 è‡ªå®šä¹‰é˜Ÿåˆ—RequestQueue é™¤äº†ä½¿ç”¨ Volley çš„é™æ€æ–¹æ³•æž„å»ºä»¥å¤–ï¼Œè¿˜å¯ä»¥è‡ªå·±æž„å»º RequestQueueã€‚è¿™æ—¶ï¼Œå°±å¯ä»¥å¯¹é˜Ÿåˆ—çš„ç¼“å­˜å¤§å°è¿›è¡Œè®¾å®šã€‚åˆå§‹åŒ– Cache å®žä¾‹123// The first is the Context method// The second is the SIZE of the queue, described by BYTESCache cache = new DiskBasedCache(getCacheDir(), 1024 * 1024);åˆå§‹åŒ– Network å®žä¾‹12// Using the HttpUrlConnectionNetwork network = new NetWork(new HurlStack());ä½¿ç”¨ä»¥ä¸Šä¸¤ä¸ªå®žä¾‹æ¥æž„å»ºè¯·æ±‚é˜Ÿåˆ—1mRequestQueue = new RequestQueue(cache, network);å¯åŠ¨é˜Ÿåˆ—1mRequestQueue.start(); 3.2 æž„å»ºå•ä¾‹æ¨¡åž‹ä¸ºäº†èŠ‚çœç³»ç»Ÿèµ„æºï¼Œæˆ‘ä»¬æž„å»ºä¸€ä¸ªå•ä¾‹æ¨¡åž‹ï¼Œæ•´ä¸ª App åªä½¿ç”¨è¿™ä¸€ä¸ªè¯·æ±‚é˜Ÿåˆ—ã€‚12345678910111213141516171819202122232425262728293031323334353637public class NetworkSingleton &#123; private static NetworkSingleton mInstance; private static mContext; private RequestQueue mRequestQueue; // Use private constructor private NetworkSingleton(Context context) &#123; mContext = context; mRequestQueue = getRequestQueue(); &#125; public static synchronized NetworkSingleton getInstance( Context context) &#123; if (mInstance == null) &#123; mInstance = new NetworkSingleton(context); &#125; return mInstance; &#125; public RequestQueue getRequestQueue() &#123; if (mRequestQueue == null) &#123; // The request queue needs the Application context // if someone pass a Activity context // using the getApplicationContext() could prevent // the wrong paramaters mRequestQueue = Volley.newRequestQueue( mContext.getApplicationContext()); &#125; return mRequestQueue; &#125; public &lt;T&gt; void addToRequestQueue(Request&lt;T&gt; request) &#123; getRequestQueue().add(request); &#125;&#125;ä½¿ç”¨ç±»ä¼¼ Java Bean çš„å•ä¾‹æ¨¡åž‹ï¼Œæˆ‘ä»¬åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­å°±åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—å®žä¾‹ã€‚åŒæ—¶ï¼Œè¿˜å¯ä»¥åˆ©ç”¨å•ä¾‹æ¨¡åž‹æ¥è¿›è¡Œè¯·æ±‚çš„æ·»åŠ å’Œåˆ é™¤]]></content>
      <categories>
        <category>Android</category>
        <category>Volley</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Volley</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Volley æž„å»ºè‡ªå®šä¹‰è¯·æ±‚]]></title>
    <url>%2F%2FAndroid%2FVolley%2FAndroid%20Volley%20%E6%9E%84%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%B7%E6%B1%82%2F</url>
    <content type="text"><![CDATA[1. ä»‹ç»Volley æä¾›äº†åŸºæœ¬çš„ StringRequestï¼ŒJsonObjectRequest å’Œ JsonArrayRequest æ¥æ»¡è¶³å­—ç¬¦ä¸²è¯·æ±‚å’Œ JSON è¯·æ±‚ã€‚ä½†æ˜¯æœ‰æ—¶å€™è¿™å¯èƒ½è¿˜ä¸èƒ½æ»¡è¶³æˆ‘ä»¬å¯¹ç½‘ç»œé€šä¿¡çš„éœ€æ±‚ã€‚æ¯”å¦‚è¯´ä½¿ç”¨ Gson åº“æ¥è‡ªåŠ¨çš„å¯¹å“åº”çš„ JSON è¿›è¡Œè§£æžç­‰ã€‚æ­¤æ—¶å°±éœ€è¦æž„å»ºè‡ªå®šä¹‰çš„ Volley è¯·æ±‚ã€‚ 2. åŸºæœ¬æ­¥éª¤ 2.1 ç»§æ‰¿ Request&lt;T&gt; ç±»è‡ªå®šä¹‰è¯·æ±‚é¦–å…ˆæ˜¯é€šè¿‡ç»§æ‰¿åŸºæœ¬çš„ Request&lt;T&gt; ç±»æ¥å®žçŽ°çš„ã€‚123public class GsonRequst&lt;T&gt; extends Requst&lt;T&gt; &#123; // class body&#125; 2.2 å®žçŽ°æž„é€ å™¨ç„¶åŽï¼Œæˆ‘ä»¬è¦å®žçŽ°æž„é€ å™¨æ»¡è¶³åŸºæœ¬çš„ Request çš„æž„é€ æ–¹æ³•ã€‚12345678910public GsonRequest(String url, Class&lt;T&gt; clazz, Response.Listener&lt;T&gt; listener, Response.ErrorListener errorListener) &#123; // Fulfill the super constructor super(Method.GET, url, errorListener); this.clazz = clazz; this.listener = listenr;&#125;å½“ç„¶ï¼Œè¿™é‡Œä½œä¸ºä¸€ä¸ª GsonRequestï¼Œä»…ä»…è¦æ±‚æ»¡è¶³çˆ¶ç±»çš„æž„é€ å‚æ•°æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜è¦æŒ‡å®š Gson è½¬æ¢çš„ class ç±»åž‹ï¼Œä»¥åŠå¿…è¦çš„ Response Listener 2.3 é‡è½½å¿…è¦æ–¹æ³•ä¸ºäº†å®žçŽ° GsonRequest æˆ‘ä»¬è¦é‡è½½å¿…è¦çš„æ–¹æ³•parseNetworkResponse() å’Œ deliverNetworkResponse()é‡è½½ parseNetworkResponse(Response response)é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥è§£æžç½‘ç»œçš„å›žå¤çš„ï¼Œå¯¹äºŽæˆ‘ä»¬çš„ GsonRequestï¼Œæˆ‘ä»¬é¦–å…ˆè¦å°†ç½‘ç»œçš„å›žå¤ï¼ˆäºŒè¿›åˆ¶æµï¼‰è½¬æ¢æˆ JSONï¼Œç„¶åŽç”± Gson è§£æžæˆç›¸åº”çš„ç±»ã€‚123456789101112@Overrideprotected Response&lt;T&gt; parseNetworkResponse( NetworkResponse response) &#123; try &#123; String json = new String(response.data, HttpHeaderParser.parseCharset(response.headers)); return Response.success(gson.fromJson(json, clazz), HttpHeaderParser.parseCacheHeaders(response)); &#125; // handle errors ...&#125;é‡è½½ deliverNetworkResponse(T response)è¿™ä¸ªæ–¹æ³•æ˜¯å°† parseNetworkResponse() çš„è§£æžç»“æžœå‘é€ç»™æˆ‘ä»¬çš„ Response listener çš„ã€‚æ‰€ä»¥ï¼Œä»£ç è¾ƒä¸ºç®€å•ï¼Œç›´æŽ¥æŠŠè§£æžå‡ºæ¥çš„ response ä¼ ç»™ listener çš„å›žè°ƒæ–¹æ³•å³å¯ã€‚1234@Overrideprotected void deliverResponse(T response) &#123; listener.onResponse(response);&#125; 2.4 å®Œæ•´ç¤ºä¾‹å®Œæ•´çš„å¯ç”¨ä»£ç å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public class GsonRequest&lt;T&gt; extends Request&lt;T&gt; &#123; private final Gson gson = new Gson(); private final Class&lt;T&gt; clazz; private final Map&lt;String, String&gt; headers; private final Listener&lt;T&gt; listener; /** * Make a GET request and return a parsed object from JSON. * * @param url URL of the request to make * @param clazz Relevant class object, for Gson&apos;s reflection * @param headers Map of request headers */ public GsonRequest(String url, Class&lt;T&gt; clazz, Map&lt;String, String&gt; headers, Listener&lt;T&gt; listener, ErrorListener errorListener) &#123; super(Method.GET, url, errorListener); this.clazz = clazz; this.headers = headers; this.listener = listener; &#125; @Override public Map&lt;String, String&gt; getHeaders() throws AuthFailureError &#123; return headers != null ? headers : super.getHeaders(); &#125; @Override protected void deliverResponse(T response) &#123; listener.onResponse(response); &#125; @Override protected Response&lt;T&gt; parseNetworkResponse(NetworkResponse response) &#123; try &#123; String json = new String( response.data, HttpHeaderParser.parseCharset(response.headers)); return Response.success( gson.fromJson(json, clazz), HttpHeaderParser.parseCacheHeaders(response)); &#125; catch (UnsupportedEncodingException e) &#123; return Response.error(new ParseError(e)); &#125; catch (JsonSyntaxException e) &#123; return Response.error(new ParseError(e)); &#125; &#125;&#125; 3. å…³äºŽ POST æ–¹æ³•ä»¥ä¸Šçš„ä¾‹å­æ˜¯åŸºäºŽ GET æ–¹æ³•æ¥ä»‹ç»çš„ï¼Œå¦‚æžœä½¿ç”¨ POST æ–¹æ³•åˆ™ç•¥æœ‰ä¸åŒã€‚ä»ç„¶ä»¥ GsonRequest ä¸¾ä¾‹å­ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŽ¥å—ä¸€ä¸ªæ–°çš„å‚æ•°ç”¨æ¥æ‰¿æŽ¥ POST çš„å®žä¾‹å¯¹è±¡ä½¿ç”¨ Gson å°†å¯¹è±¡åºåˆ—åŒ–æˆ JSON å­—ç¬¦ä¸²å°† JSON å­—ç¬¦ä¸²è½¬æ¢æˆ Params æˆ–è€…ç›´æŽ¥ POST JSON å­—ç¬¦ä¸²æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é‡è½½å‡ ä¸ªæ–°æ–¹æ³•ã€‚ 3.1 é‡è½½ getParams() æˆ– getBody() æ–¹æ³•getParams() æ–¹æ³•å®žè´¨ä¸Šä¼šåœ¨ getBody() æ–¹æ³•ä¸­è¢«è°ƒç”¨ï¼Œå¦‚æžœä½ åªéœ€è¦ POST ç®€å•çš„ Params å½¢å¼(key=val&amp;another_key=another_val)ï¼Œé‚£ä¹ˆé‡è½½ getParams() æ–¹æ³•å³å¯ã€‚ä½†å¦‚æžœæ™®é€šçš„ Params å½¢å¼æ— æ³•æ»¡è¶³éœ€è¦ï¼Œé‚£ä¹ˆå°±éœ€è¦é‡è½½ getBody() æ–¹æ³•ï¼Œå…¶è¿”å›žçš„å†…å®¹ä¼šæˆä¸º HTTP POST æŠ¥æ–‡ä¸­çš„ Bodyã€‚æ³¨æ„ï¼šä¸¤ä¸ªæ–¹æ³•åªèƒ½é€‰æ‹©é‡è½½å…¶ä¸­ä¸€ä¸ª 3.1.1 é‡è½½ getParams() æ–¹æ³•ä¸€èˆ¬çš„ POST ä½¿ç”¨ï¼Œæˆ‘ä»¬é‡è½½æ­¤æ–¹æ³•å³å¯ï¼Œè¯¥æ–¹æ³•è¿”å›žç±»åž‹æ˜¯ Map&lt;Sting, String&gt;ã€‚åœ¨ GsonRequest ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ Gson å°†éœ€è¦ POST çš„å¯¹è±¡åºåˆ—åŒ–æˆ JSONï¼ŒéšåŽå°† JSON ååºåˆ—åŒ–æˆ Map&lt;String, String&gt; å³å¯ã€‚å³ Object -&gt; JSON -&gt; Map&lt;String, String&gt;123456789@Override Map&lt;String, String&gt; getParmas() &#123; String json = gson.toJson(mPostObject); // Use TypeToken to avoid the unchecked cast // and the floating number converted from primitive integer return gson.fromJson( json, new TypeToken&lt;Map&lt;String, String&gt;&gt;()&#123;&#125;.getType());&#125; 3.1.2 é‡è½½ getBody() æ–¹æ³•å¦‚æžœåŸºæœ¬çš„ getParams() æ–¹æ³•ä¸èƒ½æ»¡è¶³éœ€è¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æŽ¥é‡è½½ getBody() æ–¹æ³•æ¥å®žçŽ°å¯¹ HTTP body çš„é«˜åº¦å®šåˆ¶ã€‚åœ¨ GsonRequest ä¸­ï¼Œå‡å¦‚ç¢°åˆ°æœ‰æ—¶éœ€è¦ POST å¸¦ List æˆ–è€…æ•°ç»„ç±»åž‹çš„å¯¹è±¡ï¼Œç”±äºŽ List ä¸èƒ½è¢« cast æˆ Map&lt;String, String&gt; çš„ç±»åž‹ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨ getParams() æ–¹æ³•ã€‚åº”è¯¥è¦ä½¿ç”¨ getBody() æ–¹æ³•ã€‚æ³¨æ„ getBody() è¿”å›žçš„æ˜¯ byte[] ç±»åž‹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ String çš„ getBytes() æ–¹æ³•æ¥å°† JSON è½¬æ¢æˆäºŒè¿›åˆ¶æµã€‚1234567891011121314151617@Overridepublic byte[] getBody() throws AuthFailureError &#123; if (mPostObject != null) &#123; String postJson = gson.toJson(mPostObject); try &#123; return postJson.getBytes(PROTOCOL_CHARSET); &#125; catch (UnsupportedEncodingException e) &#123; VolleyLog.wtf( &quot;Unsupported Encoding while trying to get the byte of %s using %s&quot;, postJson, PROTOCOL_CHARSET); &#125; &#125; return null;&#125; 3.2 é‡è½½ getBodyContentType() æ–¹æ³•ä¸ºäº†æˆ‘ä»¬çš„ POST body èƒ½è¢«æˆåŠŸè§£æžï¼Œæˆ‘ä»¬è¿˜éœ€è¦é‡è½½ getBodyContentType() æ–¹æ³•æ¥æŒ‡å®šæˆ‘ä»¬ POST çš„æ•°æ®çš„ç±»åž‹1234@Overridepublic String getBodyContentType() &#123; return PROTOCOL_CONTENT_TYPE;&#125;]]></content>
      <categories>
        <category>Android</category>
        <category>Volley</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Volley</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Randomized Queue Implemetation Idea]]></title>
    <url>%2F%2FCoursera%2FAlgorithm%2FRandomized%20Queue%20Implemetation%20Idea%2F</url>
    <content type="text"><![CDATA[How to check full &amp; empty? Maintain a item size Calculate from pointer How to resize?Create a new arrayIterate the item in the origin arrayAssign the new array to the old one How to iterate?Initialization: begin at headNext: iterator = (iterator + 1) % array.lengthHasNext: iterator != last + 1 How to add?Check if is full, if so, double its sizelast = (last + 1) % array.lengthPlace the item into the new last index position How to remove?Generate a random integer within the range [0, Size)Turn it to the index randomInt + headSwap the item of that index with the headDequeue]]></content>
      <categories>
        <category>Coursera</category>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
        <tag>Coursera</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ°åº“ API]]></title>
    <url>%2F%2FProjects%2FBigInovation%2F%E5%9C%B0%E5%BA%93%20API%2F</url>
    <content type="text"><![CDATA[Global rules RequestRequests are MOSTLY without body, just METHOD /exampleSome request may need sending a JSON. The JSON MUST be put in HTTP body ResponseAll responses MUST be transported using JSON object as bodyAll responses MUST contain status as below&quot;success&quot; MUST exists, type: boolif &quot;success&quot; == false, you CAN get error message via &quot;error_msg&quot;: &quot;str&quot; and &quot;error_id&quot;: intThe response content MUST be stored in the result element of object typeExample:123456&#123; &quot;success&quot;: true, &quot;result&quot; : &#123; .... &#125;&#125;12345&#123; &quot;success&quot;: false, &quot;error_msg&quot;: &quot;error description&quot;, &quot;errro_id&quot;: 23333&#125; Map APIs Create a new map IDRequest:POST /mapResponse:123&#123; "id": 1212&#125; Update: 2016-10-14Request:PATCH /map/&lt;id&gt;12345&#123; "desc": "str of description", "lon": 2.333333, "lat": -23.33333&#125;Response: (empty JSON object)12&#123;&#125; Upload map GeoJSONRequest:PUT /map/&lt;id&gt;/geojson1&lt;GeoJSON content&gt;Response: (empty JSON object) Get map GeoJSONRequest:GET /map/&lt;id&gt;/geojsonResponse:1&lt;GeoJSON content&gt; Get nearest map IDRequest:GET /map/near/&lt;lat&gt;/&lt;lon&gt;Response:1234&#123; "id": 233, "distance": 1212.2&#125;distance is the distance of your position and map by meters Delete mapRequest:DELETE /map/&lt;id&gt;Response: (empty JSON object)]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
        <category>å¤§åˆ›</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹</tag>
        <tag>å¤§åˆ›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤§åˆ›é¡¹ç›®â€”â€”åœ°ä¸‹åœè½¦åœºå¯¼èˆª]]></title>
    <url>%2F%2FProjects%2FBigInovation%2F%E5%A4%A7%E5%88%9B%E9%A1%B9%E7%9B%AE%E2%80%94%E2%80%94%E5%9C%B0%E4%B8%8B%E5%81%9C%E8%BD%A6%E5%9C%BA%E5%AF%BC%E8%88%AA%2F</url>
    <content type="text"><![CDATA[1. å¹³é¢å›¾æž„å»ºäººç¾¤è¯†åˆ«æŠ€æœ¯ç…§ç‰‡åˆ†æžæŠ€æœ¯SMF å’Œæ¶ˆå¤±ç‚¹æ£€æµ‹å›¾ç‰‡å¹³æ»‘å¤„ç† 2. å®¤å†…å®šä½ä¸‰è§’å®šä½Benchmark Image æ˜¯å¦æœ‰æ¥æºï¼Ÿ 3. è½½å…·è¿½è¸ªä¸Žå¯¼èˆªæ‰‹æœºå§¿æ€æ£€æµ‹æœºå™¨å­¦ä¹ æ–¹é¢ï¼ˆè’™ç‰¹å¡æ´›æ¡†æž¶ï¼‰3D æ¨¡åž‹ -&gt; 1D æ¨¡åž‹ 4. é¡¹ç›®æž¶æž„ 4.1 æ¨¡å—å…³ç³»]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
        <category>å¤§åˆ›</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹</tag>
        <tag>å¤§åˆ›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®¤å†…å®šä½éƒ¨åˆ†]]></title>
    <url>%2F%2FProjects%2FBigInovation%2F%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D%E9%83%A8%E5%88%86%2F</url>
    <content type="text"><![CDATA[1. ç›®çš„éšç€æˆ‘å›½æ±½è½¦æ‹¥æœ‰é‡çš„ä¸Šå‡ï¼Œåœ°åº“çš„æ•°é‡ã€è½¦ä½ä¹Ÿåœ¨ä¸æ–­åœ°å¢žå¤šã€‚è™½ç„¶è¿™ä»ç„¶ä¸èƒ½æ»¡è¶³äººä»¬çš„éœ€æ±‚ï¼Œä½†æ˜¯ç«‹ä½“åŒ–ï¼Œå¤§åž‹åŒ–ï¼Œå¤æ‚åŒ–çš„å‘å±•è¶‹åŠ¿ï¼Œä½¿å¾—åœ°åº“çš„çŽ¯å¢ƒè¶Šæ¥è¶Šå¤æ‚å’Œå¤šæ ·åŒ–ï¼Œæˆä¸ºäº†é™åˆ¶åœ°åº“åº”ç”¨æ•ˆçŽ‡æé«˜çš„ä¸»è¦ç“¶é¢ˆã€‚çŽ°ä»£å¤§åž‹åœ°åº“çš„åœè½¦ä½æ•°è¶…è¿‡400ä¸ªã€‚ä»¥ä¸Šæµ·æµ¦ä¸œ96å¹¿åœºä¸ºä¾‹ï¼Œåœ°ä¸‹è½¦åº“å»ºç­‘é¢ç§¯è¶…è¿‡20000ãŽ¡ã€‚ä¸€ä»½ç½‘ç»œä¸Šé’ˆå¯¹è½¦è¿·ï¼ˆéƒ½å¸‚å›ºå®šå±…æ°‘ï¼‰çš„è°ƒæŸ¥æ˜¾ç¤ºï¼Œçº¦40% çš„äººæ— æ³•å‡†ç¡®åœ¨åœ°åº“ä¸­æ‰¾åˆ°è‡ªå·±çš„è½¦è¾†ã€‚è€Œè¿™ä¸ªæ¯”ä¾‹åœ¨æ™®é€šäººç¾¤ä¸­å°†ä¼šæ›´é«˜ã€‚è€Œéšç€å¯»è½¦éš¾å’Œæ³Šè½¦éš¾çš„ä¸æ–­å‡ºçŽ°å’Œæˆ‘å›½çš„åŸŽå¸‚åŒ–è¿›ç¨‹ä¸æ–­å‘å±•ï¼Œæ›´ä¸ºå¤æ‚çš„åœ°ä¸‹åœè½¦ç³»ç»Ÿå°†ä¼šè¶Šæ¥è¶Šå¤šçš„å‡ºçŽ°äºŽåŸŽå¸‚ä¹‹ä¸­ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©äººä»¬åœ¨æœ€çŸ­çš„æ—¶é—´å†…å¯»æ‰¾åˆ°è‡ªå·±çš„è½¦è¾†ã€‚åŒæ—¶ï¼Œå¿«é€Ÿè€Œå‡†ç¡®åœ°åœ°ä¸‹ï¼ˆå®¤å†…ï¼‰è½¦è¾†å®šä½æŠ€æœ¯ä¹Ÿæ˜¯åœ°åº“è½¦è¾†å¯¼èˆªçš„æŠ€æœ¯æ”¯æ’‘ç‚¹ï¼Œå¦‚æžœä¸èƒ½å‡†ç¡®å®šä½å½“å‰è½¦è¾†çš„æ‰€åœ¨ä½ç½®ï¼Œåœ°åº“çš„å¯¼èˆªè§„åˆ’å°±æ— æ³•å¼€å±•ï¼Œåœ¨åœè½¦åœºçš„é€†å‘å¯»è½¦æ›´æ˜¯æ— ä»Žè°ˆèµ·ã€‚ 2. å›½å†…å¤–çŽ°çŠ¶ç›®å‰çš„å®¤å†…å®šä½æŠ€æœ¯ç”±äºŽå®¤å†…ç¼ºä¹ GPS ä¿¡å·çš„å¼•å¯¼ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼š ï¼ˆä¸€ï¼‰æ— çº¿æŠ€æœ¯æ— çº¿æŠ€æœ¯åŒ…æ‹¬è®¸å¤šä¸åŒç§ç±»çš„æŠ€æœ¯ç±»åž‹ï¼Œä½†å…¶ä¸»è¦çš„åŽŸç†éƒ½ä¸ºåˆ©ç”¨çŽ°æœ‰çš„å¹¿æ’­é€šä¿¡è®¾å¤‡æ¥è¿›è¡Œå®¤å†…å®šä½ã€‚åŸºäºŽ WiFi çš„å®šä½ç³»ç»ŸåŸºäºŽ WiFi çš„å®šä½ç³»ç»Ÿä¸»è¦æ˜¯é€šè¿‡æµ‹é‡ç”¨æˆ·è®¾å¤‡åˆ°å‡ ä¸ªä¸åŒçš„æŽ¥å…¥ç‚¹çš„ä¿¡å·å¼ºåº¦ï¼Œé€šè¿‡ä¿¡å·çš„è¡°å‡ç¨‹åº¦ï¼Œå¹¶ç»“åˆè®¾å¤‡çš„å¹¿æ’­æ¨¡å¼æ¥è¿›è¡Œå®šä½[1]ã€‚åŒæ—¶ä¹Ÿæœ‰é€šè¿‡æµ‹é‡ä¿¡å·å¼ºåº¦ï¼Œç”Ÿæˆä¸€ä¸ªç›¸å…³æ•°æ®ï¼ˆç§°ä¸º WiFi æŒ‡çº¹ï¼‰ï¼Œå½“ä½ç½®ç§»åŠ¨æ—¶ï¼Œæ¯”å¯¹æ•°æ®ï¼Œæ‰¾å‡ºç›¸ä¼¼åº¦æœ€é«˜çš„æ•°æ®è§£æžåŽè¿›è¡Œå®šä½[2]ä½†æ˜¯ï¼Œç”±äºŽ WiFi ä¿¡å·çš„è¡°å‡æ¨¡åž‹ä¸ç¡®å®šï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§åž‹ï¼Œç«‹ä½“åŒ–ç­‰å¤æ‚çš„åœ°ä¸‹è½¦åº“å’Œåœè½¦åœºä¸­ï¼Œç”±äºŽå­˜åœ¨è¡Œé©¶çš„æ±½è½¦ï¼Œä½¿å¾—ä¿¡å·çš„è¡°å‡å‘ˆçŽ°å‡ºåŠ¨æ€éšæœºçš„ï¼Œä½¿å¾—å®šä½çš„ç²¾åº¦å’Œå¯é æ€§è¾ƒå·®ã€‚åŸºäºŽè“ç‰™ã€æ‰‹æœºä¿¡å·ç­‰å¤§éƒ¨åˆ†æ— çº¿ä¿¡å·çš„å®šä½ç³»ç»ŸåŸºäºŽè“ç‰™å’Œå…¶ä»–æ— çº¿ä¿¡å·ï¼ˆå¦‚ GSM/CDMA ç­‰æ‰‹æœºç”µä¿¡ä¿¡å·ï¼‰ï¼Œç”±äºŽä¿¡å·ç©¿é€åŠ›ä¸å¼ºï¼Œæˆ–åœ°åº“ç³»ç»Ÿè¿‡äºŽå¤æ‚å¯¼è‡´çš„ä¿¡å·è¦†ç›–çŽ‡å·®ï¼Œè®¾å¤‡éƒ¨ç½²éš¾ç­‰é—®é¢˜ï¼Œå…¶æ™®éçš„å®šä½ç²¾åº¦å’Œå¯é æ€§éƒ½ä¸æ˜¯å¾ˆé«˜[3]åŸºäºŽè¢«åŠ¨å¼å°„é¢‘è¯†åˆ«çš„å®šä½ç³»ç»Ÿè¢«åŠ¨å¼çš„å°„é¢‘è¯†åˆ«ç³»ç»Ÿé€šè¿‡åœ¨å®¤å†…è®¾ç½®ä¸€äº›è¢«åŠ¨å¼å°„é¢‘è¯†åˆ«è®¾å¤‡ï¼Œåœ¨æŽ¥æ”¶åˆ°è¶³å¤Ÿå¼ºçš„ä¿¡å·åŽï¼Œé€šè¿‡å‘è¯»å–å™¨å‘é€æ•°æ®æ¥å‘è½¦è¾†åé¦ˆå½“å‰ä½ç½®ã€‚è¢«åŠ¨å¼å°„é¢‘è®¾åˆ«è¾ƒä¸ºä¾¿å®œï¼Œä½†ç”±äºŽå°„é¢‘ä¿¡å·çš„ç‰¹ç‚¹ï¼Œéœ€è¦è¾ƒä¸ºç‹­çª„çš„é€šé“æ‰èƒ½è¾¾åˆ°è‰¯å¥½çš„å®šä½æ•ˆæžœï¼Œè¿™åœ¨ä¸€äº›è¾ƒä¸ºå¹¿é˜”çš„åœ°ä¸‹åœè½¦åœºé€‚ç”¨æ€§ä¸å¼ºã€‚åŒæ—¶ï¼Œç”±äºŽåœ°ä¸‹è½¦åº“çš„ç«‹ä½“åŒ–å‘å±•ï¼Œå½“è½¦è¾†åœ¨å‘ä¸‹è¿åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå°„é¢‘å®šä½å°±èµ·ä¸åˆ°ç›¸åº”çš„æ•ˆæžœã€‚ ï¼ˆäºŒï¼‰éžå¹¿æ’­æŠ€æœ¯éžå¹¿æ’­æŠ€æœ¯æ˜¯æŒ‡ä¸ä¾é çŽ°æœ‰çš„å¹¿æ’­é€šä¿¡è®¾å¤‡æ¥è¿›è¡Œå®¤å†…å®šä½çš„æŠ€æœ¯ã€‚ç£åœºå®šä½æŠ€æœ¯ç£åœºå®šä½æŠ€æœ¯æ˜¯åˆ©ç”¨æ‰‹æœºç­‰ç§»åŠ¨è®¾å¤‡çš„ç£åœºæ„Ÿåº”å™¨æ¥èŽ·å–ç£åœºæ•°æ®ï¼ˆåŒ…æ‹¬å»ºç­‘æœ¬èº«çš„ç£åœºæ•°æ®å’Œåœ°ç£æ•°æ®ï¼‰ï¼Œä»Žè€Œè¿›è¡Œå®¤å†…å®šä½çš„æŠ€æœ¯ã€‚ç”±äºŽå…¶æ‘†è„±äº†å¯¹å¹¿æ’­ä¿¡å·çš„ä¾èµ–ï¼Œè¾ƒä¸ºé€‚ç”¨äºŽä¸€äº›æ²¡æœ‰æˆ–è€…å¹¿æ’­ä¿¡å·è¾ƒä¸ºè¡°å¼±çš„åœºæ‰€ã€‚ä½†æ˜¯ï¼Œåœ¨ 2012 å¹´çš„å®¤å†…å®šä½å’Œå®¤å†…å¯¼èˆªï¼ˆIPINï¼‰çš„å›½é™…å³°ä¼šä¸Šï¼ŒBinghao Liï¼Œ Thomas Gallagherï¼Œ Andrew G Dempsterï¼ŒChris Rizos å…±åŒå‘è¡¨çš„ä¸€ç¯‡æ–‡ç« [4]æŒ‡å‡ºï¼Œå®¤å†…çš„ç£åœºä¼šå—åˆ°ç§»åŠ¨çš„é‡‘å±žç‰©ä½“çš„å¹²æ‰°ã€‚åœ¨å¤§åž‹åœ°ä¸‹åœè½¦åœºä¸­ï¼Œå­˜åœ¨ç€è¾ƒå¤šçš„è¡Œé©¶çš„æ±½è½¦å’Œç§»åŠ¨çš„å‡é™æ¢¯ï¼Œæ­¤æ—¶ï¼Œä»…ä»…ä¾é ç£åœºå®šä½çš„æ•ˆæžœä¸è‰¯å¥½ã€‚æƒ¯æ€§å®šä½æŠ€æœ¯æƒ¯æ€§å®šä½æŠ€æœ¯å³ä½¿ç”¨ç§»åŠ¨è®¾å¤‡çš„åŠ é€Ÿåº¦æ„Ÿåº”å™¨ï¼ŒèŽ·å–ç‰©ä½“çš„åŠ é€Ÿåº¦ä¿¡æ¯ï¼Œå¹¶é€šè¿‡é€Ÿåº¦å’Œä½ç½®æŽ¨ç®—ï¼Œä»Žè€Œè¿›è¡Œå®¤å†…å®šä½çš„æŠ€æœ¯ã€‚è¿™ç§æŠ€æœ¯åªèƒ½åœ¨ç‰©ä½“ç§»åŠ¨æ—¶æ‰èƒ½èµ·åˆ°æ•ˆæžœï¼Œåœ¨è½¦è¾†åœæ­¢æ—¶ï¼Œç”±äºŽç¼ºä¹åŠ é€Ÿåº¦ä¿¡æ¯ï¼Œå› è€Œæ— æ³•è¿›è¡Œä½ç½®æŽ¨ç®—ã€‚ 3. é—®é¢˜æ±‚è§£åŸºäºŽæˆ‘å›½ç›®å‰åŸŽå¸‚ä¸­åœ°ä¸‹è½¦åº“ä¸æ–­å¤§åž‹åŒ–ï¼Œç«‹ä½“åŒ–ï¼Œå¤æ‚åŒ–ï¼ŒåŒæ—¶ï¼Œæˆ‘å›½çš„ç”µä¿¡å»ºè®¾ä»æœ‰ä¸è¶³ï¼Œåœ°ä¸‹æ·±å±‚åœè½¦åœºçš„æ‰‹æœºä¿¡å·å·®ç­‰ç‰¹ç‚¹ã€‚åœ°ä¸‹è½¦åº“çš„è½¦è¾†å®šä½åº”æ‘’å¼ƒè“ç‰™å’Œæ‰‹æœºä¿¡å·ç­‰å®šä½æŠ€æœ¯çš„ä½¿ç”¨ã€‚åŸºäºŽä¸Šè¿°ç‰¹å¾ï¼Œå’Œç›®å‰çŽ°æœ‰æŠ€æœ¯çš„ä¼˜ç¼ºç‚¹ï¼Œæˆ‘ä»¬å†³å®šé€šè¿‡æ™ºèƒ½æ‰‹æœºä¸­ä¸°å¯Œçš„ä¼ æ„Ÿå™¨èµ„æ–™ï¼Œé‡‡ç”¨å¤šç§æŠ€æœ¯æ¥è¿›è¡Œåœ°ä¸‹è½¦è¾†å®šä½å’Œç›¸äº’éªŒè¯ã€‚å½“è½¦è¾†åœ¨åœ°åº“æŸä¸€å±‚æ—¶ï¼Œé€šè¿‡èŽ·å–æ°”åŽ‹å’Œç£åœºæ•°æ®ï¼Œå¹¶ç»“åˆè´å¶æ–¯ç®—æ³•ä»Žè€Œç¡®å®šè½¦è¾†æ‰€åœ¨çš„åœ°åº“å±‚æ•°ï¼Œé€šè¿‡å°„é¢‘è¯†åˆ«æŠ€æœ¯æ¥èŽ·å–å¤§æ¦‚ä½ç½®ï¼Œå¹¶é€šè¿‡ç»“åˆç£åœºæŠ€æœ¯å’ŒåŠ é€Ÿåº¦æ£€æµ‹ç­‰æƒ¯æ€§æŠ€æœ¯æ¥å¯¹ä½ç½®è¿›è¡Œæ ¡æ­£ã€‚å½“è½¦è¾†åœ¨è¡Œé©¶æ—¶ï¼Œé€šè¿‡ä½¿ç”¨æ‰‹æœºçš„åŠ é€Ÿåº¦ç­‰ä¼ æ„Ÿå™¨ï¼Œåœ¨ç»è¿‡æ‰‹æœºçš„å§¿æ€æ£€æµ‹å¤„ç†ï¼Œæ¶ˆé™¤æ‰‹æœºå§¿æ€è¯¯å·®åŽï¼Œä½¿ç”¨ä½ç½®æŽ¨ç®—ã€è·¯æ ‡å’Œå‡é€Ÿå¸¦ç¢°æ’žå¤„ç†ç­‰æŠ€æœ¯ï¼Œå¹¶ç»“åˆçº¿æ€§è’™ç‰¹å¡æ´›ç”Ÿæˆæ ‘ç®—æ³•æ¥å¯¹è½¦è¾†è¿›è¡Œå®žæ—¶è¿½è¸ªæ¼”ç®—ï¼Œå¯¹åŽŸæœ‰å®šä½æ•°æ®è¿›è¡Œæ ¡æ­£ã€‚å½“è½¦è¾†è¿›è¡Œè½¬å¼¯ã€ä¸Šä¸‹å±‚ç­‰è¿åŠ¨æ—¶ï¼Œé€šè¿‡é‡‡é›†æ‰‹æœºçš„é™€èžºä»ªå’Œæ°”åŽ‹å˜åŒ–å’Œç£åœºå˜åŒ–æ•°æ®åˆ¤æ–­è½¦è¾†å½“å‰æ‰€è¿›è¡Œçš„åŠ¨ä½œå’Œä½ç½®ã€‚â€œIndoor Localization Using Improved RSS-Based Lateration Methodsâ€ Yang, Jie; Chen, Yingying (2009-11-01) â†©ï¸ŽP. Bahl and V. N. Padmanabhan, â€œRADAR: an in-building RF-based user location and tracking system,â€ in Proceedings of 19th Annual Joint Conference of the IEEE Computer and Communications Societies (INFOCOM â€™00), vol. 2, pp. 775â€“784, Tel Aviv.Israel, March 2000. â†©ï¸ŽSurvey of Wireless Based Indoor Localization Technologies Junjie Liu (2014-05-05) â†©ï¸ŽHow feasible is the use of magnetic field alone for indoor positioning? Binghao Liï¼Œ Thomas Gallagherï¼Œ Andrew G Dempsterï¼ŒChris Rizos (13-15 Nov. 2012) â†©ï¸Ž]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
        <category>å¤§åˆ›</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹</tag>
        <tag>å¤§åˆ›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œæ¨¡å—ä½¿ç”¨æ–¹æ³•]]></title>
    <url>%2F%2FProjects%2FBigInovation%2F%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9D%97%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[è°ƒç”¨æ­¥éª¤ 1. èŽ·å– ApiServicesé€šè¿‡ ApiManager.getServices() èŽ·å– Apiservice å®žä¾‹ã€‚1ApiServices services = ApiManager.getServices(); 2. é€šè¿‡ ApiServices èŽ·å–å¯¹åº” API çš„ Call å¯¹è±¡ç¬¬ä¸€æ­¥ä¸­èŽ·å–åˆ°çš„ ApiServices æ˜¯ ApiServices æŽ¥å£çš„å®žä¾‹åŒ–å¯¹è±¡ã€‚é€šè¿‡è°ƒç”¨å…¶æŽ¥å£æ‰€å®šä¹‰çš„æ–¹æ³•ï¼ŒèŽ·å–å¯¹åº”ç½‘ç»œ API çš„ Call å¯¹è±¡1Call&lt;Response&gt; call = services.uploadMapGeoJsonCall(id, geoJsonObject);å¯¹åº”çš„ç½‘ç»œ API åŠå…¶è¯´æ˜Žè¯·æŸ¥çœ‹ç›¸åº”çš„åŽç«¯æ–‡æ¡£ã€‚ 3. é€šè¿‡ Call å¯¹è±¡çš„æ–¹æ³•æ¥æ‰§è¡Œä»»åŠ¡ã€‚èŽ·å–åˆ° Call å¯¹è±¡å¹¶ä¸æ„å‘³ç€å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼Œéœ€è¦è°ƒç”¨ Call å¯¹è±¡çš„å¯¹åº”æ–¹æ³•æ¥å¼€å¯è¿™ä¸€ä¸ªç½‘ç»œè¯·æ±‚ä»»åŠ¡ã€‚æ‰§è¡Œ Call ä»»åŠ¡çš„æ–¹æ³•æœ‰ä¸¤ä¸ªå¼‚æ­¥æ–¹æ³• æŽ¨èï¼ï¼1call.enqueue(new CallBack());åŒæ­¥æ–¹æ³•1call.execute();æœ€å¥½é€šè¿‡å¼‚æ­¥æ–¹æ³•æ¥å¼€å¯ä»»åŠ¡ã€‚ 4. åœ¨ CallBack ä¸­å¯¹ç»“æžœè¿›è¡Œå“åº”ã€‚ 4.1 onResponse() æ–¹æ³•onResponse() æ–¹æ³•ç”¨æ¥å¤„ç†è¿žé€šç½‘ç»œåŽçš„è¿”å›žç»“æžœï¼ŒåŒ…æ‹¬ 200 ç»“æžœå’Œå…¶ä»– 5xxï¼Œ4xx ç»“æžœã€‚æœ¬é¡¹ç›®å¯¹ä»»ä½•å¯ handle çš„ç»“æžœå‡è¿”å›ž 200 ï¼Œè¯·åŠ¡å¿…é€šè¿‡ body ä¸­çš„ isSuccess(), getErrorMsg() æ¥èŽ·å–çœŸæ­£çš„ç½‘ç»œå“åº”çŠ¶æ€ã€‚ 4.2. onFailure() æ–¹æ³•è¿™ä¸ªæ–¹æ³•ä¼šå›žè°ƒä»»ä½•çš„ç½‘ç»œæ— æ³•è¿žé€šï¼Œbody è§£æžé”™è¯¯çš„è¿”å›žç»“æžœã€‚]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
        <category>å¤§åˆ›</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹</tag>
        <tag>å¤§åˆ›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é«˜ç­‰æ•°å­¦ ä¸‹]]></title>
    <url>%2F%2FReviews%2FAdvancedMathmatics%2F%E9%AB%98%E7%AD%89%E6%95%B0%E5%AD%A6%20%E4%B8%8B%2F</url>
    <content type="text"><![CDATA[1. çº§æ•° 1.1 æ”¶æ•›åŠå¾„å’Œæ”¶æ•›åŸŸçš„è®¡ç®— 1.1.1 æ”¶æ•›åŠå¾„çš„è®¡ç®—å¯¹äºŽçº§æ•° âˆ‘n=0âˆžanxn\sum_{n = 0}^\infty a_nx^nâˆ‘n=0âˆžâ€‹anâ€‹xnï¼Œå¦‚æžœlimâ¡nâ†’âˆžâˆ£an+1anâˆ£=Ï\lim_{n \to \infty}|\frac{a_{n + 1}}{a_n}| = \rhonâ†’âˆžlimâ€‹âˆ£anâ€‹an+1â€‹â€‹âˆ£=Ïå½“ Ï&gt;0\rho \gt 0Ï&gt;0 æ—¶ï¼Œæ”¶æ•›åŠå¾„ R=1ÏR = \frac{1}{\rho}R=Ï1â€‹å½“ Ï=0\rho = 0Ï=0 æ—¶ï¼Œæ”¶æ•›åŠå¾„ R=+âˆžR = + \inftyR=+âˆžå½“ Ï=+âˆž\rho = + \inftyÏ=+âˆž æ—¶ï¼Œæ”¶æ•›åŠå¾„ R=0R = 0R=0æ³¨æ„ï¼Œæ”¶æ•›åŠå¾„åªä¸Žåªå¸¦æœ‰ nnn çš„å¼å­æœ‰å…³ï¼Œå³ ana_nanâ€‹ï¼Œä¸Ž xxx æ— å…³ã€‚ 1.1.2 æ”¶æ•›åŸŸçš„è®¡ç®—]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>é«˜æ•°</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>é«˜æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Automata Theory and Formal Language]]></title>
    <url>%2F%2FReviews%2FAutomata%2FAutomata%20Theory%20and%20Formal%20Language%2F</url>
    <content type="text"><![CDATA[1. Automata 1.5 The Central Concept of Automata Theory 1.5.1 AlphabetAlphabet is the finite, non-empty Set of the symbolUsing the âˆ‘\sumâˆ‘ symbol stand for the Alphabet 1.5.2 StringString, sometime called word is a finite sequence of symbols, which choose from the Alphabet.Empty StringIf the string has no symbol, it is empty String, use the Ïµ\epsilonÏµ stand for it.Stringâ€™s lenthThe number of symbol in the the string called the lenth of the string, use the âˆ£wâˆ£|w|âˆ£wâˆ£ stand for the lenth of string wwwThe power of AlphabetUse the exponent of the Alphabet like âˆ‘k\sum^kâˆ‘k stand for the Set of string, which lenth is kkk, in âˆ‘\sumâˆ‘Notice that âˆ‘0={Ïµ}\sum^0 = \{\epsilon\}âˆ‘0={Ïµ}The set of all strings in an Alphabet, use âˆ‘âˆ—\sum^*âˆ‘âˆ—If remove the Ïµ\epsilonÏµ in the normal Alphabet, the rest is called âˆ‘+\sum^+âˆ‘+âˆ‘+=âˆ‘0â‹ƒâˆ‘1â‹ƒâˆ‘2â‹ƒâ€¦\sum^+ = \sum^0\bigcup\sum^1\bigcup\sum^2\bigcup\dotsâˆ‘+=âˆ‘0â‹ƒâˆ‘1â‹ƒâˆ‘2â‹ƒâ€¦âˆ‘âˆ—=âˆ‘+â‹ƒ{Ïµ}\sum^*=\sum^+\bigcup\{\epsilon\}âˆ‘âˆ—=âˆ‘+â‹ƒ{Ïµ} 1.5.3 Language]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>è‡ªåŠ¨æœº</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>è‡ªåŠ¨æœº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªåŠ¨æœºè€ƒè¯•]]></title>
    <url>%2F%2FReviews%2FAutomata%2F%E8%87%AA%E5%8A%A8%E6%9C%BA%E8%80%83%E8%AF%95%2F</url>
    <content type="text"><![CDATA[å¡«ç©ºé€‰æ‹©é—®ç­” 1. ç»ªè®º 1.1 è¯­è¨€å’Œå½¢å¼è¯­è¨€è¯­è¨€æ˜¯å­—é›†é½ç»„åˆè§„åˆ™çš„ç»Ÿä¸€ä½“ 1.2 å­—æ¯è¡¨å­—æ¯è¡¨æ˜¯ä¸€ä¸ªéžç©ºæœ‰ç©·é›†åˆï¼Œå…·æœ‰éžç©ºæ€§ã€æœ‰ç©·æ€§å­—ç¬¦å…·æœ‰æ•´ä½“æ€§å’Œå¯è¾¨è®¤æ€§æ­£é—­åŒ…ï¼šâˆ‘+=âˆ‘âˆªâˆ‘2âˆªâˆ‘3âˆªâˆ‘4âˆªâ‹¯\sum^+ = \sum \cup \sum^2 \cup \sum^3 \cup \sum^4 \cup \cdotsâˆ‘+=âˆ‘âˆªâˆ‘2âˆªâˆ‘3âˆªâˆ‘4âˆªâ‹¯å…‹æž—é—­åŒ…ï¼šæ­£é—­åŒ… âˆªâˆ‘0\cup \sum^0âˆªâˆ‘0âˆ‘âˆ—=âˆ‘0âˆªâˆ‘+=âˆ‘0âˆªâˆ‘âˆªâˆ‘2âˆªâˆ‘3âˆªâˆ‘4âˆªâ‹¯\sum^* = \sum^0 \cup \sum^+ = \sum^0 \cup\sum \cup \sum^2 \cup \sum^3 \cup \sum^4 \cup \cdotsâˆ‘âˆ—=âˆ‘0âˆªâˆ‘+=âˆ‘0âˆªâˆ‘âˆªâˆ‘2âˆªâˆ‘3âˆªâˆ‘4âˆªâ‹¯ 1.3 å¥å­å­—ç¬¦çš„æ€»ä¸ªæ•°æˆä¸ºå¥å­çš„é•¿åº¦ï¼Œè®°ä¸ºâˆ£xâˆ£|x|âˆ£xâˆ£å‰ç¼€ã€åŽç¼€ï¼Œå…¬å…±å‰ç¼€ã€å…¬å…±åŽç¼€ä¸Žé›†åˆä¸­çš„å­é›†ç›¸åŒä¸¤ä¸ªå¥å­å«æœ‰åŒä¸€ä¸ªä¸²ï¼Œè¿™ä¸ªä¸²ç§°ä¸ºå…¬å…±å­ä¸²ï¼Œå¦‚æžœè¿™ä¸ªä¸²æ˜¯æœ€é•¿çš„ï¼Œé‚£ä¹ˆç§°ä¸ºæœ€å¤§å…¬å…±å­ä¸² 2. æ–‡æ³• 2.1 å½¢å¼å®šä¹‰æ–‡æ³• GGG æ˜¯ä¸€ä¸ªå››å…ƒç»„ï¼šG=(V,T,P,S)G = (V, T, P, S)G=(V,T,P,S)VVVâ€”â€”å˜é‡ï¼ˆvariableï¼‰ï¼Œâˆ€AâˆˆV\forall A \in Vâˆ€AâˆˆVï¼ŒAAA å«åšè¯­æ³•å˜é‡æˆ–è€…éžç»ˆæžç¬¦å·æˆ–è€…è¯­æ³•èŒƒç•´TTTâ€”â€”ç»ˆæžç¬¦å·ï¼ˆterminalï¼‰æ˜¯éžç©ºæœ‰ç©·é›†åˆã€‚âˆ€aâˆˆT\forall a \in Tâˆ€aâˆˆT aaa ç§°ä¸ºç»ˆæžç¬¦å·ï¼Œæ˜¯ç»„æˆä¸€ä¸ªä¸²æˆ–è€…å¥å­çš„å…ƒå•ä½PPPâ€”â€”äº§ç”Ÿå¼ï¼ˆproductionï¼‰ï¼Œå½¢å¼ä¸º Î±â†’Î²\alpha \to \betaÎ±â†’Î²SSSâ€”â€”SâˆˆVS \in VSâˆˆVï¼Œæ–‡æ³• G çš„å¼€å§‹ç¬¦å·ï¼Œè¡¨ç¤ºè¯­è¨€è¢«å®šä¹‰çš„åœ°æ–¹ 2.2 å¥åž‹å¦‚æžœå¯ä»¥ä»Žå¼€å§‹ç¬¦å·æŽ¨å¯¼å‡ºä¸€ä¸ªä¸²ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸²ç§°ä¸º GGG äº§ç”Ÿçš„ä¸€ä¸ªå¥åž‹ 2.3 ä¹”å§†æ–¯åŸºä½“ç³»æ²¡æœ‰ä»»ä½•é™åˆ¶çš„æ–‡æ³•ç§°ä¸º 0 åž‹æ–‡æ³•ï¼Œè¯­è¨€å«åš 0 åž‹è¯­è¨€å¯¹äºŽ 0 åž‹æ–‡æ³•ï¼Œç»è¿‡äº§ç”Ÿå¼åŽå¥å­é•¿åº¦ä¸å‡å°‘ï¼Œå«åšä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•ï¼Œè¯­è¨€å«åšä¸Šä¸‹æ–‡æœ‰å…³è¯­è¨€ï¼Œä¹Ÿè¢«ç§°ä¸º 1 åž‹æ–‡æ³•ï¼Œè¯­è¨€å«åš 1 åž‹è¯­è¨€å¯¹äºŽ âˆ€Î±â†’Î²âˆˆP\forall \alpha \to \beta \in Pâˆ€Î±â†’Î²âˆˆPï¼Œå‡æœ‰ âˆ£Î²âˆ£â‰¥âˆ£Î±âˆ£|\beta| \ge |\alpha|âˆ£Î²âˆ£â‰¥âˆ£Î±âˆ£å¯¹äºŽ 1 åž‹æ–‡æ³•ï¼Œå¦‚æžœå·¦éƒ¨éƒ½æ˜¯å˜é‡ï¼Œé‚£ä¹ˆå«åšä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•ï¼Œè¯­è¨€å«åšä¸Šä¸‹æ–‡æœ‰å…³è¯­è¨€ï¼Œä¹Ÿè¢«ç§°ä¸º 2 åž‹æ–‡æ³•ï¼Œè¯­è¨€å«åš 2 åž‹è¯­è¨€å¯¹äºŽ âˆ€Î±â†’Î²âˆˆP\forall \alpha \to \beta \in Pâˆ€Î±â†’Î²âˆˆPï¼Œå‡æœ‰ âˆ£Î²âˆ£â‰¥âˆ£Î±âˆ£|\beta| \ge |\alpha|âˆ£Î²âˆ£â‰¥âˆ£Î±âˆ£ï¼Œå¹¶ä¸”æœ‰ Î±âˆˆV\alpha \in VÎ±âˆˆVå¯¹äºŽ 2 åž‹æ–‡æ³•ï¼Œå¦‚æžœäº§ç”Ÿå¼åªäº§ç”Ÿç»ˆæžç¬¦å·å’Œç»ˆæžç¬¦å·åŽæŽ¥å˜é‡ï¼Œé‚£ä¹ˆå«åšæ­£åˆ™æ–‡æ³•ï¼Œè¯­è¨€å«åšæ­£åˆ™è¯­è¨€ï¼Œä¹Ÿå«åš 3 åž‹æ–‡æ³•å¯¹äºŽâˆ€Î±â†’Î²âˆˆP\forall \alpha \to \beta \in Pâˆ€Î±â†’Î²âˆˆP, Î±â†’Î²\alpha \to \betaÎ±â†’Î²å‡å…·æœ‰å½¢å¼ï¼šAâ†’wA \to wAâ†’wAâ†’wBA \to wBAâ†’wBæ³¨ï¼šæ­£åˆ™æ–‡æ³•åˆå«å³çº¿æ€§æ–‡æ³•ï¼›å¦‚æžœå˜é‡åœ¨å·¦è¾¹å°±å«å·¦çº¿æ€§æ–‡æ³•ï¼›ä¸¤ä¸ªä¸²ä¸­é—´å¤¹ä¸€ä¸ªå˜é‡å°±æ˜¯çº¿æ€§æ–‡æ³•å¯ä»¥çœ‹åˆ°ï¼Œæ–‡æ³•çš„ä¹”å§†æ–¯åŸºä½“ç³»æ˜¯é€æ­¥æ”¶ç´§é™åˆ¶çš„ 2.4 æŽ¨å¯¼ã€å½’çº¦å’Œæ–‡æ³•æž„é€ è¿™äº›éƒ½æ¯”è¾ƒç®€å•ï¼Œæ…¢æ…¢æŽ¨å°±è¡Œäº†ã€‚æž„é€ çœ‹ç»“æž„æƒ³æƒ³å°±è¡Œäº†ã€‚ 3. æœ‰ç©·çŠ¶æ€è‡ªåŠ¨æœº 3.1 ç‰©ç†æ¨¡åž‹æœ‰ç©·çŠ¶æ€è‡ªåŠ¨æœºç”±ä»¥ä¸‹ç»“æž„æž„æˆï¼šå³ç«¯æ— ç©·è¾“å…¥å¸¦æœ‰ç©·çŠ¶æ€æŽ§åˆ¶å™¨è¯»å¤´ 3.2 å½¢å¼å®šä¹‰æœ‰ç©·çŠ¶æ€è‡ªåŠ¨æœºæ˜¯ä¸€ä¸ªäº”å…ƒç»„M=(Q,âˆ‘,Î´,q0,F)M = (Q, \sum, \delta, q_0, F)M=(Q,âˆ‘,Î´,q0â€‹,F)QQQâ€”â€”çŠ¶æ€çš„éžç©ºæœ‰ç©·é›†åˆï¼Œâˆ€qâˆˆQ\forall q \in Qâˆ€qâˆˆQ, qqq ç§°ä¸º MMM çš„ä¸€ä¸ªçŠ¶æ€âˆ‘\sumâˆ‘â€”â€”è¾“å…¥å­—æ¯è¡¨Î´\deltaÎ´â€”â€”çŠ¶æ€è½¬ç§»å‡½æ•°ï¼Œè¯»å…¥å­—ç¬¦åŽç»è¿‡è½¬ç§»å‡½æ•°å¤„ç†è¿›è¡ŒçŠ¶æ€è½¬ç§»q0q_0q0â€‹â€”â€”å¼€å§‹çŠ¶æ€FFFâ€”â€”ç»ˆæ­¢çŠ¶æ€ï¼Œåˆç§°æŽ¥å—çŠ¶æ€ 3.3 DFAå¯¹äºŽçŠ¶æ€é›†åˆä¸­çš„ä»»ä½•ä¸€ä¸ªçŠ¶æ€ï¼ŒçŠ¶æ€è½¬ç§»å‡½æ•°å‡æœ‰ä¸€ä¸ªç¡®å®šçš„å€¼ 3.4 NFAå½¢å¼å®šä¹‰Î´\deltaÎ´â€”â€”çŠ¶æ€è½¬ç§»å‡½æ•°ï¼Œå¯¹äºŽâˆ€(q,a)âˆˆQÃ—âˆ‘,Î´(q,a)={p1,p2,â‹¯ ,pm}\forall (q,a) \in Q \times \sum, \delta(q,a) = \{p_1, p_2, \cdots, p_m\}âˆ€(q,a)âˆˆQÃ—âˆ‘,Î´(q,a)={p1â€‹,p2â€‹,â‹¯,pmâ€‹}å…¶ä½™ä¸Ž DFA ç›¸åŒä¸Ž DFA çš„åŒºåˆ«å¹¶ä¸æ˜¯æ‰€æœ‰åœ¨çŠ¶æ€é›†åˆä¸­çš„çŠ¶æ€å¯¹åº”æŸä¸ªè¾“å…¥éƒ½æœ‰çŠ¶æ€è½¬ç§»å‡½æ•°ç»“æžœä¸Žä¹‹å¯¹åº”å¹¶ä¸æ˜¯å¯¹äºŽæ‰€æœ‰çš„çŠ¶æ€è½¬ç§»ç»“æžœéƒ½åªå¯¹åº”ä¸€ä¸ªçŠ¶æ€ 3.5 Ïµâˆ’NFA\epsilon-NFAÏµâˆ’NFAå½¢å¼å®šä¹‰å¯¹âˆ€qâˆˆQ,Î´(q,Ïµ)={p1,p2,â‹¯ ,pm}\forall q \in Q, \delta (q, \epsilon) = \{ p_1, p_2, \cdots, p_m \}âˆ€qâˆˆQ,Î´(q,Ïµ)={p1â€‹,p2â€‹,â‹¯,pmâ€‹}ï¼Œè¡¨ç¤º MMM åœ¨çŠ¶æ€ qqq ä¸è¯»å…¥ä»»ä½•å­—ç¬¦çš„æƒ…å†µä¸‹ä¹Ÿèƒ½é€‰æ‹©è¿›è¡ŒçŠ¶æ€è½¬ç§» 3.6 è¡¥å……FA æŽ¥å—çš„è¯­è¨€æ˜¯æ­£åˆ™è¯­è¨€ 4. æ­£åˆ™è¡¨è¾¾å¼ 4.1 å½¢å¼å®šä¹‰âˆ…\varnothingâˆ… æ˜¯ âˆ‘\sumâˆ‘ ä¸Šçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºè¯­è¨€âˆ…\varnothingâˆ…Ïµ\epsilonÏµ æ˜¯ âˆ‘\sumâˆ‘ ä¸Šçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºè¯­è¨€ {Ïµ}\{ \epsilon \}{Ïµ}å¯¹äºŽâˆ€aâˆˆâˆ‘,a\forall a \in \sum , aâˆ€aâˆˆâˆ‘,a æ˜¯ âˆ‘\sumâˆ‘ ä¸Šçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå®ƒè¡¨ç¤ºè¯­è¨€ {a}\{ a \}{a}å¦‚æžœ rrr å’Œ sss åˆ†åˆ«æ˜¯ âˆ‘\sumâˆ‘ ä¸Šçš„è¡¨è¾¾è¯­è¨€ RRR å’Œ SSS çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆ(r+s)(r + s)(r+s) è¡¨è¾¾çš„è¯­è¨€æ˜¯ RâˆªSR \cup SRâˆªSï¼›(rs)(rs)(rs) è¡¨è¾¾çš„è¯­è¨€æ˜¯ RSRSRSï¼›(râˆ—)(r^*)(râˆ—) è¡¨è¾¾çš„è¯­è¨€æ˜¯ Râˆ—R^*Râˆ—åªæœ‰æ»¡è¶³ä»¥ä¸Šå››æ¡ï¼Œæ‰æ˜¯æ­£åˆ™è¡¨è¾¾å¼ 5. æ­£åˆ™è¯­è¨€çš„æ€§è´¨ 5.1 å°é—­æ€§RL åœ¨äº¤ã€å¹¶ã€è¡¥ï¼Œä¹˜ç§¯ã€é—­åŒ…è¿ç®—éƒ½æ˜¯å°é—­çš„ 5.2 Myhill-Nerode å®šç†å¦‚ä¸‹ä¸‰ä¸ªå‘½é¢˜ç­‰ä»·ï¼šLâŠ†âˆ‘âˆ—L \subseteq \sum^*LâŠ†âˆ‘âˆ— æ˜¯ RLL æ˜¯ âˆ‘âˆ—\sum^*âˆ‘âˆ— ä¸Šçš„æŸä¸ªå…·æœ‰æœ‰ç©·æŒ‡æ•°çš„åˆä¸å˜ç­‰ä»·å…³ç³» R çš„æŸäº›ç­‰ä»·ç±»çš„å¹¶RLR_LRLâ€‹ å…·æœ‰æ— ç©·æŒ‡æ•° 6. ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ 6.1 äºŒä¹‰æ€§å¯¹äºŽ CFG G=(V,T,P,S)G = (V, T, P, S)G=(V,T,P,S)ï¼Œå¦‚æžœå­˜åœ¨ wâˆˆL(G)w \in L(G)wâˆˆL(G)ï¼Œwww è‡³å°‘æœ‰ä¸¤é¢—ä¸åŒçš„æ´¾ç”Ÿæ ‘ï¼Œåˆ™ç§° GGG ä¸ºäºŒä¹‰æ€§çš„ï¼Œå¦åˆ™åˆ™ä¸ºéžäºŒä¹‰æ€§çš„å¦‚æžœè¯­è¨€ LLL ä¸å­˜åœ¨éžäºŒä¹‰æ€§æ–‡æ³•ï¼Œåˆ™ç§° LLL ä¸ºå›ºæœ‰äºŒä¹‰æ€§çš„ï¼Œæˆ–è€…å…ˆå¤©äºŒä¹‰æ€§çš„ 6.2 ä¹”å§†æ–¯åŸºèŒƒå¼ï¼ˆCNFï¼‰å½¢å¼å®šä¹‰ï¼šå¦‚æžœ CFG G=(V,T,P,S)G = (V, T, P, S)G=(V,T,P,S)ä¸­çš„æ‰€æœ‰äº§ç”Ÿå¼éƒ½å…·æœ‰å½¢å¼ï¼šAâ†’BCAâ†’a\begin{aligned} A &amp;\to BC \\ A &amp;\to a \end{aligned}AAâ€‹â†’BCâ†’aâ€‹åˆ™ç§°ä¸ºä¹”å§†æ–¯åŸºæ–‡æ³•æˆ–è€…ä¹”å§†æ–¯åŸºèŒƒå¼ 6.3 æ ¼é›·å·´èµ«èŒƒå¼å½¢å¼å®šä¹‰ï¼šå¦‚æžœ CFG G=(V,T,P,S)G = (V, T, P, S)G=(V,T,P,S) å…·æœ‰å½¢å¼Aâ†’aÎ±A \to a\alphaAâ†’aÎ±åˆ™ç§° GGG ä¸ºæ ¼é›·å·´èµ«èŒƒå¼æ–‡æ³•ï¼Œç®€ç§°æ ¼é›·å·´èµ«èŒƒå¼ 7. ä¸‹æŽ¨è‡ªåŠ¨æœº 7.1 ç‰©ç†æ¨¡åž‹ä¸‹æŽ¨è‡ªåŠ¨æœºæœ‰ä¸‰ä¸ªåŸºæœ¬ç»“æž„ï¼šå­˜æ”¾è¾“å…¥ç¬¦å·ä¸²çš„è¾“å…¥å¸¦å­˜æ”¾æ–‡æ³•ç¬¦å·çš„æ ˆæœ‰ç©·çŠ¶æ€æŽ§åˆ¶å™¨ 7.2 å½¢å¼å®šä¹‰ä¸‹æŽ¨è‡ªåŠ¨æœºæ˜¯ä¸€ä¸ªä¸ƒå…ƒç»„ï¼šM=(Q,âˆ‘,Î“,Î´,q0,Z0,F)M = (Q,\sum, \Gamma, \delta, q_0, Z_0, F)M=(Q,âˆ‘,Î“,Î´,q0â€‹,Z0â€‹,F)QQQâ€”â€”çŠ¶æ€é›†åˆâˆ‘\sumâˆ‘â€”â€”è¾“å…¥å­—æ¯è¡¨Î“\GammaÎ“â€”â€”æ ˆç¬¦å·è¡¨Î´\deltaÎ´â€”â€”çŠ¶æ€è½¬ç§»å‡½æ•°q0q_0q0â€‹â€”â€”å¼€å§‹çŠ¶æ€Z0Z_0Z0â€‹â€”â€”å¼€å§‹ç¬¦å·FFFâ€”â€”ç»ˆæ­¢çŠ¶æ€ 8. ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€æ€§è´¨ 8.1 å°é—­æ€§äº¤è¿ç®—ã€è¡¥è¿ç®—ä¸å°é—­å¹¶ã€ä¹˜ç§¯ã€é—­åŒ…è¿ç®—å°é—­ 9. å›¾çµæœº 9.1 ç‰©ç†æ¨¡åž‹åŸºæœ¬æ¨¡åž‹åŒ…æ‹¬ï¼šæœ‰ç©·çŠ¶æ€æŽ§åˆ¶å™¨ï¼ˆFSCï¼‰å«æœ‰æ— ç©·å¤šä¸ªå¸¦æ–¹æ ¼çš„è¾“å…¥å¸¦è¯»å¤´ 9.2 å½¢å¼å®šä¹‰å›¾çµæœºæ˜¯ä¸€ä¸ªä¸ƒå…ƒç»„ï¼šM=(Q,âˆ‘,Î“,Î´,q0,B,F)M = (Q, \sum, \Gamma, \delta, q_0, B, F)M=(Q,âˆ‘,Î“,Î´,q0â€‹,B,F)QQQâ€”â€”çŠ¶æ€é›†åˆâˆ‘\sumâˆ‘â€”â€”å­—æ¯è¡¨Î“\GammaÎ“â€”â€”å¸¦ç¬¦å·è¡¨ï¼Œå¦‚æžœâˆ€XâˆˆÎ“\forall X \in \Gammaâˆ€XâˆˆÎ“, XXX ä¸º MMM ä¸Šçš„ä¸€ä¸ªå¸¦ç¬¦å·ï¼Œè¡¨ç¤ºåœ¨ MMM çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œ XXX å¯ä»¥åœ¨æŸä¸€æ—¶åˆ»å‡ºçŽ°åœ¨è¾“å…¥å¸¦ä¸ŠÎ´\deltaÎ´â€”â€”è½¬ç§»å‡½æ•°q0q_0q0â€‹â€”â€”å¼€å§‹çŠ¶æ€BBBâ€”â€”ç©ºç™½ç¬¦FFFâ€”â€”ç»ˆæ­¢çŠ¶æ€ 9.3 å³æ—¶æè¿°TM M=(Q, âˆ‘, Î“, Î´, q0, B, F),a1a2âˆˆÎ“âˆ—,qâˆˆQ,a1a2TM\ M = (Q, \ \sum, \ \Gamma, \ \delta, \ q_0, \ B, \ F), a_1a_2 \in \Gamma^*, q \in Q, a_1a_2TM M=(Q, âˆ‘, Î“, Î´, q0â€‹, B, F),a1â€‹a2â€‹âˆˆÎ“âˆ—,qâˆˆQ,a1â€‹a2â€‹ç§°ä¸º MMM çš„å³æ—¶æè¿° 10. ä¸Šä¸‹æ–‡æœ‰å…³è¯­è¨€ 10.1 çº¿æ€§æœ‰ç•Œè‡ªåŠ¨æœºçš„å½¢å¼å®šä¹‰çº¿æ€§æœ‰ç•Œè‡ªåŠ¨æœºæ˜¯ä¸€ç§éžç¡®å®šçš„å›¾çµæœºï¼Œæ»¡è¶³å¦‚ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼šè¾“å…¥å­—æ¯è¡¨(âˆ‘\sumâˆ‘) ä¸­åŒ…å«ä¸¤ä¸ªäººç‰¹æ®Šçš„ç¬¦å· (æ‰“ä¸å‡ºæ¥ï¼ŒC ç”»ä¸€æ¡æ–œçº¿) å’Œ $\$$ï¼Œ å…¶ä¸­ï¼Œï¼ˆC ç”»ä¸€æ¡æ–œçº¿ï¼‰ä½œä¸ºè¾“å…¥ç¬¦å·ä¸²çš„å·¦ç«¯æ ‡è¯†ï¼Œ$\$$ï¼Œä½œä¸ºè¾“å…¥ç¬¦å·ä¸²çš„å³ç«¯æ ‡è¯†LBA çš„è¯»å¤´åªèƒ½åœ¨ä¸Šé¢ä¸¤ä¸ªç¬¦å·ä¹‹é—´ç§»åŠ¨ï¼Œè€Œä¸” LBA ä¸èƒ½åœ¨ä¸Šé¢ä¸¤ä¸ªæ–­ç‚¹ç¬¦å·ä¸Šé¢æ‰“å°å¦å¤–ä¸€ä¸ªç¬¦å·LBA å¯ä»¥è¢«çœ‹åšä¸€ä¸ªå…«å…ƒç»„ï¼Œå…¶æŽ¥å—çš„è¯­è¨€ä¸ºï¼šçº¿æ€§æœ‰ç•Œè‡ªåŠ¨æœºå’Œä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•ç­‰ä»· å¤§é¢˜ å¤§é¢˜è€ƒç‚¹ Ïµ\epsilonÏµ-NFA è½¬ NFA NFA è½¬ DFA æ­£åˆ™è¯­è¨€è½¬ FA DFA è½¬æ­£åˆ™è¯­è¨€ æ³µå¼•ç†è¯æ˜Žä¸€ä¸ªè¯­è¨€ä¸æ˜¯ RL DFA æžå°åŒ– ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€çš„æ–‡æ³•åŒ–ç®€ æ³µå¼•ç†è¯æ˜Žä¸€ä¸ªè¯­è¨€ä¸æ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ 1. Ïµ\epsilonÏµ-NFA è½¬ NFAæ­¥éª¤ï¼šå…ˆæ‰¾ç©ºé—­åŒ…ï¼ˆåŒ…æ‹¬å®ƒæœ¬èº«ï¼‰ï¼Œå¾—åˆ°ä¸€ä¸ªé›†åˆå¯»æ‰¾è¿™ä¸ªé›†åˆçš„å¯¹äºŽæŸä¸ªç‰¹å®šè¾“å…¥çš„è½¬ç§»ï¼Œå¾—åˆ°å¦ä¸€ä¸ªé›†åˆå¯¹äºŽ 2 çš„é›†åˆå¯»æ‰¾å…¶ç©ºé—­åŒ…ï¼ˆåŒ…æ‹¬å®ƒæœ¬èº«ï¼‰ï¼Œå¾—åˆ°ç¬¬ä¸‰ä¸ªé›†åˆç¬¬ä¸‰ä¸ªé›†åˆå³ä¸ºæŸä¸ªçŠ¶æ€å¯¹äºŽä¸Šé¢çš„ç‰¹å®šè¾“å…¥çš„çŠ¶æ€è½¬ç§»æ‰¾å‡ºæ‰€æœ‰éžç©ºè¾“å…¥çš„çŠ¶æ€ä¸ºæ­¢ 2. NFA è½¬ DFAæ­¥éª¤ï¼šç”± NFA çš„åˆå§‹çŠ¶æ€å‡ºå‘ï¼Œæ‰¾å‡ºåˆå§‹çŠ¶æ€å¯¹åº”è¾“å…¥çš„é›†åˆç”±å¯¹åº”çš„è¾“å…¥é›†åˆå‡ºå‘ï¼Œç»§ç»­æ ¹æ®è¾“å…¥å†™å‡ºå¯¹åº”çš„è½¬ç§»é‡å¤ 2 ç›´åˆ°æ‰¾å®Œæ‰€æœ‰é›†åˆä¸ºæ­¢å«æœ‰ç»ˆæ­¢çŠ¶æ€çš„é›†åˆå‡ä¸ºç»ˆæ­¢çŠ¶æ€å‹¾å‡ºå¯è¾¾çŠ¶æ€ã€‚å¯è¾¾çŠ¶æ€å³ä¸ºä»Žåˆå§‹çŠ¶æ€èƒ½åˆ°è¾¾çš„æ‰€æœ‰çŠ¶æ€é›†åˆ 3. æ­£åˆ™è¯­è¨€è½¬ FA 3.1 DFA è½¬æ­£åˆ™æ–‡æ³•ç”± qsq_sqsâ€‹ å¼€å§‹çŠ¶æ€å¼€å§‹æ ¹æ®è¾“å…¥å’Œç›¸åº”çš„è½¬ç§»çŠ¶æ€å†™æ–‡æ³•æ¯ä¸€ä¸ªè½¬ç§»å¯¹åº”æ–‡æ³•ä¸ºï¼šè¾“å…¥ï¼ŒçŠ¶æ€ï¼ˆæ²¡æœ‰é€—å·ï¼‰å¦‚æžœè½¬ç§»åˆ°ç»ˆæ­¢çŠ¶æ€ï¼Œåˆ™å†™ç»ˆæ­¢ç¬¦å·ç»ˆæ­¢ç¬¦å·ä¸ºè½¬ç§»åˆ°ç»ˆæ­¢çŠ¶æ€çš„è¾“å…¥å¦‚æžœç»ˆæ­¢çŠ¶æ€æœ‰é—­åŒ…ï¼Œåˆ™é™¤äº†ç»ˆæ­¢ç¬¦å·å¤–ï¼Œè¿˜è¦åŠ ä¸Šç›¸åº”çš„ ã€è¾“å…¥ï¼ŒçŠ¶æ€ã€‘ç»ˆæ­¢çŠ¶æ€æœ‰è½¬ç§»åˆ™å†™ç»ˆæ­¢çŠ¶æ€ï¼Œæ²¡æœ‰åˆ™ä¸ç”¨å†™å¦‚æžœæœ‰ä¸å¯è¾¾çŠ¶æ€ï¼Œå†™å‡ºä¹‹åŽè¦åˆ åŽ»ä¸å¯è¾¾çŠ¶æ€å³åªèƒ½å†™å‡ºè‡ªèº«é—­åŒ…çš„æ–‡æ³• 3.2 æ­£åˆ™æ–‡æ³•è½¬ FAæ ¹æ®ç›¸åº”æ–‡æ³•å†™å‡ºçŠ¶æ€è½¬ç§»å‡½æ•°å³å¯å¼•å…¥ä¸€ä¸ªç»ˆæ­¢çŠ¶æ€ ZZZæ ¹æ®æ–‡æ³•å†™å‡ºçŠ¶æ€è½¬ç§»å‡½æ•°å½¢å¼å¦‚ä¸‹ï¼šÎ´(\delta(Î´(å˜é‡ï¼Œè¾“å…¥))) === {\{{è½¬ç§»åŽçŠ¶æ€}\}}ä¾‹å¦‚ï¼šEâ†’0AE \to 0AEâ†’0AÎ´(E,0)={A}\delta(E,0) = \{A\}Î´(E,0)={A}å¦‚æžœé‡åˆ°ç»ˆæ­¢ç¬¦å·ï¼Œåˆ™åœ¨å³æ–¹é›†åˆä¸­å†™ä¸Šç»ˆæ­¢çŠ¶æ€ZZZä¾‹å¦‚ï¼šAâ†’1âˆ£1CA \to 1|1CAâ†’1âˆ£1CÎ´(A,1)={Z,C}\delta(A,1) = \{Z,C\}Î´(A,1)={Z,C} 3.3 æ­£åˆ™è¡¨è¾¾å¼è½¬ FAåˆ†æžç»“æž„ï¼Œæœ‰ä»¥ä¸‹å‡ ç§çŠ¶å†µé‡åˆ°åŠ å·å°±åˆ†å‰ä¹˜å·åœ¨åŽé¢åŠ ä¸€æ®µç›¸åº”å­—ç¬¦çš„è½¬ç§»å…‹æž—é—­åŒ…æ„å‘³ç€å¾ªçŽ¯å’Œå¯è·³è¿‡æ­£é—­åŒ…æ„å‘³ç€å¾ªçŽ¯å’Œè‡³å°‘éœ€è¦ç»è¿‡ä¸€æ¬¡ï¼ˆå³ä¸å¯è·³è¿‡ï¼‰æœ€åŽåˆå¹¶åˆ°ç»ˆæ­¢çŠ¶æ€ 3.4 DFA è½¬æ­£åˆ™è¡¨è¾¾å¼æ ¹æ® DFA çš„å›¾è½¬æ¢æˆæ­£åˆ™è¡¨è¾¾å¼é¢„å¤„ç†ç”¨çŠ¶æ€ XXX å’Œ YYY å°†å›¾â€œæ‹¬èµ·æ¥â€XXX ç”¨ç©ºè½¬ç§»æŒ‡å‘åˆå§‹çŠ¶æ€ï¼Œæ‰€æœ‰çš„ç»ˆæ­¢çŠ¶æ€ç”¨ç©ºè½¬ç§»æŒ‡å‘ YYYåŽ»æŽ‰æ‰€æœ‰çš„ä¸å¯è¾¾çŠ¶æ€å¹¶å¼§å°†ä¸¤ä¸ªçŠ¶æ€çš„å¹³è¡Œå¼§ï¼ˆæ–¹å‘ä¸€è‡´ï¼‰ï¼Œæˆ–è€…æœ‰é€—å·çš„ï¼Œå°†å…¶è¾“å…¥ç”¨åŠ å·è¿žèµ·æ¥åŽ»æŽ‰ç‚¹å¯¹äºŽåˆ°è¾¾ YYY çš„è·¯å¾„ï¼Œå°†è¾“å…¥æ‹¼èµ·æ¥å³å¯å…³äºŽæ¶ˆåŽ»è¿™ä¸ªç‚¹ä¹‹åŽï¼Œå°†å…¶ä»–ç»è¿‡è¿™ä¸ªç‚¹åˆ°è¾¾çš„è·¯å¾„çš„è¾“å…¥æ‹¼èµ·æ¥å¦‚æžœæœ‰é—­åŒ…ï¼Œåˆ™åœ¨å¯¹åº”çš„è¾“å…¥ä¸Šä½¿ç”¨å…‹æž—é—­åŒ…å¦‚æžœé™¤äº† XXX YYY åªæœ‰ä¸€ç§çŠ¶æ€ï¼Œè€Œä¸”æ²¡æœ‰ç»è¿‡è¿™ç§çŠ¶æ€ä»Ž XXX åˆ°è¾¾ YYY çš„è·¯å¾„ï¼Œåˆ™å°†è¿™ä¸ªç‚¹å’Œå¯¹åº”çš„è·¯å¾„ç›´æŽ¥åˆ åŽ»å³å¯ä¸æ–­é‡å¤ 2 å’Œ 3æœ€åŽåªå‰©ä¸‹ XXX å’Œ YYYï¼Œåˆ™è¾“å…¥åˆ™ä¸ºæ­£åˆ™è¡¨è¾¾å¼ 4. æ³µå¼•ç†è¯æ˜Žä¸€ä¸ªè¯­è¨€ä¸æ˜¯ RLåˆ©ç”¨æ³µå¼•ç†åè¯æ³•è¯æ˜Žä¸€ä¸ªè¯­è¨€ä¸æ˜¯ RLåˆ©ç”¨æ­£æ•´æ•° NNN æž„é€ ä¸€ä¸ªç‰¹æ®Šçš„ zzzä¸€èˆ¬å°†è¯­è¨€ä¸­çš„æœªçŸ¥æ•°æ›¿æ¢æˆ NNN å³å¯ï¼Œæœ‰æ—¶ä¹Ÿéœ€åŠ¨ç‚¹è„‘ç­‹åˆ©ç”¨ âˆ£vâˆ£â‰¥1|v| \ge 1âˆ£vâˆ£â‰¥1 å’Œ âˆ£uvâˆ£â‰¤N|uv| \le Nâˆ£uvâˆ£â‰¤N è¯´æ˜Ž vvv å¿…å®šä¸ºæŸä¸ªå¼å­ã€‚å¼å­ä¸ºç¬¦å·çš„å¹‚ï¼Œä¸‹åŒç”± z=uvwz = uvwz=uvw å¾—å‡º uuu vvv www çš„å¯¹åº”çš„å¼å­ç”± uviwuv^iwuviw å¾—å‡ºåŒ–ç®€åŽçš„ç›¸åº”å¼å­æ³¨æ„ä¸è¦æ¶ˆæŽ‰ 2 ä¸­çš„è®¾å®šçš„å‚æ•°é€‰æ‹©ä¸€ä¸ªæ°å½“çš„ iii è¯´æ˜Ž 4 ä¸­çš„å…³ç³»å’Œ 1 ä¸­çš„å…³ç³»çŸ›ç›¾è¯æ˜Žå®Œæˆ 5. DFA çš„æžå°åŒ–å¯¹äºŽä¸€ä¸ª DFA çš„å›¾è¿›è¡Œç®€åŒ–åŽ»æŽ‰ä¸å¯è¾¾çŠ¶æ€åœ¨å¯åŒºåˆ†çŠ¶æ€è¡¨æ ‡è®°æ‰€æœ‰ç»ˆæ­¢çŠ¶æ€çš„è¡Œå’Œåˆ—å¯¹äºŽäº¤ç•Œçš„æ ¼å­ï¼Œä¸è¿›è¡Œæ ‡è®°å¯¹äºŽç©ºçš„æ ¼å­ï¼Œæ ¹æ®ç›¸åº”è½¬ç§»å‡½æ•°ç®—å‡ºå¯¹åº”ç»“åˆç›¸åº”è½¬ç§»å‡½æ•°ï¼šçŠ¶æ€é›†åˆå¯¹åº”è¾“å…¥æ‰€å¾—åˆ°çš„çŠ¶æ€é›†åˆçš„å‡½æ•°å¯¹äºŽ[q0,q4][q_0,q_4][q0â€‹,q4â€‹]ï¼Œè¿›è¡Œ Î´(q0,\delta(q_0,Î´(q0â€‹,è¾“å…¥))) Î´(q4,\delta(q_4,Î´(q4â€‹, è¾“å…¥))) æ¥è¿›è¡Œæ‰€å¾—å‡ºçš„æ–°çš„ä¸¤ä¸ªçŠ¶æ€åˆ™ä¸ºç›¸åº”çš„è½¬ç§»åŽçŠ¶æ€é›†åˆå»ºè®®å…ˆç®—å‡ºæ‰€æœ‰çš„è½¬ç§»å‡½æ•°ç»“æžœå¦‚æžœç®—å‡ºæ¥çš„é›†åˆæœªè¢«æ ‡è®°ï¼Œå¢žåŠ åˆ°å…³è”è¡¨ä¸­å…³è”è¡¨ï¼šç®—å‡ºçš„æ–°é›†åˆ â†’\toâ†’ åŽŸé›†åˆå¦‚æžœæ–°çš„â€œåŽŸé›†åˆâ€ç®—å‡ºä¸€ä¸ªå·²ç»ç®—å‡ºè¿‡çš„â€œæ–°é›†åˆâ€ï¼Œç»§ç»­æŽ¥åˆ°åŽé¢åŽ»æ³¨æ„ï¼Œä»¥æŸä¸ªé›†åˆä¸ºèµ·ç‚¹çš„å…³è”è¡¨æ‰æ˜¯å®ƒçš„å…³è”è¡¨ã€‚å¦‚æžœç®—å‡ºæ¥çš„é›†åˆå·²ç»è¢«æ ‡è®°äº†ï¼Œé‚£ä¹ˆå°±æŠŠå®ƒæ ‡è®°ï¼Œå¹¶æ ¹æ®æ ‡è®°çš„é›†åˆçš„å…³è”è¡¨è¿›è¡Œé€’å½’æ ‡è®°å¦‚æžœæ ¹æ®æŸä¸ªè¾“å…¥å¾—å‡ºè¯¥ç»„é›†åˆå·²ç»è¢«æ ‡è®°ï¼Œå°±æ²¡æœ‰å¿…è¦åŽ»çœ‹å¦ä¸€ç»„è¾“å…¥çš„ç»“æžœäº†ã€‚å¦‚æžœç®—å‡ºçš„é›†åˆè·ŸåŽŸé›†åˆç›¸ç­‰ï¼Œä¸è¿›è¡Œä»»ä½•æ“ä½œå¦‚æžœè½¬ç§»å‡½æ•°å¾—åˆ°ç›¸ç­‰ç»“æžœï¼Œä¸è¿›è¡Œä»»ä½•æ“ä½œæ­¤æ—¶ç®—æ³•ç»“æŸï¼Œæ ¹æ®å¯åŒºåˆ†çŠ¶æ€è¡¨ä¸­æ²¡æœ‰æ ‡è®°çš„ç»„ï¼Œåˆ—å‡ºæ¥ï¼Œè¯´æ˜Žå®ƒä»¬æ’ç­‰å¦‚æžœæ²¡æœ‰æœªæ ‡è®°çš„ç»„ï¼Œè¯´æ˜Žå½“å‰å›¾å·²ç»æ˜¯æœ€ç®€äº†æ ¹æ® â‰¡\equivâ‰¡ çš„ä¼ é€’æ€§è¿›è¡ŒçŠ¶æ€åˆ†ç»„æ’ç­‰çš„åˆ†æˆä¸€ç»„å¦‚æžœè¿˜æœ‰è½å•çš„çŠ¶æ€ï¼Œå¦åˆ†ç»„åˆ†ç»„å®Œæ¯•ï¼Œæ ¹æ®åŽŸå›¾æ ¹æ®åˆ†ç»„çš„çŠ¶æ€æ¥ç”»å‡ºç®€åŒ–å›¾ 6. ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•çš„åŒ–ç®€æ­¥éª¤ï¼šæ¸…é™¤æ— ç”¨ç¬¦å·æ¸…é™¤ Ïµ\epsilonÏµ äº§ç”Ÿå¼æ¸…é™¤å•ä¸€äº§ç”Ÿå¼æ¸…é™¤æ— ç”¨ç¬¦å·ï¼ˆå¦‚æžœæœ‰çš„è¯ï¼‰ 6.1 åŽ»æ— ç”¨ç¬¦å·å…ˆæ¸…é™¤éžäº§ç”Ÿçš„éžäº§ç”Ÿçš„ï¼šä»Žè¿™ä¸ªç¬¦å·å¼€å§‹ï¼Œè¿›è¡ŒæŽ¨å¯¼ä¸èƒ½å¾—å‡ºåªæœ‰ç»ˆç»“ç¬¦å·çš„ï¼Œè¢«ç§°ä¸ºéžäº§ç”Ÿçš„æ³¨æ„å«æœ‰éžäº§ç”Ÿç¬¦å·çš„å¼å­è¦ä¸€å¹¶æ¸…é™¤å†æ¸…é™¤ä¸å¯è¾¾çš„ä¸å¯è¾¾çš„ï¼Œå³ç”± SSS ä¸èƒ½è¾¾åˆ°çš„ 6.2 æ¸…é™¤ Ïµ\epsilonÏµ äº§ç”Ÿå¼æ³¨æ„ï¼Œå¦‚æžœæ¸…é™¤ä¹‹åŽå‡ºçŽ°æ— ç”¨ç¬¦å·ï¼Œé‚£ä¹ˆå°±åº”è¯¥ä¸ºå®ƒåŠ ä¸ŠæŸä¸ªå®ƒè‡ªèº«èƒ½æŽ¨å¯¼å‡ºæ¥çš„ç»ˆç»“ç¬¦å¹¶è€ƒè™‘åˆ°å®ƒçš„å¯èƒ½ä¸ºç©ºçš„ç‰¹æ€§ï¼Œåœ¨ä¸Šçº§ç¬¦å·ä¸­åŠ å…¥ä¸å«è¿™ä¸ªç¬¦å·çš„äº§ç”Ÿå¼ 6.3 æ¸…é™¤å•ä¸€äº§ç”Ÿå¼å½¢å¦‚ Aâ†’BA \to BAâ†’B å³ä¸ºå•ä¸€äº§ç”Ÿå¼ï¼Œå¯ä»¥å°† BBB çš„å†…å®¹åˆå¹¶åˆ° AAA ä¸­ã€‚ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ²¡æœ‰å•ä¸€äº§ç”Ÿå¼ä¸ºæ­¢ 7. ç”¨æ³µå¼•ç†è¯æ˜Žä¸€ä¸ªè¯­è¨€ä¸æ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€è¿™é‡Œçš„æ³µå¼•ç†æ˜¯ CFL çš„æ³µå¼•ç†]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>è‡ªåŠ¨æœº</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>è‡ªåŠ¨æœº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Computer Organization and Architecture]]></title>
    <url>%2F%2FReviews%2FCOA%2FComputer%20Organization%20and%20Architecture%2F</url>
    <content type="text"><![CDATA[Introduction 1.Basic ConceptsArchitecture: such as Instruction set, I/O mechanisms (Visiable to programmer)Organization: such as the Control singals, interfaces, memory technology (NOT visiable to the programmer)Family of computer models(ç³»åˆ—æœº): All with the same architecture but with differences in organization. Such as Intel 286 and Intel 386Organization is the high-level aspect of computer design, Hardware is the specific mechine.The computer system include:HardwareSoftwarePeripheral deviceKeyboard and mouse and so on.The computer consist of:CPU(or processor)Input &amp; OutputMain MemorySystem BusThe CPU consist of:Control Unit(CU)Arithmetic and Logic Unit(ALU)RegistersInternal Bus Computer Performance design and assessment 1. Designing for performanceThree things affect the performance:- Microprocessor speed- Performance balance- Improvements in chip organization and architecture 1.1 The Microprocessor SpeedBy adding these things to improve the performance:Branch predictionData flow analysisSpeculative execution 1.2 The balance (Balance is the key)With the microprocessor speed increasing rapily refer to the Moooreâ€™s Law, the Memory accessing sppeding is on the contrary, cannot catch the speed of the microporcessor increase.Solutions for memory access:Make DRAM â€œwiderâ€ rather than â€œdeeperâ€Increase number of bits retrieved at one timeChange DRAM interface (by using cache)Reduce frequency of memory accessmore complex cache and cache on chipIncrease interconnection bandwithHigh speed bueseHierarchy of busesThe I/O devices are much more slow than the memory accessSolutions for I/O devices:CachingBufferingHigher-speed interconnection busesMore elaborate bus structuresMultiple-processor configurations 1.3 Imporve the chip O&amp;AIncrease hardware speed of processorPowerRC delayMemory latencyIncrease size and speed of cachesMultiple levels of cachesIncrease the chip densityChange processor organization and architectureEnable parallel execution of instructionsPipeline works like assembly lineSuperscalar allows multiple pipelines within single processorInstructions that do not depend on the other can be executed in parallelSupplement: Using the multiple cores can be more efficiency 2. Performance Assessment 2.1 Clock SpeedThe clock speed is not every thing 2.2 Instruction Execution RateThere are three index of the rate, CPI, MIPS and MFLOPSCPI: The time cycle with one instruction needed (Cycle Per Instruction)MIPS: The number(million) of the instructions within in one second being executed.MFLOPS: Like the MIPS, it is the floating point calculate instruction.CPI=âˆ‘i=1n(CPIiÃ—Ii)IcCPI = {\frac{\sum_{i = 1}^n(CPI_i \times I_i)}{I_c}}CPI=Icâ€‹âˆ‘i=1nâ€‹(CPIiâ€‹Ã—Iiâ€‹)â€‹IcI_cIcâ€‹ is the number of the instructionThe processing time TTT is:T=IcÃ—CPIÃ—Î³T = I_c \times CPI \times \gammaT=Icâ€‹Ã—CPIÃ—Î³Î³\gammaÎ³ is the constant cycle, which means 1/f1/f1/fSo, the MIPS is:\begin{align} MIPS &amp;= {\frac{I_c}{T \times 10^6}} \\ &amp;= {\frac{f}{CPI \times 10^6}} \end{align}MFLOPS=Number of execute floatingâˆ’point operations in a programExecution timeÃ—106MFLOPS = {\frac{Number \ of\ execute\ floating-point\ operations\ in\ a\ program}{Execution\ time \times 10^6 }}MFLOPS=Execution timeÃ—106Number of execute floatingâˆ’point operations in a programâ€‹ 2.3 Amdahlâ€™s LawThe speed up rate between the single core machine and the multiple cores machine.\begin{align} Speedup &amp; = {\frac{time\ to\ execute\ program\ on\ a\ single\ processor}{time\ to\ execute\ program\ on N\ parallel\ processors}} \\ &amp; = {\frac{T{(1 - f)} + Tf}{T{(1-f)} + {\frac{Tf}{N}}} } \\ &amp; = {\frac{1}{(1-f) + {\frac{f}{N}}}} \end{align}fff refer to the code infinitely parallelizable with no scheduling overhead.(1âˆ’f)ofcodeinherentlyserial(1-f) of code inherently serial(1âˆ’f)ofcodeinherentlyserialTTT is the total execution time for program on single processorNNN is number of processors that fully exploite parallel portions of codeConclusion:fff small, parallel processor has little effectNâˆ¼âˆžN \sim \inftyNâˆ¼âˆž, the speedup bound by 1/(1âˆ’f)1/(1-f)1/(1âˆ’f) 2.4 SupplementSome important terminology:Bit is the binary digit rather 0 or 1.A byte is defined as 8 bitsA word is a set of bits constituting the samllest unit of addressable memoryA kilobyte (KB) is 2102^{10}210 bytes.A megabyte (MB) is 2202^{20}220 bytes.A gigabyte (GB) is 2302^{30}230 bytes. Computer System 1. Computer ComponentsCPUPC: programming counter, store the next instructionâ€™s address.IR: instruction register, store the instructionMAR: the memory address register, exchange data with the main memoryI/O AR: input and output address registerI/O BR: input and output buffer registerMian Memory]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>è®¡ç»„</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>è®¡ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç»„å¤ä¹ ]]></title>
    <url>%2F%2FReviews%2FCOA%2F%E8%AE%A1%E7%BB%84%E5%A4%8D%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[å¤§é¢˜è€ƒç‚¹ CPI MIPS Speedup Cache &amp; Memory Organization Hard disk æµ®ç‚¹æ•°è¿ç®— å¯»å€ï¼ŒæŒ‡ä»¤è®¾è®¡ æµæ°´ï¼Œæ—¶åºå›¾ï¼ŒåŠ é€Ÿæ¯”ï¼Œä¼˜åŒ– è¶…æ ‡é‡ï¼Œè¶…æµæ°´ï¼Œå†²çªï¼ŒæŒ‡ä»¤å‘å°„ å¾®æ“ä½œï¼Œå¾®æŒ‡ä»¤ï¼Œå¾®æŒ‡ä»¤è®¾è®¡ 2. å­˜å‚¨ç»„ç»‡ 2.1 Cache å­˜å‚¨æ˜ å°„Cache ä»¥TagDataå½¢å¼å­˜å‚¨æ•°æ®ï¼Œæ•°æ®æ®µå¾ˆå®½ï¼Œå¯ä»¥å­˜å‚¨ä¸»å­˜ï¼ˆMemoryï¼‰ä¸­å‡ è¡Œçš„æ•°æ®ä¸‹é¢æ‰€è®¨è®ºçš„éƒ½æ˜¯ä¸åŒæ˜ å°„æ–¹å¼ä¸‹çš„åœ°å€æž„æˆ 2.1.1 ç›´æŽ¥æ˜ å°„ç›´æŽ¥æ˜ å°„ä¸»å­˜åœ°å€ä¸ºTagè¡Œå·å­—Tag å°±æ˜¯ Cache çš„ Tagï¼›è¡Œå·æ˜¯ Cache çš„å¯¹åº”è¡Œå·ï¼›å­—æŒ‡ä»£äº†è¿™ä¸€è¡Œä¸­è¦å–ç”¨ Cache çš„å“ªä¸ªåˆ†æ®µçš„æ•°æ®å¯»å€æ—¶ï¼Œé¦–å…ˆæŸ¥æ‰¾å¯¹åº”è¡Œå·ï¼Œæ£€æŸ¥æ ‡è®°ï¼Œå¦‚æžœå‘½ä¸­ï¼Œé‚£ä¹ˆåˆ™æ ¹æ®å­—æ¥å–æ•°æ® 2.1.2 å…¨ç›¸è¿žæ˜ å°„å…¨ç›¸è¿žä¸»å­˜åœ°å€æž„æˆä¸ºTagå­—ç”±äºŽå­˜å‚¨æ•°æ®å’Œè¡Œå·æ— å…³ï¼Œä½¿ç”¨ Tag ä½œä¸ºå”¯ä¸€çš„æ ‡è®°ï¼Œå­—ç”¨äºŽæ ‡è®°æ•°æ®æ®µéœ€è¦å¹¶è¡Œç”µè·¯ä¸æ–­æ¯”å¯¹ Tag å†…å®¹ï¼Œå¦‚æžœå‘½ä¸­äº†ï¼Œé‚£ä¹ˆæ ¹æ®å­—æ¥å–å¯¹åº”æ•°æ®æ®µ 2.1.3 ç»„ç›¸è¿žæ˜ å°„ç»„ç›¸è¿žæ˜ å°„åœ°å€æž„æˆå¦‚ä¸‹ï¼šTagç»„å·å­—Tag å’Œå­—åŒä¸Šç»„å·æ˜¯æŒ‡å°† Cacheçš„è¡Œåˆ†ç»„åŽçš„å¯¹åº”ç»„å·ç»“åˆç›´æŽ¥æ˜ å°„å’Œå…¨ç›¸è¿žæ˜ å°„ï¼Œå°† Cache çš„è¡Œåˆ†ä¸ºå¾ˆå¤šçš„ç»„ï¼Œå…ˆæ ¹æ®ç»„å·æŸ¥æ‰¾å¯¹åº”ç»„ï¼Œç„¶åŽå†åœ¨ç»„å†…æ¯”å¯¹æ ‡è®°ã€‚å‡å°‘äº†ç”±äºŽç›´æŽ¥æ˜ å°„çš„æŠ–åŠ¨é—®é¢˜ï¼Œåˆé¿å…äº†å…¨ç›¸è¿žæ˜ å°„çš„ä¸æ–­å¯»æ‰¾å¯¼è‡´çš„æ€§èƒ½æµªè´¹æŠ–åŠ¨é—®é¢˜ï¼šç”±äºŽç¨‹åºéœ€è¦ä¸æ–­è®¿é—®æ˜ å°„åˆ°åŒä¸€è¡Œä½†æ¥è‡ªä¸åŒå—çš„å­—ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´å†…å­˜å—ä¸æ–­è½½å…¥è½½å‡ºï¼Œé€ æˆæ€§èƒ½æµªè´¹N è·¯æ€»ç›¸è¿žæŒ‡çš„å°±æ˜¯ä¸€ä¸ªç»„å†…æœ‰ N è¡Œ 2.1.4 ç›¸å…³è®¡ç®—é—®é¢˜ç”± Cache å’Œ Memory çš„è¡Œæ•°å’Œå—æ•°ç­‰æ•°æ®æ¥æŒ‡æ˜Žåœ°å€æž„æˆè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œåœ°å€ä¸åªæ˜¯ç”¨æ¥ç®— Cache æ˜ å°„ï¼Œè¿˜è¦èƒ½é€šè¿‡åœ°å€åœ¨ Memory ä¸­å¯»æ‰¾åˆ°æ­£ç¡®çš„å†…å­˜å—åœ°å€çš„å¯»å€é•¿åº¦èƒ½è¦†ç›–ä¸»å­˜çš„å®¹é‡ï¼Œç¡®å®šåœ°å€æ€»é•¿åº¦æ ¹æ® Cache æ•°æ®ç®—å‡º Cache è¡Œæ•°ï¼Œç»„æ•°ã€‚Cache çš„ä¸€è¡Œå°±æ˜¯ Memory çš„ä¸€å—ï¼Œæ ¹æ®è¿™ä¸ªç®—å‡º Memory æœ‰å¤šå°‘å—é™¤äº†â€œå­—â€ä»¥å¤–çš„åœ°å€ä½åŠ èµ·æ¥å°±æ˜¯è¿™ä¸ªæ•°â€œå­—â€çš„éƒ¨åˆ†è¦èƒ½è¦†ç›–å—çš„å­—èŠ‚å®¹é‡å¦‚æžœå‡ºçŽ°â€œå­—ï¼ˆWordï¼‰â€çš„æè¿°ï¼Œé‚£ä¹ˆå­—çš„ä½æ•°å°±æ˜¯åœ°å€çš„æ€»é•¿]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>è®¡ç»„</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>è®¡ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¿æ€§ä»£æ•°]]></title>
    <url>%2F%2FReviews%2FLinearAlgebra%2F%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%2F</url>
    <content type="text"><![CDATA[1. è¡Œåˆ—å¼ 1.1 æ€§è´¨ 1.1.1 è½¬ç½®è¡Œåˆ—å¼ DDD ä¸Žå®ƒçš„è½¬ç½®è¡Œåˆ—å¼ DTD^TDT çš„å€¼ç›¸ç­‰å°†è¡Œåˆ—å¼çš„è¡Œè½¬æˆåˆ—å³å¯å¾—åˆ°å…¶è½¬ç½®è¡Œåˆ—å¼ 1.1.2 äº¤æ¢äº¤æ¢è¡Œåˆ—å¼çš„ä»»æ„ä¸¤è¡Œï¼ˆæˆ–è€…ä¸¤åˆ—ï¼‰ï¼Œè¡Œåˆ—å¼çš„å€¼æ”¹å˜ç¬¦å·ï¼ 1.1.3 æ¯”ä¾‹å¦‚æžœè¡Œåˆ—å¼çš„æŸè¡Œæˆ–è€…æŸåˆ—éƒ½ä¹˜ä»¥åŒä¸€ä¸ªæ•° kkkï¼Œé‚£ä¹ˆå…¶å€¼ç­‰åŒäºŽç”¨æ•° kkk ä¹˜ä»¥åŒä¸€ä¸ªè¡Œåˆ—å¼å…¶å®žå°±æ˜¯å¯ä»¥æŠŠ kkk æåˆ°ç«–çº¿å¤–é¢ï¼ 1.1.4 å€¼ä¸º 0å¦‚æžœè¡Œåˆ—å¼ä¸­æœ‰ä¸¤è¡Œç›¸åŒï¼Œé‚£ä¹ˆè¡Œåˆ—å¼çš„å€¼ä¸º 0å¦‚æžœæŸä¸€è¡Œæˆ–è€…æŸä¸€åˆ—çš„å…ƒç´ å‡ä¸º 0ï¼Œé‚£ä¹ˆè¡Œåˆ—å¼çš„å€¼ä¸º 0å¦‚æžœæŸä¸¤è¡Œçš„å…ƒç´ æˆæ¯”ä¾‹ï¼Œé‚£ä¹ˆè¡Œåˆ—å¼çš„å€¼ä¸º 0 1.1.5 æ‹†åˆ†å¦‚æžœæŸè¡Œå…ƒç´ ä¸ºä¸€ä¸ªå’Œå¼æˆ–è€…å·®å¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠè¿™ä¸ªè¡Œåˆ—å¼æ‹†åˆ†æˆä¸¤ä¸ªè¡Œåˆ—å¼çš„å’Œä¸Žå·®âˆ£a11a12â‹¯a1nâ‹®â‹®â‹®ai1+bi1ai2+bi2â‹¯ain+binâ‹®â‹®â‹®an1an2â‹¯annâˆ£=âˆ£a11a12â‹¯a1nâ‹®â‹®â‹®ai1ai2â‹¯ainâ‹®â‹®â‹®an1an2â‹¯annâˆ£+âˆ£a11a12â‹¯a1nâ‹®â‹®â‹®bi1bi2â‹¯binâ‹®â‹®â‹®an1an2â‹¯annâˆ£\begin{aligned} \begin{vmatrix} a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1n} \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ a_{i1} + b_{i1} &amp; a_{i2} + b_{i2} &amp; \cdots &amp; a_{in} + b_{in} \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ a_{n1} &amp; a_{n2} &amp; \cdots &amp; a_{nn}\\ \end{vmatrix} = \\ \\ \begin{vmatrix} a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1n} \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ a_{i1} &amp; a_{i2} &amp; \cdots &amp; a_{in} \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ a_{n1} &amp; a_{n2} &amp; \cdots &amp; a_{nn}\\ \end{vmatrix} + \begin{vmatrix} a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1n} \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ b_{i1} &amp; b_{i2} &amp; \cdots &amp; b_{in} \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ a_{n1} &amp; a_{n2} &amp; \cdots &amp; a_{nn}\\ \end{vmatrix} \end{aligned}âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹a11â€‹â‹®ai1â€‹+bi1â€‹â‹®an1â€‹â€‹a12â€‹â‹®ai2â€‹+bi2â€‹â‹®an2â€‹â€‹â‹¯â‹¯â‹¯â€‹a1nâ€‹â‹®ainâ€‹+binâ€‹â‹®annâ€‹â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹=âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹a11â€‹â‹®ai1â€‹â‹®an1â€‹â€‹a12â€‹â‹®ai2â€‹â‹®an2â€‹â€‹â‹¯â‹¯â‹¯â€‹a1nâ€‹â‹®ainâ€‹â‹®annâ€‹â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹+âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹a11â€‹â‹®bi1â€‹â‹®an1â€‹â€‹a12â€‹â‹®bi2â€‹â‹®an2â€‹â€‹â‹¯â‹¯â‹¯â€‹a1nâ€‹â‹®binâ€‹â‹®annâ€‹â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹â€‹ 1.1.6 å˜æ¢å°†è¡Œåˆ—å¼çš„æŸä¸€è¡Œçš„æ‰€æœ‰å…ƒç´ éƒ½ä¹˜ä»¥åŒä¸€ä¸ªæ•°ä»¥åŽåŠ åˆ°å¦ä¸€è¡Œçš„å¯¹åº”å…ƒç´ ä¸ŠåŽ»ï¼Œæ‰€å¾—è¡Œåˆ—å¼ä»ç„¶ä¸º DDDè¿™é‡ŒæŒ‡çš„æ˜¯è¡Œåˆ—å¼æœ¬èº«éƒ½ä¸ä¼šå˜ï¼ŒåŒ…æ‹¬å…¶ä½™å­å¼æ³¨æ„ï¼Œäº§ç”Ÿæ”¹å˜çš„æ˜¯å¦ä¸€è¡Œï¼Œè€Œä¸æ˜¯ä¹˜ä¸Šæ•°çš„é‚£ä¸€è¡Œ 1.1.7 ä½™å­å¼ç›¸å…³åˆ’åŽ»æŸä¸ªå…ƒç´ çš„æ‰€åœ¨è¡Œå’Œæ‰€åœ¨åˆ—ä¹‹åŽï¼Œç•™ä¸‹çš„è¡Œåˆ—å¼ç§°ä¸ºå…ƒç´ çš„ä½™å­å¼ä¾‹å¦‚âˆ£1xx21yy21zz2âˆ£\begin{vmatrix} 1 &amp; x &amp; x^2 \\ 1 &amp; y &amp; y^2 \\ 1 &amp; z &amp; z^2 \\ \end{vmatrix}âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹111â€‹xyzâ€‹x2y2z2â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹åˆ’é™¤ç¬¬ä¸€ä¸ª 111 çš„æ‰€åœ¨è¡Œå’Œæ‰€åœ¨åˆ—ä¹‹åŽ:âˆ£yy2zz2âˆ£\begin{vmatrix}y &amp; y^2 \\ z &amp; z^2 \end{vmatrix}âˆ£âˆ£âˆ£âˆ£â€‹yzâ€‹y2z2â€‹âˆ£âˆ£âˆ£âˆ£â€‹å³ä¸ºç¬¬ä¸€ä¸ª 111 çš„ä½™å­å¼ï¼Œè®°ä¸º MijM_{ij}Mijâ€‹ï¼›å¸¦ä¸Šæ­£è´Ÿå·åŽå«åšä»£æ•°ä½™å­å¼ï¼Œè®°ä¸º AijA_{ij}Aijâ€‹åˆ™æœ‰Aij=(âˆ’1)i+jMijA_{ij} = (-1)^{i + j} M_{ij}Aijâ€‹=(âˆ’1)i+jMijâ€‹ç‰¹åˆ«è¦æ³¨æ„é¢˜æ„ï¼Œç»™å‡ºå’Œè¦æ±‚çš„åˆ°åº•æ˜¯ä½™å­å¼è¿˜æ˜¯ä»£æ•°ä½™å­å¼å®šç†è¡Œåˆ—å¼ç­‰äºŽå®ƒçš„ä»»ä¸€è¡Œï¼ˆåˆ—ï¼‰çš„ä¸ªå…ƒç´ ä¸Žå…¶å¯¹åº”çš„ä»£æ•°ä½™å­å¼çš„ä¹˜ç§¯ä¹‹å’ŒDn=ai1Ai1+ai2Ai2+â‹¯+ainAinD_n = a_{i1} A_{i1} + a_{i2} A_{i2} + \cdots + a_{in} A_{in}Dnâ€‹=ai1â€‹Ai1â€‹+ai2â€‹Ai2â€‹+â‹¯+ainâ€‹Ainâ€‹æ®æ­¤å¯ä»¥å°†è¡Œåˆ—å¼è¿›è¡Œé™é˜¶è®¡ç®—ã€‚è¡Œåˆ—å¼çš„æŸä¸€è¡Œçš„å…ƒç´ ä¸Žå¦ä¸€è¡Œçš„å¯¹åº”å…ƒç´ çš„ä»£æ•°ä½™å­å¼çš„ä¹˜ç§¯ä¹‹å’Œç­‰äºŽ 0å¦‚ç¬¬ä¸€è¡Œçš„å…ƒç´ å’Œç¬¬ä¸‰è¡Œçš„å…ƒç´ çš„ä»£æ•°ä½™å­å¼çš„ä¹˜ç§¯ä¹‹å’Œä¸º 0è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ç­‰ä»·å…³ç³»ï¼Œæœ‰å…³è¡Œåˆ—å¼çš„ä½™å­å¼ç›¸å…³è®¡ç®—éƒ½ä¼šç”¨åˆ° 1.1.8 èŒƒå¾·è’™å¾·è¡Œåˆ—å¼âˆ£11â‹¯1a1a2â‹¯ana12a22â‹¯an2a13a23â‹¯an3â‹®â‹®â‹®â‹®a1nâˆ’1a2nâˆ’1â‹¯annâˆ’1âˆ£=âˆ1â‰¤j&lt;iâ‰¤n(aiâˆ’aj)\begin{vmatrix} 1 &amp; 1 &amp; \cdots &amp; 1 \\ a_1 &amp; a_2 &amp; \cdots &amp; a_n \\ {a_1}^2 &amp; {a_2}^2 &amp; \cdots &amp; {a_n}^2 \\ {a_1}^3 &amp; {a_2}^3 &amp; \cdots &amp; {a_n}^3 \\ \vdots &amp; \vdots &amp; \vdots &amp; \vdots \\ {a_1}^{n - 1} &amp; {a_2}^{n - 1} &amp; \cdots &amp; {a_n}^{n - 1} \\ \end{vmatrix} = \prod_{1 \le j \lt i \le n} (a_i - a_j)âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹1a1â€‹a1â€‹2a1â€‹3â‹®a1â€‹nâˆ’1â€‹1a2â€‹a2â€‹2a2â€‹3â‹®a2â€‹nâˆ’1â€‹â‹¯â‹¯â‹¯â‹¯â‹®â‹¯â€‹1anâ€‹anâ€‹2anâ€‹3â‹®anâ€‹nâˆ’1â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹=1â‰¤j&lt;iâ‰¤nâˆâ€‹(aiâ€‹âˆ’ajâ€‹)æ³¨æ„ï¼Œç»“æžœçš„å±•å¼€ç­‰äºŽ(anâˆ’a1)(anâˆ’1âˆ’a1)â‹¯(a2âˆ’a1)âˆ2â‰¤j&lt;iâ‰¤n(aiâˆ’aj)(a_n - a_1) (a_{n - 1} - a_1) \cdots (a_2 - a_1) \prod_{2 \le j \lt i \le n} (a_i - a_j)(anâ€‹âˆ’a1â€‹)(anâˆ’1â€‹âˆ’a1â€‹)â‹¯(a2â€‹âˆ’a1â€‹)2â‰¤j&lt;iâ‰¤nâˆâ€‹(aiâ€‹âˆ’ajâ€‹)iii å’Œ jjj å¹¶ä¸æ˜¯åŒæ—¶å¢žé•¿ï¼Œè€Œæ˜¯åµŒå¥—å¼å¢žé•¿é€šå¸¸ç”¨äºŽæ±‚æ ¹è®¡ç®—ï¼Œæ‰¾å‡† 1 æ¬¡é¡¹çš„è¡Œå³å¯ 1.1.9 å…‹æ‹‰é»˜æ³•åˆ™çº¿æ€§æ–¹ç¨‹ç»„çš„é›¶è§£é—®é¢˜ï¼Œæ‰¾å…‹æ‹‰é»˜æ³•åˆ™è‹¥ nnn ä¸ªæ–¹ç¨‹ n ä¸ªæœªçŸ¥é‡çš„éžé½æ¬¡çº¿æ€§æ–¹ç¨‹ç»„{a11x1+a12x2+â‹¯+a1nxn=b1a11x1+a12x2+â‹¯+a1nxn=b1 â‹®a11x1+a12x2+â‹¯+a1nxn=b1\begin{cases} a_{11}x_1 + a{12}x_2 + \cdots + a_{1n}x_n = b_1 \\ a_{11}x_1 + a{12}x_2 + \cdots + a_{1n}x_n = b_1 \\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \vdots \\ a_{11}x_1 + a{12}x_2 + \cdots + a_{1n}x_n = b_1 \\ \end{cases}âŽ©âŽªâŽªâŽªâŽªâŽ¨âŽªâŽªâŽªâŽªâŽ§â€‹a11â€‹x1â€‹+a12x2â€‹+â‹¯+a1nâ€‹xnâ€‹=b1â€‹a11â€‹x1â€‹+a12x2â€‹+â‹¯+a1nâ€‹xnâ€‹=b1â€‹ â‹®a11â€‹x1â€‹+a12x2â€‹+â‹¯+a1nâ€‹xnâ€‹=b1â€‹â€‹çš„ç³»æ•°è¡Œåˆ—å¼ D=det(aij)â‰ 0D=det(a_{ij}) \neq 0D=det(aijâ€‹)î€ â€‹=0åˆ™æ–¹ç¨‹ç»„å¿…æœ‰å”¯ä¸€è§£xj=DjD,j=1,2,â‹¯ ,n.x_j = \frac{D_j} {D}, j = 1, 2, \cdots, n.xjâ€‹=DDjâ€‹â€‹,j=1,2,â‹¯,n.è‹¥é½æ¬¡çº¿æ€§æ–¹ç¨‹ç»„æœ‰éžé›¶è§£ï¼Œåˆ™å…¶ç³»æ•°è¡Œåˆ—å¼ D=0D = 0D=0 1.2 è®¡ç®—é€šå¸¸æœ‰ä¸¤ç§è®¡ç®—æ–¹æ³•ï¼Œä¸€æ˜¯ç›´æŽ¥ç”¨å®šä¹‰åœ°ç®—ï¼ˆäº¤å‰ç›¸ä¹˜ç­‰ï¼‰ï¼ŒäºŒæ˜¯ç»è¿‡å˜æ¢ä¹‹åŽé™é˜¶è®¡ç®—é€šå¸¸æ˜¯å°†å¼å­å˜æ¢æˆæŸä¸€åˆ—çš„å¼€å¤´ä¸º 111ï¼Œå…¶ä½™å…¨ä¸º 000ï¼Œç„¶åŽæŒ‰ç…§è¡Œåˆ—å¼çš„å±•å¼€åŽŸåˆ™ã€‚ä¸‹é¢è®²ä¸€äº›ç‰¹æ®Šé¢˜åž‹çš„è§£æ³•ã€‚ 1.2.1 â€œ1 + åž‹â€âˆ£1+a11â‹¯111+a2â‹¯1â‹®â‹®â‹®11â‹¯1+anâˆ£\begin{vmatrix} 1 + a_1 &amp; 1 &amp; \cdots &amp; 1 \\ 1 &amp; 1 + a_2 &amp; \cdots &amp; 1 \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ 1 &amp; 1 &amp; \cdots &amp; 1 + a_n \\ \end{vmatrix}âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹1+a1â€‹1â‹®1â€‹11+a2â€‹â‹®1â€‹â‹¯â‹¯â‹¯â€‹11â‹®1+anâ€‹â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹æ³¨æ„åˆ°æ¯åˆ—å…ƒç´ ä¹‹å’Œä¸º 1+âˆ‘i=1n1ai1 + \sum_{i = 1}^n \frac{1}{a_i}1+âˆ‘i=1nâ€‹aiâ€‹1â€‹ï¼Œæ‰€ä»¥å˜åŒ–å¹¶æå‡ºå…¬å› å¼ï¼Œå¾—âˆ£11â‹¯11a21+1a2â‹¯1â‹®â‹®â‹®1an1â‹¯1+1anâˆ£\begin{vmatrix} 1 &amp; 1 &amp; \cdots &amp; 1 \\ {1\over{a_2}} &amp; 1 + {1 \over {a_2}} &amp; \cdots &amp; 1 \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ {1\over{a_n}} &amp; 1 &amp; \cdots &amp; 1 + {1 \over a_n} \\ \end{vmatrix}âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹1a2â€‹1â€‹â‹®anâ€‹1â€‹â€‹11+a2â€‹1â€‹â‹®1â€‹â‹¯â‹¯â‹¯â€‹11â‹®1+anâ€‹1â€‹â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹åˆ†åˆ«ä¹˜ä¸Š âˆ’1ai-{1 \over a_i}âˆ’aiâ€‹1â€‹ åŽåŠ åˆ°ç¬¬ iii è¡Œå¾—a1a2â‹¯(1+âˆ‘i=1n1ai)a_1 a_2 \cdots (1 + \sum_{i = 1}^n {1 \over a_i})a1â€‹a2â€‹â‹¯(1+i=1âˆ‘nâ€‹aiâ€‹1â€‹) 1.2.2 ç±»ä¼¼èŒƒå¾·è’™å¾·ç±»åž‹æž„é€ èŒƒå¾·è’™å¾·è¡Œåˆ—å¼æ¥è§£å½¢å¦‚âˆ£1111abcda2b2c2d2a4b4c4d4âˆ£\begin{vmatrix} 1 &amp; 1 &amp; 1 &amp; 1 \\ a &amp; b &amp; c &amp; d \\ a^2 &amp; b^2 &amp; c^2 &amp; d^2 \\ a^4 &amp; b^4 &amp; c^4 &amp; d^4 \\ \end{vmatrix}âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹1aa2a4â€‹1bb2b4â€‹1cc2c4â€‹1dd2d4â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹æž„é€ èŒƒå¾·è’™å¾·è¡Œåˆ—å¼f(x)=âˆ£11111abcdxa2b2c2d2x2a3b3c3d3x3a4b4c4d4x4âˆ£f(x) = \begin{vmatrix} 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1\\ a &amp; b &amp; c &amp; d &amp; x\\ a^2 &amp; b^2 &amp; c^2 &amp; d^2 &amp; x^2 \\ a^3 &amp; b^3 &amp; c^3 &amp; d^3 &amp; x^3 \\ a^4 &amp; b^4 &amp; c^4 &amp; d^4 &amp; x^4\\ \end{vmatrix}f(x)=âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹1aa2a3a4â€‹1bb2b3b4â€‹1cc2c3c4â€‹1dd2d3d4â€‹1xx2x3x4â€‹âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£âˆ£â€‹åˆ™æ‰€æ±‚è¡Œåˆ—å¼ä¸º x3x^3x3 çš„ä»£æ•°ä½™å­å¼çš„ âˆ’1-1âˆ’1 å€æŒ‰ç…§èŒƒå¾·è’™å¾·è¡Œåˆ—å¼å±•å¼€å¹¶æ±‚å‡º x3x^3x3 çš„ç³»æ•°å³å¯ 2. çŸ©é˜µçŸ©é˜µä¸ä¸€å®šæ˜¯æ­£æ–¹å½¢çš„ï¼Œè¡Œå’Œåˆ—ç›¸åŒçš„çŸ©é˜µè¢«ç§°ä¸ºæ–¹é˜µ 2.1 çŸ©é˜µçš„å››åˆ™è¿ç®— 2.1.1 çŸ©é˜µçš„åŠ å’Œå‡çŸ©é˜µçš„åŠ å’Œå‡æ»¡è¶³äº¤æ¢å¾‹ï¼Œç»“åˆå¾‹ï¼Œæ•°ä¹˜åˆ†é…å¾‹çŸ©é˜µçš„æ•°ä¹˜æ˜¯æ‰€æœ‰å…ƒç´ éƒ½ä¹˜ä»¥ kkkï¼Œå’Œè¡Œåˆ—å¼ä¸åŒã€‚è¡Œåˆ—å¼åªéœ€è¦ä¸€è¡Œæˆ–è€…ä¸€åˆ—ä¹˜å°±å¯ä»¥äº†ã€‚æ‰€ä»¥åŽé¢çš„æ–¹é˜µçš„è¡Œåˆ—å¼è¦ç‰¹åˆ«æ³¨æ„æŒ‡æ•°ã€‚ 2.1.2 çŸ©é˜µçš„ä¹˜æ³•çŸ©é˜µçš„ä¹˜æ³•å¾ˆç‰¹æ®Šï¼Œå…¶è®¡ç®—æ–¹æ³•ä¸ºï¼šè¡Œå…ƒç´ ä¹˜ä»¥å¯¹åº”åˆ—å…ƒç´ å¾—åˆ°æ–°çŸ©é˜µçš„æŸè¡ŒæŸåˆ—çš„ä¸€ä¸ªå…ƒç´ ä¾‹å¦‚ï¼šè‹¥ AB=CAB = CAB=CçŸ©é˜µ CCC çš„ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„å…ƒç´  c11c_{11}c11â€‹ ç­‰äºŽ AAA çš„ç¬¬ä¸€è¡Œä¹˜ä»¥ BBB çš„ç¬¬ä¸€åˆ—çš„ä¹˜ç§¯ä¹‹å’Œ[a11a12a13â‹¯a1nâ‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯]Ã—[b11â‹¯b21â‹¯b31â‹¯â‹®bn1â‹¯]=[c11â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯â‹¯]\begin{aligned} &amp; \begin{bmatrix} a_{11} &amp; a_{12} &amp; a_{13} &amp; \cdots &amp; a_{1n} \\ \cdots &amp; \cdots &amp; \cdots &amp; \cdots &amp; \cdots \\ \cdots &amp; \cdots &amp; \cdots &amp; \cdots &amp; \cdots \\ \end{bmatrix} \times \begin{bmatrix} b_{11} &amp; \cdots \\ b_{21} &amp; \cdots \\ b_{31} &amp; \cdots \\ \vdots &amp; \\ b_{n1} &amp; \cdots \\ \end{bmatrix} \\ \\ &amp; = \begin{bmatrix} c_{11} &amp; \cdots &amp; \cdots &amp; \cdots &amp; \cdots \\ \cdots &amp; \cdots &amp; \cdots &amp; \cdots &amp; \cdots \\ \cdots &amp; \cdots &amp; \cdots &amp; \cdots &amp; \cdots \\ \end{bmatrix} \end{aligned}â€‹âŽ£âŽ¡â€‹a11â€‹â‹¯â‹¯â€‹a12â€‹â‹¯â‹¯â€‹a13â€‹â‹¯â‹¯â€‹â‹¯â‹¯â‹¯â€‹a1nâ€‹â‹¯â‹¯â€‹âŽ¦âŽ¤â€‹Ã—âŽ£âŽ¢âŽ¢âŽ¢âŽ¢âŽ¢âŽ¡â€‹b11â€‹b21â€‹b31â€‹â‹®bn1â€‹â€‹â‹¯â‹¯â‹¯â‹¯â€‹âŽ¦âŽ¥âŽ¥âŽ¥âŽ¥âŽ¥âŽ¤â€‹=âŽ£âŽ¡â€‹c11â€‹â‹¯â‹¯â€‹â‹¯â‹¯â‹¯â€‹â‹¯â‹¯â‹¯â€‹â‹¯â‹¯â‹¯â€‹â‹¯â‹¯â‹¯â€‹âŽ¦âŽ¤â€‹â€‹çŸ©é˜µçš„ä¹˜æ³•æ»¡è¶³ç»“åˆå¾‹(AB)C=A(BC)(AB)C = A(BC)(AB)C=A(BC)å·¦åˆ†é…å¾‹å’Œå³åˆ†é…å¾‹A(B+C)=AB+AC(B+C)A=BA+CA\begin{aligned} A(B + C) = AB + AC \\ (B + C)A = BA + CA \end{aligned}A(B+C)=AB+AC(B+C)A=BA+CAâ€‹&gt; æ³¨æ„ä¿è¯é¡ºåºä¸èƒ½å˜ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šä¸ªçŸ©é˜µä¸€èµ·ä¹˜çš„æ—¶å€™ã€‚ çŸ©é˜µçš„ä¹˜æ³•ä¸æ»¡è¶³äº¤æ¢å¾‹ 2.2 çŸ©é˜µçš„è½¬ç½®çŸ©é˜µçš„è½¬ç½®å°±æ˜¯è¡Œå˜æˆåˆ—æ€§è´¨ï¼š(AT)T=A(A^T)^T = A(AT)T=A(A+B)T=AT+BT(A + B)^T = A^T + B^T(A+B)T=AT+BT(kA)T=kAT(kA)^T = k A^T(kA)T=kAT(AB)T=BTAT(AB)^T = B^T A^T(AB)T=BTATæ³¨æ„ï¼Œä¹˜æ³•è¿™é‡Œçš„é¡ºåºæ˜¯å€’è¿‡æ¥çš„ã€‚ 2.3 æ–¹é˜µçš„è¡Œåˆ—å¼æ–¹é˜µçš„è¡Œåˆ—å¼æ²¡æœ‰ä»€ä¹ˆå¤§çš„è¦ç‚¹éœ€è¦æ³¨æ„çš„å°±æ˜¯æ•°ä¹˜âˆ£kAâˆ£=knâˆ£Aâˆ£|kA| = k^n|A|âˆ£kAâˆ£=knâˆ£Aâˆ£çŸ©é˜µçš„ç§¯çš„è¡Œåˆ—å¼ç­‰äºŽè¡Œåˆ—å¼çš„ç§¯ 2.4 é€†çŸ©é˜µ 2.4.1 é€†çŸ©é˜µçš„å®šä¹‰å’Œåˆ¤å®šå¦‚æžœå­˜åœ¨çŸ©é˜µ BBB ä½¿å¾—çŸ©é˜µ AAA æ»¡è¶³AB=BA=EAB = BA = EAB=BA=Eåˆ™ AAA ä¸ºå¯é€†çŸ©é˜µåœ¨è¯æ˜Žæ—¶æŠ“ä½å·²çŸ¥æ¡ä»¶ï¼Œå¾€ EEE æ–¹å‘æž„é€  2.4.2 æ€§è´¨é€†çŸ©é˜µçš„é€†ä¸ºå®ƒæœ¬èº«è½¬ç½®çŸ©é˜µçš„é€†ä¸ºé€†çŸ©é˜µçš„è½¬AAâˆ’1=EAA^{-1} = EAAâˆ’1=E(kA)âˆ’1=1kAâˆ’1(kA)^{-1} = \frac{1}{k} A^{-1}(kA)âˆ’1=k1â€‹Aâˆ’1âˆ£Aâˆ’1âˆ£=1âˆ£Aâˆ£=âˆ£Aâˆ£âˆ’1|A^{-1}| = {1 \over {|A|} } = |A|^{-1}âˆ£Aâˆ’1âˆ£=âˆ£Aâˆ£1â€‹=âˆ£Aâˆ£âˆ’1(AB)âˆ’1=Bâˆ’1Aâˆ’1(AB)^{-1} = B^{-1}A^{-1}(AB)âˆ’1=Bâˆ’1Aâˆ’1æ³¨æ„æŠ“å‡†æ€§è´¨æ¥è®¡ç®—ï¼Œç‰¹åˆ«æ˜¯ç¬¬å››æ¡ 2.4.3 è®¡ç®—ä¼´éšçŸ©é˜µæ³•ç”±æ€§è´¨Aâˆ’1=1âˆ£Aâˆ£Aâˆ—A^{-1} = {\frac{1}{|A|}} {A^*}Aâˆ’1=âˆ£Aâˆ£1â€‹Aâˆ—æ±‚è§£å‡ºä¼´éšçŸ©é˜µå³å¯ã€‚ä¼´éšçŸ©é˜µç­‰äºŽå¯¹åº”çš„ä»£æ•°ä½™å­å¼æ‰€ç»„æˆçš„çŸ©é˜µAâˆ—=[A11A12â‹¯A1nA12A22â‹¯An2â‹®â‹®â‹®A1nA2nâ‹¯Ann]A^* = \begin{bmatrix} A_{11} &amp; A_{12} &amp; \cdots &amp; A_{1n} \\ A_{12} &amp; A_{22} &amp; \cdots &amp; A_{n2} \\ \vdots &amp; \vdots &amp; &amp; \vdots \\ A_{1n} &amp; A_{2n} &amp; \cdots &amp; A_{nn} \\ \end{bmatrix}Aâˆ—=âŽ£âŽ¢âŽ¢âŽ¢âŽ¡â€‹A11â€‹A12â€‹â‹®A1nâ€‹â€‹A12â€‹A22â€‹â‹®A2nâ€‹â€‹â‹¯â‹¯â‹¯â€‹A1nâ€‹An2â€‹â‹®Annâ€‹â€‹âŽ¦âŽ¥âŽ¥âŽ¥âŽ¤â€‹åˆç­‰å˜æ¢æ³•åœ¨çŸ©é˜µAAAåŽé¢æŽ¥ä¸€ä¸ªå•ä½çŸ©é˜µ EEEç»è¿‡åˆç­‰å˜æ¢åŽï¼Œå°† AAA å˜æˆ EEEæ­¤æ—¶ï¼ŒåŽŸæ¥çš„ EEE å°±å˜æˆäº† Aâˆ’1A^{-1}Aâˆ’1åˆ†å—æ³•åˆ©ç”¨åˆ†å—çŸ©é˜µå°†å¤§çŸ©é˜µåˆ†æˆå°å—ï¼Œæ±‚è§£æ¯ä¸ªå°çŸ©é˜µçš„é€†çŸ©é˜µï¼Œå†æ‹¼æŽ¥èµ·æ¥ï¼Œå°±æ±‚å‡ºäº†å¤§çŸ©é˜µçš„é€†çŸ©é˜µ 2.5 ç‰¹æ®ŠçŸ©é˜µé›¶çŸ©é˜µï¼šæ¯ä¸ªå…ƒç´ å‡ä¸º 000ï¼Œè®°ä¸º OOOå•ä½çŸ©é˜µï¼šä»Žå·¦å¾€å³å¯¹è§’çº¿ä¸Šçš„å…ƒç´ å‡ä¸º 111ï¼Œå…¶ä½™ä¸º 000ï¼Œè®°ä¸º EEEæ•°é‡çŸ©é˜µï¼š kkk ä¹˜ä»¥å•ä½çŸ©é˜µçš„ç§¯å¯¹è§’çŸ©é˜µï¼šéžå¯¹è§’çº¿ä¸Šçš„å€¼å…¨ä¸º 0 çš„çŸ©é˜µç§°ä¸ºå¯¹è§’çŸ©é˜µä¸Šï¼ˆä¸‹ï¼‰ä¸‰è§’çŸ©é˜µï¼šå¯¹è§’çº¿ä»¥ä¸Šæˆ–è€…å¯¹è§’çº¿ä»¥ä¸‹çš„å€¼å…¨éƒ¨ä¸º 0 çš„çŸ©é˜µç§°ä¸ºä¸Šï¼ˆä¸‹ï¼‰ä¸‰è§’çŸ©é˜µä¸‰è§’çŸ©é˜µçš„è¡Œåˆ—å¼çš„å€¼ç­‰äºŽå¯¹è§’çº¿ä¸Šçš„å€¼çš„ä¹˜ç§¯]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>çº¿ä»£</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>çº¿æ€§ä»£æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¯›æ³½ä¸œæ€æƒ³æ¦‚è®º]]></title>
    <url>%2F%2FReviews%2FMaoTheory%2F%E6%AF%9B%E6%B3%BD%E4%B8%9C%E6%80%9D%E6%83%B3%E6%A6%82%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[å…«ä¸ƒä¼šè®®çš„æ„ä¹‰åœŸåœ°é©å‘½å’Œæ­¦è£…æ–—äº‰æžªæ†å­é‡Œå‡ºæ”¿æƒ]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>æ¯›æ¦‚</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>æ¯›æ¦‚</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ“ä½œç³»ç»Ÿå¤ä¹ ]]></title>
    <url>%2F%2FReviews%2FOS%2F%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[1. Operating SystemWhat does a Mordern OS do?Provide abstractionsProvide Standard InterfaceMediates Resource UsageConsumes Resources 2. Processes and Threads 2.1 What is process and threadsProcess is an execution stream in the context of a particular process state.Thread is an execution stream in the context of a thread state.The key difference: Multiple threads share parts of their state.Allowing read write the same memory, but each thread still have own registers.Reason:The threads must corrdinate their activities very closely.It is much easier to coordinate activities. 2.2 Process state informationRegisterStackMemoryOpen file tablesSingal management information 2.3 MultiprogrammingMultiple processes at a time.Allow system to separate out activites cleanly. 2.4 Context switchBecause multiprogamming, there needs to share the resource, such as CPU.Therefore, OS needs the ability to switch from one process to another.That is Context Switch 2.5 PCBThe way to implement the Context Switch is to save and restore the hardware state in PCB (Process Control Block). 2.5.1 PCB depends on hardwardRegisterPorcessor Status WordMemorySome machine needs the Memory Management Unit(MMU)But the older PC switch all the processâ€™s memory out to disk 2.6 Event-drivenOS is fundamentally event-driven.That is to wait for an event to happen, response appropriately to the event, then wait for the next event 2.7 Thread Control BlockIt is tipically register.Donâ€™t need to do anything to the MMU when switch threads. 2.8 Each user process is backed by kernel threadThat is the OS will have a separate thread for each process.And perform the OS activities on behalf of the process.Advantages:Allow the programmer to program the actions associate with that activity as a single serial stream of actions and eventsProgrammer does not have to deal with the complexity of interleaving multiple activities on the same thread 2.9 Asyncorony]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1. åŸºæœ¬æ¦‚å¿µ]]></title>
    <url>%2F%2FReviews%2FProbability%2F1.%20%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[1.1 éšæœºè¯•éªŒå¯é‡å¤ç»“æžœä¸å”¯ä¸€ç»“æžœä¸ç¡®å®šéšæœºæ€§ï¼šåŒ…æ‹¬ä¸Šè¿°æ€§è´¨ä»¥å¤–è¿˜æœ‰ç»“æžœèŒƒå›´ç¡®å®šè¯•éªŒå®Œæˆï¼Œå¿…æœ‰ä¸€ä¸ªç¡®å®šç»“æžœ 1.2 æ ·æœ¬ç©ºé—´æ ·æœ¬ç©ºé—´æ˜¯éšæœºè¯•éªŒçš„æ‰€æœ‰å¯èƒ½ç»“æžœé›†åˆ 1.3 éšæœºäº‹ä»¶æ ·æœ¬ç©ºé—´çš„å­é›†å«åšéšæœºäº‹ä»¶ï¼Œå…ƒç´ ç§°ä¸ºæ ·æœ¬ç‚¹åŸºæœ¬äº‹ä»¶ï¼šå•ç‚¹é›†åˆå¿…ç„¶äº‹ä»¶ï¼šæ ·æœ¬ç©ºé—´æœ¬èº«ï¼Œè®°ä¸º Î©\OmegaÎ©ä¸å¯èƒ½äº‹ä»¶ï¼šç©ºé›† âˆ…\varnothingâˆ… 1.4 äº‹ä»¶å…³ç³»ä¸Žè¿ç®— 1.4.1 å…³ç³»ç›¸ç­‰ï¼šAâŠ‚B,BâŠ‚AA \subset B, B \subset AAâŠ‚B,BâŠ‚A åˆ™ A=BA = BA=Bå’Œäº‹ä»¶ï¼šAâˆªB={xâˆ£xâˆˆA or xâˆˆB}A \cup B = \{x|x \in A\ or\ x \in B\}AâˆªB={xâˆ£xâˆˆA or xâˆˆB}ç§¯äº‹ä»¶ï¼šAâˆ©B={xâˆ£xâˆˆA and xâˆˆB}A \cap B = \{x|x \in A\ and\ x \in B\}Aâˆ©B={xâˆ£xâˆˆA and xâˆˆB}äº’æ–¥äº‹ä»¶ï¼šAâˆ©B=âˆ…A \cap B = \varnothingAâˆ©B=âˆ…ï¼Œå³ AAA BBB ä¸èƒ½åŒæ—¶å‘ç”Ÿå¯¹ç«‹äº‹ä»¶ï¼šAâˆªB=S, and Aâˆ©B=âˆ…A \cup B = S, \ and \ A \cap B = \varnothingAâˆªB=S, and Aâˆ©B=âˆ…ï¼ŒAAA BBB å¿…æœ‰ä¸€ä¸ªå‘ç”Ÿå¯¹ç«‹äº‹ä»¶ä¸€å®šæ˜¯äº’æ–¥äº‹ä»¶å·®äº‹ä»¶ï¼šAâˆ’B={xâˆ£xâˆˆA and xâˆ‰B}A - B = \{x|x \in A \ and \ x \notin B\}Aâˆ’B={xâˆ£xâˆˆA and xâˆˆ/â€‹B}Aâˆ’B=ABâ€¾ âŠ‚AA-B = A\overline{B}\ \subset AAâˆ’B=AB âŠ‚Aè‹¥ AâŠ‚BA \subset BAâŠ‚B åˆ™ï¼ŒAâˆ’B=âˆ…A - B = \varnothingAâˆ’B=âˆ…Aâˆ’B=Aâˆ’ABA - B = A - ABAâˆ’B=Aâˆ’ABAâˆ’B=ABâ€¾=A(1âˆ’B)=Aâˆ’ABA - B = A\overline B = A(1-B) = A - ABAâˆ’B=AB=A(1âˆ’B)=Aâˆ’ABæ€»æœ‰ A=ABâˆªABâ€¾A = AB \cup A \overline BA=ABâˆªABAâˆªB=Aâˆª(Aâ€¾B)=Bâˆª(ABâ€¾)A \cup B = A \cup (\overline A B) = B \cup (A \overline B)AâˆªB=Aâˆª(AB)=Bâˆª(AB) 1.4.2 è¿ç®— 1.4.2.1 è¿ç®—å¾‹äº¤æ¢å¾‹ï¼šAâˆªB=BâˆªAA \cup B = B \cup AAâˆªB=BâˆªA; Aâˆ©B=Bâˆ©AA \cap B = B \cap AAâˆ©B=Bâˆ©Aç»“åˆå¾‹ï¼šAâˆª(BâˆªC)=(AâˆªB)âˆªCA \cup (B \cup C) = (A \cup B) \cup CAâˆª(BâˆªC)=(AâˆªB)âˆªCAâˆ©(Bâˆ©C)=(Aâˆ©B)âˆ©CA \cap (B \cap C) = (A \cap B) \cap CAâˆ©(Bâˆ©C)=(Aâˆ©B)âˆ©Cåˆ†é…å¾‹:Aâˆª(Bâˆ©C)=(AâˆªB)âˆ©(AâˆªC)A \cup (B \cap C) = (A \cup B) \cap (A \cup C)Aâˆª(Bâˆ©C)=(AâˆªB)âˆ©(AâˆªC)Aâˆ©(BâˆªC)=(Aâˆ©B)âˆª(Aâˆ©C)A \cap (B \cup C) = (A \cap B) \cup (A \cap C)Aâˆ©(BâˆªC)=(Aâˆ©B)âˆª(Aâˆ©C)å¾·æ‘©æ ¹å¾‹ï¼šAâˆªBâ€¾=Aâ€¾âˆ©Bâ€¾\overline{A \cup B} = \overline A \cap \overline BAâˆªB=Aâˆ©BAâˆ©Bâ€¾=Aâ€¾âˆªBâ€¾\overline{A \cap B} = \overline A \cup \overline BAâˆ©B=AâˆªB 1.4.2.2 æœ¯è¯­â€œè‡³å°‘â€ â€”â€” åŠ æ³•è¿ç®—â€œåŒæ—¶â€ â€”â€” ä¹˜æ³•è¿ç®—ä¾‹ï¼š è®¾ A,B,CA, B, CA,B,C ä¸‰ä¸ªäº‹ä»¶ï¼ŒA,B,CA, B,CA,B,C çš„è¿ç®—ï¼šAAA å‘ç”Ÿï¼ŒB,C ä¸å‘ç”ŸA!B!CAä¸ŽBéƒ½å‘ç”Ÿï¼Œè€ŒC ä¸å‘ç”ŸABCä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‘ç”ŸABCéƒ½å‘ç”ŸABCéƒ½ä¸å‘ç”ŸABCä¸å¤šäºŽä¸€ä¸ªå‘ç”ŸABCä¸å¤šäºŽä¸¤ä¸ªå‘ç”ŸABCè‡³å°‘ä¸¤ä¸ªå‘ç”ŸAB + AC + BCABCæ°æœ‰ä¸€ä¸ªå‘ç”ŸA!B!C + !AB!C + !A!BCABC æ°æœ‰ä¸¤ä¸ªå‘ç”ŸAB!C + !ABC + A!BCä¾‹2ï¼šåœ¨ç­ä¸Šï¼Œä»»é€‰ä¸€åå­¦ç”Ÿï¼šA: ç”·ç”ŸBï¼šäºŒå¹´çº§C: ç™»å±±é˜Ÿå‘˜AB!C =åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ï¼ŒABC = Cï¼ˆC åŒ…å«äºŽ ABï¼‰åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ï¼ŒC åŒ…å«äºŽ B 1.5 é¢‘çŽ‡å’Œæ¦‚çŽ‡ 1.5.1 é¢‘çŽ‡é¢‘çŽ‡ = é¢‘æ•° /// è¯•éªŒæ€»æ•°é¢‘æ•°ï¼šåœ¨ n æ¬¡è¯•éªŒä¸­ï¼Œå‘ç”ŸæŸäº‹ä»¶çš„æ¬¡æ•°åŸºæœ¬æ€§è´¨0â‰¤fn(A)â‰¥10 \le f_n(A) \ge 10â‰¤fnâ€‹(A)â‰¥1fn(S)=1f_n(S) = 1fnâ€‹(S)=1è‹¥ A1,A2â‹¯AnA_1, A_2 \cdots A_nA1â€‹,A2â€‹â‹¯Anâ€‹ æ˜¯ä¸¤ä¸¤ä¸ç›¸å®¹äº‹ä»¶ï¼Œåˆ™æœ‰ fn(A1âˆªA2âˆªâ‹¯âˆªAn)=fn(A1)+fn(A2)+â‹¯+fn(An)f_n(A_1 \cup A_2 \cup \cdots \cup A_n) = f_n(A_1) + f_n(A_2) + \cdots + f_n(A_n)fnâ€‹(A1â€‹âˆªA2â€‹âˆªâ‹¯âˆªAnâ€‹)=fnâ€‹(A1â€‹)+fnâ€‹(A2â€‹)+â‹¯+fnâ€‹(Anâ€‹) 1.5.2 æ¦‚çŽ‡ 1.5.2.1 ç»Ÿè®¡å®šä¹‰åœ¨ä¸€ç»„ç›¸åŒæ¡ä»¶ä¸‹ï¼Œé‡å¤åœ°åš n æ¬¡è¯•éªŒï¼Œè®°, nAn_AnAâ€‹ä¸º n æ¬¡è¯•éªŒä¸­ï¼Œäº‹ä»¶ A å‘ç”Ÿçš„æ¬¡æ•°ã€‚å½“ nâ†’âˆžn \to \inftynâ†’âˆžï¼Œé¢‘çŽ‡ï¼ˆnAnn_A \over nnnAâ€‹â€‹ï¼‰ç¨³å®šåœ¨æŸä¸€ä¸ªå¸¸æ•° P é™„è¿‘ã€‚ä¸”éšç€ n çš„å¢žå¤§ï¼Œæ‘†åŠ¨çš„å¹…åº¦è¶Šæ¥è¶Šå°ï¼Œæ­¤æ—¶ç§° A ä¸ºéšæœºäº‹ä»¶ï¼Œç§° p ä¸ºäº‹ä»¶ A å‘ç”Ÿçš„æ¦‚çŽ‡ï¼Œè®°ä½œï¼šP(A)=pP(A) = pP(A)=p 1.5.2.2 æ•°å­¦å®šä¹‰å¯¹äºŽéšå³è¯•éªŒèµ‹äºˆä¸€ä¸ªå®žæ•°P(A)P(A)P(A), ç§°ä¸ºæ¦‚çŽ‡ï¼Œæ»¡è¶³å·²ä¸‹æ¡ä»¶å¯¹äºŽä»»ä½•äº‹ä»¶ AAAï¼Œæœ‰ P(A)â‰¥0P(A) \ge 0P(A)â‰¥0å¯¹äºŽå¿…ç„¶äº‹ä»¶ SSSï¼Œæœ‰ P(S)=1P(S) = 1P(S)=1ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸º P(Î©)=1P(\Omega) = 1P(Î©)=1å¯åˆ—å¯åŠ æ€§ï¼šå¯¹äºŽä¸¤ä¸¤ä¸ç›¸å®¹äº‹ä»¶ï¼Œåˆ™æœ‰ P(A1âˆªA2âˆªâ‹¯âˆªAn)=P(A1)+P(A2)+â‹¯+P(An)P(A_1 \cup A_2 \cup \cdots \cup A_n) = P(A_1) + P(A_2) + \cdots + P(A_n)P(A1â€‹âˆªA2â€‹âˆªâ‹¯âˆªAnâ€‹)=P(A1â€‹)+P(A2â€‹)+â‹¯+P(Anâ€‹)ä¹Ÿç§°ä¸ºå®Œå…¨å¯åŠ æ€§P(A)P(A)P(A) è¡¨å¾äº‹ä»¶ AAA åœ¨ä¸€æ¬¡è¯•éªŒä¸­å‘ç”Ÿçš„å¯èƒ½æ€§å¤§å°ã€‚ä¸Šè¿°è¦ç‚¹ä¹Ÿæ˜¯æ¦‚çŽ‡çš„æ€§è´¨ã€‚æ³¨æ„ï¼Œæ¦‚çŽ‡æ˜¯è¶‹è¿‘å¾—åˆ°çš„ï¼Œæ¦‚çŽ‡ä¸º 1 çš„äº‹ä»¶ä¸ä¸€å®šæ˜¯å¿…ç„¶äº‹ä»¶ã€‚åŒç†ï¼Œæ¦‚çŽ‡ä¸º 0 çš„äº‹ä»¶ä¸ä¸€å®šæ˜¯å¿…ç„¶äº‹ä»¶ã€‚ 1.5.2.3 æ€§è´¨P(âˆ…)=0P(\varnothing) = 0P(âˆ…)=0æœ‰é™å¯åŠ ï¼šå¯¹äºŽä¸¤ä¸¤ä¸ç›¸å®¹äº‹ä»¶P(A1âˆªA2âˆªâ‹¯âˆªAn)=P(A1)+P(A2)+â‹¯+P(An)P(A_1 \cup A_2 \cup \cdots \cup A_n) = P(A_1) + P(A_2) + \cdots + P(A_n)P(A1â€‹âˆªA2â€‹âˆªâ‹¯âˆªAnâ€‹)=P(A1â€‹)+P(A2â€‹)+â‹¯+P(Anâ€‹)å¯ä»¥æŽ¨å¹¿åˆ° n=âˆžn = \inftyn=âˆž çš„å¯åˆ—å¯åŠ æ€§AâŠ‚Bâ‡’P(B)â‰¥P(A)A \subset B \Rightarrow P(B) \ge P(A)AâŠ‚Bâ‡’P(B)â‰¥P(A)ä»»ä½•äº‹ä»¶ AAA éƒ½æœ‰ P(A)=1P(A) = 1P(A)=1é€†äº‹ä»¶ï¼šP(Aâ€¾)=1âˆ’P(A)P(\overline A) = 1 - P(A)P(A)=1âˆ’P(A)åŠ æ³•ï¼šP(AâˆªB)=P(A)+P(B)âˆ’P(AB)P(A \cup B) = P(A) + P(B) - P(AB)P(AâˆªB)=P(A)+P(B)âˆ’P(AB)å¯¹äºŽä¸€èˆ¬äº‹ä»¶ï¼Œæœ‰P(A1âˆªA2âˆªâ‹¯âˆªAn)=âˆ‘i=1nP(Ai)âˆ’âˆ‘1â‰¤i&lt;jâ‰¤nP(AiAj)+âˆ‘1â‰¤i&lt;j&lt;kâ‰¤nP(AiAjAk)+â‹¯+(âˆ’1)nâˆ’1P(A1â‹¯An)P(A_1 \cup A_2 \cup \cdots \cup A_n) = \sum_{i = 1}^nP(A_i) - \sum_{1 \le i \lt j \le n}P(A_iA_j) + \sum_{1 \le i \lt j \lt k \le n}P(A_i A_j A_k) + \cdots + (-1)^{n - 1}P(A_1 \cdots A_n)P(A1â€‹âˆªA2â€‹âˆªâ‹¯âˆªAnâ€‹)=i=1âˆ‘nâ€‹P(Aiâ€‹)âˆ’1â‰¤i&lt;jâ‰¤nâˆ‘â€‹P(Aiâ€‹Ajâ€‹)+1â‰¤i&lt;j&lt;kâ‰¤nâˆ‘â€‹P(Aiâ€‹Ajâ€‹Akâ€‹)+â‹¯+(âˆ’1)nâˆ’1P(A1â€‹â‹¯Anâ€‹) 1.5.3 æ¦‚çŽ‡ç©ºé—´ 1.5.3.1 Ïƒ\sigmaÏƒ ä»£æ•°ç§° Î©\OmegaÎ© æ ·æœ¬ç©ºé—´çš„ä¸€äº›å­é›†æ‰€æˆçš„é›†åˆ FFFï¼Œè‹¥ FFF æ»¡è¶³ï¼šÎ©âˆˆF\Omega \in FÎ©âˆˆFè‹¥ AâˆˆFA \in FAâˆˆF ,åˆ™ Aâ€¾âˆˆF\overline A \in FAâˆˆFè‹¥ AnâˆˆF,n=1,2,â€¦A_n \in F, n = 1, 2, \ldotsAnâ€‹âˆˆF,n=1,2,â€¦ï¼Œåˆ™ç§° â‹ƒi=1âˆžAnâˆˆF\bigcup_{i = 1}^\infty A_n \in Fâ‹ƒi=1âˆžâ€‹Anâ€‹âˆˆFåˆ™ç§° {Î©,F}\{\Omega, F\}{Î©,F} ä¸ºå¯æµ‹ç©ºé—´ï¼Œç§° FFF ä¸º Ïƒâˆ’\sigma -Ïƒâˆ’ä»£æ•° 1.5.3.2 æ ·æœ¬ç©ºé—´ç§° {Î©,F,p}\{\Omega, F, p\}{Î©,F,p} ä¸ºæ ·æœ¬ç©ºé—´ï¼Œå…¶ä¸­ï¼šÎ©\OmegaÎ© æ ·æœ¬ç©ºé—´FFF äº‹ä»¶åŸŸppp æ¦‚çŽ‡ 1.5.3.3 æ€§è´¨P(âˆ…)=0P(\varnothing) = 0P(âˆ…)=0è‹¥AiâˆˆF,i=1,2,â€¦,nA_i \in F, i = 1,2, \ldots, nAiâ€‹âˆˆF,i=1,2,â€¦,n ä¸” AiAj=âˆ…(i!=j)A_iA_j = \varnothing (i != j)Aiâ€‹Ajâ€‹=âˆ…(i!=j)å½“ AB=âˆ…AB = \varnothingAB=âˆ… åˆ™ P(AâˆªB)=P(A)+P(B)P(A \cup B) = P(A) + P(B)P(AâˆªB)=P(A)+P(B)è‹¥ A,BA, BA,B ä¸ºä»»æ„äº‹ä»¶ï¼Œé‚£ä¹ˆï¼Œ P(AâˆªB)=P(A)+P(B)âˆ’P(AB)P(A \cup B) = P(A) + P(B) - P(A B)P(AâˆªB)=P(A)+P(B)âˆ’P(AB)å°†ä¸Šå¼æŽ¨å¹¿åˆ° n ä¸ªï¼Œåˆ™æœ‰P(â‹ƒi=1nAi)=âˆ‘i=1nP(Ai)âˆ’âˆ‘1â‰¤i&lt;jâ‰¤nP(AiAj)+âˆ‘P(\bigcup_{i = 1}^n A_i) = \sum_{i = 1}^nP(A_i) - \sum_{1\le i \lt j \le n} P(A_iA_j) + \sumP(i=1â‹ƒnâ€‹Aiâ€‹)=i=1âˆ‘nâ€‹P(Aiâ€‹)âˆ’1â‰¤i&lt;jâ‰¤nâˆ‘â€‹P(Aiâ€‹Ajâ€‹)+âˆ‘// TODOå•è°ƒä¸å‡æ€§ï¼šè‹¥ AâŠ‚BA \subset BAâŠ‚B åˆ™ P(Bâˆ’A)=P(B)âˆ’P(A)â‰¥0P(B - A) = P(B) - P(A) \ge 0P(Bâˆ’A)=P(B)âˆ’P(A)â‰¥0ï¼Œåˆ™ P(B)â‰¥P(A)P(B) \ge P(A)P(B)â‰¥P(A)P(Aâ€¾)=1âˆ’P(A)P(\overline A) = 1 - P(A)P(A)=1âˆ’P(A)è®¾ AnâˆˆF,n=1,2,â€¦A_n \in F, n = 1,2, \ldotsAnâ€‹âˆˆF,n=1,2,â€¦ï¼Œä¸” A1âŠ‚A2âŠ‚â€¦AnA_1 \subset A_2 \subset \ldots A_nA1â€‹âŠ‚A2â€‹âŠ‚â€¦Anâ€‹ï¼Œåˆ™ P(â‹ƒn=1âˆžAn)=limâ¡nâ†’âˆžAnP(\bigcup_{n = 1}^\infty A_n) = \lim_{n \to \infty} A_nP(â‹ƒn=1âˆžâ€‹Anâ€‹)=limnâ†’âˆžâ€‹Anâ€‹ç§°ä¸ºä¸‹è¿žç»­AnâˆˆF,n=1,2,â€¦A_n \in F, n = 1,2,\ldotsAnâ€‹âˆˆF,n=1,2,â€¦ï¼Œä¸” AiâŠƒA2âŠƒâ€¦âŠƒAnâŠƒâ€¦A_i \supset A_2 \supset \ldots \supset A_n \supset \ldotsAiâ€‹âŠƒA2â€‹âŠƒâ€¦âŠƒAnâ€‹âŠƒâ€¦ï¼Œåˆ™ P(â‹‚n=1âˆžAn)=limâ¡nâ†’âˆžP(An)P(\bigcap_{n = 1}^\infty A_n) = \lim_{n \to \infty} P(A_n)P(â‹‚n=1âˆžâ€‹Anâ€‹)=limnâ†’âˆžâ€‹P(Anâ€‹)ç§°ä¸ºä¸Šè¿žç»­6 å’Œ 7 ä¹Ÿç§°ä½œ ppp çš„è¿žç»­æ€§ 1.5.3.4 ä¾‹é¢˜è®¾ A,B,CA, B, CA,B,C ä¸ºä¸‰äº‹ä»¶ï¼Œå·²çŸ¥P(A)=P(B)=P(C)=1/4,P(AB)=0=P(AC), P(BC)=1/8P(A) = P(B) = P(C) = 1/4, P(AB) = 0 = P(AC), \ P(BC) = 1/8P(A)=P(B)=P(C)=1/4,P(AB)=0=P(AC), P(BC)=1/8 æ±‚ ABCABCABCä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‘ç”Ÿçš„æ¦‚çŽ‡ã€‚P(AâˆªBâˆªC)=P(A)+P(B)+P(C)âˆ’P(AB)âˆ’P(AC)âˆ’P(BC)+P(ABC)=14+14+14âˆ’18+0=0.625\begin{aligned} P(A \cup B \cup C) &amp;= P(A) + P(B) + P(C) \\ &amp; - P(AB) - P(AC) - P(BC) + P(ABC) \\ &amp;= \frac{1}{4} + \frac{1}{4} + \frac{1}{4} - \frac{1}{8} + 0 \\ &amp;= 0.625 \end{aligned}P(AâˆªBâˆªC)â€‹=P(A)+P(B)+P(C)âˆ’P(AB)âˆ’P(AC)âˆ’P(BC)+P(ABC)=41â€‹+41â€‹+41â€‹âˆ’81â€‹+0=0.625â€‹å°†ç¼–å·ä¸º 1,2,31, 2, 31,2,3 çš„ä¸‰æœ¬ä¹¦ä»»æ„åœ°æŽ’åœ¨äº†ä¹¦æž¶ä¸Šï¼Œæ±‚è‡³å°‘æœ‰ä¸€æœ¬ä¹¦ä»Žå·¦åˆ°å³çš„æŽ’åˆ—åºå·ä¸Žä¹‹ç¼–å·ç›¸åŒçš„æ¦‚çŽ‡ã€‚AkA_kAkâ€‹: ç¬¬ kkk æœ¬ä¹¦åœ¨ç¬¬ kkk ä¸ªä½ç½®ä¸Šï¼Œ k=1,2,3â€¦k = 1,2,3 \ldotsk=1,2,3â€¦åˆ™ A=A1âˆªA2âˆªA3A = A_1 \cup A_2 \cup A_3A=A1â€‹âˆªA2â€‹âˆªA3â€‹P(Ak)=1(3âˆ’1)!3!=1/3P(A_k) = \frac{1 (3 - 1)!}{3!} = 1/3P(Akâ€‹)=3!1(3âˆ’1)!â€‹=1/3P(AiAj)=1Ã—1Ã—(3âˆ’2)!3!=1/6P(A_iA_j) = \frac{1 \times 1 \times (3 - 2)!}{3!} = 1/6P(Aiâ€‹Ajâ€‹)=3!1Ã—1Ã—(3âˆ’2)!â€‹=1/6P(A1A2A3)=1/3!P(A_1A_2A_3) = 1 / {3!}P(A1â€‹A2â€‹A3â€‹)=1/3!ï¼ˆåŒ¹é…é—®é¢˜ï¼‰ æŸäººå†™äº† n å°ä¿¡ï¼Œå¹¶å°†å®ƒä»¬éšæœºæ”¾å…¥å†™ç€ n å°ä¿¡æ”¶ä¿¡äººåœ°å€çš„ä¿¡å°å†…ï¼Œæ±‚ï¼šè‡³å°‘æœ‰ä¸€å°ä¿¡æ­£ç¡®çš„æ¦‚çŽ‡n ä¸ªä¿¡å°ä¸Šçš„åœ°å€å‡ä¸æ­£ç¡®çš„æ¦‚çŽ‡æ°æœ‰ r ä¸ªä¿¡å°ä¸Šçš„åœ°å€æ­£ç¡®çš„æ¦‚çŽ‡B:è‡³å°‘æœ‰ä¸€å°ä¿¡æ˜¯å¯¹çš„ã€‚B_rï¼šæ°æœ‰ r ä¸ªæ˜¯å¯¹çš„A_i: ç¬¬ i å°ä¿¡å¯¹çš„1ï¼‰P(B)=S1âˆ’S2+S3+â‹¯+(âˆ’1)nâˆ’1SnP(Ai)=1n, S1=nÃ—1n=1P(AiAj)=(nâˆ’2)!n!=1n(nâˆ’1), S2=1/2!â‹¯Sn=1/n!\begin{aligned} P(B) &amp;= S_1 - S_2 + S_3 + \cdots + (-1)^{n - 1}S_n \\ \\ P(A_i) &amp;= \frac{1}{n}, \ S_1 = n \times \frac{1}{n} = 1 \\ \\ P(A_iA_j) &amp;= \frac{(n - 2)!}{n!} = \frac{1}{n(n - 1)}, \ S_2 = 1/2! \\ \cdots \\ \\ S_n &amp;= 1/n! \\ \end{aligned}P(B)P(Aiâ€‹)P(Aiâ€‹Ajâ€‹)â‹¯Snâ€‹â€‹=S1â€‹âˆ’S2â€‹+S3â€‹+â‹¯+(âˆ’1)nâˆ’1Snâ€‹=n1â€‹, S1â€‹=nÃ—n1â€‹=1=n!(nâˆ’2)!â€‹=n(nâˆ’1)1â€‹, S2â€‹=1/2!=1/n!â€‹åˆ™P(B)=1âˆ’12!+13!âˆ’â€¦+â€¦+(âˆ’1)n+11n!=âˆ‘k=1n(âˆ’1)k+1k!\begin{aligned} P(B) &amp;= 1 - \frac{1}{2!} + \frac{1}{3!} - \ldots + \ldots + (-1)^{n + 1}\frac{1}{n!} \\ &amp;= \sum_{k =1 }^n \frac{(-1)^{k + 1}}{k!} \end{aligned}P(B)â€‹=1âˆ’2!1â€‹+3!1â€‹âˆ’â€¦+â€¦+(âˆ’1)n+1n!1â€‹=k=1âˆ‘nâ€‹k!(âˆ’1)k+1â€‹â€‹æ‰€ä»¥ limâ¡nâ†’âˆžP(B)=1âˆ’eâˆ’1\lim_{n \to \infty} P(B) = 1 - e^{-1}limnâ†’âˆžâ€‹P(B)=1âˆ’eâˆ’1P(B0)=1âˆ’P(B)P(B_0) = 1 - P(B)P(B0â€‹)=1âˆ’P(B)P(Ai1Ai2â‹¯Air)=1n(nâˆ’1)â€¦(nâˆ’r+1)P(A_{i_1}A_{i_2}\cdots A_{i_r}) = \frac{1}{n(n -1) \ldots (n - r + 1)}P(Ai1â€‹â€‹Ai2â€‹â€‹â‹¯Airâ€‹â€‹)=n(nâˆ’1)â€¦(nâˆ’r+1)1â€‹è€Œå…¶ä½™ r ä¸ªä¸å¯¹ï¼Œå³ âˆ‘k=0nâˆ’r(âˆ’1)k!\sum_{k = 0}^{n -r} \frac{(-1)}{k!}âˆ‘k=0nâˆ’râ€‹k!(âˆ’1)â€‹æ‰€ä»¥P(Br)=CnrÃ—1n(nâˆ’1)â€¦(nâˆ’r+1)Ã—âˆ‘k=0nâˆ’r(âˆ’1)k!=1r!âˆ‘k=0nâˆ’râˆ’1k\begin{aligned} P(B_r) &amp;= C_n^r \times \frac{1}{n(n - 1)\ldots (n - r + 1)} \times \sum_{k =0}^{n -r} \frac{(-1)}{k!} \\ &amp;= \frac{1}{r!} \sum_{k= 0}^{n -r} \frac{-1}{k} \end{aligned}P(Brâ€‹)â€‹=Cnrâ€‹Ã—n(nâˆ’1)â€¦(nâˆ’r+1)1â€‹Ã—k=0âˆ‘nâˆ’râ€‹k!(âˆ’1)â€‹=r!1â€‹k=0âˆ‘nâˆ’râ€‹kâˆ’1â€‹â€‹P(Time)=âˆPP(Time) = \prod PP(Time)=âˆPP(â‹ƒi=1n)=âˆi=1n(P(Ai))P(\bigcup_{i = 1}^{n}) = \prod_{i = 1}^n (P(A_i))P(â‹ƒi=1nâ€‹)=âˆi=1nâ€‹(P(Aiâ€‹)) 1.6 ç­‰å¯èƒ½æ¦‚åž‹ 1.6.1 å®šä¹‰å…ƒç´ æœ‰é™åŸºæœ¬äº‹ä»¶å‘ç”Ÿæ¦‚çŽ‡ç›¸åŒç”±ä¸Šï¼ŒåŸºæœ¬äº‹ä»¶æ¦‚çŽ‡ P({ei})=1/n,i=1,2,3â‹¯P(\{e_i\}) = 1 / n , i = 1, 2, 3 \cdotsP({eiâ€‹})=1/n,i=1,2,3â‹¯P(A)=âˆ‘j=1kP({eij})=k/n=Basic Events in ABasic event in SP(A) = \sum_{j = 1}^k P(\{e_{i_j}\}) = k / n = \frac{Basic \ Events \ in \ A}{Basic\ event \ in \ S}P(A)=j=1âˆ‘kâ€‹P({eijâ€‹â€‹})=k/n=Basic event in SBasic Events in Aâ€‹å®žé™…æŽ¨æ–­åŽŸç†ï¼šæ¦‚çŽ‡å¾ˆå°çš„äº‹ä»¶åœ¨ä¸€æ¬¡è¯•éªŒä¸­å‡ ä¹Žä¸å‘ç”Ÿ 1.6.2 ä¾‹é¢˜ä¾‹1ï¼š ä¸€ä¸ªè¢‹é‡Œæœ‰ 5 ä¸ªçƒï¼Œ3 ä¸ªç™½ï¼Œ2 ä¸ªé»‘ï¼Œä»Žä¸­ä»»å–ä¸‰ä¸ªï¼šæ±‚å…¨æ˜¯ç™½çƒå…¨æ˜¯é»‘çƒä¸€é»‘ä¸€ç™½æ”¹å˜ä¸Šä¾‹ä¸ºæ”¾å›žæ“ä½œï¼Œé‡åšé¢˜ç›®ã€‚ä¾‹2ï¼š äº§å“æ£€éªŒæ¨¡åž‹ï¼Œæœ‰ N ä»¶ï¼ŒD ä»¶æ¬¡å“ï¼ŒN - D ä»¶æ­£å“é—®ä»»å– n ä»¶ï¼Œæ°æœ‰ k ä»¶æ˜¯æ¬¡å“çš„æ¦‚çŽ‡ä¾‹3ï¼š æ‰“ç‰Œï¼ˆåŽ»é™¤å¤§å°çŽ‹ï¼‰ï¼Œ4 äººï¼Œæ±‚æŸäººæ‹¿åˆ° 4 å¼ é»‘æ¡ƒï¼Œä¸”å…¶ä»–èŠ±è‰²éƒ½æ˜¯ 3 å¼ çš„æ¦‚çŽ‡P(A)=C134C133C133C133C5213P(A) = \frac{ C^4_{13} C^3_{13} C^3_{13} C^3_{13} } {C^{13}_{52}}P(A)=C5213â€‹C134â€‹C133â€‹C133â€‹C133â€‹â€‹ä¾‹4ï¼š æŠŠä¸€å‰¯ç‰Œæ´—é€äº†ï¼Œæ±‚ 4 å¼  A è¿žåœ¨ä¸€èµ·çš„æ¦‚çŽ‡ã€‚æ†ç»‘ + æ’ç©ºã€‚P(A)=A44C491A5050A5252P(A) = \frac{A_4^4 C_{49}^1 A_{50}^{50}}{A_{52}^{52}}P(A)=A5252â€‹A44â€‹C491â€‹A5050â€‹â€‹ä¾‹5ï¼šåˆ†æˆ¿æ¨¡åž‹å°† n ä¸ªå°çƒéšæœºåœ°æ”¾åˆ° N ä¸ªå¤§ç›’å­ä¸­ï¼Œæ±‚ä¸‹åˆ—äº‹ä»¶æ¦‚çŽ‡ï¼šAï¼šæŸæŒ‡å®šçš„ n ä¸ªç›’å­ä¸­å„æœ‰ä¸€ä¸ªçƒï¼›çƒé€‰ç›’å­P(A)=n!NnP(A) = \frac{n!}{N^n}P(A)=Nnn!â€‹Bï¼šæ¯ä¸ªç›’å­ä¸­è‡³å¤šæœ‰ä¸€ä¸ªçƒï¼›å…ˆæŠŠ n ä¸ª ç›’å­é€‰å‡ºæ¥ï¼Œç„¶åŽçƒé€‰ç›’å­P(B)=CNnNnP(B) = \frac{C_N^n}{N^n}P(B)=NnCNnâ€‹â€‹Cï¼šæŸæŒ‡å®šçš„ä¸€ä¸ªç›’å­ä¸­æ°æœ‰ mï¼ˆm å°äºŽç­‰äºŽ nï¼‰ ä¸ªçƒå…ˆå°†æŒ‡å®šçš„ m ä¸ªçƒé€‰å‡ºæ¥ï¼Œç„¶åŽè®©å‰©ä¸‹çš„å°çƒåˆ°å‰©ä½™çš„ç›’å­ä¸­åŽ»P(C)=Cnm(Nâˆ’1)nâˆ’mNnP(C) = \frac{C_n^m (N - 1)^{n - m}}{N^n}P(C)=NnCnmâ€‹(Nâˆ’1)nâˆ’mâ€‹ä¾‹6ï¼šå‡è®¾æ²¡äººçš„ç”Ÿæ—¥åœ¨ 365 å¤©ä¸­ä»»ä¸€å¤©ï¼Œç­‰å¯èƒ½ï¼Œåˆ™éšæœºé€‰å– n ä¸ªäººï¼šä»–ä»¬çš„ç”Ÿæ—¥å„ä¸ç›¸åŒçš„æ¦‚çŽ‡åˆ†æˆ¿æ¨¡åž‹ã€‚è‡³å°‘æœ‰ä¸¤äººç›¸åŒçš„æ¦‚çŽ‡é—´æŽ¥æ³•ï¼Œé€šè¿‡æ±‚è§£å¯¹ç«‹äº‹ä»¶çš„æ¦‚çŽ‡æ¥æ±‚è§£ã€‚ä¾‹7ï¼šæ‘¸çƒé—®é¢˜è®¾ç›’ä¸­æœ‰ Î±\alphaÎ± ä¸ªç™½çƒï¼ŒÎ²\betaÎ² ä¸ªé»‘çƒï¼ŒçŽ°é‡‡ç”¨æ”¾å›žå’Œä¸æ”¾å›žä¸¤ç§æŠ½æ ·æ–¹å¼ã€‚ä»Žä¸­ä»»å– a + b ä¸ªçƒï¼Œé—®æ‘¸è¿‡çš„çƒä¸­æ°æœ‰ a ä¸ªç™½ï¼Œb ä¸ªé»‘çƒçš„æ¦‚çŽ‡ã€‚ 1.6 è¡¥å……ï¼šå‡ ä½•æ¦‚åž‹ 1.6sp.1 èƒŒæ™¯ï¼šçº¦ä¼šé—®é¢˜ç”²ï¼Œä¹™ä¸¤äººç›¸çº¦åœ¨ 0 åˆ° T è¿™çŸ­æ—¶é—´å†…åœ¨é¢„è®¢çš„åœ°ç‚¹ä¼šé¢ã€‚å…ˆåˆ°çš„äººç­‰å¦å¤–ä¸€äºº t æ—¶é—´ï¼Œä¹‹åŽç¦»å¼€ã€‚æ±‚ç”²ã€ä¹™ä¸¤äººèƒ½ä¼šé¢çš„æ¦‚çŽ‡ã€‚è®¾ x, y ä¸ºåˆ°è¾¾çš„æ—¶åˆ»ï¼Œxâ‰¤0,yâ‰¤Tx \le 0, y \le Txâ‰¤0,yâ‰¤Tâ€œä¼šé¢â€ === âˆ£xâˆ’yâˆ£â‰¤t|x - y| \le tâˆ£xâˆ’yâˆ£â‰¤tï¼Œé€šè¿‡ç”»å¹³é¢ç›´è§’åæ ‡ç³»è§£å†³ã€‚P(A)=T2âˆ’(Tâˆ’t)2T2=1âˆ’(1âˆ’tT)2\begin{aligned} P(A) &amp;= \frac{T^2 - (T - t)^2}{T^2} \\ &amp;= 1 - (1 - \frac{t}{T})^2 \end{aligned}P(A)â€‹=T2T2âˆ’(Tâˆ’t)2â€‹=1âˆ’(1âˆ’Ttâ€‹)2â€‹ 1.6sp.2 å®šä¹‰è¯•éªŒ E å…·æœ‰:æ ·æœ¬ç©ºé—´Î©\OmegaÎ© æ˜¯ä¸€ã€äºŒã€ä¸‰ç»´ä¸­çš„åº¦é‡(L(Î©)L(\Omega)L(Î©))æ ·æœ¬ç‚¹åœ¨ Î©\OmegaÎ© ä¸­å‡åŒ€åˆ†å¸ƒåˆ™ç§° E ä¸ºå‡ ä½•æ¦‚åž‹ï¼Œåˆ™ P(A)=L(A)L(Î©)P(A) = \frac{L(A)}{L(\Omega)}P(A)=L(Î©)L(A)â€‹ å«åšå‡ ä½•æ¦‚çŽ‡ 1.6sp.3 ä¾‹é¢˜å¹³é¢ä¸Šç”»æœ‰æŸè·ç¦»ä¸º a çš„ä¸€äº›å¹³è¡Œçº¿ï¼Œæƒ³å¹³é¢ä¸Šä»»æ„æŠ•ä¸€é•¿ä¸º l çš„é’ˆï¼Œè¯•æ±‚é’ˆä¸Žå¹³è¡Œçº¿ç›¸äº¤çš„æ¦‚çŽ‡ã€‚å–é’ˆçš„ä¸­ç‚¹ Mï¼Œä¸­ç‚¹åˆ°ç›¸äº¤å¹³è¡Œçº¿çš„è·ç¦»ä¸º x ï¼Œä¸Žç›¸äº¤å¹³è¡Œçº¿çš„å¤¹è§’ä¸º Ï•\phiÏ•åˆ™ Î©={(x,Ï•)âˆ£0â‰¤xâ‰¤a2,0â‰¤Ï•â‰¤Ï€}\Omega = \{(x, \phi)| 0 \le x \le \frac{a}{2}, 0 \le \phi \le \pi \}Î©={(x,Ï•)âˆ£0â‰¤xâ‰¤2aâ€‹,0â‰¤Ï•â‰¤Ï€}ç›¸äº¤ ={(x,Ï•)âˆ£xâ‰¤l2SinÏ•,(x,Ï•)âˆˆÎ©}= \{(x, \phi)|x \le \frac{l}{2}Sin\phi, (x, \phi) \in \Omega\}={(x,Ï•)âˆ£xâ‰¤2lâ€‹SinÏ•,(x,Ï•)âˆˆÎ©}P(A)=L(A)L(Î©)=âˆ«0Ï€l2SinÏ•dÏ•a2Ï€=2lÏ€a=2Ï€Ã—la\begin{aligned} P(A) &amp;= \frac{L(A)}{L(\Omega)} \\ \\ &amp;= \frac{\int_0^\pi \frac{l}{2}Sin\phi d\phi}{\frac{a}{2} \pi} \\ &amp;= \frac{2l}{\pi a} \\ \\ &amp;= \frac{2}{\pi} \times \frac{l}{a} \end{aligned}P(A)â€‹=L(Î©)L(A)â€‹=2aâ€‹Ï€âˆ«0Ï€â€‹2lâ€‹SinÏ•dÏ•â€‹=Ï€a2lâ€‹=Ï€2â€‹Ã—alâ€‹â€‹ 1.7 æ¡ä»¶æ¦‚çŽ‡ 1.7.1 å®šä¹‰AAA BBB æ˜¯ä¸¤ä¸ªäº‹ä»¶ï¼Œä¸” P(A)&gt;0P(A) \gt 0P(A)&gt;0ï¼Œåˆ™ç§°P(Bâˆ£A)=P(AB)P(A)P(B|A) = \frac{P(AB)}{P(A)}P(Bâˆ£A)=P(A)P(AB)â€‹ç§°ä¸ºäº‹ä»¶ A å‘ç”Ÿä¸‹ï¼Œäº‹ä»¶ B å‘ç”Ÿçš„æ¦‚çŽ‡ç”±äºŽæ¡ä»¶æ¦‚çŽ‡ä»ç„¶æ˜¯æ¦‚çŽ‡ï¼Œåˆ™æ»¡è¶³æ¦‚çŽ‡åŠ æ³•P(B1âˆªB2âˆ£A)=P(B1âˆ£A)+P(B2âˆ£A)âˆ’P(B1B2âˆ£A)âˆ…P(B_1 \cup B_2 | A) = P(B_1|A) + P(B_2 |A) - P(B_1B_2|A) \varnothingP(B1â€‹âˆªB2â€‹âˆ£A)=P(B1â€‹âˆ£A)+P(B2â€‹âˆ£A)âˆ’P(B1â€‹B2â€‹âˆ£A)âˆ…è§£é¢˜è¦ç‚¹ï¼šä»Ž AAA ä¸­å¯»æ‰¾å±žäºŽ BBB çš„å…ƒç´ ï¼Œå³ AAA BBB çš„äº¤é›† 1.7.2 å…¨æ¦‚çŽ‡å…¬å¼å’Œè´å¶æ–¯å…¬å¼ 1.7.2.1 æ ·æœ¬ç©ºé—´çš„åˆ’åˆ†æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç§°ä¸ºæ ·æœ¬ç©ºé—´çš„åˆ’åˆ†BiBj=âˆ…B_iB_j = \varnothingBiâ€‹Bjâ€‹=âˆ…B1âˆªB2âˆªâ‹¯âˆªBn=SB_1 \cup B_2 \cup \cdots \cup B_n = SB1â€‹âˆªB2â€‹âˆªâ‹¯âˆªBnâ€‹=Såˆ™ B1,B2â‹¯BnB_1, B_2 \cdots B_nB1â€‹,B2â€‹â‹¯Bnâ€‹ ç§°ä¸ºæ ·æœ¬ç©ºé—´ SSS çš„ åˆ’åˆ† 1.7.2.2 å…¨æ¦‚çŽ‡å…¬å¼P(A)=P(Aâˆ£B1)P(B1)+P(Aâˆ£B2)P(B2)+â‹¯+P(Aâˆ£Bn)P(Bn)=âˆ‘i=1nP(Ai)P(Bâˆ£Ai)\begin{aligned} P(A) &amp;= P(A|B_1)P(B_1) + P(A|B_2)P(B_2) + \cdots + P(A|B_n)P(Bn) \\ &amp;= \sum_{i =1}^nP(A_i)P(B|A_i) \end{aligned}P(A)â€‹=P(Aâˆ£B1â€‹)P(B1â€‹)+P(Aâˆ£B2â€‹)P(B2â€‹)+â‹¯+P(Aâˆ£Bnâ€‹)P(Bn)=i=1âˆ‘nâ€‹P(Aiâ€‹)P(Bâˆ£Aiâ€‹)â€‹ 1.7.2.3 è´å¶æ–¯å…¬å¼å‡è®¾ A1â‹¯AnA_1 \cdots A_nA1â€‹â‹¯Anâ€‹ ä¸º Î©\OmegaÎ© çš„ä¸€ä¸ªåˆ’åˆ†ï¼ŒP(Ai)&gt;0, P(B)&gt;0P(A_i) \gt 0,\ P(B) \gt 0P(Aiâ€‹)&gt;0, P(B)&gt;0, åˆ™æœ‰P(Biâˆ£A)=P(Aâˆ£Bi)P(Bi)âˆ‘j=1nP(Aâˆ£Bj)P(Bj)P(B_i|A) = \frac{P(A|B_i)P(B_i)}{\sum_{j = 1}^nP(A|B_j)P(B_j)}P(Biâ€‹âˆ£A)=âˆ‘j=1nâ€‹P(Aâˆ£Bjâ€‹)P(Bjâ€‹)P(Aâˆ£Biâ€‹)P(Biâ€‹)â€‹ä»¥ä¸Šä¸¤ä¸ªå…¬å¼çš„å…³é”®ï¼Œäº‹ä»¶ï¼ŒÎ©\OmegaÎ©çš„åˆ’åˆ† 1.7.2.4 ä¹˜æ³•å…¬å¼è®¾ P(B)&gt;0P(B) \gt 0P(B)&gt;0 åˆ™æœ‰P(AB)=P(B)P(Aâˆ£B)P(AB) = P(B)P(A|B)P(AB)=P(B)P(Aâˆ£B)æŽ¨å¹¿ P(A1A2â‹¯An)=P(A1)P(A2âˆ£A1)P(A3âˆ£A1A2)â‹¯P(Anâˆ£A1â‹¯Anâˆ’1)P(A_1A_2\cdots A_n) = P(A_1)P(A_2|A_1)P(A_3|A_1A_2)\cdots P(A_n|A_1 \cdots A_{n - 1})P(A1â€‹A2â€‹â‹¯Anâ€‹)=P(A1â€‹)P(A2â€‹âˆ£A1â€‹)P(A3â€‹âˆ£A1â€‹A2â€‹)â‹¯P(Anâ€‹âˆ£A1â€‹â‹¯Anâˆ’1â€‹) , å½“ P(A1A2â‹¯Anâˆ’1)&lt;0P(A_1A_2 \cdots A_{n - 1}) \lt 0P(A1â€‹A2â€‹â‹¯Anâˆ’1â€‹)&lt;0 1.7.2.5 ä¾‹é¢˜ç›’å­é‡Œæœ‰ 16 ä¸ªçƒï¼Œ6 ä¸ªçŽ»ç’ƒçƒï¼Œ 10 ä¸ªæœ¨å¤´çƒã€‚çŽ»ç’ƒçƒæœ‰ 2 çº¢ 4 è“ï¼Œæœ¨å¤´çƒæœ‰ 3 çº¢ 7 è“ã€‚é—®é¢˜ï¼šæ‘¸ä¸€ä¸ªçƒï¼Œå·²çŸ¥æ˜¯çŽ»ç’ƒçƒï¼Œé—®æ˜¯è“è‰²çš„æ¦‚çŽ‡\çŽ»ç’ƒæœ¨å¤´çº¢23è“47\610è§‚å¯Ÿå¯çŸ¥ P(Aâˆ£B)=4/6P(A|B) = 4/6P(Aâˆ£B)=4/6p(AB)=4/16p(AB) = 4/16p(AB)=4/16æŸäººå¿˜äº†ç”µè¯å·ç çš„æœ€åŽä¸€ä½ï¼Œå› è€Œéšæ„æ‹¨å·ï¼Œæ±‚æ‹¨å·ä¸è¶…è¿‡ 2 æ¬¡å°±èƒ½æŽ¥é€šçš„æ¦‚çŽ‡A1:A_1:A1â€‹: ç¬¬ä¸€æ¬¡é€šA2:A_2:A2â€‹: ç¬¬äºŒæ¬¡é€šæœ‰ A=A1âˆªAâ€¾1A2A = A_1 \cup \overline A_1 A_2A=A1â€‹âˆªA1â€‹A2â€‹âˆ´P(A)=P(A1)+P(Aâ€¾1A2)=110+P(Aâ€¾1)P(A2âˆ£Aâ€¾1)=210\begin{aligned} \therefore P(A) &amp;= P(A_1) + P(\overline A_1 A_2) \\ &amp;= \frac{1}{10} + P(\overline A_1 )P(A_2|\overline A_1) \\ &amp;= \frac{2}{10} \end{aligned}âˆ´P(A)â€‹=P(A1â€‹)+P(A1â€‹A2â€‹)=101â€‹+P(A1â€‹)P(A2â€‹âˆ£A1â€‹)=102â€‹â€‹æŠ“é˜„ï¼šæœ‰ 5 å¼ æ¡ï¼Œå…¶ä¸­ 3 å¼ æœ‰ï¼Œ2 å¼ æ— ã€‚çŽ°ä»Žä¸­ä»»å–ä¸€å¼ ï¼Œä¸æ”¾å›žï¼Œé—®ç¬¬ä¸€ä¸ªäººæŠ½åˆ°æœ‰çš„æ¦‚çŽ‡P(A)=35P(A) = \frac{3}{5}P(A)=53â€‹P(B)=P(BÎ©)=P(B(AâˆªAâ€¾))=P(BAâˆªBAâ€¾)=P(BA)+P(BAâ€¾)=P(A)P(Bâˆ£A)+P(Aâ€¾)P(Bâˆ£Aâ€¾)=35Ã—24+25Ã—34=35\begin{aligned} P(B) &amp;= P(B \Omega) = P(B(A\cup \overline A)) \\ \\ &amp; = P(BA\cup B\overline A) = P(BA) + P(B \overline A) \\ \\ &amp; = P(A)P(B|A) + P(\overline A)P(B | \overline A) \\ \\ &amp; = \frac{3}{5} \times \frac{2}{4} + \frac{2}{5} \times \frac{3}{4} \\ \\ &amp; = \frac{3}{5} \end{aligned}P(B)â€‹=P(BÎ©)=P(B(AâˆªA))=P(BAâˆªBA)=P(BA)+P(BA)=P(A)P(Bâˆ£A)+P(A)P(Bâˆ£A)=53â€‹Ã—42â€‹+52â€‹Ã—43â€‹=53â€‹â€‹æŸå®žéªŒå®¤çš„æ™¶ä½“ç®¡ç”±ä¸‰ä¸ªåŽ‚å®¶æä¾›ï¼Œæœ‰ä¸‹è¡¨ï¼šåŽ‚å®¶æ¬¡å“çŽ‡ä»½é¢10.0215%20.0180%30.035%éšæœºå–ä¸€æ”¯ï¼Œå®ƒæ˜¯æ¬¡å“çš„æ¦‚çŽ‡éšæœºå–ä¸€æ”¯ï¼Œå·²çŸ¥æ˜¯æ¬¡å“ï¼Œæ˜¯å‡ºè‡ª 1 åŽ‚çš„æ¦‚çŽ‡å¸¸è¯†ï¼š P(B)=0.02Ã—15%+0.01Ã—80%+0.03Ã—5%P(B) = 0.02 \times 15\% + 0.01 \times 80\% + 0.03 \times 5\%P(B)=0.02Ã—15%+0.01Ã—80%+0.03Ã—5%1): AiA_iAiâ€‹: æ‹¿åˆ°çš„æ¬¡å“æ¥è‡ªäºŽç¬¬ iii ä¸ªåŽ‚å®¶ç”Ÿäº§çš„P(B)=P(Ai)P(Bâˆ£Ai)P(B) = P(A_i)P(B|A_i)P(B)=P(Aiâ€‹)P(Bâˆ£Aiâ€‹)2):P(Aiâˆ£B)=P(Ai)P(Bâˆ£A1)P(B)=15%Ã—0.020.0125\begin{aligned} P(A_i|B) &amp;= \frac{P(A_i)P(B|A_1)}{P(B)} \\ &amp;= \frac{15\% \times 0.02}{0.0125} \end{aligned}P(Aiâ€‹âˆ£B)â€‹=P(B)P(Aiâ€‹)P(Bâˆ£A1â€‹)â€‹=0.012515%Ã—0.02â€‹â€‹ 1.8 ç‹¬ç«‹æ€§è‹¥ AAA BBB ä¸¤äº‹ä»¶ï¼Œæ»¡è¶³ P(Aâˆ£B)=P(A)P(B)P(A|B) = P(A)P(B)P(Aâˆ£B)=P(A)P(B), å³ P(Aâˆ£B)=P(B)P(A|B) = P(B)P(Aâˆ£B)=P(B)åˆ™ A,BA,BA,B ç›¸äº’ç‹¬ç«‹ï¼Œç®€ç§°ç‹¬ç«‹ 1.8.1 ç‹¬ç«‹æ€§å®šç†è‹¥ A,BA,BA,B ç‹¬ç«‹ï¼Œåˆ™ P(Aâˆ£B)=P(B)P(A|B) = P(B)P(Aâˆ£B)=P(B)è‹¥ A,BA,BA,B ç‹¬ç«‹ï¼Œåˆ™ A,Bâ€¾; Aâ€¾,B; Aâ€¾,Bâ€¾A,\overline B;\ \overline A, B;\ \overline A, \overline BA,B; A,B; A,BæŽ¨å¹¿ï¼šè‹¥ç§¯äº‹ä»¶çš„æ¦‚çŽ‡éƒ½ç­‰äºŽäº‹ä»¶æ¦‚çŽ‡çš„ç§¯ã€‚é‚£ä¹ˆäº‹ä»¶ç›¸äº’ç‹¬ç«‹ 1.8.2 æŽ¨è®ºè‹¥ A1,A2,â‹¯AnA_1, A_2, \cdots A_nA1â€‹,A2â€‹,â‹¯Anâ€‹ ç›¸äº’ç‹¬ç«‹ï¼Œé‚£ä¹ˆå…¶ä¸­çš„ä»»æ„ k ä¸ªäº‹ä»¶ä¹Ÿç›¸äº’ç‹¬ç«‹è‹¥ A1,A2,â‹¯AnA_1, A_2, \cdots A_nA1â€‹,A2â€‹,â‹¯Anâ€‹ ç›¸äº’ç‹¬ç«‹ï¼Œå°†å…¶ä¸­ä»»æ„å¤šä¸ªè½¬æ¢ä¸ºå¯¹ç«‹äº‹ä»¶ï¼Œä¹Ÿç›¸äº’ç‹¬ç«‹ 1.8.3 ä¾‹é¢˜è´¨åœ°å‡åŒ€çš„æ­£å››é¢ä½“ï¼Œåˆ†åˆ«æŸ“ä¸Šçº¢è‰²ï¼Œé»„è‰²ï¼Œè“è‰²ï¼Œç¬¬å››ä¸ªé¢æŸ“ä¸Šçº¢ã€é»„ã€è“ä¸‰ç§é¢œè‰²ã€‚è¯•éªŒï¼šæ‰”ä¸€æ¬¡ï¼Œè§‚å¯ŸæŽ¥è§¦æ¡Œå­çš„ä¸€é¢æ‰€å¯¹åº”çš„é¢œè‰²ã€‚å‡è®¾ AAAï¼šæœ‰çº¢è‰²ï¼ŒBBBï¼šæœ‰é»„è‰²ï¼ŒCCCï¼šæœ‰è“è‰²æœ‰ AiA_iAiâ€‹ï¼šç¬¬iii ä¸ªé¢æŽ¥è§¦æ¡Œå­P(Ai)=1/4P(A_i) = 1/4P(Aiâ€‹)=1/4ï¼ŒA=A1âˆªA4A = A_1 \cup A_4A=A1â€‹âˆªA4â€‹ B=A2âˆªA4B = A_2 \cup A_4B=A2â€‹âˆªA4â€‹ C=A3âˆªA4C = A_3 \cup A_4C=A3â€‹âˆªA4â€‹æœ‰P(A)=P(B)=P(C)=P(A1)+P(A4)=14+14=12\begin{aligned} P(A) &amp;= P(B) = P(C) = P(A_1) + P(A_4) \\ &amp;= \frac{1}{4} + \frac{1}{4} = \frac{1}{2} \end{aligned}P(A)â€‹=P(B)=P(C)=P(A1â€‹)+P(A4â€‹)=41â€‹+41â€‹=21â€‹â€‹ä¸”P(AB)=P(A4)=14=P(A)+P(B)=12+12P(AB) = P(A_4) = \frac{1}{4} = P(A) + P(B) = \frac{1}{2} + \frac{1}{2}P(AB)=P(A4â€‹)=41â€‹=P(A)+P(B)=21â€‹+21â€‹åˆâˆµ\becauseâˆµ P(ABC)=P(A4)=1/4P(ABC) = P(A_4) = 1/4P(ABC)=P(A4â€‹)=1/4âˆ´\thereforeâˆ´ ä¸¤ä¸¤ç‹¬ç«‹ä¸ä»£è¡¨ä¸‰ä¸ªä»¥ä¸Šçš„äº‹ä»¶ç»„ç‹¬ç«‹n ä¸ªäººåŒæ—¶å°„å‡»æŸä¸€ä¸ªç›®æ ‡ï¼Œå‡è®¾æ¯äººå‡»ä¸­ç›®æ ‡çš„æ¦‚çŽ‡ä¸º pï¼Œ ä¸”å„äººæ˜¯å¦å‡»ä¸­ç›®æ ‡ç›¸äº’ç‹¬ç«‹ï¼Œæ±‚ç›®æ ‡è¢«å‡»ä¸­çš„æ¦‚çŽ‡ BBBã€‚å‡è®¾ BBBï¼šç›®æ ‡è¢«å‡»ä¸­AiA_iAiâ€‹ï¼šç¬¬ iii ä¸ªå‡»ä¸­ï¼Œåˆ™ B=â‹ƒi=inAiB = \bigcup_{i = i}^nA_iB=â‹ƒi=inâ€‹Aiâ€‹âˆ´P(B)=P(â‹ƒi=1nAi)=1âˆ’P(A1âˆªA2âˆªâ‹¯âˆªAn)=1âˆ’P(âˆi=1nAâ€¾i)=1âˆ’(1âˆ’p)n\begin{aligned} \therefore P(B) &amp;= P(\bigcup_{i = 1}^n A_i) \\ &amp;= 1 - P(A_1 \cup A_2 \cup \cdots \cup A_n) \\ &amp;= 1- P(\prod_{i = 1}^n \overline A_i) \\ &amp;= 1- (1 - p)^n \end{aligned}âˆ´P(B)â€‹=P(i=1â‹ƒnâ€‹Aiâ€‹)=1âˆ’P(A1â€‹âˆªA2â€‹âˆªâ‹¯âˆªAnâ€‹)=1âˆ’P(i=1âˆnâ€‹Aiâ€‹)=1âˆ’(1âˆ’p)nâ€‹ 1.9 ç¬¬ä¸€ç« ä¾‹é¢˜ä»Ž 5 åŒä¸åŒçš„éž‹å­ä¸­ä»»å– 4 åªï¼Œ4 åªéž‹å­ä¸­è‡³å°‘æœ‰ 2 åªé…æˆä¸€åŒçš„æ¦‚çŽ‡ã€‚é—´æŽ¥æ³•ï¼šæ²¡æœ‰ä»»ä½•ä¸¤åªé…æˆä¸€åŒæŽ’åˆ—æ³•ï¼šP(A)=1âˆ’P(Aâ€¾)=1âˆ’10Ã—8Ã—6Ã—410Ã—9Ã—8Ã—7=1âˆ’821\begin{aligned} P(A) &amp;= 1 - P(\overline A) \\ &amp;= 1 - \frac{10 \times 8 \times 6 \times 4}{10 \times 9 \times 8 \times 7} \\ &amp;= 1 - \frac{8}{21} \end{aligned}P(A)â€‹=1âˆ’P(A)=1âˆ’10Ã—9Ã—8Ã—710Ã—8Ã—6Ã—4â€‹=1âˆ’218â€‹â€‹ç»„åˆæ³•ï¼šn=C104, mAâ€¾=C54Ã—2Ã—2Ã—2Ã—2P(A)=1âˆ’P(Aâ€¾)=1âˆ’mn=1âˆ’C104C54Ã—2Ã—2Ã—2Ã—2\begin{aligned} n = C_{10}^4, \ m_{\overline A} = C_5^4 \times 2 \times 2 \times 2 \times 2 \\ \\ \begin{aligned} P(A) &amp;= 1 - P(\overline A) \\ &amp;= 1 - \frac{m}{n} \\ &amp;= 1 - \frac{C_{10}^4}{C_5^4 \times 2 \times 2 \times 2 \times 2} \end{aligned} \end{aligned}n=C104â€‹, mAâ€‹=C54â€‹Ã—2Ã—2Ã—2Ã—2P(A)â€‹=1âˆ’P(A)=1âˆ’nmâ€‹=1âˆ’C54â€‹Ã—2Ã—2Ã—2Ã—2C104â€‹â€‹â€‹â€‹ç›´æŽ¥æ³•ï¼šmA=C51C82âˆ’C52n=C104d\begin{aligned} m_A = C_5^1 C_8^2 - C_5^2 \\ n = C_{10}^4 \\ d \end{aligned}mAâ€‹=C51â€‹C82â€‹âˆ’C52â€‹n=C104â€‹dâ€‹è®¾ A B ä¸¤äº‹ä»¶ï¼Œ å·²çŸ¥ P(A)=0.5,P(B)=0.6,P(Bâˆ£Aâ€¾)=0.4P(A) = 0.5, P(B) = 0.6, P(B|\overline A) = 0.4P(A)=0.5,P(B)=0.6,P(Bâˆ£A)=0.4æ±‚ (1) P(Aâ€¾B)P(\overline A B)P(AB) (2) P(AB)P(AB)P(AB) (3) P(AâˆªB)P(A \cup B)P(AâˆªB)P(Aâ€¾B)=P(Aâ€¾)Ã—P(Bâˆ£Aâ€¾)=0.2P(\overline A B) = P(\overline A) \times P(B|\overline A ) = 0.2P(AB)=P(A)Ã—P(Bâˆ£A)=0.2âˆµAB=Bâˆ’Aâ€¾B,BâŠƒAâ€¾Bâˆ´P(AB)=P(B)âˆ’P(Aâ€¾B)P(AâˆªB)=P(A)+P(B)âˆ’P(AB)\begin{aligned} &amp; \because AB = B - \overline A B, B \supset \overline A B \\ \\ &amp; \therefore P(AB) = P(B) - P(\overline A B) \\ \\ &amp; P(A \cup B) = P(A) + P(B) - P(AB) \end{aligned}â€‹âˆµAB=Bâˆ’AB,BâŠƒABâˆ´P(AB)=P(B)âˆ’P(AB)P(AâˆªB)=P(A)+P(B)âˆ’P(AB)â€‹è®¾è€ƒç”Ÿçš„æŠ¥åè¡¨æ¥è‡ªä¸‰ä¸ªåœ°åŒºå„æœ‰ 10 ä»½ï¼Œ 15 ä»½ï¼Œ 25 ä»½ï¼Œå…¶ä¸­å¥³ç”Ÿåˆ†åˆ«ä¸º 3 ä»½ï¼Œ 7 ä»½ï¼Œ 5 ä»½ã€‚éšæœºä»Žä¸€åœ°åŒºï¼Œå…ˆåŽä»»å–ä¸¤ä»½æŠ¥åè¡¨ã€‚æ±‚(1) å…ˆå–å‡ºä¸€ä»½æ˜¯å¥³ç”Ÿçš„æ¦‚çŽ‡ï¼›(2) å·²çŸ¥åŽå–å‡ºçš„ä¸€ä»½ä¸ºç”·ç”Ÿçš„ï¼Œè€Œå…ˆå–å‡ºçš„ä¸€ä»½ä¸ºå¥³ç”Ÿçš„æ¦‚çŽ‡ã€‚è®¾ BkB_kBkâ€‹ï¼šç¬¬ k æ¬¡å–å‡ºçš„æ˜¯å¥³ç”Ÿ k=1,2k = 1, 2k=1,2AiA_iAiâ€‹ï¼šè€ƒç”Ÿç¬¬ i ä¸ªåœ°åŒºï¼Œi=1,2,3i = 1, 2, 3i=1,2,3P(B1)=P(B2)P(B_1) = P(B_2)P(B1â€‹)=P(B2â€‹)P(B1)=âˆ‘i=13P(Ai)P(B1âˆ£Ai)=13Ã—310+13Ã—715+13Ã—525=2990\begin{aligned} P(B_1) &amp;= \sum_{i = 1}^3 P(A_i)P(B_1|A_i) \\ \\ &amp;= \frac{1}{3} \times \frac{3}{10} + \frac{1}{3} \times \frac{7}{15} + \frac{1}{3} \times \frac{5}{25} \\ \\ &amp;= \frac{29}{90} \end{aligned}P(B1â€‹)â€‹=i=1âˆ‘3â€‹P(Aiâ€‹)P(B1â€‹âˆ£Aiâ€‹)=31â€‹Ã—103â€‹+31â€‹Ã—157â€‹+31â€‹Ã—255â€‹=9029â€‹â€‹æ¡ä»¶æ¦‚çŽ‡P(B1âˆ£B2â€¾)=P(B1B2â€¾)P(B2â€¾)âˆµP(B1)=P(B2)âˆ´P(B2â€¾)=1âˆ’2990=6190\begin{aligned} &amp; P(B_1|\overline {B_2}) = \frac{P(B_1 \overline {B_2})}{P(\overline {B_2})} \\ \\ &amp; \because P(B_1) = P(B_2) \\ \\ &amp; \therefore P(\overline {B_2}) = 1 - \frac{29}{90} = \frac{61}{90} \end{aligned}â€‹P(B1â€‹âˆ£B2â€‹â€‹)=P(B2â€‹â€‹)P(B1â€‹B2â€‹â€‹)â€‹âˆµP(B1â€‹)=P(B2â€‹)âˆ´P(B2â€‹â€‹)=1âˆ’9029â€‹=9061â€‹â€‹âˆ´B1B2â€¾=Î©(B1B2â€¾)=(A1âˆªA2âˆªA3)(B1B2â€¾)=A1B1B2â€¾âˆªA2B1B2â€¾âˆªA3B1B2â€¾\begin{aligned} \therefore B_1\overline {B_2} &amp;= \Omega(B_1 \overline {B_2}) \\ \\ &amp;= (A_1 \cup A_2 \cup A_3)(B_1 \overline {B_2}) \\ \\ &amp;= A_1B_1 \overline {B_2} \cup A_2 B_1 \overline {B_2} \cup A_3 B_1 \overline {B_2} \\ \end{aligned}âˆ´B1â€‹B2â€‹â€‹â€‹=Î©(B1â€‹B2â€‹â€‹)=(A1â€‹âˆªA2â€‹âˆªA3â€‹)(B1â€‹B2â€‹â€‹)=A1â€‹B1â€‹B2â€‹â€‹âˆªA2â€‹B1â€‹B2â€‹â€‹âˆªA3â€‹B1â€‹B2â€‹â€‹â€‹âˆ´P(B1B2â€¾)=âˆ‘i=13P(AiB1B2)=âˆ‘i=13P(Ai)P(B1âˆ£Ai)P(B2â€¾âˆ£AiB1)=79\begin{aligned} \therefore P(B_1 \overline {B_2}) &amp;= \sum_{i = 1}^3 P(A_i B_1 B_2) \\ \\ &amp;= \sum_{i = 1}^3 P(A_i)P(B_1 | A_i)P(\overline {B_2}| A_i B_1) \\ \\ &amp;= \frac{7}{9} \end{aligned}âˆ´P(B1â€‹B2â€‹â€‹)â€‹=i=1âˆ‘3â€‹P(Aiâ€‹B1â€‹B2â€‹)=i=1âˆ‘3â€‹P(Aiâ€‹)P(B1â€‹âˆ£Aiâ€‹)P(B2â€‹â€‹âˆ£Aiâ€‹B1â€‹)=97â€‹â€‹åœ¨ AB ç”µè·¯ä¸­ï¼Œå…ƒä»¶çš„æŸåæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚åœ¨ T å†…ï¼Œå…ƒä»¶æŸåçš„æ¦‚çŽ‡ä¸ºå…ƒä»¶k1k2A_1A_2A_3å‡ çŽ‡0.10.20.40.70.5è®¾ B ä¸ºæ–­è·¯äº‹ä»¶B=k1âˆª(A1A2A3)âˆªk2\begin{aligned} B = k_1 \cup (A_1A_2A_3) \cup k_2 \\ \end{aligned}B=k1â€‹âˆª(A1â€‹A2â€‹A3â€‹)âˆªk2â€‹â€‹]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>æ¦‚çŽ‡è®º</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>æ¦‚çŽ‡è®º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2. éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ]]></title>
    <url>%2F%2FReviews%2FProbability%2F2.%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E5%88%86%E5%B8%83%2F</url>
    <content type="text"><![CDATA[2.1 éšæœºå˜é‡æ ·æœ¬ç©ºé—´æ˜¯{e}\{e\}{e}, X=X(e)X = X(e)X=X(e) æ˜¯å®šä¹‰åœ¨ SSS ä¸Šçš„å®žå€¼å•å€¼å‡½æ•°ï¼Œåˆ™ç§° XXX ä¸ºéšæœºå˜é‡ã€‚å®šä¹‰åŸŸæ˜¯ SSSï¼Œå€¼åŸŸæ˜¯å®žæ•°é›†åˆæ³¨æ„æ˜¯å•å€¼å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œéšæœºå˜é‡å°±æ˜¯ä¸€ä¸ªæ•°ã€‚å¯ä»¥ä½¿ç”¨éšæœºå˜é‡æ¥è¡¨ç¤ºäº‹ä»¶ä¾‹å¦‚ 1 è¡¨ç¤º true , 0 è¡¨ç¤º false 2.1.1 ä¾‹é¢˜ç›’å­é‡Œæœ‰ 5 ä¸ªçƒï¼Œ 2 ç™½ ï¼Œ3 é»‘ï¼Œä»Žä¸­ä»»å– 3 ä¸ªçƒè®¾ XXX ä¸ºæŠ½å–é»‘çƒçš„ä¸ªæ•°ï¼Œåˆ™ A:A:A: å…¨æ˜¯é»‘çƒ â‡’X=3\Rightarrow X = 3â‡’X=3 2.2 ç¦»æ•£éšæœºå˜é‡åŠå…¶åˆ†å¸ƒå¾‹è®¾ XXX çš„æ‰€æœ‰å¯èƒ½å–å€¼ä¸º xk(k=1,2â€¦)x_k(k = 1, 2 \ldots)xkâ€‹(k=1,2â€¦)åˆ™ P{X=xk}=Pk ,k=1,2â€¦P\{X = x_k\} = P_k \ , k = 1, 2 \ldotsP{X=xkâ€‹}=Pkâ€‹ ,k=1,2â€¦ç”±æ¦‚çŽ‡æ€§è´¨å¯çŸ¥ï¼šPkâ‰¥0P_k \ge 0Pkâ€‹â‰¥0âˆ‘k=1âˆžPk=1\sum_{k = 1}^\infty P_k = 1âˆ‘k=1âˆžâ€‹Pkâ€‹=1ä¸Šè¿°æ€§è´¨ç§°ä¸ºåˆ†å¸ƒå¾‹ï¼Œä¹Ÿå¯ç”¨è¡¨æ ¼è¡¨ç¤º 2.2.1 0 - 1 åˆ†å¸ƒåœ¨ä¸€æ¬¡è¯•éªŒä¸­è‹¥ XXX åªå¯èƒ½å– 0,10, 10,1 ä¸¤ä¸ªå€¼ï¼ˆäº‹ä»¶ A å‡ºçŽ°æˆ–ä¸å‡ºçŽ°ï¼‰ï¼Œé‚£ä¹ˆP{x=k}=pk(1âˆ’p)1âˆ’k,k=0,1P\{x = k\} = p^k(1 - p)^{1 - k}, k = 0, 1P{x=k}=pk(1âˆ’p)1âˆ’k,k=0,1 2.2.2 ä¼¯åŠªåˆ©è¯•éªŒï¼ˆäºŒé¡¹åˆ†å¸ƒï¼‰è®¾æœ‰ä¸€ä¸ª EEEï¼Œåªæœ‰ä¸¤ä¸ªç»“æžœï¼ŒçŽ°å°† EEE è¿›è¡Œ n æ¬¡ç‹¬ç«‹çš„é‡å¤è¯•éªŒï¼Œç§°ä¸º n é‡ä¼¯åŠªåˆ©è¯•éªŒã€‚ä¼¯åŠªåˆ©è¯•éªŒæ»¡è¶³äºŒé¡¹åˆ†å¸ƒï¼šP{X=k}=Cnkpk(1âˆ’p)nâˆ’k ,k=0,1,2â€¦nP\{X = k\} = C_n^k p^k (1 - p)^{n - k} \ , k = 0,1,2 \ldots nP{X=k}=Cnkâ€‹pk(1âˆ’p)nâˆ’k ,k=0,1,2â€¦nç®€åŒ–ä¸ºï¼šB(n,p)B(n, p)B(n,p) 2.2.2.1 ä¾‹é¢˜ä»ªå™¨ä¸­æœ‰ 5 å—åŒç±»å›ºä½“ç»„ä»¶ç›¸äº’ç‹¬ç«‹å·¥ä½œï¼Œæ¯ä¸€å—ç» TTT å°æ—¶åŽæŸåçš„æ¦‚çŽ‡ä¸º pï¼Œ é—®ï¼š TTT å°æ—¶åŽï¼Œå…¶ä¸­æœ‰ 3 å—æŸåçš„æ¦‚çŽ‡ pppè®¾ r,v,Xr, v, Xr,v,Xâ€”â€”æŸåå—æ•°ï¼Œæœ‰ Xâˆ¼B(s,p)X \sim B(s, p)Xâˆ¼B(s,p)ï¼Œåˆ™ï¼šp{X=3}=C53p3(1âˆ’p)2p \{X = 3\} = C_5^3 p^3 (1 - p)^2p{X=3}=C53â€‹p3(1âˆ’p)2 2.2.3 æ³Šæ¾åˆ†å¸ƒåˆ©ç”¨æ³Šæ¾å®šç†ï¼Œåˆ™æœ‰ï¼šè®¾ Î»&lt;0\lambda \lt 0Î»&lt;0, nnn æ˜¯ä»»æ„æ­£æ•´æ•°ï¼Œè®¾np=Î»np = \lambdanp=Î»(ppp å¾ˆå°)ï¼Œåˆ™âˆ€kâˆˆZ+\forall k \in Z^+âˆ€kâˆˆZ+,åˆ™æœ‰ï¼šlimâ¡nâ†’âˆžCnkpk(1âˆ’p)nâˆ’k\lim_{n \rightarrow \infty} C_n^k p^k (1 - p)^{n - k}nâ†’âˆžlimâ€‹Cnkâ€‹pk(1âˆ’p)nâˆ’kçŸ¥ï¼šCnkpk(1âˆ’p)nâˆ’k=n(nâˆ’1)â€¦(nâˆ’k+1)k!(Î»n)k(1âˆ’Î»n)nâˆ’k=Î»kk!n(nâˆ’1)â€¦(nâˆ’k+1)nk(1âˆ’Î»n)n(1âˆ’Î»n)âˆ’k\begin{aligned} C_n^kp^k(1-p)^{n-k} &amp;= \dfrac{n(n-1)\ldots(n-k+1)}{k!}(\dfrac{\lambda}{n})^k(1-\dfrac{\lambda}{n})^{n-k} \\ \\ &amp;= \dfrac{\lambda^k}{k!}\dfrac{n(n-1)\ldots(n-k+1)}{n^k}(1-\dfrac{\lambda}{n})^{n}(1-\dfrac{\lambda}{n})^{-k} \end{aligned}Cnkâ€‹pk(1âˆ’p)nâˆ’kâ€‹=k!n(nâˆ’1)â€¦(nâˆ’k+1)â€‹(nÎ»â€‹)k(1âˆ’nÎ»â€‹)nâˆ’k=k!Î»kâ€‹nkn(nâˆ’1)â€¦(nâˆ’k+1)â€‹(1âˆ’nÎ»â€‹)n(1âˆ’nÎ»â€‹)âˆ’kâ€‹å®šä¹‰ï¼šç§° r,v,Xr,v, Xr,v,Xï¼Œè‹¥P{X=k}=Î»kk!eâˆ’Î»,k=0,1,2,â€¦,nâ€¦P\{X = k\}= \frac{\lambda^k}{k!} e^{-\lambda}, k = 0, 1, 2, \ldots , n \ldotsP{X=k}=k!Î»kâ€‹eâˆ’Î»,k=0,1,2,â€¦,nâ€¦è®°ä¸º Î (Î»)\Pi(\lambda)Î (Î») 2.2.3.1 ä¾‹é¢˜ä¾‹ï¼šåœ¨ä¿é™©å…¬å¸ 2500 ååŒä¸€å¹´é¾„åŒç¤¾ä¼šé˜¶å±‚äººå‚ä¿ï¼Œæ®ç»Ÿè®¡åœ¨æ­¤ç±»äººä¸­ï¼Œæ¯å¹´æ¯äººæ­»äº¡çŽ‡ä¸º 0.002ï¼Œæ¯äººå‚ä¿åœ¨ 1 æœˆ 1 æ—¥äº¤ 1200 å…ƒä¿è´¹ï¼Œè€Œæ­»äº¡æ—¶å®¶å±žå¯ä»¥ä»Žä¿é™©å…¬å¸é¢†å– 20 ä¸‡ä¿é™©é‡‘ã€‚æ±‚ï¼š(ä¸è®¡åˆ©æ¯åŠç®¡ç†è´¹)ä¿é™©å…¬å¸äºæœ¬çš„æ¦‚çŽ‡ä¿é™©å…¬å¸èŽ·åˆ©ä¸å°‘äºŽ 100 ä¸‡çš„æ¦‚çŽ‡æ­»äº¡äººæ•° r,v,Xâˆ¼B(2500,0.002)r, v, X \sim B(2500, 0.002)r,v,Xâˆ¼B(2500,0.002)äºæœ¬ï¼š200000X&gt;3000000â†’X&gt;15200000 X &gt; 3000000 \to X &gt; 15200000X&gt;3000000â†’X&gt;15âˆ´p{X&gt;15}=âˆ‘k=162500C2500kâ‹…0.002kâ‹…0.9982500âˆ’kâ‰ˆ1âˆ’p{Xâ‰¤15}â‰ˆ1âˆ’âˆ‘k=0155kk!eâˆ’5â‰ˆ1âˆ’0.998â€¦=0.000069\begin{aligned} \therefore p\{X &gt; 15\} &amp;= \sum_{k=16}^{2500} C_{2500}^k \cdot 0.002^k \cdot 0.998^{2500 - k} \\ \\ &amp; \approx 1 - p\{X \le 15\} \\ \\ &amp; \approx 1 - \sum_{k=0}^{15}\dfrac{5^k}{k!}e^{-5} \\ \\ &amp; \approx 1 - 0.998\ldots \\ \\ &amp; = 0.000069 \end{aligned}âˆ´p{X&gt;15}â€‹=k=16âˆ‘2500â€‹C2500kâ€‹â‹…0.002kâ‹…0.9982500âˆ’kâ‰ˆ1âˆ’p{Xâ‰¤15}â‰ˆ1âˆ’k=0âˆ‘15â€‹k!5kâ€‹eâˆ’5â‰ˆ1âˆ’0.998â€¦=0.000069â€‹äºŒè¿›åˆ¶ä¼ è¾“ä¿¡å·ï¼Œä¿¡é“æ— è®°å¿†ï¼Œè¯¯ç çŽ‡ä¸º 0.20.20.2ï¼Œä¸ºäº†æŠ—å¹²æ‰°ï¼Œé‡å¤å‘é€æ¶ˆæ¯ï¼šS=01101S = 01101S=01101ï¼Œå‡è®¾ä¿¡é“å¯¹æ¯ä¸ª 0,10, 10,1çš„å¹²æ‰°ç›¸äº’ç‹¬ç«‹ï¼Œé—®ï¼šé‡å¤ 5 æ¬¡ SSS, èƒ½æˆåŠŸå‘é€ä¸€æ¬¡çš„æ¦‚çŽ‡ã€‚ä¸ºç¡®ä¿æˆåŠŸçš„æ¦‚çŽ‡ä¸º 0.990.990.99, é—®è‡³å°‘åº”è¯¥é‡å¤å‘é€å¤šå°‘æ¬¡ã€‚æ— è®°å¿†ï¼šp{Î²1â€¦Î²m(Receive)âˆ£Î±1Î±2â€¦Î±m(Send)}=p{Î²1âˆ£Î±1}â‹…p{Î²2âˆ£Î±2}â€¦p{Î²mâˆ£Î±m}\begin{aligned} &amp; p\{\beta_1 \ldots \beta_m(Receive)\mid \alpha_1 \alpha_2 \ldots \alpha_m(Send)\} \\ \\ &amp; = p\{\beta_1 \mid \alpha_1\} \cdot p\{\beta_2 \mid \alpha_2\} \ldots p\{\beta_m \mid \alpha_m\} \end{aligned}â€‹p{Î²1â€‹â€¦Î²mâ€‹(Receive)âˆ£Î±1â€‹Î±2â€‹â€¦Î±mâ€‹(Send)}=p{Î²1â€‹âˆ£Î±1â€‹}â‹…p{Î²2â€‹âˆ£Î±2â€‹}â€¦p{Î²mâ€‹âˆ£Î±mâ€‹}â€‹å¼•å…¥ä¸€ä¸ªåˆç†çš„éšæœºå˜é‡ï¼šr,v,Xr, v, Xr,v,X(æ¬¡æ•°)ï¼Œåˆ™ï¼Œæ­£ç¡®æŽ¥æ”¶çš„æ¬¡æ•° r,v,Xâˆ¼B(5,p)r, v, X \sim B(5, p)r,v,Xâˆ¼B(5,p) ï¼ˆppp ä¸ºæ¯æ¬¡å‘ SSS èƒ½æ­£ç¡®æ”¶åˆ°çš„æ¦‚çŽ‡ï¼‰p=P{Receive Sâˆ£Send S}=P0âˆ£0P1âˆ£1â‹¯=(1âˆ’0.2)5=0.85=0.328\begin{aligned} p &amp;= P\{Receive \ S | Send \ S\} \\ \\ &amp;= P{0|0}P{1|1} \cdots \\ \\ &amp;= (1- 0.2)^5 \\ \\ &amp;= 0.8^5 \\ \\ &amp;=0.328 \end{aligned}pâ€‹=P{Receive Sâˆ£Send S}=P0âˆ£0P1âˆ£1â‹¯=(1âˆ’0.2)5=0.85=0.328â€‹P{Success}=P{Xâ‰¥1}=1âˆ’P{X=0}=1âˆ’C500.3280(1âˆ’0.328)5=0.863\begin{aligned} P\{Success\} &amp;= P\{X \ge 1\} \\ \\ &amp;= 1 - P\{X = 0\} \\ \\ &amp;= 1 - C_5^0 0.328^0 (1 - 0.328)^5 \\ \\ &amp;= 0.863 \\ \end{aligned}P{Success}â€‹=P{Xâ‰¥1}=1âˆ’P{X=0}=1âˆ’C50â€‹0.3280(1âˆ’0.328)5=0.863â€‹P{Xâ‰¥1}=0.99=1âˆ’(0.672)n,n=12P\{X \ge 1\} = 0.99 = 1 - (0.672)^n, n = 12P{Xâ‰¥1}=0.99=1âˆ’(0.672)n,n=12ç”µè¯äº¤æ¢æœºï¼Œæ¯åˆ†é’Ÿå‘¼å«æ¬¡æ•° XXX æœä»Ž Î (4)\Pi(4)Î (4)ï¼Œæ±‚ï¼šæ¯åˆ†é’Ÿæ°æœ‰ 8 æ¬¡å‘¼å«çš„æ¦‚çŽ‡æ¯åˆ†é’Ÿä¸å¤§äºŽ 10 æ¬¡çš„æ¦‚çŽ‡r,v,Xâˆ¼Î (4)r, v, X \sim \Pi(4)r,v,Xâˆ¼Î (4)P{X=k}=Î»kk!eâˆ’Î»,k=0,1,2â€¦P\{X = k\} = \frac{\lambda^k}{k!} e^{-\lambda}, k = 0,1,2 \ldotsP{X=k}=k!Î»kâ€‹eâˆ’Î»,k=0,1,2â€¦ 2.2.4 è¶…å‡ ä½•åˆ†å¸ƒâ€”â€”äº§å“æ£€éªŒæ¨¡åž‹P{X(Number of Defective)=k}=CMkCNâˆ’Mnâˆ’kCNn,k=0,1,2,â€¦,ll=minâ¡(M,n)\begin{aligned} &amp; P\{X(Number \ of \ Defective) = k\} \\ \\ &amp; = \frac{C_M^k C_{N - M}^{n - k}}{C_N^n}, k = 0,1,2, \ldots, l \\ \\ &amp; l = \min(M, n) \end{aligned}â€‹P{X(Number of Defective)=k}=CNnâ€‹CMkâ€‹CNâˆ’Mnâˆ’kâ€‹â€‹,k=0,1,2,â€¦,ll=min(M,n)â€‹å½“limâ¡Nâ†’âˆžCMkCNâˆ’Mnâˆ’kCNn=Cnkpk(1âˆ’p)nâˆ’k\lim{N \to \infty} \frac{C_M^k C_{N - M}^{n - k}}{C_N^n} = C_n^k p ^k (1 - p)^{n - k}limNâ†’âˆžCNnâ€‹CMkâ€‹CNâˆ’Mnâˆ’kâ€‹â€‹=Cnkâ€‹pk(1âˆ’p)nâˆ’kå…¶ä¸­MNâ†’p\frac{M}{N} \to pNMâ€‹â†’p 2.3 éšæœºå˜é‡çš„åˆ†å¸ƒå‡½æ•° 2.3.1 å®šä¹‰è®¾éšæœºå˜é‡ XXXï¼ŒXâˆˆRX \in RXâˆˆR, åˆ™ç§° F(x)=P{Xâ‰¤x}F(x) = P\{X \le x\}F(x)=P{Xâ‰¤x} ä¸ºéšæœºå˜é‡ XXX çš„åˆ†å¸ƒå‡½æ•°ã€‚ 2.3.2 æ€§è´¨F(x)F(x)F(x) ä¸ºä¸å‡å‡½æ•°å³ x2&gt;x1x_2 \gt x_1x2â€‹&gt;x1â€‹ï¼Œæœ‰ F(x2)â‰¥F(x1)F(x_2) \ge F(x_1)F(x2â€‹)â‰¥F(x1â€‹)âˆµF(x2)âˆ’F(x1)=P{x1&lt;X&lt;x2}â‰¥0\because F(x_2) - F(x_1) = P\{x_1 \lt X \lt x_2\} \ge 0âˆµF(x2â€‹)âˆ’F(x1â€‹)=P{x1â€‹&lt;X&lt;x2â€‹}â‰¥00â‰¤F(x)â‰¤10 \le F(x) \le 10â‰¤F(x)â‰¤1 (éžè´Ÿæœ‰ç•Œæ€§)ä¸” F(âˆ’âˆž)=0=limâ¡xâ†’âˆ’âˆžF(x)=0F(-\infty) = 0 = \lim_{x \to -\infty} F(x) = 0F(âˆ’âˆž)=0=limxâ†’âˆ’âˆžâ€‹F(x)=0F(âˆž)=1=limâ¡xâ†’âˆžF(x)=1F(\infty) = 1 = \lim_{x \to \infty} F(x) = 1F(âˆž)=1=limxâ†’âˆžâ€‹F(x)=1F(x)F(x)F(x) æ˜¯å³è¿žç»­çš„å³ F(x+0)=F(x)F(x + 0) = F(x)F(x+0)=F(x)å¯å¯¼æ€§ 2.3.3 åˆ©ç”¨ F(x)F(x)F(x) è®¡ç®—æ¦‚çŽ‡P{x1&lt;Xâ‰¤x2}=F(x2)âˆ’F(x1)P\{x_1 \lt X \le x_2\} = F(x_2) - F(x_1)P{x1â€‹&lt;Xâ‰¤x2â€‹}=F(x2â€‹)âˆ’F(x1â€‹)P{X&lt;x}=1âˆ’F(x)P\{X \lt x\} = 1 - F(x)P{X&lt;x}=1âˆ’F(x)P{X=x}=F(x)âˆ’F(xâˆ’0)P\{X = x\} = F(x) - F(x - 0)P{X=x}=F(x)âˆ’F(xâˆ’0)P{x1&lt;X&lt;x2}=F(x2âˆ’0)âˆ’F(x1)P\{x_1 \lt X \lt x_2\} = F(x_2 - 0) - F(x_1)P{x1â€‹&lt;X&lt;x2â€‹}=F(x2â€‹âˆ’0)âˆ’F(x1â€‹) 2.3.4 ä¾‹é¢˜è®¾éšæœºå˜é‡ XXX çš„åˆ†å¸ƒå¾‹ä¸ºX-123spkp_kpkâ€‹14\frac{1}{4}41â€‹1/21/21/21/41/41/4111æ±‚ï¼šXXX çš„åˆ†å¸ƒå‡½æ•°F(x)=P{Xâ‰¤x}F(x) = P\{X \le x\}F(x)=P{Xâ‰¤x}å½“ x&lt;âˆ’1x \lt -1x&lt;âˆ’1 æ—¶ï¼ŒF(x)=0F(x) = 0F(x)=0âˆ’1â‰¤x&lt;2, F(x)=P{X=âˆ’1}=14-1 \le x \lt 2, \ F(x) = P\{X = -1\} = \frac{1}{4}âˆ’1â‰¤x&lt;2, F(x)=P{X=âˆ’1}=41â€‹2â‰¤X&lt;3, F(x)=P{Xâ‰¤x}=P{X=âˆ’1}âˆªP{X=2}2 \le X \lt 3,\ F(x) = P\{X \le x\} = P\{X = -1 \} \cup P\{X = 2\}2â‰¤X&lt;3, F(x)=P{Xâ‰¤x}=P{X=âˆ’1}âˆªP{X=2}âˆ´F(x)={0x&lt;âˆ’114âˆ’1â‰¤x&lt;2342â‰¤x&lt;31xâ‰¤3\therefore F(x) = \begin{cases} 0 &amp; x \lt -1 \\[2ex] \frac{1}{4} &amp; -1 \le x \lt 2 \\[2ex] \frac{3}{4} &amp; 2 \le x \lt 3 \\[2ex] 1 &amp; x \le 3 \end{cases}âˆ´F(x)=âŽ©âŽªâŽªâŽªâŽªâŽªâŽªâŽªâŽªâŽ¨âŽªâŽªâŽªâŽªâŽªâŽªâŽªâŽªâŽ§â€‹041â€‹43â€‹1â€‹x&lt;âˆ’1âˆ’1â‰¤x&lt;22â‰¤x&lt;3xâ‰¤3â€‹å³ F(x)=âˆ‘xkâ‰¤xP{X=xk}=âˆ‘xkâ‰¤xpkF(x) = \sum_{x_k \le x}P\{X = x_k\} = \sum_{x_k \le x}p_kF(x)=âˆ‘xkâ€‹â‰¤xâ€‹P{X=xkâ€‹}=âˆ‘xkâ€‹â‰¤xâ€‹pkâ€‹æ±‚ P{Xâ‰¤12},P{32&lt;Xâ‰¤12},P{2â‰¤Xâ‰¤3},P{X&lt;2}P\{X \le \frac{1}{2} \}, P\{\frac{3}{2} \lt X \le \frac{1}{2}\}, P\{2 \le X \le 3\}, P\{X \lt 2\}P{Xâ‰¤21â€‹},P{23â€‹&lt;Xâ‰¤21â€‹},P{2â‰¤Xâ‰¤3},P{X&lt;2} çš„æ¦‚çŽ‡ã€‚P{Xâ‰¤12}=F(12)=14\begin{aligned} P\{X \le \frac{1}{2}\} = F(\frac{1}{2}) = \frac{1}{4} \\ \end{aligned}P{Xâ‰¤21â€‹}=F(21â€‹)=41â€‹â€‹P{32&lt;Xâ‰¤52}=F(52)âˆ’F(32)=34âˆ’14\begin{aligned} P\{\frac{3}{2} \lt X \le \frac{5}{2}\} &amp;= F(\frac{5}{2}) - F(\frac{3}{2}) \\ &amp;= \frac{3}{4} - \frac{1}{4} \end{aligned}P{23â€‹&lt;Xâ‰¤25â€‹}â€‹=F(25â€‹)âˆ’F(23â€‹)=43â€‹âˆ’41â€‹â€‹P{2â‰¤Xâ‰¤3}=P{X=2}+P{2&lt;Xâ‰¤3}=12+F(3)âˆ’F(2)=12+1âˆ’34=34\begin{aligned} P\{2 \le X \le 3\} &amp;= P\{X = 2\} + P\{2 \lt X \le 3\} \\ &amp;= \frac{1}{2} + F(3) - F(2) \\ &amp;= \frac{1}{2} + 1 - \frac{3}{4} \\ &amp;= \frac{3}{4} \end{aligned}P{2â‰¤Xâ‰¤3}â€‹=P{X=2}+P{2&lt;Xâ‰¤3}=21â€‹+F(3)âˆ’F(2)=21â€‹+1âˆ’43â€‹=43â€‹â€‹P{X&lt;2}=14=P{Xâ‰¤2}âˆ’P{X=2}P\{X \lt 2\} = \frac{1}{4} = P\{X \le 2\} - P\{X = 2\}P{X&lt;2}=41â€‹=P{Xâ‰¤2}âˆ’P{X=2}]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>æ¦‚çŽ‡è®º</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>æ¦‚çŽ‡è®º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¦‚çŽ‡çš„åŽ†å²]]></title>
    <url>%2F%2FReviews%2FProbability%2F%E6%A6%82%E7%8E%87%E7%9A%84%E5%8E%86%E5%8F%B2%2F</url>
    <content type="text"><![CDATA[1. èµ·æº 1.1 è¿œå¤æ—¶æœŸæ¦‚çŽ‡å’Œæ¦‚çŽ‡è®ºèµ·æºäºŽæ¸¸æˆä¹‹ä¸­ã€‚åœ¨è¿œå¤æ—¶æœŸï¼Œå°±æœ‰å¤äººç”¨çŒªæˆ–è€…ç¾Šçš„è·éª¨æ¥çŽ©æŠ•æŽ·è·éª¨çš„æ¸¸æˆã€‚ç”±äºŽè·éª¨èƒ½æŠ•æŽ·å‡ºå››é¢ï¼Œå…¶å¾ˆå¯èƒ½å°±æ˜¯éª°å­çš„å‰èº«ã€‚å¤åŸƒåŠå‘æŽ˜å‡ºçš„é™¶å™¨ç”šè‡³è¿˜æ˜¾ç¤ºå¤åŸƒåŠäººå°±å·²ç»åœ¨çŽ©ä¸€ä¸ªå«åš â€œHounds and Jackalsâ€ çš„æ¸¸æˆï¼Œè¿™ä¸ŽçŽ°åœ¨çš„å°åº¦æ¸¸æˆâ€œè›‡æ¢¯æ£‹â€ï¼ˆä¸€ä¸ªç”¨éª°å­æ¥å†³å®šæ­¥æ•° çš„æ£‹ç±»æ¸¸æˆï¼‰ååˆ†ç›¸åƒã€‚[1]ä½†æ˜¯ç›´åˆ°ä¸­ä¸–çºªç”šè‡³æ–‡åŒ–å¤å…´æ—¶æœŸï¼Œè™½ç„¶å½“æ—¶æœ‰æŠ•æ³¨èµ”çŽ‡å’Œä¿é™©ä¸šä¿é™©è´¹ç”¨çš„è®¡ç®—éœ€è¦ï¼Œä½†æ˜¯ä»ç„¶æ²¡æœ‰äº§ç”Ÿç›¸åº”çš„æ–¹æ³•è®ºæ¥è®¡ç®—èµ”çŽ‡æˆ–è€…ä¿é™©è´¹ç”¨ã€‚[2] 1.2 æ¦‚çŽ‡è®ºçš„åˆ›ç«‹çœŸæ­£çš„æ•°å­¦æ„ä¹‰ä¸Šçš„æ¦‚çŽ‡è®ºçš„åˆ›ç«‹æ˜¯ç”±å¡å½“è¯º(Jerome Cardan)ã€å¸•æ–¯å¡(Blaise Pascal)ã€è´¹é©¬(Pierre de Fermat) å®Œæˆçš„ã€‚å¡å½“è¯ºçš„ Games of Chance ä¸€ä¹¦å†™äºŽ 1564 å¹´ï¼ˆä½†ç›´åˆ° 1663 å¹´æ‰å‘è¡¨ï¼‰ï¼Œä»–åœ¨ä¹¦ä¸­æè¿°äº†ä»–å¯¹äºŽä¸¢éª°å­ç­‰èµŒåšæ¸¸æˆçš„ç ”ç©¶ï¼Œå…¶ä¸­ä»–è¯æ˜Žäº†åˆ©ç”¨æœŸæœ›ç»“æžœå’ŒéžæœŸæœ›ç»“æžœçš„æ¯”å€¼æ¥å®šä¹‰èµ”çŽ‡çš„æœ‰æ•ˆæ€§ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªäº‹ä»¶çš„æ¦‚çŽ‡æ˜¯è¯¥äº‹ä»¶çš„å‘ç”Ÿæ¬¡æ•°å’Œæ€»å¯èƒ½ç»“æžœçš„æ¯”å€¼è¿™ä¸€å‘½é¢˜å¾—åˆ°è¯æ˜Ž[3]ã€‚æ­¤ä¹¦è¢«è®¤ä¸ºæ˜¯ç¬¬ä¸€éƒ¨æ¦‚çŽ‡è®ºè‘—ä½œï¼Œå¯¹çŽ°ä»£æ¦‚çŽ‡è®ºçš„åˆ›ç«‹æœ‰ç€é‡è¦ä½œç”¨ã€‚çœŸæ­£çš„æ•°å­¦æ„ä¹‰ä¸Šçš„æ¦‚çŽ‡è®ºçš„åˆ›ç«‹æºäºŽå¸•æ–¯å¡å—æŸä½çƒ­è¡·äºŽèµŒåšçš„æœ‹å‹çš„å½±å“ï¼ŒåŒè´¹é©¬é€šä¿¡è®¨è®ºäº†è¿™ä¸€é—®é¢˜ã€‚[4]å…¶å…·ä½“é—®é¢˜æ˜¯ï¼šåŸºäºŽèµ¢å¾—èµŒå±€çš„æ¦‚çŽ‡ï¼Œä¸¤ä¸ªæå‰ç»“æŸæ¸¸æˆçš„çŽ©å®¶å¦‚ä½•åœ¨ç»™å®šçŽ°åœ¨èµŒå±€çš„æƒ…å½¢ä¸‹å…¬å¹³çš„åˆ†èµŒæ³¨ã€‚è¿™ä¸€è®¨è®ºä¸­æåˆ°äº†æœŸæœ›è¿™ä¸€é‡è¦çš„æ¦‚å¿µã€‚ 1.3 æ¦‚çŽ‡è®ºçš„è¯žç”Ÿæ­¤åŽï¼Œåœ¨å¸•æ–¯å¡çš„å½±å“ä¸‹ï¼Œæƒ æ›´æ–¯äºŽ 1657 å¹´å‘è¡¨äº† De ratiociniis in ludo aleae ï¼ˆè‹±æ–‡è¯‘ä½œ â€œOn Reasoning in Games of Chanceâ€ï¼Œä¸­æ–‡ä¸€èˆ¬è¯‘ä½œã€Šè®ºèµŒåšä¸­çš„è®¡ç®—ã€‹ï¼‰ï¼Œæ­¤ä¹¦ä¸­ç»“åˆäº†è´¹é©¬å’Œå¸•æ–¯å¡çš„è§‚ç‚¹ï¼Œåœ¨â€œç‚¹æ•°åˆ†é…â€é—®é¢˜çš„ç ”ç©¶ä¸­ï¼Œæå‡ºäº†æœŸæœ›è¿™ä¸€æ¦‚å¿µå’Œå…¶ç›¸å…³çš„ç†è®ºã€‚ã€Šè®ºèµŒåšä¸­çš„è®¡ç®—ã€‹ä¸€ä¹¦çš„å‘è¡¨ï¼Œæ ‡å¿—ç€çŽ°ä»£æ¦‚çŽ‡è®ºçš„æ­£å¼è¯žç”Ÿã€‚æ­¤ä¹¦ä¹Ÿè¢«è®¤ä¸ºæ˜¯çŽ°ä»£æ¦‚çŽ‡è®ºçš„ç¬¬ä¸€æœ¬ä¹¦ã€‚ 2. 18 ä¸–çºªæ—¶æœŸåœ¨ 18 ä¸–çºªæ—¶æœŸï¼Œäººä»¬å¼€å§‹ä½¿ç”¨æ•°å­¦å·¥å…·è¿›è¡Œæ¦‚çŽ‡çš„è®¡ç®—ï¼Œæ¦‚çŽ‡å’Œæ¦‚çŽ‡è®ºå¼€å§‹æ¸æ¸æˆä¸ºæ•°å­¦çš„ä¸€ä¸ªé‡è¦åˆ†æ”¯ï¼Œæ¦‚çŽ‡å¼€å§‹æ‹¥æœ‰äº†è‰¯å¥½çš„æ•°å­¦åŸºç¡€ã€‚é€šè¿‡æ•°å­¦å·¥å…·çš„è¿ç”¨ï¼Œä¸€äº›è¾ƒä¸ºå¤æ‚çš„æ¦‚çŽ‡æ¨¡åž‹å¾—ä»¥å¾—åˆ°è®¡ç®—ã€‚18 ä¸–çºªæ—¶æœŸçš„è‘—ä½œä¸­ï¼Œ1713 å¹´å‘è¡¨çš„é›…å„å¸ƒÂ·ä¼¯åŠªåˆ©(Jakob I. Bernoulli)çš„ã€ŠçŒœåº¦æœ¯ã€‹(Ars Conjectandi) æ˜¯ 18 ä¸–çºªæ¦‚çŽ‡è®ºå‘å±•çš„é‡Œç¨‹ç¢‘ã€‚ä¹¦ä¸­ä¸ä»…å®Œå–„å’Œæ‹“å±•äº†æƒ æ›´æ–¯çš„æœŸæœ›å€¼ç†è®ºå’Œå…¬å¼ï¼Œæå‡ºäº†ä¼¯åŠªåˆ©å®žéªŒå’Œæ¦‚çŽ‡çš„å¤å…¸æ¦‚åž‹ï¼Œè€Œä¸”æå‡ºäº†ä¼¯åŠªåˆ©æ•°[5]å’Œä¼¯åŠªåˆ©å®šç†ï¼Œè¿™æ˜¯å¤§æ•°å®šå¾‹[6]çš„æœ€æ—©å½¢å¼ã€‚æƒ æ›´æ–¯æ‰€æå‡ºçš„æœŸæœ›å€¼å…¬å¼ä¸º[7]E=p0a0+p1a1+â‹¯+pnanp1+p2+â‹¯+pnE = \frac{p_0a_0 + p_1a_1 + \cdots + p_na_n}{p_1 + p_2 + \cdots + p_n}E=p1â€‹+p2â€‹+â‹¯+pnâ€‹p0â€‹a0â€‹+p1â€‹a1â€‹+â‹¯+pnâ€‹anâ€‹â€‹ä¼¯åŠªåˆ©é€šè¿‡å‡è®¾ pip_ipiâ€‹ æ˜¯äº’ä¸ç›¸å®¹çš„äº‹ä»¶çš„æ¦‚çŽ‡ï¼Œå› æ­¤è¿™å°±æ„å‘³ä¸Šå¼çš„åˆ†æ¯ä¸º 111ï¼Œä»Žè€Œä½¿å¾—æƒ æ›´æ–¯çš„å…¬å¼å¾—åˆ°ç®€åŒ–ã€‚ 3. 19 ä¸–çºªæ—¶æœŸæ—¶é—´æ¥åˆ° 19 ä¸–çºªï¼Œ19 ä¸–çºªçš„å¤©æ–‡å­¦å‘å±•ä½¿å¾—ç»Ÿè®¡å­¦å’Œæ¦‚çŽ‡å­¦è¯´çš„åº”ç”¨è¶Šå‘å¹¿æ³›ï¼Œæ­¤æ—¶ï¼Œæ¦‚çŽ‡è®ºçš„ç ”ç©¶æ–¹æ³•ä¹Ÿè¶Šæ¥è¶Šå¤šçš„åº”ç”¨åˆ°äº†ç»Ÿè®¡å­¦ä¸Šã€‚åŒæ—¶ï¼Œ19 ä¸–çºªçš„å‡ ä¸ªå¤©æ‰æ•°å­¦å®¶ä¹Ÿä¿ƒè¿›äº†æ¦‚çŽ‡è®ºçš„é•¿è¶³å‘å±•ã€‚ 3.1 é«˜æ–¯å…¶ä¸­ä¹‹ä¸€ä¾¿æ˜¯é«˜æ–¯(Gauss)ï¼Œé«˜æ–¯åœ¨æ•°å­¦æ–¹é¢çš„å¤©èµ‹æ˜¯ç‹¬ç‰¹çš„ï¼Œè¢«ç§°ä¸ºâ€œæ•°å­¦ç•Œçš„ç‹ç‹¸â€ã€‚ä»–äºŽ 1801 å¹´ä½¿ç”¨åŸºäºŽæ­£æ€è¯¯å·®åˆ†å¸ƒçš„æœ€å°äºŒä¹˜æ³•æˆåŠŸè®¡ç®—å‡ºäº†è°·ç¥žæ˜Ÿå°è¡Œæ˜Ÿçš„è½¨é“ï¼ˆè¯¥è¡Œæ˜ŸäºŽ 1801 å¹´ 12 æœˆ 31 æ—¥å¤œæ™šè¢«å†æ¬¡å‘çŽ°ï¼‰ï¼Œå¹¶äºŽ 1809 å¹´ç»è¿‡å®Œå–„äº†ç›¸å…³æ•°å­¦ç†è®ºåŽï¼Œå‘è¡¨äº†è¿™ä¸€è®¡ç®—æ–¹æ³•ã€‚åœ¨è¿™å¹´å‘è¡¨çš„æ–‡ç« ä¸­ï¼Œé«˜æ–¯é€šè¿‡è®ºè¯è¯¯å·®åˆ†å¸ƒå¯¼å‡ºçš„æžå¤§ä¼¼ç„¶ä¼°è®¡ === ç®—æœ¯å¹³å‡å€¼å¹¶è¯æ˜Žäº†å”¯ä¸€æ»¡è¶³è¿™ä¸€æ€§è´¨çš„æ¦‚çŽ‡å¯†åº¦å‡½æ•°ä¸ºf(x)=12Ï€Ïƒeâˆ’x22Ïƒ2f(x) = \frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{x^2}{2\sigma^2}}f(x)=2Ï€â€‹Ïƒ1â€‹eâˆ’2Ïƒ2x2â€‹è¿™å°±æ˜¯æ­£æ€åˆ†å¸ƒçš„æ¦‚çŽ‡å¯†åº¦å‡½æ•°ã€‚ä½†æ˜¯é«˜æ–¯çš„æ•°å­¦è¯æ˜Žéƒ¨åˆ†å¹¶ä¸å®Œå–„ï¼Œæœ‰ç§å¾ªçŽ¯è®ºè¯çš„å‘³é“ï¼šå› ä¸ºç®—æœ¯å¹³å‡æ˜¯ä¼˜è‰¯çš„ï¼Œæ‰€ä»¥è¯¯å·®ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼›åè¿‡æ¥ï¼ŒåˆåŸºäºŽæ­£æ€åˆ†å¸ƒæ¥æŽ¨å¯¼å‡ºæœ€å°äºŒä¹˜æ³•å’Œç®—æœ¯å¹³å‡æ¥è¯´æ˜Žå…¶ä¼˜è‰¯æ€§ã€‚[8] 3.2 æ‹‰æ™®æ‹‰æ–¯æ­¤æ—¶ä¾¿è½®åˆ°æ‹‰æ™®æ‹‰æ–¯å‡ºåœºäº†ï¼Œæ‹‰æ™®æ‹‰æ–¯ä¹Ÿæ˜¯è‘—åçš„æ•°å­¦å®¶ï¼Œä»–å‘çŽ°çš„æ‹‰æ™®æ‹‰æ–¯å˜æ¢å’Œæ‹‰æ™®æ‹‰æ–¯æ–¹ç¨‹åœ¨çŽ°ä»Šçš„å›¾åƒå¤„ç†ç­‰é¢†åŸŸå¾—åˆ°äº†å¹¿æ³›çš„è¿ç”¨ã€‚æ‹‰æ™®æ‹‰æ–¯åœ¨çœ‹åˆ°é«˜æ–¯å‘è¡¨çš„æ–‡ç« åŽï¼Œé€šè¿‡ç»“åˆä¸­å¿ƒæžé™å®šç†ï¼Œæå‡ºäº†å…ƒè¯¯å·®è§£é‡Šï¼Œè¯æ˜Žäº†æ­£æ€åˆ†å¸ƒçš„æ­£ç¡®æ€§ã€‚å¹¶åœ¨ã€Šæ¦‚çŽ‡çš„åˆ†æžç†è®ºã€‹(ThÃ©orie analytique des probabilitÃ©s) ä¸€ä¹¦ä¸­ç»“åˆäº†ç±»ä¼¼çŸ©æ¯å‡½æ•°ã€æœ€å°äºŒä¹˜æ³•ã€å½’çº³æ¦‚çŽ‡ã€å‡è®¾æ£€éªŒç­‰è®¸å¤šåŸºæœ¬çš„ç»Ÿè®¡å­¦å’Œæ¦‚çŽ‡è®ºçš„ç†è®ºã€‚åŒæ—¶ï¼Œæ‹‰æ™®æ‹‰æ–¯ä¹Ÿå‘çŽ°äº†å½¢å¼ä¸ºf(x)=m2eâˆ’mâˆ£xâˆ£f(x) = \frac{m}{2}e^{-m|x|}f(x)=2mâ€‹eâˆ’mâˆ£xâˆ£çš„æ¦‚çŽ‡å¯†åº¦åˆ†å¸ƒå‡½æ•°ï¼Œå¹¶åœ¨ä¹‹åŽè¢«å‘½åä¸ºæ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒ 3.3 19 ä¸–çºªæœ«åˆ° 19 ä¸–çºªæœ«ä¸ºæ­¢ï¼Œæ¦‚çŽ‡è®ºä¸Žç»Ÿè®¡å­¦çš„ç»“åˆæ„ˆå‘ç´§å¯†ï¼Œåœ¨ç»Ÿè®¡åŠ›å­¦é¢†åŸŸï¼Œæ³¢å°”èŒ¨æ›¼(Ludwig Eduard Boltzmann)å’Œå‰å¸ƒæ–¯(Josiah Willard Gibbs)åˆ©ç”¨æ¦‚çŽ‡è®ºçš„æ–¹æ³•ï¼ŒæˆåŠŸåœ°è§£é‡Šäº†æ°”ä½“çš„æ€§è´¨ï¼Œä¾‹å¦‚æ°”ä½“æ˜¯éšæœºè¿åŠ¨çš„ç²’å­ã€‚æœ‰è¶£çš„æ˜¯ï¼Œæ¦‚çŽ‡å­¦çš„åŽ†å²ä½œä¸ºä¸€é¡¹ç‹¬ç«‹çš„åˆ†æ”¯ï¼Œåœ¨è¿™ä¸ªæ—¶æœŸä¹Ÿå»ºç«‹äº†èµ·æ¥ã€‚å…¶æ ‡å¿—ä¾¿æ˜¯æ‰˜å°”äº¨ç‰¹(Isaac Todhunter)äºŽ 1865 å¹´å‘è¡¨äº†å…¶è‘—åçš„è‘—ä½œ History of the Mathematical Theory of Probability from the Time of Pascal to that of Lagrange 4. 20 ä¸–çºªæ—¶æœŸ20 ä¸–çºªæ—¶æœŸï¼Œæ¦‚çŽ‡è®ºå’Œæ¦‚çŽ‡å­¦è¯´å¼€å§‹è¿…çŒ›å‘å±•ï¼Œå…¬ç†ä½“ç³»å»ºç«‹èµ·æ¥ï¼Œåº”ç”¨æ›´ä¸ºå¹¿æ³›ï¼ŒåŒæ—¶ä¸Žå…¶ä»–ç§‘å­¦é¢†åŸŸçš„äº¤å‰ä¹Ÿæ›´ä¸ºæ·±å…¥ã€‚ 4.1 æ¦‚çŽ‡ä¸Žç»Ÿè®¡åˆ°äº† 20 ä¸–çºªä¹‹åŽï¼Œç”±äºŽç»Ÿè®¡å­¦å¯¹å‡è®¾æ£€éªŒçš„é‡è§†ï¼Œæ¦‚çŽ‡è®ºå’Œç»Ÿè®¡å­¦å˜å¾—è¶Šå‘ä¸å¯åˆ†å‰²ã€‚çŽ°ä»Šï¼Œå‡è®¾æ£€éªŒçš„ç»Ÿè®¡æ–¹æ³•å·²ç»å¹¿æ³›åœ°åº”ç”¨åˆ°ç”Ÿç‰©å­¦ï¼Œç‰©ç†å­¦å’Œè¯ç‰©çš„ä¸´åºŠè¯•éªŒç­‰ç§‘å­¦ç ”ç©¶ä¸­ã€‚å‡è®¾æ£€éªŒéœ€è¦æ£€æµ‹æ ·æœ¬æ¦‚çŽ‡çš„æ˜¾è‘—æ€§æ°´å¹³ï¼Œä»Žè€Œåˆ¤æ–­æ˜¯å¦æŽ¥å—ç»Ÿè®¡å‡è®¾ã€‚ 4.2 æ¦‚çŽ‡ä¸Žç‰©ç†å­¦éšç€ 20 ä¸–çºªç‰©ç†å­¦è¿›å…¥å¾®è§‚é¢†åŸŸçš„ç ”ç©¶ï¼Œæ¦‚çŽ‡è®ºçš„éšæœºè¿‡ç¨‹é¢†åŸŸçš„ç ”ç©¶ä¹Ÿæœ‰æ‰€è¿›å±•ã€‚ä¾‹å¦‚ä¸ºäº†æè¿°å¸ƒæœ—è¿åŠ¨ï¼ˆæ¶²ä½“ä¸­çš„æ‚¬æµ®é¢—ç²’çš„è¿åŠ¨ï¼‰ï¼Œé©¬å¯ç½—å¤«è¿‡ç¨‹è¢«æå‡ºï¼ŒéšåŽåº”ç”¨èŒƒå›´ä¸æ–­æ‹“å®½ï¼ŒçŽ°ä»Šé©¬å¯ç½—å¤«è¿‡ç¨‹å·²ç»åº”ç”¨äºŽç»Ÿè®¡ã€ç”Ÿç‰©å­¦å’Œè®¡ç®—æœºäº’è”ç½‘ä¸­ã€‚ 4.3 æ¦‚çŽ‡ä¸Žé‡‘èžåŒæ—¶ï¼Œç”±äºŽ 20 ä¸–çºªå‰æœŸç»æµŽçš„å‘å±•å’Œé©¬å¯ç½—å¤«è¿‡ç¨‹çš„æå‡ºï¼Œä¸ºæè¿°è‚¡ç¥¨çš„éšæœºæ³¢åŠ¨æä¾›äº†å¤æ‚çš„æ¦‚çŽ‡æ¨¡åž‹ï¼Œä»Žè€Œä¹Ÿä¿ƒè¿›äº†é‡‘èžæ•°å­¦çš„å‘å±•ï¼Œå¹¶ç”±æ­¤äº§ç”Ÿäº†å¸ƒèŽ±å…‹-èˆ’å°”æ¨¡åž‹(BS Model)ã€æœŸæƒå®šä»·ç­‰ä¸€ç³»åˆ—é‡‘èžå·¥å…·[9] 4.4 æ¦‚çŽ‡çš„è§£é‡Š20 ä¸–çºªåŒæ—¶ä¹Ÿè§è¯äº†å…³äºŽâ€œæ¦‚çŽ‡çš„è§£é‡Šâ€çš„äº‰ç«¯ï¼Œåœ¨ 20 ä¸–çºªä¸­æœŸï¼Œæ¦‚çŽ‡è¢«å€¾å‘äºŽè§£é‡Šä¸º å¤§é‡é‡å¤è¯•éªŒçš„é¢‘çŽ‡çš„è¶‹è¿‘å€¼ã€‚è€Œåœ¨ 20 ä¸–çºªæœ«æœŸï¼Œè´å¶æ–¯æ¦‚çŽ‡çš„è§‚ç‚¹å¾—åˆ°å¤å…´ï¼Œè´å¶æ–¯æ¦‚çŽ‡å­¦æ´¾çš„è§‚ç‚¹å€¾å‘äºŽå°†æ¦‚çŽ‡å®šä¹‰ä¸ºæ¦‚çŽ‡æ˜¯æŸäººå¯¹ä¸€ä¸ªå‘½é¢˜çš„ä¿¡ä»»ç¨‹åº¦ä¸¤è€…çš„ä¸»è¦åŒºåˆ«åœ¨äºŽï¼Œé¢‘çŽ‡å­¦æ´¾ä¸»è¦ä»¥äº‹ä»¶ä½œä¸ºå»ºæ¨¡ä¸»ä½“ï¼Œè€Œè´å¶æ–¯å­¦æ´¾ä»¥è§‚å¯Ÿè€…çš„çŸ¥è¯†ä½œä¸ºæ¦‚çŽ‡çš„å»ºæ¨¡ä¸»ä½“ã€‚è§‚å¯Ÿè€…é¦–å…ˆä¸ºäº‹ä»¶èµ‹äºˆä¸€ä¸ªæ¦‚çŽ‡ï¼Œå¹¶é€šè¿‡è§‚å¯Ÿç»“æžœæ¥æ ¡æ­£æ¦‚çŽ‡ã€‚ä¾‹å¦‚æ‰” 100 æ¬¡ç¡¬å¸ï¼Œ20 æ¬¡æ­£é¢ï¼Œ80 æ¬¡åé¢ã€‚é¢‘çŽ‡å­¦æ´¾è®¤ä¸ºæ‰”ç¬¬ 101 æ¬¡çš„æ¦‚çŽ‡ä¸º 0.5ï¼Œè€Œè´å¶æ–¯å­¦æ´¾è®¤ä¸ºæ¦‚çŽ‡åº”ä¸º 0.8 4.5 æ¦‚çŽ‡å…¬ç†1933 å¹´ï¼Œå®‰å¾·é›·Â·æŸ¯å°”èŽ«å“¥æ´›å¤«(Andrey Nikolaevich Kolmogorov) æå‡ºäº†è‘—åçš„æ¦‚çŽ‡å…¬ç†ï¼Œè¿™è§£å†³äº†åœ¨å…·æœ‰æ— é™çš„å¯èƒ½ç»“æžœæ—¶çš„æ¦‚çŽ‡çš„æ•°å­¦å¤„ç†é—®é¢˜ã€‚ 4.6 æ¦‚çŽ‡ä¸Žè®¡ç®—æœºç§‘å­¦åœ¨ 20 å¹´ä»£ä¸­åŽæœŸï¼Œç”±äºŽç”µå­è®¡ç®—æœºçš„å‘æ˜Žå’Œæ ¸æ­¦å™¨ç ”åˆ¶çš„éœ€è¦ï¼Œå†¯Â·è¯ºä¼Šæ›¼ï¼Œæ–¯å¡”å°¼æ–¯æ‹‰å¤«Â·ä¹Œæ‹‰å§†å’Œå°¼å¤æ‹‰æ–¯Â·æ¢…ç‰¹ç½—æ³¢åˆ©æ–¯æå‡ºäº†åŸºäºŽæ¦‚çŽ‡ç»Ÿè®¡çš„è’™ç‰¹å¡æ´›æ–¹æ³•ã€‚[10]å…¶ä¸­å¿ƒè§‚ç‚¹æ˜¯åˆ©ç”¨éšæœºæ•°é€šè¿‡è®¡ç®—æœºæ¨¡æ‹Ÿè®¡ç®—å¾—åˆ°éšæœºè¿‡ç¨‹ã€‚åœ¨è§£å†³å®žé™…é—®é¢˜çš„æ—¶å€™åº”ç”¨è’™ç‰¹å¡æ´›æ–¹æ³•ä¸»è¦æœ‰ä¸¤éƒ¨åˆ†å·¥ä½œï¼š[11]ç”¨è’™ç‰¹å¡æ´›æ–¹æ³•æ¨¡æ‹ŸæŸä¸€è¿‡ç¨‹æ—¶ï¼Œéœ€è¦äº§ç”Ÿå„ç§æ¦‚çŽ‡åˆ†å¸ƒçš„éšæœºå˜é‡ã€‚ç”¨ç»Ÿè®¡æ–¹æ³•æŠŠæ¨¡åž‹çš„æ•°å­—ç‰¹å¾ä¼°è®¡å‡ºæ¥ï¼Œä»Žè€Œå¾—åˆ°å®žé™…é—®é¢˜çš„æ•°å€¼è§£ã€‚ 5. 21 ä¸–çºªåŽåœ¨ 21 ä¸–çºªåŽï¼Œæ¦‚çŽ‡å’Œæ¦‚çŽ‡è®ºéšç€æœºå™¨å­¦ä¹ å’Œç¥žç»ç½‘ç»œç­‰è®¡ç®—æœºæŠ€æœ¯çš„å‘å±•ï¼Œåº”ç”¨èŒƒå›´è¶ŠåŠ å®½å¹¿ã€‚2006 å¹´ä¹‹åŽï¼Œé›·ç±³Â·åº“æ´›å§†ï¼ˆRemi Coulomï¼‰æå‡ºäº†åŸºäºŽè’™ç‰¹å¡æ´›æ–¹æ³•çš„è’™ç‰¹å¡æ´›æœç´¢æ ‘ç®—æ³•ã€‚éšåŽï¼Œè¿™ä¸€ç®—æ³•è¢«å¹¿æ³›åº”ç”¨åˆ°è®¡ç®—æœºå›´æ£‹é¢†åŸŸã€‚2008 å¹´ï¼ŒMoGo åœ¨ä¹è·¯å›´æ£‹ä¸­è¾¾åˆ°æ®µä½æ°´å¹³ï¼Œ2012 å¹´ 1 æœˆï¼ŒZen ç¨‹åºåœ¨19è·¯å›´æ£‹ä¸Šä»¥ 3:1 å‡»è´¥äºŒæ®µæ£‹æ‰‹çº¦ç¿°Â·ç‰¹æœ—æ™®(John Tromp)ï¼Œ2016 å¹´ 3 æœˆ ä½¿ç”¨è’™ç‰¹å¡æ´›ç®—æ³•å’Œæ·±åº¦å­¦ä¹ çš„ AlphaGo ç¨‹åºåœ¨äº”ç•ªæ£‹æ¯”èµ›ä¸­ä»¥ 4:1 å‡»è´¥éŸ©å›½ä¹æ®µæ£‹æ‰‹æŽä¸–ä¹­ï¼ŒGoranking è·ƒå±…ä¸–ç•Œç¬¬äºŒã€‚F. N. David (1962), Games, Gods and Gambling â†©ï¸ŽFranklin, Science of Conjecture, ch. 11. â†©ï¸ŽP. Chance magazine (2012) Some laws and problems in classical probability and how Cardano anticipated them Gorrochum â†©ï¸ŽOâ€™Connor, J. J.; Robertson, E. Fâ€¦ â€œThe MacTutor History of Mathematics archive: Pierre de Fermatâ€ http://www-groups.dcs.st-and.ac.uk/~history/Biographies/Fermat.html â†©ï¸Žä¼¯åŠªåˆ©æ•°æœ€å…ˆç”±ä¼¯åŠªåˆ©ç ”ç©¶ï¼Œæ££èŽ«å¼—ä»¥ä»–çš„åå­—æ¥å‘½åï¼Œå…¶è®¡ç®—å…¬å¼ä¸º: âˆ‘j=0m(m+1j)Bj=0\sum_{j = 0}^{m}{m + 1 \choose j}B_j = 0âˆ‘j=0mâ€‹(jm+1â€‹)Bjâ€‹=0 â†©ï¸Žå¤§æ•°å®šå¾‹æè¿°ç›¸å½“å¤šæ¬¡çš„é‡å¤å®žéªŒçš„ç»“æžœï¼Œå…¶ç»“æžœè¶‹å‘äºŽæœŸæœ›å€¼ â†©ï¸Žhttps://en.wikipedia.org/wiki/Ars_Conjectandi â†©ï¸Žé³å¿—è¾‰(2012 å¹´ 11 æœˆ 8 æ—¥) æ­£æ€åˆ†å¸ƒçš„å‰ä¸–ä»Šç”Ÿ â†©ï¸ŽBernstein, Against the Gods, ch. 18. â†©ï¸ŽMetropolis, Nicholas; Stanislaw Ulam (1949) The Monte Carlo method â†©ï¸Žè’™ç‰¹å¡æ´›æ–¹æ³• â†©ï¸Ž]]></content>
      <categories>
        <category>å¤ä¹ </category>
        <category>æ¦‚çŽ‡è®º</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>æ¦‚çŽ‡è®º</tag>
      </tags>
  </entry>
</search>
